!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports='<main ui-view autoscroll="false" id="ui-view"></main>'},{}],2:[function(require,module,exports){!function(){"use strict";window.angular=require("angular"),window.jQuery=require("jquery"),window._=require("lodash"),window.d3=require("d3"),window.c3=require("./vendor/noNpm/c3/c3"),require("./components/common/core/core"),require("./components/homePageModule/homePage"),require("./components/appMainModule/appMain"),require("./components/common/page_metadata"),require("./components/common/scroll_top");var appInit=require("./appInit"),appRoutes=require("./appRoutes"),appConfig=require("./appConfig"),appConstants=require("./appConstants"),appDirective=require("./appDirective");module.exports=angular.module("campaignFinanceApp",["coreModules","homePageModule","appMainModule","odca.page_metadata","odca.scroll_top"]).config(appRoutes).config(appConfig).constant("version",require("../package.json").version).constant("CONSTANTS",appConstants).run(appInit).directive("campaignFinanceApp",appDirective)}()},{"../package.json":349,"./appConfig":3,"./appConstants":4,"./appDirective":5,"./appInit":6,"./appRoutes":7,"./components/appMainModule/appMain":15,"./components/common/core/core":93,"./components/common/page_metadata":130,"./components/common/scroll_top":135,"./components/homePageModule/homePage":143,"./vendor/noNpm/c3/c3":148,angular:169,d3:191,jquery:194,lodash:333}],3:[function(require,module,exports){"use strict";function appConfig($urlRouterProvider,$locationProvider,$breadcrumbProvider,$stickyStateProvider){$locationProvider.html5Mode(!1).hashPrefix("!"),$urlRouterProvider.otherwise("/"),$breadcrumbProvider.setOptions({prefixStateName:"home",template:"bootstrap3"})}appConfig.$inject=["$urlRouterProvider","$locationProvider","$breadcrumbProvider","$stickyStateProvider"],module.exports=appConfig},{}],4:[function(require,module,exports){"use strict";var CONSTANTS=function(){return{DISCLOSURE_API_BASEURL:"https://disclosure-backend-static.herokuapp.com"}}();CONSTANTS.$inject=[],module.exports=CONSTANTS},{}],5:[function(require,module,exports){!function(){"use strict";var template=require("./app.html");module.exports=function(){return{restrict:"E",template:template}}}()},{"./app.html":1}],6:[function(require,module,exports){"use strict";function appInit($rootScope,$state){$rootScope.$state=$state,$rootScope.emailRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}appInit.$inject=["$rootScope","$state"],module.exports=appInit},{}],7:[function(require,module,exports){"use strict";function appRoutes($stateProvider){var home={name:"home",url:"/",template:'<home-page class="page-fade"></home-page>',ncyBreadcrumb:{label:"Home"},data:{moduleClasses:"page",pageClasses:"home",pageTitle:"Home"}},appMain={name:"appMain","abstract":!0,url:"/app-main",template:'<app-main class="page-fade"></app-main>',controller:["$rootScope",function($rootScope){$rootScope.breadcrumb={}}]},about={name:"appMain.about",url:"^/about",template:"<about-page></about-page>",ncyBreadcrumb:{label:"About",parent:"appMain"},data:{moduleClasses:"page",pageClasses:"aboutPage",pageTitle:"About"}},faq={name:"appMain.faq",url:"^/faq",template:"<faq-page></faq-page>",ncyBreadcrumb:{label:"FAQ",parent:"appMain"},data:{moduleClasses:"page",pageClasses:"faqPage",pageTitle:"Frequently Asked Questions"}},examplePage1={name:"appMain.examplePage1",url:"^/example-page-1",template:"<example-page-1></example-page-1>",ncyBreadcrumb:{label:"Example Page 1",parent:"appMain"},data:{moduleClasses:"page",pageClasses:"examplePage1",pageTitle:"Example Page 1",pageDescription:"Some description."}};$stateProvider.state(home),$stateProvider.state(appMain),$stateProvider.state(about),$stateProvider.state(faq),$stateProvider.state(examplePage1)}appRoutes.$inject=["$stateProvider"],module.exports=appRoutes},{}],8:[function(require,module,exports){!function(){"use strict";function AppMainController($scope){$scope.searchBarEnabled=!0}AppMainController.$inject=["$scope"],module.exports=AppMainController}()},{}],9:[function(require,module,exports){"use strict";function AboutPageController(){var ctrl=this;ctrl.content=require("./aboutPage.md")}AboutPageController.$inject=[],module.exports=AboutPageController},{"./aboutPage.md":12}],10:[function(require,module,exports){module.exports='<div class="container">\n  <div class="row">\n    <div class="col-xs-12">\n      <odca-markdown content="$ctrl.content"></odca-markdown>\n    </div>\n  </div>\n</div>\n'},{}],11:[function(require,module,exports){!function(){"use strict";require("../../common/core/core"),require("../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs"),require("../../common/markdown");var aboutPageDirective=require("./aboutPageDirective"),AboutPageController=require("./AboutPageController");module.exports=angular.module("aboutPageModule",["coreModules","odca.markdown","pageHeaderBreadcrumbsModule"]).directive("aboutPage",aboutPageDirective).controller("AboutPageController",AboutPageController)}()},{"../../common/core/core":93,"../../common/markdown":105,"../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs":128,"./AboutPageController":9,"./aboutPageDirective":13}],12:[function(require,module,exports){module.exports='<h1 id="about-the-open-disclosure-california-project">About the Open Disclosure California Project</h1>\n<p>The Open Disclosure California (ODCA) project is California’s first online repository combining local and state campaign finance data. This first phase of ODCA includes all campaign finance activity for the November 2016 election in the city of Oakland. We track contributions to Oakland candidates and ballot measures and their expenditures to offer voters the full story of money in this year’s election. This is just the second phase of a larger initiative to offer local campaign finance data statewide. The first phase visualized money in the <a href="http://2014.opendisclosure.io/">2014 Oakland mayoral election</a>.</p>\n<h2 id="the-future-of-odca">The Future of ODCA</h2>\n<p>ODCA will combine campaign finance data from local cities and counties with state-level data to create a more comprehensive picture of who is influencing local elections in a user-friendly online experience with the voting public in mind. We want to make this local campaign contribution and spending data easier to find, see, search, and understand. </p>\n<p>The goal is to build an automated pipeline from existing data sources that feeds up-to-date state and local campaign finance data into our system. A free, open API will allow others to use this data for their own projects. A website will present the data on all races and ballot measures for local jurisdictions that have their data loaded into our system, as well as statewide races. </p>\n<p>By feeding local and state data into our system, we can better connect the campaign finance dots and provide important context as to the big players influencing elections. The accompanying website will offer rich visualizations to better allow the voting public to conceptualize campaign spending in their communities. Interested parties who wish to dig deeper into the actual data will be able to do so for their own projects.</p>\n<p>Disclosure of campaign finance empowers citizens and strengthens democracy by keeping government accountable by revealing influential connections, the flow of money in politics, and potential issues with how campaign funds are raised and spent. Open Disclosure’s goal is to provide needed clarity and transparency to local campaign money and to supply the public with insight on local politics to make an educated choice on election day. </p>\n<h2 id="about-the-team">About the Team</h2>\n<p>The Open Disclosure team is a group of volunteer civic hackers that include developers, data scientists, policy wonks, civic workers, designers, and journalists working to promote government integrity and transparency in campaign activities by promoting the exposure and visibility of campaign finance data. </p>\n<p>In 2014, several Code for America brigade project teams from across California joined forces to establish <a href="http://caciviclab.org/">California Civic Lab</a>, a partnership organization to build Open Disclosure California (ODCA). Early members of California Civic Lab came from Oakland, Sacramento, San Francisco, and San Jose. ODCA could not succeed without the guidance and support from their partnership with the <a href="http://www2.oaklandnet.com/Government/o/CityAdministration/d/PublicEthics/index.htm">Oakland Public Ethics Commission</a>. </p>\n<p>All development on OpenDisclosure happens publicly on\n<a href="https://github.com/caciviclab/disclosure-frontend">Github</a>. We invite any\nquestions or suggestions for improvement–just <a href="https://github.com/caciviclab/disclosure-frontend/issues/new?labels=type%2Fquestion">create an issue on\nGithub</a>!</p>\n<h3 id="open-disclosure-team">Open Disclosure Team</h3>\n<ul>\n<li>Aaron D Borden</li>\n<li>Ben Cipollini</li>\n<li>Tom Dooner</li>\n<li>Suzanne Doran</li>\n<li>Kate Drew</li>\n<li>Thomas Favre-Bulle</li>\n<li>Sean Finney</li>\n<li>Asha John</li>\n<li>Ray Kiddy</li>\n<li>Michael Liu</li>\n<li>Jamie Marcus</li>\n<li>Daniel O&#39;Kelly</li>\n<li>John C. Osborn</li>\n<li>Maksim Pecherskiy</li>\n<li>Phebe Polk</li>\n<li>Emily Ann Ramos</li>\n<li>Mel Restori</li>\n<li>Amanda Richardson</li>\n<li>Ash Roughani</li>\n<li>Elina Rubuliak</li>\n<li>Sarah Seiter</li>\n<li>Mike Ubell</li>\n<li>Kyle Warneck</li>\n<li>Phil Wolff</li>\n</ul>\n<h4 id="thank-you">Thank you</h4>\n<p>And thank you to our brigade teams for your support and assistance:</p>\n<ul>\n<li><a href="http://openoakland.org/">OpenOakland</a></li>\n<li><a href="http://codeforsanfrancisco.org/">Code for San Francisco</a></li>\n<li><a href="https://codeforsacramento.org/">Code for Sacramento</a></li>\n<li><a href="http://opensandiego.org/">Open San Diego</a></li>\n<li><a href="http://codeforsanjose.com/">Code For San Jose</a></li>\n</ul>\n'},{}],13:[function(require,module,exports){!function(){"use strict";var template=require("./aboutPage.html");module.exports=function(){return{controller:"AboutPageController",restrict:"E",scope:{},bindToController:!0,controllerAs:"$ctrl",template:template}}}()},{"./aboutPage.html":10}],14:[function(require,module,exports){module.exports='<app-main-nav></app-main-nav>\n\n<page-header-breadcrumbs></page-header-breadcrumbs>\n\n<div id="main" ui-view class="page-fade"></div>\n\n<app-main-footer></app-main-footer>\n'},{}],15:[function(require,module,exports){!function(){"use strict";require("../common/core/core"),require("../common/appMainNav/appMainNav"),require("../common/appMainFooter/appMainFooter"),require("../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs"),require("./aboutPageModule/aboutPage"),require("./committeePageModule/committeePage"),require("./localePageModule/localePage"),require("./examplePage1Module/examplePage1"),require("./faqPageModule/faqPage"),require("./measurePageModule");var appMainRoutes=require("./appMainRoutes"),appMainDirective=require("./appMainDirective"),AppMainController=require("./AppMainController");module.exports=angular.module("appMainModule",["coreModules","appMainNavModule","appMainFooterModule","pageHeaderBreadcrumbsModule","localePageModule","examplePage1Module","aboutPageModule","committeePageModule","faqPageModule","measurePageModule"]).config(appMainRoutes).directive("appMain",appMainDirective).controller("AppMainController",AppMainController)}()},{"../common/appMainFooter/appMainFooter":68,"../common/appMainNav/appMainNav":71,"../common/core/core":93,"../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs":128,"./AppMainController":8,"./aboutPageModule/aboutPage":11,"./appMainDirective":16,"./appMainRoutes":17,"./committeePageModule/committeePage":20,"./examplePage1Module/examplePage1":25,"./faqPageModule/faqPage":31,"./localePageModule/localePage":53,"./measurePageModule":62}],16:[function(require,module,exports){!function(){"use strict";var template=require("./appMain.html");module.exports=function(){return{controller:"AppMainController",controllerAs:"ctrl",bindToController:!0,restrict:"EA",scope:!0,template:template}}}()},{"./appMain.html":14}],17:[function(require,module,exports){"use strict";function appMainRoutes($stateProvider){var city={name:"appMain.city",url:"^/city",template:"<h1>this is a CITY page</h1>",ncyBreadcrumb:{label:"City",parent:"appMain"},data:{moduleClasses:"page",pageClasses:"city",pageTitle:"City"}},state={name:"appMain.state",url:"^/state",template:"<h1>this is the California STATE page</h1>",ncyBreadcrumb:{label:"State",parent:"appMain"},data:{moduleClasses:"page",pageClasses:"state",pageTitle:"State"}};$stateProvider.state(city),$stateProvider.state(state)}appMainRoutes.$inject=["$stateProvider"],module.exports=appMainRoutes},{}],18:[function(require,module,exports){"use strict";function committeeContributorsPageController($scope,contributors){$scope.contributors=contributors}module.exports=committeeContributorsPageController},{}],19:[function(require,module,exports){module.exports='\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-xs-12">\n            <odca-page-header page-title="{{committee.name}}"></odca-page-header>\n        </div>\n    </div>\n    <div class="row bg-white">\n        <div class="col-xs-12">\n            <committee-listing committee="committee" contributions="contributions"></committee-listing>\n        </div>\n    </div>\n</div>\n\n'},{}],20:[function(require,module,exports){!function(){"use strict";require("../../common/core/core"),require("../../common/pageHeader/pageHeader"),require("../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs"),require("../../common/committeeContributors"),require("../../common/committeeListing"),module.exports=angular.module("committeePageModule",["coreModules","pageHeaderModule","pageHeaderBreadcrumbsModule","committeeContributors","committeeListing"]).controller("committeePageController",require("./committeePageController")).controller("committeeContributorsPageController",require("./committeeContributorsPageController")).config(require("./committeePageRoutes"))}()},{"../../common/committeeContributors":85,"../../common/committeeListing":87,"../../common/core/core":93,"../../common/pageHeader/pageHeader":125,"../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs":128,"./committeeContributorsPageController":18,"./committeePageController":21,"./committeePageRoutes":22}],21:[function(require,module,exports){"use strict";function committeeController($scope,$state,committee,contributions){$scope.state=$state,$scope.committee=committee,$scope.contributions=contributions}module.exports=committeeController},{}],22:[function(require,module,exports){"use strict";function committeePageRoutes($stateProvider){$stateProvider.state({name:"appMain.committee","abstract":!0,url:"^/committee/:filer_id",template:"<ui-view></ui-view>",controller:"committeePageController",resolve:{committee:function($stateParams,static_api){return static_api.committee.get({filer_id:$stateParams.filer_id})},contributions:function($stateParams,static_api){var apiCall=static_api.committee.contributions({filer_id:$stateParams.filer_id});return apiCall.$promise}},data:{moduleClasses:"page",pageClasses:"committee"},onEnter:["committee","pageMetadata",function(committee,pageMetadata){committee.$promise.then(function(committee){pageMetadata({title:committee.name})})}]}),$stateProvider.state({name:"appMain.committee.main",url:"",template:require("./committeePage.html"),ncyBreadcrumb:{label:"{{ committee.name }}",parent:"appMain"}}),$stateProvider.state({name:"appMain.committee.contributors",url:"/contributors",controller:"committeeContributorsPageController",template:'<committee-contributors contributors="contributors"></committee-contributors>',ncyBreadcrumb:{label:"Contributors",parent:"appMain.committee.main"},resolve:{contributors:function($stateParams,disclosureApi){return disclosureApi.committee.contributors({committee_id:$stateParams.committee_id})}},data:{moduleClasses:"page",pageClasses:"contributors"}})}committeePageRoutes.$inject=["$stateProvider"],module.exports=committeePageRoutes},{"./committeePage.html":19}],23:[function(require,module,exports){!function(){"use strict";function ExamplePage1Controller($scope,$log,TestFactory1,examplePage1Factory,$state){function activate(){return TestFactory1.getPageData().then(function(data){return pageData=data,$log.info("page data = ",pageData),example.pageData=pageData,pageData})}function getAllContributorsForCommittee(committeeId,urlPaths){return TestFactory1.getCommitteeContributors(committeeId,urlPaths).then(function(data){committee.contributors=data,$log.info("COMMITTEE CONTRIBUTORS = ",committee.contributors)})}function getCommittee(committeeId,urlPaths){return TestFactory1.getCommittee(committeeId,urlPaths).then(function(data){return committee=data,$log.info("COMMITTEE = ",committee),committee})}function getCommitteeExampleForPage(committeeId,urlPaths){return examplePage1Factory.getExampleCommittee(committeeId,urlPaths).then(function(data){return committeeExample=data,$log.info("COMMITTEE EXAMPLE = ",committeeExample),committeeExample})}function getCandidatesInElection(officeElectionId){return TestFactory1.getAllCandidatesRunningInOfficeElection(officeElectionId).then(function(data){return electionCandidates=data,$log.info("ELECTION CANDIDATES = ",electionCandidates),electionCandidates})}var alamedaData=TestFactory1.getAlamedaData(),dataResults=alamedaData.results,pageData={},committee={},committeeExample={},electionCandidates={},rowData=[{name:"Samantha Brooks",amount:350,date:"2015-04-12"},{name:"Lisa Sheppards",amount:320,date:"2015-01-31"},{name:"Raul Esposito",amount:720,date:"2015-04-04"}],example=this;example.gridOptions5={},example.gridOptions5.data=rowData,example.contributionTotals="51000",example.pageTitle=$state.current.ncyBreadcrumbLabel,$log.info("STATE",$state.current),example.dataResults=dataResults,$log.info("example.dataResults =",example.dataResults),example.ballot1={},example.ballot1.data=[{linkUrl:"/1",linkTitle:"Title #1",subTitle:"some sub-title",dollarAmount:"12000",avatarUrl:"http://loremflickr.com/75/75/animals"},{linkUrl:"/2",linkTitle:"Title #2",subTitle:"some sub-title",dollarAmount:"12000",avatarUrl:"http://lorempixel.com/75/75/animals"},{linkUrl:"/3",linkTitle:"Title #3",subTitle:"some sub-title",dollarAmount:"12000"},{linkUrl:"/4",linkTitle:"Title #4",subTitle:"some sub-title"},{linkUrl:"/5",linkTitle:"Title #5"}],example.ballot2={},example.ballot2.data=[{linkUrl:"/1",linkTitle:"Title #1"},{linkUrl:"/2",linkTitle:"Title #2"},{linkUrl:"/3",linkTitle:"Title #3"}],activate(),getAllContributorsForCommittee("1","/contributors"),getCommittee("1",""),getCommitteeExampleForPage("1",""),getCandidatesInElection("1")}ExamplePage1Controller.$inject=["$scope","$log","TestFactory1","examplePage1Factory","$state"],module.exports=ExamplePage1Controller}()},{}],24:[function(require,module,exports){module.exports='<div class="container-fluid">\n\t<odca-page-header page-title="{{example.pageTitle}}"></odca-page-header>\n\n  <div class="row">\n    <div class="col-xs-12">\n      <odca-contributions-category-table category="Individual" total-contributions="example.contributionTotals" contributions="example.gridOptions5"></odca-contributions-category-table>\n      </div>\n\t</div>\n\n\t<div class="row">\n\t\t<div class="col-xs-12">\n\t\t\t<p class="lead"><em>Notes:</em></p>\n\t\t\t<pre>NAME = {{example.pageData.name}}<br>TYPE = {{example.pageData.type}}<br>ID = {{example.pageData.id}}<br>\n\t\t\t</pre>\n\n\t\t\t<p>{{example.pageData.name}}</p>\n\t\t</div>\n\t</div>\n\n\t<div class="row">\n\t\t<div class="col-xs-12">\n\n\t\t\t<odca-link-list list-title="A List Title!" list-data="example.ballot1.data"></odca-link-list>\n\n\t\t\t<odca-link-list list-data="example.ballot2.data"></odca-link-list>\n\t\t</div>\n\t</div>\n\t\n\t<div class="divided-section row">\n\t\t<div class="col-xs-12">\n\t\t\t<odca-bar-chart label="Within Oakland" value="56"></odca-bar-chart>\n\t\t</div>\n\t\t<div class="col-xs-12">\n\t\t\t<odca-bar-chart label="Outside Oakland" value="34"></odca-bar-chart>\n\t\t</div>\n\t</div>\n</div>\n'},{}],25:[function(require,module,exports){"use strict";require("../../common/core/core"),require("../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs"),require("../../common/pageHeader/pageHeader"),require("../../common/linkList/linkList"),require("../../common/contributionsCategoryTable/contributionsCategoryTable"),require("../../common/barChart/barChart");var examplePage1Directive=require("./examplePage1Directive"),ExamplePage1Controller=require("./ExamplePage1Controller"),TestFactory1=require("./testService1"),examplePage1Factory=require("./examplePage1Factory");module.exports=angular.module("examplePage1Module",["barChartModule","coreModules","pageHeaderBreadcrumbsModule","pageHeaderModule","linkList","contributionsCategoryTable"]).directive("examplePage1",examplePage1Directive).controller("ExamplePage1Controller",ExamplePage1Controller).factory("TestFactory1",TestFactory1).factory("examplePage1Factory",examplePage1Factory)},{"../../common/barChart/barChart":77,"../../common/contributionsCategoryTable/contributionsCategoryTable":90,"../../common/core/core":93,"../../common/linkList/linkList":100,"../../common/pageHeader/pageHeader":125,"../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs":128,"./ExamplePage1Controller":23,"./examplePage1Directive":26,"./examplePage1Factory":27,"./testService1":28}],26:[function(require,module,exports){!function(){"use strict";var template=require("./examplePage1.html");module.exports=function(){var directive={restrict:"E",scope:{},controllerAs:"example",bindToController:{},template:template,controller:"ExamplePage1Controller"};return directive}}()},{"./examplePage1.html":24}],27:[function(require,module,exports){"use strict";var examplePage1Factory=function($http,$q,$log,CONSTANTS){function getPageDataComplete(data){return data.data}function getPageDataFailed(e){var newMessage="XHR Failed for getPageData";return e.data&&e.data.description&&(newMessage=newMessage+"\n"+e.data.description),e.data.description=newMessage,$log.error(newMessage),$q.reject(e)}function getExampleCommittee(committeeId,urlPaths){return $http.get(apiBaseUrl+"/committee/"+committeeId+urlPaths).then(getPageDataComplete)["catch"](getPageDataFailed)}var apiBaseUrl=CONSTANTS.DISCLOSURE_API_BASEURL,service={getPageDataComplete:getPageDataComplete,getPageDataFailed:getPageDataFailed,getExampleCommittee:getExampleCommittee};return service};examplePage1Factory.$inject=["$http","$q","$log","CONSTANTS"],module.exports=examplePage1Factory},{}],28:[function(require,module,exports){"use strict";var TestFactory1=function($http,$q,$log,CONSTANTS){function testOne(){console.log(apiBaseUrl),$log.debug(apiBaseUrl)}function getAlameda(){return $http.get("https://api.open.fec.gov/v1/schedules/schedule_a/?per_page=20&sort_nulls_large=true&api_key=DEMO_KEY").success(function(data){return $log.info(data),results=data})}function getPageData(){function getPageDataComplete(data){return data.data}function getPageDataFailed(e){var newMessage="XHR Failed for getCustomer";return e.data&&e.data.description&&(newMessage=newMessage+"\n"+e.data.description),e.data.description=newMessage,$log.error(newMessage),$q.reject(e)}return $http.get(apiBaseUrl+apiEndpoint+"/4").then(getPageDataComplete)["catch"](getPageDataFailed)}function getAlamedaData(){return getPageData().then(function(data){return localePageData=data,$log.info("locale page data = ",localePageData),localePageData})}function getPageDataComplete(data,status,headers,config){return data.data}function getPageDataFailed(e){var newMessage="XHR Failed for getPageData";return e.data&&e.data.description&&(newMessage=newMessage+"\n"+e.data.description),e.data.description=newMessage,$log.error(newMessage),$q.reject(e)}function getListOfLocalities(){return $http.get(apiBaseUrl+"/locality/search/").then(getPageDataComplete)["catch"](getPageDataFailed)}function getCommittee(committeeId,urlPaths){return $http.get(apiBaseUrl+"/committee/"+committeeId+urlPaths).then(getPageDataComplete)["catch"](getPageDataFailed)}function getCommitteeContributors(committeeId,urlPaths){return getCommittee(committeeId,urlPaths)}function setCommitteeContributors(){return getCommitteeContributors().then(function(data){return localePageData.committeeContributors=data,$log.info("ALL LOCALE PAGE DATA = ",localePageData),$log.info("COMMITTEE CONTRIBUTORS = ",localePageData.committeeContributors),localePageData.committeeContributors})}function getAllCandidatesRunningInOfficeElection(officeElectionId){return $http.get(apiBaseUrl+"/office_election/"+officeElectionId).then(getPageDataComplete)["catch"](getPageDataFailed)}var results,apiBaseUrl=CONSTANTS.DISCLOSURE_API_BASEURL,apiEndpoint="/locality",localePageData={},service={testOne:testOne,getAlameda:getAlameda,getAlamedaData:getAlamedaData,getPageData:getPageData,getPageDataComplete:getPageDataComplete,getPageDataFailed:getPageDataFailed,getListOfLocalities:getListOfLocalities,getCommittee:getCommittee,getCommitteeContributors:getCommitteeContributors,setCommitteeContributors:setCommitteeContributors,getAllCandidatesRunningInOfficeElection:getAllCandidatesRunningInOfficeElection};return service};TestFactory1.$inject=["$http","$q","$log","CONSTANTS"],module.exports=TestFactory1},{}],29:[function(require,module,exports){"use strict";function FaqPageController(){var ctrl=this;ctrl.content=require("./faqPage.md")}FaqPageController.$inject=[],module.exports=FaqPageController},{"./faqPage.md":32}],30:[function(require,module,exports){module.exports='<div class="container">\n  <div class="row">\n    <div class="col-xs-12">\n      <odca-markdown content="$ctrl.content" with-anchors="true"></odca-markdown>\n    </div>\n  </div>\n</div>\n'},{}],31:[function(require,module,exports){"use strict";require("../../common/core/core"),require("../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs"),require("../../common/markdown");var faqPageDirective=require("./faqPageDirective"),FaqPageController=require("./FaqPageController");module.exports=angular.module("faqPageModule",["coreModules","odca.markdown","pageHeaderBreadcrumbsModule"]).directive("faqPage",faqPageDirective).controller("FaqPageController",FaqPageController)},{"../../common/core/core":93,"../../common/markdown":105,"../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs":128,"./FaqPageController":29,"./faqPageDirective":33}],32:[function(require,module,exports){module.exports='<h1 id="frequently-asked-questions">Frequently asked questions</h1>\n<ul>\n<li><a href="/#!/faq#what-data-is-featured-on-this-website">What data is featured on this\nwebsite?</a></li>\n<li><a href="/#!/faq#where-does-the-data-come-from">Where does the data come from?</a></li>\n<li><a href="/#!/faq#how-up-to-date-is-the-data">How up-to-date is the data?</a></li>\n<li><a href="/#!/faq#what-is-a-non-itemized-contribution-small-contribution">What is a non-itemized contribution (small contribution)?</a></li>\n<li><a href="/#!/faq#how-do-you-calculate-the-proportion-raised-within-oakland">How do you calculate the proportion raised within Oakland?</a></li>\n<li><a href="/#!/faq#why-don-t-the-total-contributions-presented-match-the-numbers-in-the-lists-of-itemized-contributions-by-location-and-category">Why don&#39;t the total contributions presented match the numbers in the lists of itemized contributions by location and category?</a></li>\n<li><a href="/#!/faq#what-is-an-independent-expenditure">What is an Independent Expenditure?</a></li>\n<li><a href="/#!/faq#what-other-types-of-committees-must-report-their-campaign-related-spending">What other types of committees must report their campaign-related spending?</a></li>\n<li><a href="/#!/faq#how-were-candidate-biographies-prepared">How were candidate biographies prepared?</a></li>\n<li><a href="/#!/faq#how-were-ballot-measure-summaries-prepared">How were ballot measure summaries prepared?</a></li>\n<li><a href="/#!/faq#does-open-disclosure-endorse-third-party-content">Does Open Disclosure endorse third-party content?</a></li>\n<li><a href="/#!/faq#who-do-i-contact-if-i-believe-any-of-the-data-is-incorrect">Who do I contact if I believe any of the data is incorrect?</a></li>\n<li><a href="/#!/faq#what-are-oakland-s-campaign-finance-rules">What are Oakland&#39;s Campaign Finance Rules?</a></li>\n<li><a href="/#!/faq#expenditure-categories-what-each-category-includes">Expenditure Categories: What each category includes</a></li>\n<li><a href="/#!/faq#odca-calculation-methodologies">ODCA Calculation Methodologies</a></li>\n</ul>\n<h2 id="what-data-is-featured-on-this-website-">What data is featured on this website?</h2>\n<p>Open Disclosure visualizes campaign finance data for all Oakland candidates and ballot measures on the November 2016 ballot. The data comes from the City’s campaign finance portal provided by NetFile on the City Clerk’s website.</p>\n<p>The data collected by the City Clerk’s office is required by the  California <a href="https://www.google.com/url?q=http://www.fppc.ca.gov/the-law/the-political-reform-act.html&amp;sa=D&amp;ust=1475098628700000&amp;usg=AFQjCNEGO7M-WLPzZvvMofozm4_iIQZi-w">Political Reform Act (PRA)</a>, which requires that a candidate or campaign committee that plans to raise or spend $2,000 or more in a calendar year—including the candidate’s personal funds—must file statements and reports on the committee’s financial activity at specified periods. Candidates or campaign committees that do not raise or spend $2,000 or more in a calendar year are not required to report their financial activity, which may result in some candidates with no available public financial data.</p>\n<p>Campaign finance data is self-reported by all local candidate-controlled and ballot measure committees. Our volunteer team does not clean, scrub, or edit the data. If there are misspellings or duplicate entries, then that was how the committee reported the campaign finance data. The data is presented as reported. Where necessary we may aggregate data that we believe represents the same entity.</p>\n<h2 id="where-does-the-data-come-from-">Where does the data come from?</h2>\n<p>The campaign finance data that Open Disclosure presents is derived primarily from the filings of the California Fair Political Practices Commission (FPPC) <a href="https://www.google.com/url?q=http://www.fppc.ca.gov/content/dam/fppc/NS-Documents/TAD/Campaign%2520Forms/460.pdf&amp;sa=D&amp;ust=1475098628727000&amp;usg=AFQjCNHKYH__u_ttOTeC7n77HEhAZDsl4g">Form 460</a> (Recipient Committee Campaign Statement). Once a campaign committee has raised or spent $2,000 or more, it must file Form 460, which contains an overview of the committee’s activity during a specified period.</p>\n<p>Oakland campaign committees file Form 460 with the Oakland Office of the City Clerk’s e-filing system, NetFile, which is available on the <a href="https://www.google.com/url?q=http://nf4.netfile.com/pub2/Default.aspx?aid%3DCOAK%26AspxAutoDetectCookieSupport%3D1&amp;sa=D&amp;ust=1475098628722000&amp;usg=AFQjCNF7y160KsExJSY-x_9eSo9Ylo4FuA">Public Portal for Campaign Finance Disclosure</a>. The raw data is also synced daily to the City of <a href="https://www.google.com/url?q=https://data.oaklandnet.com/&amp;sa=D&amp;ust=1475098628720000&amp;usg=AFQjCNGVi-ZJeQ6JzLOuLogAv49_M5QqtQ">Oakland’s Socrata Open Data Portal</a>.</p>\n<h2 id="how-up-to-date-is-the-data-">How up-to-date is the data?</h2>\n<p>The data is published to the site approximately every 24 hours. The data for\nOpen Disclosure is based on campaign finance filing deadlines established by the\nState of California Fair Political Practices Commission (FPPC) for all state and\nlocal candidates and ballot measures in the November 2016 election.</p>\n<table>\n<thead>\n<tr>\n<th>Reporting Period</th>\n<th>FPPC Filing Deadline</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1/1/2016 – 6/30/16</td>\n<td>August 1, 2016</td>\n</tr>\n<tr>\n<td>7/1/16 – 9/24/16</td>\n<td>September 29, 2016</td>\n</tr>\n<tr>\n<td>9/25/16 – 10/22/16</td>\n<td>October 27, 2016</td>\n</tr>\n<tr>\n<td>10/23/16 – 12/31/16</td>\n<td>January 31, 2017</td>\n</tr>\n</tbody>\n</table>\n<p>In addition to these filing deadlines, contributions of $1,000 or more from\na single source made to candidate and ballot measure committees within the 90\ndays prior to the election (8/10/16-11/8/16) must be reported within 24 hours.</p>\n<h2 id="what-is-a-non-itemized-contribution-small-contribution-">What is a non-itemized contribution (small contribution)?</h2>\n<p>Candidate and ballot measure committees must report their total contributions regardless of size. However, contributions of $100 or more must be itemized and include additional information about the contributor. Contributions under $100 may be reported in the aggregate.</p>\n<h2 id="how-do-you-calculate-the-proportion-raised-within-oakland-">How do you calculate the proportion raised within Oakland?</h2>\n<p>Candidates and ballot measure committees must itemize contributions of $100 or more. Information includes the location of the individual, committee, or business making the contribution. The percentage is the proportion of contributions reported to be from Oakland divided by the total of the itemized contributions. We remove contributions and loans made by the candidate to the campaign from this calculation.</p>\n<h2 id="why-don-t-the-total-contributions-presented-match-the-numbers-in-the-lists-of-itemized-contributions-by-location-and-category-">Why don&#39;t the total contributions presented match the numbers in the lists of itemized contributions by location and category?</h2>\n<p>The total contributions and the itemized lists are calculated using different data sets. The total sums the amount of total monetary and non-monetary contributions reported by each campaign committee at each filing deadline. The charts displaying contributions by location and category sum the itemized contributions filed, which are a sub-set of the total contributions. This leads to some discrepancies, because contributions under $100 are not required to be itemized with information on the donor’s identity and location.</p>\n<h2 id="what-is-an-independent-expenditure-">What is an Independent Expenditure?</h2>\n<p>Political spending that expressly advocates the election or defeat of a candidate or ballot measure but is not made in consultation, cooperation, or coordination with the candidate or campaign committee is termed an <a href="https://www.google.com/url?q=http://www.fppc.ca.gov/content/dam/fppc/NS-Documents/TAD/Campaign%2520Manuals/Manual_4/Manual_4_Ch_11_IE_Reporting.pdf&amp;sa=D&amp;ust=1475098628749000&amp;usg=AFQjCNH0aqYPyTZGWcm91gT0341CE6JBSA">independent expenditure</a>. Under California law, any entity that makes independent expenditures of $1,000 or more per year to California candidates or ballot measures is subject to California campaign finance disclosure reporting requirements.</p>\n<h2 id="what-other-types-of-committees-must-report-their-campaign-related-spending-">What other types of committees must report their campaign-related spending?</h2>\n<p>Committees that are not candidate-controlled or formed to support or oppose a particular candidate or ballot measure also raise funds and spend money in local elections. Under California’s Political Reform Act (PRA), committees that receive contributions or make expenditures to support or oppose multiple candidates and/or ballot measures must also file statements and reports on their activities just as candidate and ballot measure committees do. They must also report which candidate or ballot measure their expenditure is intended to support or oppose and whether the expenditure is a contribution to the campaign or an independent expenditure (see above). Independent expenditures are not included in the fundraising totals for candidates or ballot measures. For more information, see the <a href="https://www.google.com/url?q=http://www.fppc.ca.gov/learn/campaign-rules.html&amp;sa=D&amp;ust=1475098628704000&amp;usg=AFQjCNFT2E86CBYRUgZ0Io8j2Gp9KG3DOw">California Fair Political Practices Commission guide to Campaign Rules</a>.</p>\n<h2 id="how-were-candidate-biographies-prepared-">How were candidate biographies prepared?</h2>\n<p>Candidate bios are written by Open Disclosure volunteers to present a neutral summary of a candidate’s applicable background, work history, education. Biographical information is not intended to communicate a candidate’s platform. All candidates are contacted and offered the opportunity to contribute to their own biography text. Primary sources are the candidates’ official ballot statements and submissions of the candidates themselves, although volunteer research also includes information obtained from campaign materials and published news articles. All candidates are researched using the same standards, with comparable time and energy put into each, and no preference given to party or ideology. </p>\n<h2 id="how-were-ballot-measure-summaries-prepared-">How were ballot measure summaries prepared?</h2>\n<p>Ballot measure descriptions are intended to provide a brief, neutral summary. Summaries are written by Open Disclosure volunteers based on information prepared by the City Attorney for the <a href="https://www.acgov.org/rov/elections/20150317/documents/voter-information-en.pdf">Alameda County Official Voter Information Guide</a>.</p>\n<h2 id="does-open-disclosure-endorse-third-party-content-">Does Open Disclosure endorse third-party content?</h2>\n<p>Open Disclosure contains links to various third party websites that contain additional information related to elections and the political process. Content linked to candidates, such as their campaign websites and social media, are not reviewed. Our site does not endorse, approve, certify, or control these external websites. We do not exercise editorial control or oversight over the content featured by these third-party sites and make no representation as to their accuracy, objectivity, fairness, completeness, efficacy, timeliness, or correct sequencing of information. We are not responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with the use of or reliance on any material available on or through such websites.We neither support nor oppose political parties, ballot measures, or candidates for public office. </p>\n<h2 id="who-do-i-contact-if-i-believe-any-of-the-data-is-incorrect-">Who do I contact if I believe any of the data is incorrect?</h2>\n<p>Contact the <a href="https://github.com/caciviclab/disclosure-frontend/issues/new?labels=type%2Fquestion&amp;title=Feedback%3A+a+question+on+data+correctness">Open Disclosure team</a> if you believe any of the data or candidate information is incorrect or violates the statement of impartiality outlined in the answer above. We want public feedback and ask to be notified if any errors are present. Thank you! </p>\n<h2 id="what-are-oakland-s-campaign-finance-rules-">What are Oakland&#39;s Campaign Finance Rules?</h2>\n<p>Any “person” may contribute up to $700<em> to each candidate per election cycle. “Broad-based political committees” may contribute up to $1,500</em> to each candidate per election cycle (<a href="https://library.municode.com/HTML/16308/level3/TIT3MUEL_CH3.12THOACAREAC_ARTIIICOLI.html#TIT3MUEL_CH3.12THOACAREAC_ARTIIICOLI_3.12.050LICOPE">Oakland Campaign Reform Act (OCRA) 3.12.050</a>).</p>\n<p>*Candidates may accept this higher contribution limit ONLY IF they accept the <a href="http://www2.oaklandnet.com/oakca1/groups/ceda/documents/agenda/oak056852.pdf">OCRA expenditure ceilings</a> by submitting the <a href="http://www2.oaklandnet.com/oakca1/groups/cityclerk/documents/webcontent/oak034166.pdf">OCRA Form 301</a>. If the candidate does not accept the expenditure ceilings then the limit for persons is $100 and the limit for broad-based political committees is $400.</p>\n<p>“Person” means an individual, proprietorship, firm, partnership, joint venture, syndicate, business, trust, company, corporation, association, committee, and any other organization or group of persons acting in concert (<a href="https://library.municode.com/HTML/16308/level3/TIT3MUEL_CH3.12THOACAREAC_ARTIIDE.html#TIT3MUEL_CH3.12THOACAREAC_ARTIIDE_3.12.040INAC">OCRA 3.12.040</a>).</p>\n<p>”Broad-based political committee” means a committee of persons which has been in existence for more than six months, receives contributions from one hundred (100) or more persons, and acting in concert makes contributions to five or more candidates (<a href="https://library.municode.com/HTML/16308/level3/TIT3MUEL_CH3.12THOACAREAC_ARTIIDE.html#TIT3MUEL_CH3.12THOACAREAC_ARTIIDE_3.12.040INAC">OCRA 3.12.040</a>).</p>\n<p>For more information on Oakland’s campaign finance rules, please review the Oakland Campaign Reform Act (<a href="https://library.municode.com/HTML/16308/level1/TIT3MUEL.html#TOPTITLE">OCRA</a>) and the <a href="http://www2.oaklandnet.com/oakca1/groups/ceda/documents/form/oak057203.pdf">Public Ethics Commission’s Guide to OCRA</a>.</p>\n<p>Contact the <a href="http://www2.oaklandnet.com/Government/o/CityAdministration/d/PublicEthics/index.htm">City of Oakland Public Ethics Commission</a> with any questions at ethicscommission@oaklandnet.com or (510) 238-3593.</p>\n<h2 id="expenditure-categories-what-each-category-includes">Expenditure Categories: What each category includes</h2>\n<p><em>From <a href="http://www.fppc.ca.gov/content/dam/fppc/NS-Documents/TAD/Campaign%20Forms/460.pdf">Form 460 Schedule\nE</a>,\np24</em></p>\n<h3 id="campaign-paraphernalia-x200b-miscellaneous-cmp-">Campaign Paraphernalia/&#x200b;Miscellaneous (CMP)</h3>\n<p>Includes lawn signs, buttons, bumper stickers, T-shirts, potholders, etc.\nIncludes costs of election night event.</p>\n<h3 id="campaign-consultants-cns-">Campaign Consultants (CNS)</h3>\n<p>Includes fees and commissions paid to professional campaign management or\nconsulting firms.</p>\n<h3 id="contributions-ctb-">Contributions (CTB)</h3>\n<p>Includes contributions made to other candidates and committees. Use “CTB” for direct monetary contributions. For nonmonetary (in-kind) contributions, use “CTB” and, if one of the other codes accurately describes the expenditure, you may enter that code also. Otherwise, describe the payment. Also provide the name of the candidate or committee that received the nonmonetary contribution in the “Description of Payment” column.* </p>\n<h3 id="civic-donations-cvc-">Civic Donations (CVC)</h3>\n<p>Includes donations to civic, nonprofit or education organizations; payments for community events. </p>\n<h3 id="candidate-filing-ballot-fees-fil-">Candidate Filing/Ballot Fees (FIL)</h3>\n<p>Includes payments to election officials for candidate filing fees and fees charged for publication of a ballot statement. </p>\n<h3 id="fundraising-events-fnd-">Fundraising Events (FND)</h3>\n<p>Includes expenditures associated with holding a fundraising event, including payments for event space to hotels or halls, payments for food and beverages to restaurants, caterers and other vendors, and payments for speakers, entertainment, and decorations. Includes costs of house parties. (Use “LIT” for costs of invitations, brochures, and solicitations associated with fundraising events.) </p>\n<h3 id="independent-expenditures-ind-">Independent expenditures (IND)</h3>\n<p>Includes payments for communications that support/oppose other candidates or measures that are not made in consultation or coordination with the candidates or a ballot measure committee. Use “IND” and, if one of the other codes accurately describes the independent expenditure, you may enter that code also. Otherwise, describe the payment. Also provide the name of the candidate or ballot measure supported or opposed by the expenditure.* </p>\n<h3 id="legal-defense-leg-">Legal Defense (LEG)</h3>\n<p>Includes attorney or other fees paid for legal defense. </p>\n<h3 id="campaign-literature-and-mailings-lit-">Campaign literature and mailings (LIT)</h3>\n<p>Includes preparation, production, and distribution of campaign literature, direct mail pieces, fundraising solicitations, and door hangers. Includes costs of mailing lists, design/graphics, copy and layout, printing and photocopying. Includes payments to be on a slate mailer, and for absentee ballot mailers. </p>\n<h3 id="member-communications-mbr-">Member Communications (MBR)</h3>\n<p>Includes payments for communications to members, employees, or shareholders of an organization, or their family members, for the purpose of supporting or opposing a candidate or ballot measure. </p>\n<h3 id="meetings-and-appearances-mtg-">Meetings and appearances (MTG)</h3>\n<p>Includes costs associated with meetings, press conferences, town halls, and constituent meetings. </p>\n<h3 id="office-expenses-ofc-">Office expenses (OFC)</h3>\n<p>Includes expenditures for office rent; utilities (including cellular phone service); purchase or rental of office equipment (computer, fax, photocopier, etc.) and furniture; office supplies, etc.</p>\n<h3 id="petition-circulating-pet-">Petition circulating (PET)</h3>\n<p>Includes payments for printing petitions and payments to signature gathering firms for ballot measure qualification drives. </p>\n<h3 id="phone-banks-pho-">Phone banks (PHO)</h3>\n<p>Includes costs of phone banks. </p>\n<h3 id="polling-and-survey-research-pol-">Polling and survey research (POL)</h3>\n<p>Includes costs of designing and conducting polls, reports on election trends, voter surveys, etc. </p>\n<h3 id="postage-delivery-and-messenger-services-pos-">Postage, delivery and messenger services (POS)</h3>\n<p>Includes U.S. Postal Service, Federal Express, United Parcel Service, and other delivery and courier services. </p>\n<h3 id="professional-services-pro-">Professional services (PRO)</h3>\n<p>Includes legal, accounting, and bookkeeping services.</p>\n<h3 id="print-space-and-production-costs-prt-">Print space and production costs (PRT)</h3>\n<p>Includes advertising space in newspapers, magazines and other publications, and billboard ads. </p>\n<h3 id="radio-airtime-and-production-costs-rad-">Radio airtime and production costs (RAD)</h3>\n<h3 id="returned-contributions-rfd-">Returned contributions (RFD)</h3>\n<h3 id="campaign-workers-salaries-sal-">Campaign workers salaries (SAL)</h3>\n<p>Includes state and federal payroll taxes. </p>\n<h3 id="television-or-cable-airtime-and-video-production-costs-tel-">Television or cable airtime and video production costs (TEL)</h3>\n<h3 id="candidate-travel-trc-">Candidate travel (TRC)</h3>\n<p>Includes payments or reimbursements for travel, lodging, and meals of a candidate. </p>\n<h3 id="staff-spouse-travel-trs-">Staff/spouse travel (TRS)</h3>\n<p>Includes payments or reimbursements for travel, lodging, and meals of a candidate’s representative (staff), or member of the candidate’s household. </p>\n<h3 id="transfers-tsf-">Transfers (TSF)</h3>\n<p>Includes only use this code to report the transfer of funds to another authorized committee of the same candidate or sponsoring organization. Report funds this committee gives to other committees on Schedule E, as contributions (“CTB”) to those committees, not as transfers. </p>\n<h3 id="voter-registration-costs-vot-">Voter registration costs (VOT)</h3>\n<h3 id="information-technology-costs-web-">Information technology costs (WEB)</h3>\n<p>Includes payments for website design, e-mail, internet access, production of website and e-mail advertising. </p>\n<p><em>* Payments that are contributions or independent expenditures to support or\noppose other candidates, measures, and committees must also be summarized on\nSchedule D.</em></p>\n<h2 id="odca-calculation-methodologies">ODCA Calculation Methodologies</h2>\n<p>The code we use to make these calculations can be found in the <a href="https://github.com/caciviclab/disclosure-backend-static/tree/master/calculators">caciviclab/disclosure-backend-static repository</a>.</p>\n';
},{}],33:[function(require,module,exports){!function(){"use strict";var template=require("./faqPage.html");module.exports=function(){return{controller:"FaqPageController",restrict:"E",scope:{},bindToController:!0,controllerAs:"$ctrl",template:template}}}()},{"./faqPage.html":30}],34:[function(require,module,exports){!function(){"use strict";function LocalePageController($log,$state,$stateParams,localePageFactory){function activate(){return localePageFactory.getLocalePageData(locale.localeId).then(function(data){pageMetaData=data,locale.localeType=pageMetaData.type,$log.info("PAGE META DATA! = ",pageMetaData)})}function createBallotList(){return localePageFactory.getCurrentBallotData(locale.localeId).then(function(data){rawBallotData=data,$log.info("RAW BALLOT DATA = ",rawBallotData),locale.nextElectionDate=rawBallotData.date})}var pageMetaData={},rawBallotData={},locale=this;locale.state=$state,locale.localeName=$stateParams.localeName,locale.localeId=$stateParams.localeId,locale.testType=localePageFactory.getLocalePageData(locale.localeId).type,console.log("TEST TYPE = ",locale.testType),activate(),$log.info("LOCALE TYPE = ",locale.localeType),createBallotList(),locale.pageParams=$state.params,$log.info("LOCALE META = ",locale.pageParams),locale.pageData=$state.current,$log.info("LOCALE PAGE DATA = ",locale.pageData)}LocalePageController.$inject=["$log","$state","$stateParams","localePageFactory"],module.exports=LocalePageController}()},{}],35:[function(require,module,exports){!function(){"use strict";function ElectionTypePageController($log,$state,$stateParams,upcomingElectionsListFactory){var selectedItem=upcomingElectionsListFactory.getSelectedItemData(),election=this;election.state=$state,election.electionType=$stateParams.electionType,election.electionTypeId=$stateParams.electionTypeId||selectedItem.id,election.electionTitle=$stateParams.electionTitle,election.electionData=selectedItem}ElectionTypePageController.$inject=["$log","$state","$stateParams","upcomingElectionsListFactory"],module.exports=ElectionTypePageController}()},{}],36:[function(require,module,exports){"use strict";angular.module("candidatePageModule",[require("../../../../common/candidate"),require("../../../../common/static")]).config(require("./candidatePageRoutes")),module.exports="candidatePageModule"},{"../../../../common/candidate":81,"../../../../common/static":136,"./candidatePageRoutes":37}],37:[function(require,module,exports){"use strict";function candidateRoutes($stateProvider){$stateProvider.state({name:"appMain.localePage.candidate",url:"/candidate/:candidateId",template:'<odca-candidate-page candidate="vm.candidate" supporting="vm.supporting" opposing="vm.opposing"></odca-candidate-page>',controller:["$rootScope","$scope","$stateParams","candidate","opposing","supporting",function($rootScope,$scope,$stateParams,candidate,opposing,supporting){var vm=this;vm.candidate=candidate,vm.supporting=supporting,vm.opposing=opposing,$scope.breadcrumb=$rootScope.breadcrumb,angular.extend($scope.breadcrumb,$stateParams,{candidate:candidate})}],controllerAs:"vm",ncyBreadcrumb:{label:"{{ breadcrumb.candidate.name }}",parent:"appMain.localePage.index"},resolve:{candidate:function($stateParams,static_api){return static_api.candidate.get({candidate_id:$stateParams.candidateId})},supporting:function($stateParams,static_api){return static_api.candidate.supporting({candidate_id:$stateParams.candidateId})},opposing:function($stateParams,static_api){return static_api.candidate.opposing({candidate_id:$stateParams.candidateId})}},onEnter:["$state","candidate","pageMetadata",function($state,candidate,pageMetadata){candidate.$promise.then(function(candidate){pageMetadata({title:candidate.name})})}]})}module.exports=candidateRoutes},{}],38:[function(require,module,exports){module.exports='<!--<div>ELECTION TYPE = {{election.electionType}}</div>-->\n\n<office-page\n  ng-if="election.electionType == \'office\'"\n  office-id="{{election.electionTypeId}}"\n  office-data="election.electionData">\n</office-page>\n\n<!--<div ng-show="election.electionType == \'referendum\'">REFERENDUM PAGE</div>-->\n<referendum-page\n  ng-if="election.electionType == \'referendum\'"\n  referendum-id="{{election.electionTypeId}}"\n  referendum-data="election.electionData">\n</referendum-page>\n\n<!--<br>-->\n\n<!--<pre>{{election.electionData | json}}</pre>-->'},{}],39:[function(require,module,exports){!function(){"use strict";var electionTypePageRoutes=(require("../../../common/core/core"),require("./officePageModule/officePage"),require("./referendumPageModule/referendumPage"),require("./candidatePageModule/candidatePage"),require("./electionTypePageRoutes")),electionTypePageDirective=require("./electionTypePageDirective"),ElectionTypePageController=require("./ElectionTypePageController");module.exports=angular.module("electionTypePage",[require("../../../common/referendum"),"coreModules","officePageModule","referendumPageModule","candidatePageModule"]).config(electionTypePageRoutes).directive("localeElectionPage",electionTypePageDirective).controller("ElectionTypePageController",ElectionTypePageController)}()},{"../../../common/core/core":93,"../../../common/referendum":132,"./ElectionTypePageController":35,"./candidatePageModule/candidatePage":36,"./electionTypePageDirective":40,"./electionTypePageRoutes":41,"./officePageModule/officePage":44,"./referendumPageModule/referendumPage":49}],40:[function(require,module,exports){"use strict";!function(){var template=require("./electionTypePage.html");module.exports=function(){function link(scope,element,attrs,election){}var directive={restrict:"E",scope:{},controllerAs:"election",bindToController:{electionType:"@type",electionTypeId:"@typeId"},link:link,template:template,controller:"ElectionTypePageController"};return directive}}()},{"./electionTypePage.html":38}],41:[function(require,module,exports){"use strict";function electionTypePageRoutes($stateProvider){var electionTypePage={name:"appMain.localePage.electionTypePage",url:"/:electionYear/:electionType/:electionTypeId/:electionTitle","abstract":!0,template:"<div ui-view></div>"},electionTypeIndexPage={name:"appMain.localePage.electionTypePage.index",url:"",template:'<locale-election-page type-id="{{ctrl.electionTypeId}}" type="{{ctrl.electionType}}"></locale-election-page>',controller:["$rootScope","$scope","$stateParams",function($rootScope,$scope,$stateParams){var ctrl=this;ctrl.electionType=$stateParams.electionType,ctrl.electionTypeId=$stateParams.electionTypeId,ctrl.electionTitle=$stateParams.electionTitle,$scope.breadcrumb=$rootScope.breadcrumb,angular.extend($scope.breadcrumb,$stateParams)}],controllerAs:"ctrl",ncyBreadcrumb:{label:"{{ breadcrumb.electionTitle }}",parent:"appMain.localePage.index"}},officeElectionPage={name:"appMain.localePage.electionTypePage.officeElection",url:"/office-election",template:"<h1>OFFICE ELECTION PAGE</h1>"},referendumMoneyPage={name:"appMain.localePage.electionTypePage.referendumMoney",url:"/:support_or_oppose",template:'<referendum-money referendum="ctrl.referendum" money="ctrl.money"></referendum-money>',controller:["$rootScope","$scope","$stateParams","referendum","money",function($rootScope,$scope,$stateParams,referendum,money){var ctrl=this;ctrl.referendum=referendum,ctrl.money=money,ctrl.support_or_oppose=$stateParams.support_or_oppose,$scope.breadcrumb=$rootScope.breadcrumb,angular.extend($scope.breadcrumb,$stateParams)}],resolve:{referendum:["$stateParams","static_api",function($stateParams,static_api){return static_api.referendum.get({referendum_id:$stateParams.electionTypeId})}],money:["$stateParams","static_api",function($stateParams,static_api){var method="supporting"===$stateParams.support_or_oppose?"supporting":"opposing";return static_api.referendum[method]({referendum_id:$stateParams.electionTypeId})}]},controllerAs:"ctrl",ncyBreadcrumb:{label:"{{ breadcrumb.support_or_oppose }}",parent:"appMain.localePage.electionTypePage.index"},onEnter:["$state","pageMetadata","referendum",function($state,pageMetadata,referendum){referendum.$promise.then(function(referendum){var title="supporting"===$state.params.support_or_oppose?"Supporters of measure "+referendum.number:"Opponents of measure "+referendum.number;pageMetadata({title:title,description:referendum.summary})})}]};$stateProvider.state(electionTypeIndexPage),$stateProvider.state(electionTypePage),$stateProvider.state(officeElectionPage),$stateProvider.state(referendumMoneyPage)}electionTypePageRoutes.$inject=["$stateProvider"],module.exports=electionTypePageRoutes},{}],42:[function(require,module,exports){"use strict";function OfficePageController($filter,$interpolate,$log,$state,officePageFactory){function activate(){return officePageFactory.getListOfCandidatesForOffice(office.officeTypeId).then(function(data){officePageData=data,office.pageData=officePageData,$log.info("OFFICE PAGE DATA! = ",officePageData),createCandidatesList(office.pageData.candidates)})}function createCandidatesList(candidatesArray){candidatesArray.sort(function(a,b){return b.supporting_money.contributions_received-a.supporting_money.contributions_received}),angular.forEach(candidatesArray,function(candidate){var candidateListItem={};candidateListItem=createCandidateListItem(candidate),office.candidatesList.push(candidateListItem)})}function createCandidateListItem(candidateObject){var item={};return item.linkTitle=candidateObject.name,item.subTitle=candidateObject.supporting_money.contributions_received?$interpolate("Amount collected {{ money | dollar }}")({money:candidateObject.supporting_money.contributions_received}):"No campaign finance data available",item.avatarUrl=$filter("candidate_photo")(candidateObject),item.dollarAmount=null,item.toState=$interpolate('appMain.localePage.candidate({electionYear: "{{ electionYear }}", candidateId: "{{ candidateId }}" })')({electionYear:$state.params.electionYear,candidateId:candidateObject.id}),item}var officePageData={},office=this;office.state=$state,office.officeTypeId=$state.params.electionTypeId,office.candidatesList=[],activate()}OfficePageController.$inject=["$filter","$interpolate","$log","$state","officePageFactory"],module.exports=OfficePageController},{}],43:[function(require,module,exports){module.exports='<odca-page-header class="officePage-titleText"\n  page-title="{{office.pageData.name}}">\n</odca-page-header>\n\n<odca-link-list list-data="office.candidatesList"></odca-link-list>\n\n<!--<br>-->\n<!--<pre>{{office.officeData | json}}</pre>-->\n<!--<pre>{{office.pageData | json}}</pre>-->'},{}],44:[function(require,module,exports){"use strict";var officePageDirective=(require("../../../../common/core/core"),require("../../../../common/pageHeader/pageHeader"),require("../../../../common/linkList/linkList"),require("./officePageDirective")),OfficePageController=require("./OfficePageController"),officePageFactory=require("./officePageFactory");module.exports=angular.module("officePageModule",[require("../../../../common/candidate"),"coreModules","pageHeaderModule","linkList"]).directive("officePage",officePageDirective).controller("OfficePageController",OfficePageController).factory("officePageFactory",officePageFactory)},{"../../../../common/candidate":81,"../../../../common/core/core":93,"../../../../common/linkList/linkList":100,"../../../../common/pageHeader/pageHeader":125,"./OfficePageController":42,"./officePageDirective":45,"./officePageFactory":46}],45:[function(require,module,exports){!function(){"use strict";var template=require("./officePage.html");module.exports=function(){function link(scope,element,attrs,office){}var directive={restrict:"E",scope:{},controllerAs:"office",bindToController:{officeId:"@",officeData:"="},link:link,template:template,controller:"OfficePageController"};return directive}}()},{"./officePage.html":43}],46:[function(require,module,exports){"use strict";var officePageFactory=function($log,$http,$q,CONSTANTS){function getListOfCandidatesForOffice(officeElectionId){return $http.get(apiBasePath+apiEndpoint+"/"+officeElectionId).then(getOfficeDataComplete).then(function(data){return officePageData=data,$log.info("data from getOfficeMetaData() = ",officePageData),officePageData})["catch"](getOfficeDataFailed)}function getOfficeDataComplete(data){return data.data}function getOfficeDataFailed(e){var newMessage="XHR Failed for getOfficePageData";return e.data&&e.data.description&&(newMessage=newMessage+"\n"+e.data.description),e.data.description=newMessage,$log.error(newMessage),$q.reject(e)}var apiBasePath=CONSTANTS.DISCLOSURE_API_BASEURL,apiEndpoint="/office_election",officePageData={},service={getListOfCandidatesForOffice:getListOfCandidatesForOffice};return service};officePageFactory.$inject=["$log","$http","$q","CONSTANTS"],module.exports=officePageFactory},{}],47:[function(require,module,exports){"use strict";function ReferendumPageController($log,$state,$stateParams,pageMetadata,referendumPageFactory,static_api){function activate(){return referendumPageFactory.getReferendumMetaData(referendum.referendumTypeId).then(function(data){metaData=data,referendum.metaData=metaData,$log.info("REFERENDUM META DATA! = ",metaData),pageMetadata({title:metaData.title,description:metaData.summary})})}var metaData={},referendumPageData=referendumPageFactory.getReferendumPageData(),referendum=this;referendum.state=$stateParams,referendum.referendumTypeId=$state.params.electionTypeId,referendum.supporting=static_api.referendum.supporting({referendum_id:referendum.referendumTypeId}),referendum.opposing=static_api.referendum.opposing({referendum_id:referendum.referendumTypeId}),referendum.referendumData=referendumPageData,$log.info("REFERENDUM PAGE DATA = ",referendum.referendumData),activate()}ReferendumPageController.$inject=["$log","$state","$stateParams","pageMetadata","referendumPageFactory","static_api"],module.exports=ReferendumPageController},{}],48:[function(require,module,exports){module.exports='<odca-page-header class="referendumPage-titleText"\n  page-title="Measure {{referendum.metaData.number}}">\n</odca-page-header>\n\n<odca-page-header sub-title="{{referendum.metaData.name}}"></odca-page-header>\n\n<odca-text-blurb title="Abstract" body="{{referendum.metaData.summary}}"></odca-text-blurb>\n\n<div class="section">\n  <h3 class="section-header">Money supporting the measure <span class="section-header__subtext">{{ referendum.supporting.total_contributions | dollar }}</span></h3>\n  <odca-money-by-region money="referendum.supporting.contributions_by_region" color="green"></odca-money-by-region>\n  <div class="see-more" ng-if="!!referendum.supporting.supporting_organizations.length">\n    <a class="see-more__content" ui-sref="appMain.localePage.electionTypePage.referendumMoney({support_or_oppose: \'supporting\'})">{{ referendum.supporting.supporting_organizations.length }} supporting <span class="text-nowrap">committees <span class="fa fa-chevron-right"></span></span></a>\n  </div>\n  <div class="see-more" ng-if="!referendum.supporting.supporting_organizations.length">\n    No data on supporting committees\n  </div>\n</div>\n<div class="section">\n  <h3 class="section-header">Money opposing the measure <span class="section-header__subtext">{{ referendum.opposing.total_contributions | dollar }}</span></h3>\n  <odca-money-by-region money="referendum.opposing.contributions_by_region" color="red"></odca-money-by-region>\n  <div class="see-more" ng-if="!!referendum.opposing.opposing_organizations.length">\n    <a class="see-more__content" ui-sref="appMain.localePage.electionTypePage.referendumMoney({support_or_oppose: \'opposing\'})">{{ referendum.opposing.opposing_organizations.length }} opposing <span class="text-no-break">committees <span class="fa fa-chevron-right"></span></span></a>\n  </div>\n  <div class="see-more" ng-if="!referendum.opposing.opposing_organizations.length">\n    No data on opposing committees\n  </div>\n</div>\n\n<!--<br>-->\n<!--<pre>{{referendum.referendumData | json}}</pre>-->\n'},{}],49:[function(require,module,exports){"use strict";require("../../../../common/core/core");var referendumPageDirective=(require("../../../../common/pageHeader/pageHeader"),require("../../../../common/textBlurb/textBlurb"),require("./referendumPageDirective")),ReferendumPageController=require("./ReferendumPageController"),referendumPageFactory=require("./referendumPageFactory");module.exports=angular.module("referendumPageModule",["coreModules","pageHeaderModule","textBlurbModule"]).directive("referendumPage",referendumPageDirective).controller("ReferendumPageController",ReferendumPageController).factory("referendumPageFactory",referendumPageFactory)},{"../../../../common/core/core":93,"../../../../common/pageHeader/pageHeader":125,"../../../../common/textBlurb/textBlurb":138,"./ReferendumPageController":47,"./referendumPageDirective":50,"./referendumPageFactory":51}],50:[function(require,module,exports){!function(){"use strict";var template=require("./referendumPage.html");module.exports=function(){function link(scope,element,attrs,referendum){}var directive={restrict:"E",scope:{},controllerAs:"referendum",bindToController:{referendumId:"@",referendumData:"="},link:link,template:template,controller:"ReferendumPageController"};return directive}}()},{"./referendumPage.html":48}],51:[function(require,module,exports){"use strict";var referendumPageFactory=function($log,$q,static_api,CONSTANTS){function getReferendumMetaData(referendumId){return static_api.referendum.get({referendum_id:referendumId}).$promise.then(function(data){return referendumPageData.metaData=data,$log.info("data from getReferendumMetaData() = ",referendumPageData.metaData),referendumPageData.metaData})["catch"](getReferendumDataFailed)}function getReferendumPageData(){return referendumPageData}function getReferendumDataFailed(e){var newMessage="XHR Failed for getReferendumPageData";return e.data&&e.data.description&&(newMessage=newMessage+"\n"+e.data.description),e.data.description=newMessage,$log.error(newMessage),$q.reject(e)}var referendumPageData=(CONSTANTS.DISCLOSURE_API_BASEURL,{});referendumPageData.metaData={};var service={getReferendumMetaData:getReferendumMetaData,getReferendumPageData:getReferendumPageData};return service};referendumPageFactory.$inject=["$log","$q","static_api","CONSTANTS"],module.exports=referendumPageFactory},{}],52:[function(require,module,exports){module.exports='<div class="container-fluid">\n\t<div class="row">\n\t\t<div class="col-xs-12">\n\t\t\t<odca-page-header page-title="{{locale.localeName}}" next-election="{{ locale.nextElectionDate | date:\'MMMM d, yyyy\' }}" last-updated="locale.stats.date_processed"></odca-page-header>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="container-fluid">\n\t<div class="row bg-white">\n\t\t<div class="col-sm-8 col-sm-push-4">\n\t\t\t<div class="localePage-electionTypePageContainer" ui-view></div>\n\t\t</div>\n\t\t<div class="col-sm-4 col-sm-pull-8 localePage-electionsListContainer">\n\t\t\t<locale-upcoming-elections-list locale-id="locale.localeId" locale-type="locale.localeType"></locale-upcoming-elections-list>\n\t\t</div>\n\t</div>\n</div>\n\n\n<!--<{{ctrl.localeType}}-page></{{ctrl.localeType}}-page>-->\n<!--{{ctrl.pageElement}}-->\n'},{}],53:[function(require,module,exports){!function(){"use strict";require("../../common/core/core"),require("../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs"),require("../../common/pageHeader/pageHeader"),require("./upcomingElectionsList/upcomingElectionsList"),require("./electionTypePage/electionTypePage");var localePageRoutes=require("./localePageRoutes"),localePageDirective=require("./localePageDirective"),LocalePageController=require("./LocalePageController"),localePageFactory=require("./localePageFactory");module.exports=angular.module("localePageModule",["coreModules","pageHeaderBreadcrumbsModule","pageHeaderModule","upcomingElectionsList","electionTypePage"]).config(localePageRoutes).directive("localePage",localePageDirective).controller("LocalePageController",LocalePageController).factory("localePageFactory",localePageFactory)}()},{"../../common/core/core":93,"../../common/pageHeader/pageHeader":125,"../../common/pageHeaderBreadcrumbs/pageHeaderBreadcrumbs":128,"./LocalePageController":34,"./electionTypePage/electionTypePage":39,"./localePageDirective":54,"./localePageFactory":55,"./localePageRoutes":56,"./upcomingElectionsList/upcomingElectionsList":59}],54:[function(require,module,exports){!function(){"use strict";var template=require("./localePage.html");module.exports=function(){var directive={restrict:"E",scope:{},controllerAs:"locale",bindToController:{localeName:"@",stats:"="},template:template,controller:"LocalePageController"};return directive}}()},{"./localePage.html":52}],55:[function(require,module,exports){"use strict";var localePageFactory=function($log,$http,$q,CONSTANTS){function getLocalePageData(localeId){return getMetaDataForPage(localeId).then(function(data){return localePageData=data,$log.info("data from getMetaDataForPage() = ",localePageData),localePageData})}function getMetaDataForPage(localeId){return $http.get(apiBasePath+apiEndpoint+"/"+localeId).then(getDataComplete)["catch"](getMetaDataFailed)}function getCurrentBallotData(localeId){return $http.get(apiBasePath+apiEndpoint+"/"+localeId+"/current_ballot").then(getDataComplete)["catch"](getMetaDataFailed)}function getDataComplete(data){return data.data}function getMetaDataFailed(e){var newMessage="XHR Failed for getPageData";return e.data&&e.data.description&&(newMessage=newMessage+"\n"+e.data.description),e.data.description=newMessage,$log.error(newMessage),$q.reject(e)}var apiBasePath=CONSTANTS.DISCLOSURE_API_BASEURL,apiEndpoint="/locality",localePageData={};localePageData.metaData={};var service={getLocalePageData:getLocalePageData,getMetaDataForPage:getMetaDataForPage,getCurrentBallotData:getCurrentBallotData};return service};localePageFactory.$inject=["$log","$http","$q","CONSTANTS"],module.exports=localePageFactory},{}],56:[function(require,module,exports){"use strict";function localePageRoutes($stateProvider){var localePage={name:"appMain.localePage",url:"^/:localeType/:localeId/:localeName","abstract":!0,template:'<locale-page class="page-fade" locale-name="{{ $ctrl.localeName }}" stats="$ctrl.stats"></locale-page>',controller:["$rootScope","$scope","$stateParams","stats",function($rootScope,$scope,$stateParams,stats){var ctrl=this;ctrl.localeName=$stateParams.localeName,ctrl.stats=stats}],controllerAs:"$ctrl",resolve:{ballot:["$stateParams","static_api",function($stateParams,static_api){return static_api.locality.current_ballot({locality_id:$stateParams.localeId})}],locality:["$stateParams","static_api",function($stateParams,static_api){return static_api.locality.get({locality_id:$stateParams.localeId})}],stats:["static_api",function(static_api){return static_api.stats.get().$promise}]}},localeIndexPage={name:"appMain.localePage.index",url:"",template:'Click on a ballot item to the left to see campaign finance data in {{ $ctrl.locality.name  || "your city" }}.',controller:["$filter","$rootScope","$scope","$state","$stateParams","ballot",function($filter,$rootScope,$scope,$state,$stateParams,ballot){function findInterestingBallotItem(ballot_items){var ballot_item_of_interest=ballot_items[0];for(var idx in ballot_items)if(/Council At-Large/.test(ballot_items[idx].name)){ballot_item_of_interest=ballot_items[idx];break}return ballot_item_of_interest}$scope.breadcrumb=$rootScope.breadcrumb,angular.extend($scope.breadcrumb,$stateParams),ballot.$promise.then(function(ballot){var ballot_item_of_interest=findInterestingBallotItem(ballot.ballot_items);$state.go("appMain.localePage.electionTypePage.index",{electionYear:new Date(ballot.date).getYear(),electionType:ballot_item_of_interest.contest_type.toLowerCase(),electionTypeId:ballot_item_of_interest.id,electionTitle:$filter("slugify")(ballot_item_of_interest.name)})})}],controllerAs:"$ctrl",ncyBreadcrumb:{label:"{{ breadcrumb.localeName }}",parent:"appMain"}};$stateProvider.state(localeIndexPage),$stateProvider.state(localePage)}localePageRoutes.$inject=["$stateProvider"],module.exports=localePageRoutes},{}],57:[function(require,module,exports){!function(){"use strict";function UpcomingElectionsListController($interpolate,$log,$stateParams,$filter,upcomingElectionsListFactory){function activate(){return upcomingElectionsListFactory.getUpcomingElectionData(ctrl.localeId).then(function(data){rawBallotData=data,$log.info("RAW BALLOT DATA = ",rawBallotData),splitOfficesAndMeasures(rawBallotData.ballot_items),ballotList.offices.sort(function(a,b){return/Council At-Large/.test(a.contest.name)?-1:a.contest.name.localeCompare(b.contest.name)}),ballotList.councilPositions.sort(function(a,b){return a.contest.name.localeCompare(b.contest.name)}),ballotList.measures.sort(function(a,b){return a.contest.number.localeCompare(b.contest.number)}),$log.info("BALLOT LIST = ",ballotList),ctrl.ballotList=ballotList})}function splitOfficesAndMeasures(arrayOfBallotData){angular.forEach(arrayOfBallotData,function(contest){var item={};item=createBallotListItem(contest),"office"===contest.contest_type.toLowerCase()?splitCouncilPositionsAndOffices(item):ballotList.measures.push(item)})}function createBallotListItem(contestObject){var ballotListItem={};return ballotListItem.type=contestObject.contest_type.toLowerCase(),ballotListItem.linkTitle="referendum"===ballotListItem.type?$interpolate("{{ number }} {{ title }}")(contestObject):contestObject.name,ballotListItem.linkData={electionYear:$filter("limitTo")(rawBallotData.date,4,0),electionType:contestObject.contest_type.toLowerCase(),electionTypeId:contestObject.id,electionTitle:$filter("slugify")(contestObject.name)},ballotListItem.toState=defineStateForBallotItem(ballotListItem.linkData),ballotListItem.electionDate=rawBallotData.date,ballotListItem.onItemSelected=function(itemData){$log.info("ON ITEM SELECTED = ",itemData),upcomingElectionsListFactory.storeSelectedItemData(itemData)},ballotListItem.contest=contestObject,ballotListItem}function splitCouncilPositionsAndOffices(position){var isCouncilPosition;isCouncilPosition=$filter("test")(position.linkTitle,"Council District"),isCouncilPosition?ballotList.councilPositions.push(position):ballotList.offices.push(position)}function defineStateForBallotItem(linkDataObject){var state;return state="appMain.localePage.electionTypePage.index({electionYear: "+linkDataObject.electionYear+', electionType: "'+linkDataObject.electionType+'", electionTypeId: "'+linkDataObject.electionTypeId+'", electionTitle: "'+linkDataObject.electionTitle+'"})'}var rawBallotData={},ballotList={};upcomingElectionsListFactory.getSelectedItemData();ballotList.offices=[],ballotList.councilPositions=[],ballotList.measures=[];var ctrl=this;ctrl.councilTitle=$stateParams.localeType+" Council",activate()}UpcomingElectionsListController.$inject=["$interpolate","$log","$stateParams","$filter","upcomingElectionsListFactory"],module.exports=UpcomingElectionsListController}()},{}],58:[function(require,module,exports){module.exports='<h3>Upcoming Elections</h3>\n<odca-link-list list-data="ctrl.ballotList.offices"></odca-link-list>\n<odca-link-list list-title="{{ctrl.councilTitle}}" list-data="ctrl.ballotList.councilPositions"></odca-link-list>\n<odca-link-list list-title="Ballot Measures" list-data="ctrl.ballotList.measures"></odca-link-list>\n'},{}],59:[function(require,module,exports){!function(){"use strict";var upcomingElectionsListDirective=(require("../../../common/core/core"),require("../../../common/linkList/linkList"),require("angular-filter"),require("./upcomingElectionsListDirective")),UpcomingElectionsListController=require("./UpcomingElectionsListController"),upcomingElectionsListFactory=require("./upcomingElectionsListFactory");module.exports=angular.module("upcomingElectionsList",["coreModules","linkList","angular.filter"]).directive("localeUpcomingElectionsList",upcomingElectionsListDirective).controller("UpcomingElectionsListController",UpcomingElectionsListController).factory("upcomingElectionsListFactory",upcomingElectionsListFactory)}()},{"../../../common/core/core":93,"../../../common/linkList/linkList":100,"./UpcomingElectionsListController":57,"./upcomingElectionsListDirective":60,"./upcomingElectionsListFactory":61,"angular-filter":159}],60:[function(require,module,exports){!function(){"use strict";var template=require("./upcomingElectionsList.html");module.exports=function(){function link(scope,element,attrs,ctrl){}var directive={restrict:"E",priority:0,scope:{},controllerAs:"ctrl",bindToController:{localeId:"=",localeType:"="},link:link,template:template,controller:"UpcomingElectionsListController"};return directive}}()},{"./upcomingElectionsList.html":58}],61:[function(require,module,exports){"use strict";function upcomingElectionsListFactory($http,$q,$log,CONSTANTS){function getUpcomingElectionData(localeId){return $http.get(apiBaseUrl+"/locality/"+localeId+"/current_ballot").then(getUpcomingElectionDataComplete)["catch"](getUpcomingElectionDataFailed)}function getSelectedItemData(){return selectedItemData}function storeSelectedItemData(selectedItem){selectedItemData=selectedItem,$log.info("SELECTED ITEM DATA = ",selectedItemData)}function getUpcomingElectionDataComplete(data){return data.data}function getUpcomingElectionDataFailed(){$log.error("get ballot data failed")}var apiBaseUrl=CONSTANTS.DISCLOSURE_API_BASEURL,selectedItemData={},service={getUpcomingElectionData:getUpcomingElectionData,getSelectedItemData:getSelectedItemData,storeSelectedItemData:storeSelectedItemData};return service}upcomingElectionsListFactory.$inject=["$http","$q","$log","CONSTANTS"],module.exports=upcomingElectionsListFactory},{}],62:[function(require,module,exports){"use strict";require("../../common/measureListing"),require("../../common/measureCommitteeOpposing"),require("../../common/measureCommitteeSupporting"),module.exports=angular.module("measurePageModule",["ui.router","measureListing","measureCommitteeOpposing","measureCommitteeSupporting"]).controller("measurePageController",require("./measurePageController")).controller("measureCommitteeOpposingPageController",require("./measureCommitteeOpposingPageController")).controller("measureCommitteeSupportingPageController",require("./measureCommitteeSupportingPageController")).config(require("./state"))},{"../../common/measureCommitteeOpposing":109,"../../common/measureCommitteeSupporting":112,"../../common/measureListing":115,"./measureCommitteeOpposingPageController":63,"./measureCommitteeSupportingPageController":64,"./measurePageController":65,"./state":66}],63:[function(require,module,exports){"use strict";function measureCommitteeOpposingPageController($scope,measure,opposers){$scope.measure=measure,$scope.opposers=opposers}module.exports=measureCommitteeOpposingPageController},{}],64:[function(require,module,exports){"use strict";function measureCommitteeSupportingPageController($scope,measure,supporters){$scope.measure=measure,$scope.supporters=supporters}module.exports=measureCommitteeSupportingPageController},{}],65:[function(require,module,exports){"use strict";function measurePageController($scope,measure){$scope.city=measure.city,$scope.measure=measure,measure.supporting_count=measure.supporting_count||7,measure.supporting_geos=[{name:"Within Oakland",value:56},{name:"In-State",value:28},{name:"Out-of-State",value:16}],measure.opposing_count=measure.opposing_count||7,measure.opposing_geos=[{name:"Within Oakland",value:56},{name:"In-State",value:28},{name:"Out-of-State",value:16}]}module.exports=measurePageController},{}],66:[function(require,module,exports){"use strict";module.exports=function($stateProvider){$stateProvider.state({name:"appMain.measure",url:"^/measure/:measure_id","abstract":!0,controller:"measurePageController",template:"<ui-view></ui-view>",resolve:{measure:function($stateParams,disclosureApi){return disclosureApi.referendum.get({referendum_id:$stateParams.measure_id
})}},data:{moduleClasses:"page",pageClasses:"measure",pageTitle:"Measure",pageDescription:"Ballot measures."}}).state({name:"appMain.measure.index",url:"",template:'<measure-listing measure="measure"></measure-listing>',ncyBreadcrumb:{label:"Measure {{ measure.number }}",parent:"appMain.locality({locality_id: measure.city.fips_id})"},data:{moduleClasses:"page",pageClasses:"measure",pageTitle:"Measure",pageDescription:"Ballot measures."}}).state({name:"appMain.measure.supporting",url:"/supporting",controller:"measureCommitteeSupportingPageController",template:'<measure-committee-supporting measure="measure" supporters="supporters"></measure-committee-supporting>',ncyBreadcrumb:{label:"Supporting",parent:"appMain.measure.index"},resolve:{supporters:function($stateParams,disclosureApi){return disclosureApi.referendum.supporting({referendum_id:$stateParams.measure_id})}},data:{moduleClasses:"page",pageClasses:"measure-supporting",pageTitle:"Supporters",pageDescription:"Supporters of the ballot measure."}}).state({name:"appMain.measure.opposing",url:"/opposing",controller:"measureCommitteeOpposingPageController",template:'<measure-committee-opposing measure="measure" opposers="opposers"></measure-committee-opposing>',ncyBreadcrumb:{label:"Opposing",parent:"appMain.measure.index"},resolve:{opposers:function($stateParams,disclosureApi){return disclosureApi.referendum.opposing({referendum_id:$stateParams.measure_id})}},data:{moduleClasses:"page",pageClasses:"measure-opposing",pageTitle:"Opposers",pageDescription:"Opposers of the ballot measure."}})}},{}],67:[function(require,module,exports){module.exports='<footer class="appMainFooter">\n\n  <div class="container">\n    <div class="row appMainFooter-row">\n      <div class="col-xs-6">\n        <div class="appMainFooter__brand">\n          <a ui-sref="home"><span class="text-grey-2">OD</span>Ca</a>\n        </div>\n        <ul class="appMainFooter-linksList">\n          <li><a ui-sref="appMain.about" class="appMainFooter-linksList--link" title="About">About</a></li>\n          <li><a ui-sref="appMain.faq" class="appMainFooter-linksList--link" title="FAQ">FAQ</a></li>\n          <li><a href="http://caciviclab.org/opendisclosure/" class="appMainFooter-linksList--link" title="Join us">Join us</a></li>\n        </ul>\n      </div>\n      <div class="col-xs-6">\n        <p class="appMainFooter-taglineText text-right"><em>Brought to you by <a href="http://caciviclab.org/">California <span class="text-nowrap">Civic Lab</span></a></em></p>\n      </div>\n    </div>\n  </div>\n\n</footer>\n'},{}],68:[function(require,module,exports){!function(){"use strict";var appMainFooterDirective=require("./appMainFooterDirective");module.exports=angular.module("appMainFooterModule",[]).directive("appMainFooter",appMainFooterDirective)}()},{"./appMainFooterDirective":69}],69:[function(require,module,exports){!function(){"use strict";var template=require("./appMainFooter.html");module.exports=function(){return{template:template,restrict:"EA"}}}()},{"./appMainFooter.html":67}],70:[function(require,module,exports){module.exports='<header class="appMainHeader">\n  <nav class="navbar navbar-default">\n    <div class="container-fluid">\n      <div class="navbar-header">\n        <button type="button" class="navbar-toggle appMainNav-navbar-toggle"\n          ng-click="navCollapsed = !navCollapsed">\n          <span class="sr-only">Toggle navigation</span>\n          <span class="icon-bar appMainNav-icon-bar"></span>\n          <span class="icon-bar appMainNav-icon-bar"></span>\n          <span class="icon-bar appMainNav-icon-bar"></span>\n        </button>\n        <a class="hidden-xs navbar-brand appMainNav-navbar-brand" ui-sref="home"><span class="appMainNav-navbar-brand--span">Open Disclosure</span> California</a>\n        <a class="visible-xs-inline navbar-brand appMainNav-navbar-brand" ui-sref="home"><span class="appMainNav-navbar-brand--span">OD</span>Ca</a>\n      </div>\n      <div class="collapse navbar-collapse navbar-menu" uib-collapse="navCollapsed">\n        <ul class="nav navbar-nav">\n          <li><a ui-sref="appMain.about">About</a></li>\n          <li><a ui-sref="appMain.faq">FAQ</a></li>\n          <li><a href="http://caciviclab.org/opendisclosure/">Join us</a></li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</header>\n'},{}],71:[function(require,module,exports){"use strict";var appMainNavDirective=require("./appMainNavDirective"),appMainNavController=require("./appMainNavController");module.exports=angular.module("appMainNavModule",["ui.bootstrap.collapse"]).directive("appMainNav",appMainNavDirective).controller("appMainNavController",appMainNavController)},{"./appMainNavController":72,"./appMainNavDirective":73}],72:[function(require,module,exports){"use strict";function appMainNavController($scope){function handleStateChange(){$scope.navCollapsed=!0}$scope.navCollapsed=!0,$scope.$on("$stateChangeSuccess",function(){handleStateChange()})}appMainNavController.$inject=["$scope"],module.exports=appMainNavController},{}],73:[function(require,module,exports){"use strict";var template=require("./appMainNav.html");module.exports=function(){return{controller:"appMainNavController",restrict:"EA",transclude:!0,template:template}}},{"./appMainNav.html":70}],74:[function(require,module,exports){"use strict";angular.module("odca.array_update",[]).factory("array_update",function(){function array_update(array,data){Array.prototype.splice.apply(array,[0,array.length].concat(data))}return array_update}),module.exports="odca.array_update"},{}],75:[function(require,module,exports){"use strict";var asset_url="https://s3-us-west-1.amazonaws.com/odca-candidate-photos/";angular.module("odca.assets",[]).factory("assets",function(){return{asset_for:function(asset_name){return asset_url+asset_name}}}),module.exports="odca.assets"},{}],76:[function(require,module,exports){module.exports='<div class="odca-bar-chart">\n    <dt class="odca-bar-chart-headline">{{odcaBarChart.label}}</dt>\n    <dd class="odca-data-bar text-right"\n        style="width: {{odcaBarChart.value}}%">\n        <span class="odca-data-bar-label">{{odcaBarChart.value}}%</span>\n    </dd>\n</div>'},{}],77:[function(require,module,exports){"use strict";var barChart=angular.module("barChartModule",[]).directive("odcaBarChart",require("./barChartDirective.js"));module.exports=barChart},{"./barChartDirective.js":78}],78:[function(require,module,exports){!function(){"use strict";function barChartDirective(){var directive={restrict:"E",scope:{},bindToController:{label:"@",value:"@"},controller:function(){},controllerAs:"odcaBarChart",template:require("./barChart.html")};return directive}module.exports=barChartDirective}()},{"./barChart.html":76}],79:[function(require,module,exports){module.exports='<div class="candidate-page">\n  <div class="candidate-profile">\n    <h2>{{ $ctrl.candidate.name }}</h2>\n    <div class="candidate-profile__info">\n      <div class="candidate-profile__photo">\n        <img ng-src="{{ $ctrl.candidate | candidate_photo }}" alt="{{ $ctrl.candidate.name }}">\n      </div>\n      <div class="candidate-profile__info-content">\n        <div ng-if="$ctrl.candidate.is_incumbent" class="text-serif text-grey-4">Incumbent</div>\n        <div class="candidate-profile__website"><a ng-href="{{ $ctrl.candidate.website_url }}">{{ $ctrl.candidate.website_url }}</a></div>\n        <div class="candidate-profile__twitter"><a ng-href="https://twitter.com/{{ $ctrl.candidate.twitter_url }}">{{ $ctrl.candidate.twitter_url }}</a></div>\n        <div class="candidate-profile__voters-edge"><a ng-href="{{ $ctrl.candidate.votersedge_url }}">Voter\'s Edge Summary</a></div>\n      </div>\n    </div>\n    <div class="candidate-profile__bio">{{ $ctrl.candidate.bio }}</div>\n  </div>\n  <div ng-if="!$ctrl.supporting.total_contributions" class="divided-section">\n    <p class="text-grey-4">No campaign finance data available</p>\n  </div>\n  <div ng-if="$ctrl.supporting.total_contributions">\n    <div class="divided-section">\n      <div class="candidate__money candidate__money--contributions">\n        <span class="candidate__money-header">Contributions</span>\n        <span class="money">{{ $ctrl.supporting.total_contributions | dollar }}</span>\n      </div>\n      <div class="candidate__money candidate__money--expenditures">\n        <span class="candidate__money-header">Expenditures</span>\n        <span class="money">-{{ $ctrl.supporting.total_expenditures | dollar }}</span>\n      </div>\n      <div class="candidate__money candidate__money--current-balance">\n        <span class="candidate__money-header">Current balance</span>\n        <span class="money">{{ $ctrl.current_balance | dollar }}</span>\n      </div>\n    </div>\n   </div>\n   <div ng-if="$ctrl.candidate.opposing_money.opposing_expenditures">\n    <div class="divided-section">\n        <div class="candidate__money candidate__money--current-balance">\n          <span class="candidate__money-header">Expenditures Opposing Candidate</span>\n          <span class="money">{{ $ctrl.candidate.opposing_money.opposing_expenditures | dollar }}</span>\n        </div>\n    </div>\n   </div>\n  <div ng-if="$ctrl.supporting.total_contributions" class="divided-section is-off-screen" when-visible="$ctrl.onVisible">\n    <span class="text-serif text-grey-4">Money coming in</span>\n    <h3>Contributions</h3>\n    <div>\n      <div class="component__heading" ng-repeat-start="(label, amount) in $ctrl.contributions_by_type_percentages">{{ label }}</div>\n      <odca-money-bar-chart value="{{ amount }}" max="1000" precision="1" format="percentage" color="green" ng-repeat-end></odca-money-bar-chart>\n    </div>\n    <div class="see-more" ng-if="$ctrl.supporting.total_contributions > 0">\n      <a class="see-more__content" ui-sref="appMain.committee.main({filer_id: $ctrl.candidate.filer_id})">See all <span class="text-no-break">contributions<span class="fa fa-chevron-right"></span></span></a>\n    </div>\n    <div class="see-more" ng-if="!($ctrl.supporting.total_contributions > 0)">\n      No data on contributions\n    </div>\n\n  </div>\n  <div ng-if="$ctrl.supporting.total_expenditures" class="divided-section is-off-screen" when-visible="$ctrl.onVisible">\n    <span class="text-serif text-grey-4">Money going out</span>\n    <h3>Expenditures</h3>\n    <div>\n      <div class="component__heading" ng-repeat-start="(label, amount) in $ctrl.supporting.expenditures_by_type">{{ label }}</div>\n      <odca-money-bar-chart value="{{ amount }}" max="{{ $ctrl.supporting.total_expenditures }}" format="money" color="red" ng-repeat-end></odca-money-bar-chart>\n    </div>\n  </div>\n</div>\n'},{}],80:[function(require,module,exports){module.exports='<div class="candidate-list-item">\n  <a ng-href="{{ \'/candidate/\' + $ctrl.candidate.id | url }}" class="odca-list-item__link">\n    <div class="odca-list-item__content">\n      <div class="candidate__photo">\n        <img ng-src="{{ $ctrl.candidate | candidate_photo }}" alt="{{ $ctrl.candidate.name }}">\n      </div>\n      <div class="candidate__info">\n        <div class="candidate__name">{{ $ctrl.candidate.name }}</div>\n        <div ng-if="$ctrl.candidate.total_contributions" class="candidate__contributions">\n          <span class="hidden-xs">amount collected </span><span class="money text-grey-1">{{ $ctrl.candidate.total_contributions | dollar }}</span>\n        </div>\n      </div>\n    </div>\n      <div class="odca-list-item__chevron"></div>\n  </a>\n</div>\n'},{}],81:[function(require,module,exports){"use strict";function CandidateProfileController(){}function CandidatePageController(percentageCalculator){function onVisible($el){$el.removeClass("is-off-screen")}var ctrl=this;ctrl.onVisible=onVisible,ctrl.supporting.$promise.then(function(supporting){ctrl.current_balance=supporting.total_contributions-supporting.total_expenditures,ctrl.contributions_by_type_percentages=percentageCalculator(supporting.contributions_by_type,1e3)})}CandidatePageController.$inject=["percentageCalculator"];var angular=require("angular");angular.module("odca.candidate",[require("../money"),require("../percentageCalculator"),require("./photo.filter"),require("../page_metadata")]).directive("odcaCandidatePage",function(){return{restrict:"E",template:require("./candidate_page.html"),controller:CandidatePageController,controllerAs:"$ctrl",bindToController:!0,scope:{candidate:"=",opposing:"=",supporting:"="}}}).directive("odcaCandidateProfile",function(){return{restrict:"E",controllerAs:"$ctrl",controller:CandidateProfileController,template:require("./candidate_profile.html"),bindToController:!0,scope:{candidate:"="}}}),module.exports="odca.candidate"},{"../money":118,"../page_metadata":130,"../percentageCalculator":131,"./candidate_page.html":79,"./candidate_profile.html":80,"./photo.filter":82,angular:169}],82:[function(require,module,exports){"use strict";var angular=require("angular");angular.module("odca.candidates.photo",[require("../assets")]).filter("candidate_photo",["assets",function(assets){function candidatePhoto(candidate){return candidate.photo_url?candidate.photo_url:assets.asset_for("no-image.png")}return candidatePhoto}]),module.exports="odca.candidates.photo"},{"../assets":75,angular:169}],83:[function(require,module,exports){module.exports='<div class="search-container input-group">\n  <span class="input-group-addon"><i class="fa fa-search"></i></span>\n  <input class="search-input form-control" type="text" ng-model="query" placeholder="Search contributors">\n</div>\n<div class="subtitle"><span>Top 5 contributors by category</span></div>\n<div class="divided-section">\n  <h4>Individual</h4>\n  <table>\n    <thead>\n      <tr>\n        <th>Contributor</th>\n        <th>Amount</th>\n        <th>Date</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class="contributor" ng-repeat="contributor in contributors">\n        <td>{{ contributor.name }}</td>\n        <td class="money">{{ contributor.amount | currency:$:0 }}</td>\n        <td>{{ contributor.date | date:"yyyy-MM-dd" }}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<div class="divided-section">\n  <h4>Other (includes businesses)</h4>\n  <table>\n    <thead>\n      <tr>\n        <th>Contributor</th>\n        <th>Amount</th>\n        <th>Date</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class="contributor" ng-repeat="contributor in contributors">\n        <td>{{ contributor.name }}</td>\n        <td class="money">{{ contributor.amount | currency:$:0 }}</td>\n        <td>{{ contributor.date | date:"yyyy-MM-dd" }}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<div class="divided-section">\n  <h4>Committee</h4>\n  <table>\n    <thead>\n      <tr>\n        <th>Contributor</th>\n        <th>Amount</th>\n        <th>Date</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class="contributor" ng-repeat="contributor in contributors">\n        <td>{{ contributor.name }}</td>\n        <td class="money">{{ contributor.amount | currency:$:0 }}</td>\n        <td>{{ contributor.date | date:"yyyy-MM-dd" }}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'},{}],84:[function(require,module,exports){"use strict";function committeeContributorsDirective(){return{restrict:"E",scope:{contributors:"="},template:require("./committeeContributors.html")}}module.exports=committeeContributorsDirective},{"./committeeContributors.html":83}],85:[function(require,module,exports){"use strict";var committeeContributors=angular.module("committeeContributors",[]).directive("committeeContributors",require("./committeeContributorsDirective"));module.exports=committeeContributors},{"./committeeContributorsDirective":84}],86:[function(require,module,exports){module.exports='<div class="committee-listing">  \n    <div class="row">\n        <div class="col-xs-12">\n          <h3>Contributions to this Committee</h3>\n        </div>            \n    </div>\n\n    <div class="row">\n      <div class="form-group col-xs-5 search-container">\n        <label class="sr-only" for="contribution-search">Search Contributions</label>\n        <div class="input-group">\n          <div class="input-group-addon"><i class="fa fa-search"></i></div>\n            <input type="text" class="form-control" id="contribution-search" placeholder="Search Contributions" ng-model="$ctrl.gridOptions.quickFilterText">\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-xs-6">\n        <span class="text-xlarge text-semibold">2016</span>\n      </div>\n      <div class="col-xs-6 text-right">\n        <span class="text-xsmall text-semibold">Total money raised to date </span>\n        <span class="text-medium text-bold text-grey-2 committee-total">{{$ctrl.committeeTotal | currency:"$":0}}</span>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-xs-12 committee-grid__container">\n        <div ag-grid="$ctrl.gridOptions" class="odca-grid" style="height: 100%;"></div>\n      </div>\n    </div>\n  \n</div>\n'},{}],87:[function(require,module,exports){!function(){"use strict";function committeeListingDirective(){return{restrict:"E",template:require("./committeeListing.html"),controller:CommitteeListingController,controllerAs:"$ctrl",bindToController:!0,scope:{committee:"=",contributions:"="}}}function CommitteeListingController($filter){function getFriendlyName(resource){var names=[];return resource.Tran_NamF&&(names=names.concat(resource.Tran_NamF.split(" "))),resource.Tran_NamL&&(names=names.concat(resource.Tran_NamL.split(" "))),names.join(" ")}function getColumnWidth(percentOfWidth,minWidth){var allocatedWidth,gridWidth,odcaGridElement;return odcaGridElement=document.querySelectorAll(".odca-grid")[0],gridWidth=odcaGridElement.offsetWidth,allocatedWidth=Math.round(gridWidth*percentOfWidth*100)/100,allocatedWidth>=minWidth?allocatedWidth:minWidth}var contributionsObjs,ctrl=this;ctrl.committeeTotal=0,ctrl.contributionsSearch="",contributionsObjs=ctrl.contributions.map(function(resource){return ctrl.committeeTotal+=resource.Tran_Amt1,{Name:getFriendlyName(resource),Tran_Amt1:resource.Tran_Amt1,Tran_Date:resource.Tran_Date}}),ctrl.gridOptions={columnDefs:[{headerName:"Contributor",field:"Name",filter:"text",minWidth:300,width:getColumnWidth(.6,300),suppressMenu:!0},{headerName:"Amount",field:"Tran_Amt1",minWidth:100,width:getColumnWidth(.2,100),cellFormatter:function(params){return $filter("currency")(params.value,"$",0)},sort:"desc",suppressMenu:!0},{headerName:"Date",field:"Tran_Date",minWidth:110,width:getColumnWidth(.2,110),suppressMenu:!0}],headerHeight:40,enableSorting:!0,enableFilter:!0,rowData:contributionsObjs,rowHeight:40,suppressMovableColumns:!0}}angular.module("committeeListing",[]).directive("committeeListing",committeeListingDirective),CommitteeListingController.$inject=["$filter"]}()},{"./committeeListing.html":86}],88:[function(require,module,exports){"use strict";function ContributionsCategoryTableController($log,$filter){var vm=this,columnDefs=[{headerName:"Contributor",field:"name"},{headerName:"Amount",field:"amount",sort:"desc",cellRenderer:function(params){var formattedValue;return formattedValue=$filter("currency")(params.data.amount,"$",0)}},{headerName:"Date",field:"date",maxWidth:86}];console.log("CONTRIBUTIONS CATEGORY =",vm.contributionsCategory),console.log("CONTRIBUTIONS =",vm.contributions),vm.totalContributionsFormatted=$filter("currency")(vm.totalContributions,"$",0),vm.gridOptions={columnDefs:columnDefs,rowData:this.contributions.data,headerCellTemplate:headerCellTemplate,enableSorting:!0,rowHeight:45,enableColResize:!0,suppressMovableColumns:!0,suppressRowClickSelection:!0,suppressCellSelection:!0,angularCompileRows:!0,onGridReady:function(params){params.api.sizeColumnsToFit()}}}var headerCellTemplate=require("./headerCell/headerCellTemplate.html");ContributionsCategoryTableController.$inject=["$log","$filter"],module.exports=ContributionsCategoryTableController},{"./headerCell/headerCellTemplate.html":92}],89:[function(require,module,exports){module.exports='<article class="odca-contributionsTable odca-contentBlock--singleItem">\n\t<h3 class="odca-contributionsTable-categoryHeading">{{vm.contributionsCategory}}\n\t\t<span class="odca-contributionsTable-categoryHeading--categoryTotal">{{vm.totalContributionsFormatted}}</span>\n\t</h3>\n\n\t\t<!--<pre>{{vm.contributions}}</pre>-->\n\t<div ag-grid="vm.gridOptions" class="ag-material" style="height: 100%;"></div>\n</article>'},{}],90:[function(require,module,exports){!function(){"use strict";require("../core/core"),require("./../../../../node_modules/ag-grid/dist/styles/theme-material.css"),require("./../../../../node_modules/ag-grid/dist/styles/ag-grid.css");var contributionsCategoryTableDirective=require("./contributionsCategoryTableDirective"),ContributionsCategoryTableController=require("./ContributionsCategoryTableController");module.exports=angular.module("contributionsCategoryTable",["coreModules","agGrid"]).directive("odcaContributionsCategoryTable",contributionsCategoryTableDirective).controller("ContributionsCategoryTableController",ContributionsCategoryTableController)}()},{"../core/core":93,"./../../../../node_modules/ag-grid/dist/styles/ag-grid.css":151,"./../../../../node_modules/ag-grid/dist/styles/theme-material.css":152,"./ContributionsCategoryTableController":88,"./contributionsCategoryTableDirective":91}],91:[function(require,module,exports){!function(){"use strict";var template=require("./contributionsCategoryTable.html");module.exports=function(){var directive={restrict:"E",scope:{},controllerAs:"vm",bindToController:{contributionsCategory:"@category",totalContributions:"=totalContributions",contributions:"="},template:template,controller:"ContributionsCategoryTableController"};return directive}}()},{"./contributionsCategoryTable.html":89}],92:[function(require,module,exports){module.exports='<div class="ag-header-cell">\n\t<div id="agResizeBar" class="ag-header-cell-resize"></div>\n\t<span id="agMenu" class="ag-header-icon ag-header-cell-menu-button"></span>\n\t<div id="agHeaderCellLabel" class="ag-header-cell-label">\n\t\t<span id="agText" class="ag-header-cell-text"></span>\n\t\t<span id="agSortAsc" class="ag-header-icon ag-sort-ascending-icon"><i class="fa fa-caret-down"></i></span>\n\t\t<span id="agSortDesc" class="ag-header-icon ag-sort-descending-icon"><i class="fa fa-caret-up"></i></span>\n\t\t<span id="agNoSort" class="ag-header-icon ag-sort-none-icon"></span>\n\t\t<span id="agFilter" class="ag-header-icon ag-filter-icon"></span>\n\t</div>\n</div>'},{}],93:[function(require,module,exports){!function(){"use strict";require("../../../vendor/vendor"),require("../../services/disclosure"),angular.module("coreModules",["ngAnimate","ngCookies","ngResource","ngSanitize","ui.router","ct.ui.router.extras","ui.bootstrap","disclosure","agGrid"])}()},{"../../../vendor/vendor":149,"../../services/disclosure":145}],94:[function(require,module,exports){"use strict";function GlobalSearchBarController($log,$state,$filter,globalSearchFactory){function searchLocalities(){return globalSearchFactory.getListOfLocalities().then(function(data){return vm.searchResults=data,$log.info("LIST OF LOCALITIES = ",vm.searchResults),vm.searchResults})}var vm=this;vm.state=$state,vm.searchResults=[],vm.selected=void 0,vm.selectFn=function(item){var itemNameFormatted=$filter("lowercase")(item.name);$state.go("appMain.localePage.index",{localeType:item.type,localeId:item.id,localeName:itemNameFormatted})},searchLocalities()}GlobalSearchBarController.$inject=["$log","$state","$filter","globalSearchFactory"],module.exports=GlobalSearchBarController},{}],95:[function(require,module,exports){module.exports='<label class="odca-globalSearch-prePlaceholderIconLabel"><i class="fa fa-search"></i></label>\n<!--<input type="text" ng-model="vm.selected" placeholder="Search" uib-typeahead="result.name for result in vm.searchResults | filter:$viewValue | limitTo:8" class="odca-globalSearch-inputBar">-->\n<input type="text" ng-model="vm.selected" placeholder="Search" uib-typeahead="result as result.name for result in vm.searchResults | filter:{name:$viewValue} | limitTo:8" typeahead-on-select="vm.selectFn($item, $model, $label, $event)" class="odca-globalSearch-inputBar">\n\n<!--typeahead-popup-template-url="customPopupTemplate.html"-->\n\n<!--<pre>Model: {{vm.selected | json}}</pre>-->\n\n'},{}],96:[function(require,module,exports){"use strict";var globalSearchBarDirective=require("./globalSearchBarDirective"),GlobalSearchBarController=require("./GlobalSearchBarController"),globalSearchFactory=require("./globalSearchFactory");module.exports=angular.module("globalSearchBar",["ngSanitize","ui.router","ui.bootstrap.typeahead"]).directive("odcaGlobalSearchBar",globalSearchBarDirective).controller("GlobalSearchBarController",GlobalSearchBarController).factory("globalSearchFactory",globalSearchFactory)},{"./GlobalSearchBarController":94,"./globalSearchBarDirective":97,"./globalSearchFactory":98}],97:[function(require,module,exports){!function(){"use strict";var template=require("./globalSearchBar.html");module.exports=function(){var directive={restrict:"E",scope:{},controllerAs:"vm",bindToController:{selectFn:"&"},template:template,controller:"GlobalSearchBarController"};return directive}}()},{"./globalSearchBar.html":95}],98:[function(require,module,exports){"use strict";var globalSearchFactory=function($http,$q,$log,CONSTANTS){function getListOfLocalities(){return $http.get(apiBaseUrl+"/locality/search/").then(getSearchDataComplete)["catch"](getSearchDataFailed)}function getSearchDataComplete(data){return data.data}function getSearchDataFailed(){console.log("search data failed")}var apiBaseUrl=CONSTANTS.DISCLOSURE_API_BASEURL,service={getListOfLocalities:getListOfLocalities,getSearchDataComplete:getSearchDataComplete,getSearchDataFailed:getSearchDataFailed};return service};globalSearchFactory.$inject=["$http","$q","$log","CONSTANTS"],module.exports=globalSearchFactory},{}],99:[function(require,module,exports){module.exports='<div class="odca-contentBlock--singleItem odca-linkList-container">\n\t<h3 ng-if="vm.listTitle" class="odca-linkList-header">{{vm.listTitle}}</h3>\n\t<ul class="odca-linkList">\n\t\t<li class="odca-linkListItem" ng-repeat="item in vm.listData" ng-class="{\'odca-linkListItem-withListHeader\': vm.hasHeader }">\n\t\t\t<odca-link-list-item to-state="item.toState" link-title="item.linkTitle" sub-title="item.subTitle" dollar-amount="item.dollarAmount | currency:\'$\':0" avatar-url="item.avatarUrl" on-item-selected="item.onItemSelected(item)" ng-class="{\'odca-linkListItem-avatar--indented\': item.avatarUrl !== undefined || null, \'odca-linkListItem-textContent--indented\': item.avatarUrl === undefined || null}"></odca-link-list-item>\n\t\t</li>\n\t</ul>\n</div>\n'},{}],100:[function(require,module,exports){!function(){"use strict";var linkListDirective=(require("./linkListItem/linkListItem"),require("./linkListDirective"));module.exports=angular.module("linkList",["linkListItem"]).directive("odcaLinkList",linkListDirective)}()},{"./linkListDirective":101,"./linkListItem/linkListItem":103}],101:[function(require,module,exports){!function(){"use strict";var template=require("./linkList.html");module.exports=function(){function link(scope,element,attrs,vm){}var directive={restrict:"E",scope:{},controllerAs:"vm",bindToController:{listTitle:"@listTitle",listData:"=listData"},link:link,template:template,controller:function($log,$state){var vm=this;void 0!==vm.listTitle?vm.hasHeader=!0:vm.hasHeader=!1}};return directive}}()},{"./linkList.html":99}],102:[function(require,module,exports){module.exports='<article>\n\t<!--TODO: CHANGE HREF TO UI-SREF-->\n\t<a class="odca-linkListItem-link" ui-sref="{{vm.toStateReference}}" ng-click="vm.onItemSelected()">\n\t\t<div class="odca-linkListItem-contentContainer">\n\t\t\t<img class="odca-linkListItem-avatar" ng-if="vm.avatarImageUrl" ng-src="{{vm.avatarImageUrl}}" alt=""/>\n\n\t\t\t<div class="odca-linkListItem-innerContainer">\n\t\t\t\t<div class="odca-linkListItem-contentRow">\n\t\t\t\t\t<span class="odca-linkListItem-title">{{vm.linkTitle}}</span>\n\t\t\t\t\t<span class="odca-linkListItem-icon"><i class="fa fa-chevron-right fa-2x"></i></span>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="odca-linkListItem-contentRow">\n\t\t\t\t\t<span class="odca-linkListItem-subText">{{vm.linkSubTitle}}</span>\n\t\t\t\t\t<span class="odca-linkListItem-dollarAmount" ng-if="vm.linkDollarAmount">{{vm.linkDollarAmount}}</span>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</div>\n\t</a>\n</article>'},{}],103:[function(require,module,exports){!function(){"use strict";var linkListItemDirective=require("./linkListItemDirective");module.exports=angular.module("linkListItem",[]).directive("odcaLinkListItem",linkListItemDirective)}()},{"./linkListItemDirective":104}],104:[function(require,module,exports){!function(){"use strict";var template=require("./linkListItem.html");module.exports=function(){function link(scope,element,attrs,vm){}var directive={restrict:"E",scope:{},controllerAs:"vm",bindToController:{linkTitle:"=linkTitle",linkSubTitle:"=subTitle",toStateReference:"=toState",linkDollarAmount:"=dollarAmount",avatarImageUrl:"=avatarUrl",onItemSelected:"&"},link:link,template:template,controller:function(){}};return directive}}()},{"./linkListItem.html":102}],105:[function(require,module,exports){"use strict";function MarkdownController(){}angular.module("odca.markdown",[]).directive("odcaMarkdown",["$location",function($location){function link(scope,element,attrs,ctrl){scope.$watch("$ctrl.content",function(){ctrl.withAnchors&&angular.forEach(["h2","h3","h4","h5","h6"],function(tag){angular.forEach(element.find(tag),function(heading){var $heading=angular.element(heading),headingSlug=$heading.text().toLowerCase().replace(/[^a-z0-9_]+/g,"-").replace(/^-|-$/,"");$heading.prepend('<a href="#!'+$location.path()+"#"+headingSlug+'"><span class="fa fa-link"></span></a>'),$heading.addClass("heading-anchor"),$heading.attr("id",headingSlug)})})})}return{restrict:"E",scope:{content:"=",withAnchors:"@"},bindToController:!0,controller:MarkdownController,controllerAs:"$ctrl",template:'<div ng-bind-html="$ctrl.content"></div>',link:link}}]),MarkdownController.$inject=[],module.exports="odca.markdown"},{}],106:[function(require,module,exports){"use strict";var measureCommitteeList=angular.module("measureCommitteeList",[]).directive("measureCommitteeList",require("./measureCommitteeListDirective"));module.exports=measureCommitteeList},{"./measureCommitteeListDirective":108}],107:[function(require,module,exports){module.exports='<ul>\n  <li ng-repeat="committee in committees">\n    <h4><a ui-sref="appMain.committee.main({filer_id: committee.filer_id})">{{ committee.name }}</a></h4>\n    <div><span class="money">{{ committee.contributions }}</span></div>\n  </li>\n</ul>\n'},{}],108:[function(require,module,exports){"use strict";function measureCommitteeListDirective(){return{restrict:"E",scope:{committees:"="},template:require("./measureCommitteeList.html")}}module.exports=measureCommitteeListDirective},{"./measureCommitteeList.html":107}],109:[function(require,module,exports){"use strict";require("../measureCommitteeList");var measureCommitteeOpposing=angular.module("measureCommitteeOpposing",["measureCommitteeList"]).directive("measureCommitteeOpposing",require("./measureCommitteeOpposingDirective"));module.exports=measureCommitteeOpposing},{"../measureCommitteeList":106,"./measureCommitteeOpposingDirective":111}],110:[function(require,module,exports){module.exports='<h3>Opposing of Measure {{ measure.number }}</h3>\n<div class="subtitle">{{ measure.title }}</div>\n<div class="divided-section">\n  <measure-committee-list measure="measure" committees="opposers"></measure-committee-list>\n</div>\n'},{}],111:[function(require,module,exports){"use strict";function measureCommitteeOpposingDirective(){return{restrict:"E",
scope:{opposers:"="},template:require("./measureCommitteeOpposing.html")}}module.exports=measureCommitteeOpposingDirective},{"./measureCommitteeOpposing.html":110}],112:[function(require,module,exports){"use strict";require("../measureCommitteeList");var measureCommitteeSupporting=angular.module("measureCommitteeSupporting",["measureCommitteeList"]).directive("measureCommitteeSupporting",require("./measureCommitteeSupportingDirective"));module.exports=measureCommitteeSupporting},{"../measureCommitteeList":106,"./measureCommitteeSupportingDirective":114}],113:[function(require,module,exports){module.exports='<h3>Supporters of Measure {{ measure.number }}</h3>\n<div class="subtitle">{{ measure.title }}</div>\n<div class="divided-section">\n  <measure-committee-list committees="supporters"></measure-committee-list>\n</div>\n'},{}],114:[function(require,module,exports){"use strict";function measureCommitteeSupportingDirective(){return{restrict:"E",scope:{supporters:"="},template:require("./measureCommitteeSupporting.html")}}module.exports=measureCommitteeSupportingDirective},{"./measureCommitteeSupporting.html":113}],115:[function(require,module,exports){"use strict";require("../textBlurb/textBlurb"),require("../moneyOriginChart/moneyOriginChart");var measureListing=angular.module("measureListing",["textBlurbModule","odcaMoneyOriginChartModule"]).directive("measureListing",require("./measureListingDirective"));module.exports=measureListing},{"../moneyOriginChart/moneyOriginChart":122,"../textBlurb/textBlurb":138,"./measureListingDirective":117}],116:[function(require,module,exports){module.exports='<div class="container">\n  <div class="row">\n    <h3>Measure {{ measure.number }}</h3>  \n  </div>\n  <div class="row">\n    <div class="subtitle ">{{ measure.title }}</div>  \n  </div>\n</div>\n\n<div class="divided-section container">\n  <text-blurb title="Ballot Abstract" body="{{measure.summary}}"></text-blurb>\n</div>\n<div class="divided-section container">\n  <div class="row">\n    <div class="col-xs-12">\n      <h4>Money Supporting the Measure</h4>\n    </div>\n    <div class="col-xs-12 text-center text-semibold measure-listing__amount">\n      <h4>$1,556,456</h4>\n    </div>  \n  </div>\n  <odca-money-origin-chart measure-side="supporting" geos="measure.supporting_geos"></odca-money-origin-chart>\n  <div>\n    <div class="row">\n      <div class="col-xs-12 text-right">\n        <a ui-sref="appMain.measure.supporting">\n          <span>{{ measure.supporting_count }} supporting committee(s)</span>\n          <span class="fa fa-chevron-right"></span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="divided-section container">\n  <div class="row">\n    <div class="col-xs-12">\n      <h4>Money Opposing the Measure</h4>  \n    </div>\n    <div class="col-xs-12 text-center text-semibold measure-listing__amount">\n      <h4>$56,858</h4>\n    </div>  \n  </div>\n\n  <odca-money-origin-chart measure-side="opposing" geos="measure.opposing_geos"></odca-money-origin-chart>\n  <div class="row">\n    <div class="col-xs-12 text-right">\n      <a ui-sref="appMain.measure.opposing">\n        <span>{{ measure.opposing_count }} opposing committee(s)</span>\n        <span class="fa fa-chevron-right"></span>\n      </a>\n    </div>\n  </div>\n</div>\n'},{}],117:[function(require,module,exports){"use strict";function measureListingDirective(){return{restrict:"E",scope:{measure:"="},template:require("./measureListing.html")}}module.exports=measureListingDirective},{"./measureListing.html":116}],118:[function(require,module,exports){"use strict";function MoneyBarChartController($filter){function init(){ctrl.color=ctrl.color||"blue",ctrl.max=ctrl.max||100}function displayValue(){return format(ctrl.format,ctrl.value,ctrl.max,parseInt(ctrl.precision))}function format(format,value,max,precision){return precision=precision||0,"percentage"===format?$filter("number")(value/max*100,precision)+"%":"money"===format?$filter("dollar")(value):""+value}var ctrl=this;ctrl.$onInit=init,ctrl.displayValue=displayValue}function MoneyByRegionController($scope,percentageCalculator){function onVisible($el){$el.removeClass("is-off-screen")}var ctrl=this;ctrl.onVisible=onVisible,ctrl.total=null,$scope.$watch("$ctrl.money",function(money){if(money&&money.length){var money_by_region={},total=0;angular.forEach(money,function(moneyDescriptor){money_by_region[moneyDescriptor.locale]=moneyDescriptor.amount,total+=moneyDescriptor.amount}),ctrl.total=total,ctrl.money_by_region_percentages=percentageCalculator(money_by_region,1e3)}})}var angular=require("angular");require("angular-scroll-animate"),angular.module("odca.money",["angular-scroll-animate"]).directive("odcaMoneyByRegion",function(){return{restrict:"E",template:require("./money_by_region.html"),controller:MoneyByRegionController,controllerAs:"$ctrl",bindToController:!0,scope:{color:"@",money:"="}}}).filter("dollar",["$filter",function($filter){return function(money){return $filter("currency")(money||0,"$",0)}}]).directive("odcaMoneyBarChart",["$timeout","$window",function($timeout,$window){function link(scope,element,attrs,ctrl){function onResize(){updateMeasure(ctrl.value)}function updateMeasure(value){if(""!==value){value=parseInt(value)||0;var dom_element=element[0],available_width=2*dom_element.clientWidth/3,measure_width=Math.min(value/ctrl.max*available_width,available_width),measure_element=dom_element.getElementsByClassName("money-bar-chart__measure")[0];angular.element(measure_element).css({width:""+measure_width+"px"})}}scope.$watch("$ctrl.value",function(value){updateMeasure(value)});var $$window=angular.element($window);$$window.on("resize orientationchange",onResize),scope.$on("$destroy",function(){$$window.off("resize orientationchange",onResize)})}return{template:require("./money_bar_chart.html"),controller:MoneyBarChartController,link:link,bindToController:!0,controllerAs:"$ctrl",scope:{color:"@",format:"@",max:"@",precision:"@",value:"@"}}}]),MoneyBarChartController.$inject=["$filter"],MoneyByRegionController.$inject=["$scope","percentageCalculator"],module.exports="odca.money"},{"./money_bar_chart.html":119,"./money_by_region.html":120,angular:169,"angular-scroll-animate":164}],119:[function(require,module,exports){module.exports='<div class="money-bar-chart__measure" ng-class="\'money-bar-chart__measure--\' + $ctrl.color"></div><div class="money-bar-chart__value">{{ $ctrl.displayValue() }}</div>\n'},{}],120:[function(require,module,exports){module.exports='<div class="money-by-region is-off-screen" when-visible="$ctrl.onVisible">\n  <div class="money-by-region__heading" ng-repeat-start="(label, amount) in $ctrl.money_by_region_percentages">{{ label }}</div>\n  <odca-money-bar-chart ng-repeat-end value="{{ amount }}" format="percentage" color="{{ $ctrl.color }}" max="1000" precision="1"></odca-money-bar-chart>\n</div>\n'},{}],121:[function(require,module,exports){module.exports='<div class="odca-money-origin-chart" ng-class="measureSide">\n  {{}}\n  <div class="row odca-money-origin-chart_row" ng-repeat="geo in geos">\n    <div class="col-xs-12">\n      <odca-bar-chart label="{{geo.name}}" value="{{geo.value}}"></odca-bar-chart>\n    </div>\n  </div>\n</div>'},{}],122:[function(require,module,exports){"use strict";var odcaMoneyOriginChart=angular.module("odcaMoneyOriginChartModule",[]).directive("odcaMoneyOriginChart",require("./moneyOriginChartDirective"));module.exports=odcaMoneyOriginChart},{"./moneyOriginChartDirective":123}],123:[function(require,module,exports){!function(){"use strict";function odcaMoneyOriginChart(){var directive={restrict:"E",scope:{measureSide:"@",geos:"="},template:require("./moneyOriginChart.html")};return directive}odcaMoneyOriginChart.$inject=[],module.exports=odcaMoneyOriginChart}()},{"./moneyOriginChart.html":121}],124:[function(require,module,exports){module.exports='<h1 class="odca-pageHeader-title">{{vm.pageTitle}}</h1>\n<h2 ng-if="vm.pageSubtitle" class="odca-pageHeader-subtitle">{{vm.pageSubtitle}}</h2>\n<div class="odca-pageHeader-info">\n  <div ng-if="vm.nextElectionDate" class="odca-pageHeader-nextElection">Next Election: {{vm.nextElectionDate}}</div>\n  <div ng-if="vm.lastUpdated" class="odca-pageHeader-lastUpdated">Content last updated {{ vm.lastUpdated | date: \'MMM. d, yyyy\' }}</div>\n</div>\n'},{}],125:[function(require,module,exports){!function(){"use strict";var pageHeaderDirective=require("./pageHeaderDirective");module.exports=angular.module("pageHeaderModule",[]).directive("odcaPageHeader",pageHeaderDirective)}()},{"./pageHeaderDirective":126}],126:[function(require,module,exports){!function(){"use strict";var template=require("./pageHeader.html");module.exports=function(){function link(scope,element,attrs,vm){element.addClass("odca-pageHeader")}var directive={restrict:"E",scope:{},controllerAs:"vm",bindToController:{lastUpdated:"=",pageTitle:"@pageTitle",pageSubtitle:"@subTitle",nextElectionDate:"@nextElection"},link:link,template:template,controller:function(){}};return directive}}()},{"./pageHeader.html":124}],127:[function(require,module,exports){module.exports="<div ncy-breadcrumb></div>"},{}],128:[function(require,module,exports){!function(){"use strict";require("../core/core");var pageHeaderBreadcrumbsDirective=require("./pageHeaderBreadcrumbsDirective");module.exports=angular.module("pageHeaderBreadcrumbsModule",["coreModules","ncy-angular-breadcrumb"]).directive("pageHeaderBreadcrumbs",pageHeaderBreadcrumbsDirective)}()},{"../core/core":93,"./pageHeaderBreadcrumbsDirective":129}],129:[function(require,module,exports){!function(){"use strict";var template=require("./pageHeaderBreadcrumbs.html");module.exports=function(){return{restrict:"EA",template:template}}}()},{"./pageHeaderBreadcrumbs.html":127}],130:[function(require,module,exports){"use strict";function findDescriptionElement($rootElement){return angular.element($rootElement[0].querySelector('meta[name="description"]'))}var _defaultPageDescription;angular.module("odca.page_metadata",[]).run(["$location","$rootElement","$rootScope","$window","pageMetadata",function($location,$rootElement,$rootScope,$window,pageMetadata){var descriptionElement=findDescriptionElement($rootElement);_defaultPageDescription=descriptionElement.attr("content"),$rootScope.$on("$stateChangeSuccess",function(event,toState){var data=toState&&toState.data||{};pageMetadata({title:data.pageTitle,description:data.pageDescription}),$location.host().indexOf("localhost")===-1&&($window.ga("set","page",$location.path()),$window.ga("send","pageview"))})}]).factory("pageMetadata",["$rootElement","$rootScope",function($rootElement,$rootScope){return function(metadata){metadata=metadata||{},$rootScope.pageTitle=metadata.title?metadata.title+" | ":"";var descriptionElement=findDescriptionElement($rootElement);descriptionElement.attr("content",metadata.description||_defaultPageDescription)}}]),module.exports="odca.page_metadata"},{}],131:[function(require,module,exports){"use strict";angular.module("odca.percentageCalculator",[]).factory("percentageCalculator",function(){function percentageCalculator(moneyCollection,target){if(!moneyCollection)return{};target=target||100;var percentages={},total=0;angular.forEach(moneyCollection,function(value){total+=value});var totalPercentage=0;angular.forEach(moneyCollection,function(value,key){percentages[key]=Math.floor(value/total*target),totalPercentage+=percentages[key]});var remainingPercentage=target-totalPercentage;if(!remainingPercentage)return percentages;var sortedKeys=Object.keys(moneyCollection);for(sortedKeys.sort(function(a,b){return moneyCollection[b]/total*target%1-moneyCollection[a]/total*target%1});remainingPercentage;){var key=sortedKeys.shift();percentages[key]++,remainingPercentage--}return percentages}return percentageCalculator}),module.exports="odca.percentageCalculator"},{}],132:[function(require,module,exports){"use strict";var angular=require("angular");angular.module("referendum",[require("./referendum_money.comp"),require("../url")]),module.exports="referendum"},{"../url":140,"./referendum_money.comp":133,angular:169}],133:[function(require,module,exports){"use strict";function ReferendumMoneyController($stateParams,$q,$scope,array_update){function updateCommittees(money){ctrl.total_contributions=money.total_contributions;var committees=is_supporting?money.supporting_organizations:money.opposing_organizations;ctrl.total_expenditures=0,angular.forEach(committees,function(committee){ctrl.total_expenditures+=committee.amount}),array_update(ctrl.committees,committees)}var ctrl=this;ctrl.support_oppose=$stateParams.support_or_oppose,ctrl.committees=[],ctrl.total_contributions=0,ctrl.total_expenditures=0;var is_supporting=ctrl.is_supporting="supporting"===ctrl.support_oppose;ctrl.bar_color=is_supporting?"green":"red",$scope.$watch("$ctrl.money",function(money){$q.when(money.$promise||money,function(money){updateCommittees(money)})})}ReferendumMoneyController.$inject=["$stateParams","$q","$scope","array_update"];var angular=require("angular");angular.module("referendum.money",[require("../money"),require("../array_update")]).directive("referendumMoney",function(){return{restrict:"E",template:require("./referendum_money.html"),controller:ReferendumMoneyController,controllerAs:"$ctrl",bindToController:!0,scope:{referendum:"=",money:"="}}}),module.exports="referendum.money"},{"../array_update":74,"../money":118,"./referendum_money.html":134,angular:169}],134:[function(require,module,exports){module.exports='<div class="">\n  <div class="row">\n    <div class="col-xs-12">\n      <h1 ng-if="$ctrl.is_supporting">Supporters of Measure {{ $ctrl.referendum.number }}</h1>\n      <h1 ng-if="!$ctrl.is_supporting">Opponents of Measure {{ $ctrl.referendum.number }}</h1>\n      <div class="divided-section money-summary">\n        <h2 class="money-summary__header">Contributions {{ $ctrl.support_oppose }} the measure</h2>\n        <div class="money-summary__money"><span class="money">{{ $ctrl.total_contributions | dollar }}</span></div>\n      </div>\n      <div class="divided-section">\n        <div class="money-summary">\n          <h2 class="money-summary__header">Expenditures {{ $ctrl.support_oppose }} the measure</h2>\n          <div class="money-summary__money"><span class="money">{{ $ctrl.total_expenditures | dollar }}</span></div>\n        </div>\n        <ul class="odca-list committee-list">\n          <li ng-repeat="committee in $ctrl.committees" class="odca-list-item">\n            <a ui-sref="appMain.committee.main({filer_id: committee.id })" class="odca-list-item__link">\n              <div class="odca-list-item__content">\n                <div class="committee-list__name">{{ committee.name }}</div>\n                <div class="committee-list__money">\n                  <div class="row">\n                    <div class="col-xs-8">\n                      <div class="committee-list__money-bar-chart">\n                        <odca-money-bar-chart value="{{ committee.amount }}" max="{{ $ctrl.total_expenditures }}" color="{{ $ctrl.bar_color }}" format="percentage" precision="1"></odca-money-bar-chart>\n                      </div>\n                    </div>\n                    <div class="col-xs-4">\n                      <div class="committee-list__money-value">\n                        <span class="money">{{ committee.amount | dollar }}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="odca-list-item__chevron"><span class="fa fa-chevron-right"></span></div></a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],135:[function(require,module,exports){"use strict";angular.module("odca.scroll_top",[]).run(["$anchorScroll","$location","$rootScope",function($anchorScroll,$location,$rootScope){$rootScope.$on("$stateChangeSuccess",function(event){return $location.hash()?$anchorScroll():void $anchorScroll()})}]),module.exports="odca.scroll_top"},{}],136:[function(require,module,exports){"use strict";var angular=require("angular");angular.module("odca.static_api",[require("angular-resource")]).factory("static_api",["$resource","settings",function($resource,settings){"ngInject";function api_group(base_url,actions,defaultParams){var absolute_url=settings.DISCLOSURE_STATIC_BACKEND+base_url;defaultParams=defaultParams||{};var resourceActions={};return Object.keys(actions).forEach(function(actionName){var action=actions[actionName];resourceActions[actionName]=angular.extend({cache:!0},action,{url:absolute_url+(action.url||"")})}),$resource(absolute_url,defaultParams,resourceActions)}function arrayFirst(data){return angular.fromJson(data)[0]}return{candidate:api_group("/candidate/:candidate_id",{supporting:{method:"get",url:"/"},opposing:{method:"get",url:"/"}}),committee:api_group("/committee/:filer_id",{contributions:{method:"get",url:"/contributions",isArray:!0}}),locality:api_group("/locality/:locality_id",{get:{method:"get",transformResponse:arrayFirst},current_ballot:{method:"get",url:"/current_ballot"}}),referendum:api_group("/referendum/:referendum_id",{supporting:{method:"get",url:"/supporting"},opposing:{method:"get",url:"/opposing"}}),stats:api_group("/stats",{})}}]),module.exports="odca.static_api"},{angular:169,"angular-resource":161}],137:[function(require,module,exports){module.exports='<div class="text-blurb clearfix">\n    <h4 class="text-blurb_title">{{textBlurb.title}}</h4>\n    <div class="text-blurb_body_container" ng-class="{collapsed: textBlurb.isCollapsed}">\n        <div class="text-blurb_body">{{textBlurb.body}}</div>\n        <!-- Keeping this lorem ipsum text here for testing until we get measure text -->\n        <!-- <div class="text-blurb_body">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras rhoncus aliquet mauris. Suspendisse ultrices posuere augue, sit amet laoreet urna consectetur eu. Curabitur nulla est, tristique quis dictum vitae, vestibulum posuere nulla. Nam sit amet risus velit. Donec molestie commodo ornare. Vivamus efficitur mattis augue, quis viverra lorem tincidunt sit amet. Vestibulum eleifend ultricies dignissim. Nullam luctus ante justo, eget pretium risus eleifend at. Pellentesque faucibus odio ac massa pharetra varius. Nulla sit amet sem eu nibh scelerisque mollis. Etiam nulla leo, efficitur eu odio ut, bibendum porta tellus.</div> -->\n    </div>\n    <div class="text-blurb_action-row">\n        <a href="" class="pull-right" ng-click="textBlurb.isCollapsed = false" ng-if="textBlurb.isCollapsed && textBlurb.showButtons">\n            Read More <span class="fa fa-chevron-right"></span>\n        </a>\n        <a href="" class="pull-right" ng-click="textBlurb.isCollapsed = true" ng-if="!textBlurb.isCollapsed && textBlurb.showButtons">\n            Hide <span class="fa fa-chevron-up"></span>\n        </a>        \n    </div>\n</div>'},{}],138:[function(require,module,exports){"use strict";var textBlurb=angular.module("textBlurbModule",[]).directive("odcaTextBlurb",require("./textBlurbDirective.js"));module.exports=textBlurb},{"./textBlurbDirective.js":139}],139:[function(require,module,exports){!function(){"use strict";function odcaTextBlurb($window){function link(scope,element,attrs,textBlurb){function refreshButtons(){textBlurb.showButtons=shouldShowButtons()}function shouldShowButtons(){var innerElementHeight,outerElementHeight;return!textBlurb.isCollapsed||(outerElementHeight=element.find("div")[1].offsetHeight,innerElementHeight=element.find("div")[2].offsetHeight,outerElementHeight<innerElementHeight)}textBlurb.isCollapsed=!0,scope.$watch(function(){return textBlurb.body},refreshButtons),angular.element($window).bind("resize",refreshButtons)}var directive={restrict:"E",bindToController:{title:"@",body:"@"},link:link,controller:function(){},controllerAs:"textBlurb",template:require("./textBlurb.html")};return directive}odcaTextBlurb.$inject=["$window"],module.exports=odcaTextBlurb}()},{"./textBlurb.html":137}],140:[function(require,module,exports){"use strict";var angular=require("angular");angular.module("odca.url",[]).constant("base_url","").filter("url",["$httpParamSerializer","base_url",function($httpParamSerializer,base_url){function urlFilter(path,query){query=query||{};var url=/^https?:\/\//.test(path)?path:base_url+"/#!"+path,querystring=$httpParamSerializer(query);return querystring&&(url=url+"?"+querystring),url}return urlFilter}]),module.exports="odca.url"},{angular:169}],141:[function(require,module,exports){"use strict";function HomePageController($scope,$log,$http,TestFactory1){function searchLocalities(){return TestFactory1.getListOfLocalities().then(function(data){return $scope.searchResults=data,$log.info("LIST OF LOCALITIES = ",$scope.searchResults),$scope.searchResults})}$scope.searchBarEnabled=!1,$scope.testVar="We are up and running using a required module!",$scope.logClickEvent=function($event){$log.info("CLICK EVENT = ",$event)},searchLocalities()}HomePageController.$inject=["$scope","$log","$http","TestFactory1"],module.exports=HomePageController},{}],142:[function(require,module,exports){module.exports='<app-main-nav></app-main-nav>\n\n<div class="hidden-xs hero hero--sacremento">\n  <div class="container">\n    <div class="row">\n      <div class="col-sm-12">\n        <h1 class="hero__header">California’s online source for local campaign finance data</h1>\n        <p class="hero__description">\n          We provide transparent, non-partisan campaign contribution and\n          expenditure data in an accessible and easy to understand format. We\n          hope this site will engage the voting public and raise awareness and\n          accountability. Ultimately, this is one step toward shifting politics\n          into a movement of civic engagement and ultimate citizen action.\n        </p>\n        <div class="hero__cta row">\n          <a class="hero__cta-link col-sm-6 col-sm-offset-3" ui-sref="appMain.localePage.index({localeId: \'2\', localeName: \'oakland\', localeType: \'city\'})">View Oakland ballot</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<div class="visible-xs-block container">\n  <div class="row">\n    <div class="col-xs-12">\n      <div class="text-center hero">\n        <h1 class="serif">Open Disclosure<br><span class="homepageText-header-brandPrimary">California</span></h1>\n        <p class="homepageText-subheader">Bringing campaign money to light</p>\n        <div class="hero__cta divided-section row">\n          <div class="hero__cta-description">California’s online source for local campaign finance data</div>\n          <a class="hero__cta-link col-xs-12" ui-sref="appMain.localePage.index({localeId: \'2\', localeName: \'oakland\', localeType: \'city\'})">View Oakland ballot</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<app-main-footer></app-main-footer>\n'},{}],143:[function(require,module,exports){!function(){"use strict";require("../common/core/core"),require("../common/appMainNav/appMainNav"),require("../common/appMainFooter/appMainFooter"),require("./../common/globalSearchBar/globalSearchBar");var homePageDirective=require("./homePageDirective"),HomePageController=require("./HomePageController"),TestFactory1=require("../appMainModule/examplePage1Module/testService1");module.exports=angular.module("homePageModule",["coreModules","appMainNavModule","globalSearchBar","appMainFooterModule"]).directive("homePage",homePageDirective).controller("HomePageController",HomePageController).factory("TestFactory1",TestFactory1)}()},{"../appMainModule/examplePage1Module/testService1":28,"../common/appMainFooter/appMainFooter":68,"../common/appMainNav/appMainNav":71,"../common/core/core":93,"./../common/globalSearchBar/globalSearchBar":96,"./HomePageController":141,"./homePageDirective":144}],144:[function(require,module,exports){!function(){"use strict";var template=require("./homePage.html");module.exports=function(){return{controller:"HomePageController",controllerAs:"ctrl",bindToController:!0,restrict:"EA",scope:!0,template:template}}}()},{"./homePage.html":142}],145:[function(require,module,exports){"use strict";var DisclosureService=require("./service");require("../settings");var disclosure=angular.module("disclosure",["appMain.settings"]);disclosure.factory("disclosureApi",["$q","$rootScope","settings",function($q,$rootScope,settings){return new DisclosureService($q,$rootScope,settings.DISCLOSURE_SWAGGER_SPEC)}]),module.exports=disclosure},{"../settings":147,"./service":146}],146:[function(require,module,exports){"use strict";function DisclosureService($q,$rootScope,url){this.$rootScope=$rootScope,this.$q=$q;var defer=$q.defer();this.ready=defer.promise,this.swagger=new Swagger({url:url,success:function(){$rootScope.$apply(function(){defer.resolve()})},failure:function(err){var error=new Error("Failed to fetch swagger spec: "+(err.stack||err.toString()));console.error(error),$rootScope.$apply(function(){defer.reject(error)})}}),this.initialize()}var _=require("lodash"),Swagger=require("swagger-client");DisclosureService.prototype={initialize:function(){function setupProxy(namespace,method){self[namespace]=self[namespace]||{},self[namespace][method]=function(params,options){return self._proxy.call(self,namespace,method,params,options)}}var self=this;setupProxy("ballot","get"),setupProxy("candidate","get"),setupProxy("elections","list"),setupProxy("office_election","get"),setupProxy("referendum","get"),setupProxy("locality","get"),setupProxy("locality","current_ballot"),setupProxy("locality","search"),setupProxy("committee","get"),setupProxy("ballot","disclosure_summary"),setupProxy("candidate","supporting"),setupProxy("candidate","opposing"),setupProxy("committee","contributors"),setupProxy("committee","contributions"),setupProxy("committee","summary"),setupProxy("referendum","supporting"),setupProxy("referendum","opposing")},_proxy:function(namespace,method,params,options){params=params||{},options=_.defaults(options||{},{responseContentType:"application/json"});var swagger=this.swagger,$q=this.$q,$rootScope=this.$rootScope;return this.ready.then(function(){return $q(function(resolve,reject){swagger[namespace][method].call(swagger,params,options,function(resp){$rootScope.$apply(function(){resolve(resp.obj)})},function(err){$rootScope.$apply(function(){reject(err)})})})})}},module.exports=DisclosureService},{lodash:333,"swagger-client":337}],147:[function(require,module,exports){(function(process){"use strict";angular.module("appMain.settings",[]).factory("settings",function(){var env=process.env.NODE_ENV||"development",settings={env:env,DISCLOSURE_STATIC_BACKEND:process.env.DISCLOSURE_STATIC_BACKEND||"https://disclosure-backend-static.herokuapp.com",DISCLOSURE_SWAGGER_SPEC:process.env.DISCLOSURE_SWAGGER_SPEC||"https://disclosure-backend-static.herokuapp.com/docs/api-docs/"};return settings})}).call(this,require("_process"))},{_process:334}],148:[function(require,module,exports){!function(window){"use strict";function API(owner){this.owner=owner}function inherit(base,derived){if(Object.create)derived.prototype=Object.create(base.prototype);else{var f=function(){};f.prototype=base.prototype,derived.prototype=new f}return derived.prototype.constructor=derived,derived}function Chart(config){var $$=this.internal=new ChartInternal(this);$$.loadConfig(config),$$.beforeInit(config),$$.init(),$$.afterInit(config),function bindThis(fn,target,argThis){Object.keys(fn).forEach(function(key){target[key]=fn[key].bind(argThis),Object.keys(fn[key]).length>0&&bindThis(fn[key],target[key],argThis)})}(c3_chart_fn,this,this)}function ChartInternal(api){var $$=this;$$.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):void 0,$$.api=api,$$.config=$$.getDefaultConfig(),$$.data={},$$.cache={},$$.axes={}}function Axis(owner){API.call(this,owner)}function c3_axis(d3,params){function axisX(selection,x){selection.attr("transform",function(d){return"translate("+Math.ceil(x(d)+tickOffset)+", 0)"})}function axisY(selection,y){selection.attr("transform",function(d){return"translate(0,"+Math.ceil(y(d))+")"})}function scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return start<stop?[start,stop]:[stop,start]}function generateTicks(scale){var i,domain,ticks=[];if(scale.ticks)return scale.ticks.apply(scale,tickArguments);for(domain=scale.domain(),i=Math.ceil(domain[0]);i<domain[1];i++)ticks.push(i);return ticks.length>0&&ticks[0]>0&&ticks.unshift(ticks[0]-(ticks[1]-ticks[0])),ticks}function copyScale(){var domain,newScale=scale.copy();return params.isCategory&&(domain=scale.domain(),newScale.domain([domain[0],domain[1]-1])),newScale}function textFormatted(v){var formatted=tickFormat?tickFormat(v):v;return"undefined"!=typeof formatted?formatted:""}function getSizeFor1Char(tick){if(tickTextCharSize)return tickTextCharSize;var size={h:11.5,w:5.5};return tick.select("text").text(textFormatted).each(function(d){var box=this.getBoundingClientRect(),text=textFormatted(d),h=box.height,w=text?box.width/text.length:void 0;h&&w&&(size.h=h,size.w=w)}).text(""),tickTextCharSize=size,size}function transitionise(selection){return params.withoutTransition?selection:d3.transition(selection)}function axis(g){g.each(function(){function splitTickText(d,maxWidth){function split(splitted,text){spaceIndex=void 0;for(var i=1;i<text.length;i++)if(" "===text.charAt(i)&&(spaceIndex=i),subtext=text.substr(0,i+1),textWidth=sizeFor1Char.w*subtext.length,maxWidth<textWidth)return split(splitted.concat(text.substr(0,spaceIndex?spaceIndex:i)),text.slice(spaceIndex?spaceIndex+1:i));return splitted.concat(text)}var subtext,spaceIndex,textWidth,tickText=textFormatted(d),splitted=[];return"[object Array]"===Object.prototype.toString.call(tickText)?tickText:((!maxWidth||maxWidth<=0)&&(maxWidth=isVertical?95:params.isCategory?Math.ceil(scale1(ticks[1])-scale1(ticks[0]))-12:110),split(splitted,tickText+""))}function tspanDy(d,i){var dy=sizeFor1Char.h;return 0===i&&(dy="left"===orient||"right"===orient?-((counts[d.index]-1)*(sizeFor1Char.h/2)-3):".71em"),dy}function tickSize(d){var tickPosition=scale(d)+(tickCentered?0:tickOffset);return range[0]<tickPosition&&tickPosition<range[1]?innerTickSize:0}function textAnchorForText(rotate){return rotate?rotate>0?"start":"end":"middle"}function textTransform(rotate){return rotate?"rotate("+rotate+")":""}function dxForText(rotate){return rotate?8*Math.sin(Math.PI*(rotate/180)):0}function yForText(rotate){return rotate?11.5-2.5*(rotate/15)*(rotate>0?1:-1):tickLength}var tickTransform,tickX,tickY,g=axis.g=d3.select(this),scale0=this.__chart__||scale,scale1=this.__chart__=copyScale(),ticks=tickValues?tickValues:generateTicks(scale1),tick=g.selectAll(".tick").data(ticks,scale1),tickEnter=tick.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),tickExit=tick.exit().remove(),tickUpdate=transitionise(tick).style("opacity",1),range=scale.rangeExtent?scale.rangeExtent():scaleExtent(scale.range()),path=g.selectAll(".domain").data([0]),pathUpdate=(path.enter().append("path").attr("class","domain"),transitionise(path));tickEnter.append("line"),tickEnter.append("text");var lineEnter=tickEnter.select("line"),lineUpdate=tickUpdate.select("line"),textEnter=tickEnter.select("text"),textUpdate=tickUpdate.select("text");params.isCategory?(tickOffset=Math.ceil((scale1(1)-scale1(0))/2),tickX=tickCentered?0:tickOffset,tickY=tickCentered?tickOffset:0):tickOffset=tickX=0;var text,tspan,sizeFor1Char=getSizeFor1Char(g.select(".tick")),counts=[],tickLength=Math.max(innerTickSize,0)+tickPadding,isVertical="left"===orient||"right"===orient;text=tick.select("text"),tspan=text.selectAll("tspan").data(function(d,i){var splitted=params.tickMultiline?splitTickText(d,params.tickWidth):[].concat(textFormatted(d));return counts[i]=splitted.length,splitted.map(function(s){return{index:i,splitted:s}})}),tspan.enter().append("tspan"),tspan.exit().remove(),
tspan.text(function(d){return d.splitted});var rotate=params.tickTextRotate;switch(orient){case"bottom":tickTransform=axisX,lineEnter.attr("y2",innerTickSize),textEnter.attr("y",tickLength),lineUpdate.attr("x1",tickX).attr("x2",tickX).attr("y2",tickSize),textUpdate.attr("x",0).attr("y",yForText(rotate)).style("text-anchor",textAnchorForText(rotate)).attr("transform",textTransform(rotate)),tspan.attr("x",0).attr("dy",tspanDy).attr("dx",dxForText(rotate)),pathUpdate.attr("d","M"+range[0]+","+outerTickSize+"V0H"+range[1]+"V"+outerTickSize);break;case"top":tickTransform=axisX,lineEnter.attr("y2",-innerTickSize),textEnter.attr("y",-tickLength),lineUpdate.attr("x2",0).attr("y2",-innerTickSize),textUpdate.attr("x",0).attr("y",-tickLength),text.style("text-anchor","middle"),tspan.attr("x",0).attr("dy","0em"),pathUpdate.attr("d","M"+range[0]+","+-outerTickSize+"V0H"+range[1]+"V"+-outerTickSize);break;case"left":tickTransform=axisY,lineEnter.attr("x2",-innerTickSize),textEnter.attr("x",-tickLength),lineUpdate.attr("x2",-innerTickSize).attr("y1",tickY).attr("y2",tickY),textUpdate.attr("x",-tickLength).attr("y",tickOffset),text.style("text-anchor","end"),tspan.attr("x",-tickLength).attr("dy",tspanDy),pathUpdate.attr("d","M"+-outerTickSize+","+range[0]+"H0V"+range[1]+"H"+-outerTickSize);break;case"right":tickTransform=axisY,lineEnter.attr("x2",innerTickSize),textEnter.attr("x",tickLength),lineUpdate.attr("x2",innerTickSize).attr("y2",0),textUpdate.attr("x",tickLength).attr("y",0),text.style("text-anchor","start"),tspan.attr("x",tickLength).attr("dy",tspanDy),pathUpdate.attr("d","M"+outerTickSize+","+range[0]+"H0V"+range[1]+"H"+outerTickSize)}if(scale1.rangeBand){var x=scale1,dx=x.rangeBand()/2;scale0=scale1=function(d){return x(d)+dx}}else scale0.rangeBand?scale0=scale1:tickExit.call(tickTransform,scale1);tickEnter.call(tickTransform,scale0),tickUpdate.call(tickTransform,scale1)})}var outerTickSize,tickFormat,tickArguments,tickCentered,scale=d3.scale.linear(),orient="bottom",innerTickSize=6,tickPadding=3,tickValues=null,tickOffset=0,tickCulling=!0;return params=params||{},outerTickSize=params.withOuterTick?6:0,axis.scale=function(x){return arguments.length?(scale=x,axis):scale},axis.orient=function(x){return arguments.length?(orient=x in{top:1,right:1,bottom:1,left:1}?x+"":"bottom",axis):orient},axis.tickFormat=function(format){return arguments.length?(tickFormat=format,axis):tickFormat},axis.tickCentered=function(isCentered){return arguments.length?(tickCentered=isCentered,axis):tickCentered},axis.tickOffset=function(){return tickOffset},axis.tickInterval=function(){var interval,length;return params.isCategory?interval=2*tickOffset:(length=axis.g.select("path.domain").node().getTotalLength()-2*outerTickSize,interval=length/axis.g.selectAll("line").size()),interval===1/0?0:interval},axis.ticks=function(){return arguments.length?(tickArguments=arguments,axis):tickArguments},axis.tickCulling=function(culling){return arguments.length?(tickCulling=culling,axis):tickCulling},axis.tickValues=function(x){if("function"==typeof x)tickValues=function(){return x(scale.domain())};else{if(!arguments.length)return tickValues;tickValues=x}return axis},axis}var c3_chart_fn,c3_chart_internal_fn,c3_chart_internal_axis_fn,c3={version:"0.4.11-rc4"};c3.generate=function(config){return new Chart(config)},c3.chart={fn:Chart.prototype,internal:{fn:ChartInternal.prototype,axis:{fn:Axis.prototype}}},c3_chart_fn=c3.chart.fn,c3_chart_internal_fn=c3.chart.internal.fn,c3_chart_internal_axis_fn=c3.chart.internal.axis.fn,c3_chart_internal_fn.beforeInit=function(){},c3_chart_internal_fn.afterInit=function(){},c3_chart_internal_fn.init=function(){var $$=this,config=$$.config;if($$.initParams(),config.data_url)$$.convertUrlToData(config.data_url,config.data_mimeType,config.data_keys,$$.initWithData);else if(config.data_json)$$.initWithData($$.convertJsonToData(config.data_json,config.data_keys));else if(config.data_rows)$$.initWithData($$.convertRowsToData(config.data_rows));else{if(!config.data_columns)throw Error("url or json or rows or columns is required.");$$.initWithData($$.convertColumnsToData(config.data_columns))}},c3_chart_internal_fn.initParams=function(){var $$=this,d3=$$.d3,config=$$.config;$$.clipId="c3-"+ +new Date+"-clip",$$.clipIdForXAxis=$$.clipId+"-xaxis",$$.clipIdForYAxis=$$.clipId+"-yaxis",$$.clipIdForGrid=$$.clipId+"-grid",$$.clipIdForSubchart=$$.clipId+"-subchart",$$.clipPath=$$.getClipPath($$.clipId),$$.clipPathForXAxis=$$.getClipPath($$.clipIdForXAxis),$$.clipPathForYAxis=$$.getClipPath($$.clipIdForYAxis),$$.clipPathForGrid=$$.getClipPath($$.clipIdForGrid),$$.clipPathForSubchart=$$.getClipPath($$.clipIdForSubchart),$$.dragStart=null,$$.dragging=!1,$$.flowing=!1,$$.cancelClick=!1,$$.mouseover=!1,$$.transiting=!1,$$.color=$$.generateColor(),$$.levelColor=$$.generateLevelColor(),$$.dataTimeFormat=config.data_xLocaltime?d3.time.format:d3.time.format.utc,$$.axisTimeFormat=config.axis_x_localtime?d3.time.format:d3.time.format.utc,$$.defaultAxisTimeFormat=$$.axisTimeFormat.multi([[".%L",function(d){return d.getMilliseconds()}],[":%S",function(d){return d.getSeconds()}],["%I:%M",function(d){return d.getMinutes()}],["%I %p",function(d){return d.getHours()}],["%-m/%-d",function(d){return d.getDay()&&1!==d.getDate()}],["%-m/%-d",function(d){return 1!==d.getDate()}],["%-m/%-d",function(d){return d.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),$$.hiddenTargetIds=[],$$.hiddenLegendIds=[],$$.focusedTargetIds=[],$$.defocusedTargetIds=[],$$.xOrient=config.axis_rotated?"left":"bottom",$$.yOrient=config.axis_rotated?config.axis_y_inner?"top":"bottom":config.axis_y_inner?"right":"left",$$.y2Orient=config.axis_rotated?config.axis_y2_inner?"bottom":"top":config.axis_y2_inner?"left":"right",$$.subXOrient=config.axis_rotated?"left":"bottom",$$.isLegendRight="right"===config.legend_position,$$.isLegendInset="inset"===config.legend_position,$$.isLegendTop="top-left"===config.legend_inset_anchor||"top-right"===config.legend_inset_anchor,$$.isLegendLeft="top-left"===config.legend_inset_anchor||"bottom-left"===config.legend_inset_anchor,$$.legendStep=0,$$.legendItemWidth=0,$$.legendItemHeight=0,$$.currentMaxTickWidths={x:0,y:0,y2:0},$$.rotated_padding_left=30,$$.rotated_padding_right=config.axis_rotated&&!config.axis_x_show?0:30,$$.rotated_padding_top=5,$$.withoutFadeIn={},$$.intervalForObserveInserted=void 0,$$.axes.subx=d3.selectAll([])},c3_chart_internal_fn.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},c3_chart_internal_fn.initWithData=function(data){var defs,main,$$=this,d3=$$.d3,config=$$.config,binding=!0;$$.axis=new Axis($$),$$.initPie&&$$.initPie(),$$.initBrush&&$$.initBrush(),$$.initZoom&&$$.initZoom(),config.bindto?"function"==typeof config.bindto.node?$$.selectChart=config.bindto:$$.selectChart=d3.select(config.bindto):$$.selectChart=d3.selectAll([]),$$.selectChart.empty()&&($$.selectChart=d3.select(document.createElement("div")).style("opacity",0),$$.observeInserted($$.selectChart),binding=!1),$$.selectChart.html("").classed("c3",!0),$$.data.xs={},$$.data.targets=$$.convertDataToTargets(data),config.data_filter&&($$.data.targets=$$.data.targets.filter(config.data_filter)),config.data_hide&&$$.addHiddenTargetIds(config.data_hide===!0?$$.mapToIds($$.data.targets):config.data_hide),config.legend_hide&&$$.addHiddenLegendIds(config.legend_hide===!0?$$.mapToIds($$.data.targets):config.legend_hide),$$.hasType("gauge")&&(config.legend_show=!1),$$.updateSizes(),$$.updateScales(),$$.x.domain(d3.extent($$.getXDomain($$.data.targets))),$$.y.domain($$.getYDomain($$.data.targets,"y")),$$.y2.domain($$.getYDomain($$.data.targets,"y2")),$$.subX.domain($$.x.domain()),$$.subY.domain($$.y.domain()),$$.subY2.domain($$.y2.domain()),$$.orgXDomain=$$.x.domain(),$$.brush&&$$.brush.scale($$.subX),config.zoom_enabled&&$$.zoom.scale($$.x),$$.svg=$$.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return config.onmouseover.call($$)}).on("mouseleave",function(){return config.onmouseout.call($$)}),defs=$$.svg.append("defs"),$$.clipChart=$$.appendClip(defs,$$.clipId),$$.clipXAxis=$$.appendClip(defs,$$.clipIdForXAxis),$$.clipYAxis=$$.appendClip(defs,$$.clipIdForYAxis),$$.clipGrid=$$.appendClip(defs,$$.clipIdForGrid),$$.clipSubchart=$$.appendClip(defs,$$.clipIdForSubchart),$$.updateSvgSize(),main=$$.main=$$.svg.append("g").attr("transform",$$.getTranslate("main")),$$.initSubchart&&$$.initSubchart(),$$.initTooltip&&$$.initTooltip(),$$.initLegend&&$$.initLegend(),$$.initTitle&&$$.initTitle(),main.append("text").attr("class",CLASS.text+" "+CLASS.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),$$.initRegion(),$$.initGrid(),main.append("g").attr("clip-path",$$.clipPath).attr("class",CLASS.chart),config.grid_lines_front&&$$.initGridLines(),$$.initEventRect(),$$.initChartElements(),main.insert("rect",config.zoom_privileged?null:"g."+CLASS.regions).attr("class",CLASS.zoomRect).attr("width",$$.width).attr("height",$$.height).style("opacity",0).on("dblclick.zoom",null),config.axis_x_extent&&$$.brush.extent($$.getDefaultExtent()),$$.axis.init(),$$.updateTargets($$.data.targets),binding&&($$.updateDimension(),$$.config.oninit.call($$),$$.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),$$.bindResize(),$$.api.element=$$.selectChart.node()},c3_chart_internal_fn.smoothLines=function(el,type){var $$=this;"grid"===type&&el.each(function(){var g=$$.d3.select(this),x1=g.attr("x1"),x2=g.attr("x2"),y1=g.attr("y1"),y2=g.attr("y2");g.attr({x1:Math.ceil(x1),x2:Math.ceil(x2),y1:Math.ceil(y1),y2:Math.ceil(y2)})})},c3_chart_internal_fn.updateSizes=function(){var $$=this,config=$$.config,legendHeight=$$.legend?$$.getLegendHeight():0,legendWidth=$$.legend?$$.getLegendWidth():0,legendHeightForBottom=$$.isLegendRight||$$.isLegendInset?0:legendHeight,hasArc=$$.hasArcType(),xAxisHeight=config.axis_rotated||hasArc?0:$$.getHorizontalAxisHeight("x"),subchartHeight=config.subchart_show&&!hasArc?config.subchart_size_height+xAxisHeight:0;$$.currentWidth=$$.getCurrentWidth(),$$.currentHeight=$$.getCurrentHeight(),$$.margin=config.axis_rotated?{top:$$.getHorizontalAxisHeight("y2")+$$.getCurrentPaddingTop(),right:hasArc?0:$$.getCurrentPaddingRight(),bottom:$$.getHorizontalAxisHeight("y")+legendHeightForBottom+$$.getCurrentPaddingBottom(),left:subchartHeight+(hasArc?0:$$.getCurrentPaddingLeft())}:{top:4+$$.getCurrentPaddingTop(),right:hasArc?0:$$.getCurrentPaddingRight(),bottom:xAxisHeight+subchartHeight+legendHeightForBottom+$$.getCurrentPaddingBottom(),left:hasArc?0:$$.getCurrentPaddingLeft()},$$.margin2=config.axis_rotated?{top:$$.margin.top,right:NaN,bottom:20+legendHeightForBottom,left:$$.rotated_padding_left}:{top:$$.currentHeight-subchartHeight-legendHeightForBottom,right:NaN,bottom:xAxisHeight+legendHeightForBottom,left:$$.margin.left},$$.margin3={top:0,right:NaN,bottom:0,left:0},$$.updateSizeForLegend&&$$.updateSizeForLegend(legendHeight,legendWidth),$$.width=$$.currentWidth-$$.margin.left-$$.margin.right,$$.height=$$.currentHeight-$$.margin.top-$$.margin.bottom,$$.width<0&&($$.width=0),$$.height<0&&($$.height=0),$$.width2=config.axis_rotated?$$.margin.left-$$.rotated_padding_left-$$.rotated_padding_right:$$.width,$$.height2=config.axis_rotated?$$.height:$$.currentHeight-$$.margin2.top-$$.margin2.bottom,$$.width2<0&&($$.width2=0),$$.height2<0&&($$.height2=0),$$.arcWidth=$$.width-($$.isLegendRight?legendWidth+10:0),$$.arcHeight=$$.height-($$.isLegendRight?0:10),$$.hasType("gauge")&&($$.arcHeight+=$$.height-$$.getGaugeLabelHeight()),$$.updateRadius&&$$.updateRadius(),$$.isLegendRight&&hasArc&&($$.margin3.left=$$.arcWidth/2+1.1*$$.radiusExpanded)},c3_chart_internal_fn.updateTargets=function(targets){var $$=this;$$.updateTargetsForText(targets),$$.updateTargetsForBar(targets),$$.updateTargetsForLine(targets),$$.hasArcType()&&$$.updateTargetsForArc&&$$.updateTargetsForArc(targets),$$.updateTargetsForSubchart&&$$.updateTargetsForSubchart(targets),$$.showTargets()},c3_chart_internal_fn.showTargets=function(){var $$=this;$$.svg.selectAll("."+CLASS.target).filter(function(d){return $$.isTargetToShow(d.id)}).transition().duration($$.config.transition_duration).style("opacity",1)},c3_chart_internal_fn.redraw=function(options,transitions){var withY,withSubchart,withTransition,withTransitionForExit,withTransitionForAxis,withTransform,withUpdateXDomain,withUpdateOrgXDomain,withTrimXDomain,withLegend,withEventRect,withDimension,withUpdateXAxis,drawArea,drawBar,drawLine,xForText,yForText,duration,durationForExit,durationForAxis,waitForDraw,flow,tickValues,i,intervalForCulling,xDomainForZoom,cx,cy,$$=this,main=$$.main,d3=$$.d3,config=$$.config,areaIndices=$$.getShapeIndices($$.isAreaType),barIndices=$$.getShapeIndices($$.isBarType),lineIndices=$$.getShapeIndices($$.isLineType),hideAxis=$$.hasArcType(),targetsToShow=$$.filterTargetsToShow($$.data.targets),xv=$$.xv.bind($$);if(options=options||{},withY=getOption(options,"withY",!0),withSubchart=getOption(options,"withSubchart",!0),withTransition=getOption(options,"withTransition",!0),withTransform=getOption(options,"withTransform",!1),withUpdateXDomain=getOption(options,"withUpdateXDomain",!1),withUpdateOrgXDomain=getOption(options,"withUpdateOrgXDomain",!1),withTrimXDomain=getOption(options,"withTrimXDomain",!0),withUpdateXAxis=getOption(options,"withUpdateXAxis",withUpdateXDomain),withLegend=getOption(options,"withLegend",!1),withEventRect=getOption(options,"withEventRect",!0),withDimension=getOption(options,"withDimension",!0),withTransitionForExit=getOption(options,"withTransitionForExit",withTransition),withTransitionForAxis=getOption(options,"withTransitionForAxis",withTransition),duration=withTransition?config.transition_duration:0,durationForExit=withTransitionForExit?duration:0,durationForAxis=withTransitionForAxis?duration:0,transitions=transitions||$$.axis.generateTransitions(durationForAxis),withLegend&&config.legend_show?$$.updateLegend($$.mapToIds($$.data.targets),options,transitions):withDimension&&$$.updateDimension(!0),$$.isCategorized()&&0===targetsToShow.length&&$$.x.domain([0,$$.axes.x.selectAll(".tick").size()]),targetsToShow.length?($$.updateXDomain(targetsToShow,withUpdateXDomain,withUpdateOrgXDomain,withTrimXDomain),config.axis_x_tick_values||(tickValues=$$.axis.updateXAxisTickValues(targetsToShow))):($$.xAxis.tickValues([]),$$.subXAxis.tickValues([])),config.zoom_rescale&&!options.flow&&(xDomainForZoom=$$.x.orgDomain()),$$.y.domain($$.getYDomain(targetsToShow,"y",xDomainForZoom)),$$.y2.domain($$.getYDomain(targetsToShow,"y2",xDomainForZoom)),!config.axis_y_tick_values&&config.axis_y_tick_count&&$$.yAxis.tickValues($$.axis.generateTickValues($$.y.domain(),config.axis_y_tick_count)),!config.axis_y2_tick_values&&config.axis_y2_tick_count&&$$.y2Axis.tickValues($$.axis.generateTickValues($$.y2.domain(),config.axis_y2_tick_count)),$$.axis.redraw(transitions,hideAxis),$$.axis.updateLabels(withTransition),(withUpdateXDomain||withUpdateXAxis)&&targetsToShow.length)if(config.axis_x_tick_culling&&tickValues){for(i=1;i<tickValues.length;i++)if(tickValues.length/i<config.axis_x_tick_culling_max){intervalForCulling=i;break}$$.svg.selectAll("."+CLASS.axisX+" .tick text").each(function(e){var index=tickValues.indexOf(e);index>=0&&d3.select(this).style("display",index%intervalForCulling?"none":"block")})}else $$.svg.selectAll("."+CLASS.axisX+" .tick text").style("display","block");drawArea=$$.generateDrawArea?$$.generateDrawArea(areaIndices,!1):void 0,drawBar=$$.generateDrawBar?$$.generateDrawBar(barIndices):void 0,drawLine=$$.generateDrawLine?$$.generateDrawLine(lineIndices,!1):void 0,xForText=$$.generateXYForText(areaIndices,barIndices,lineIndices,!0),yForText=$$.generateXYForText(areaIndices,barIndices,lineIndices,!1),withY&&($$.subY.domain($$.getYDomain(targetsToShow,"y")),$$.subY2.domain($$.getYDomain(targetsToShow,"y2"))),$$.updateXgridFocus(),main.select("text."+CLASS.text+"."+CLASS.empty).attr("x",$$.width/2).attr("y",$$.height/2).text(config.data_empty_label_text).transition().style("opacity",targetsToShow.length?0:1),$$.updateGrid(duration),$$.updateRegion(duration),$$.updateBar(durationForExit),$$.updateLine(durationForExit),$$.updateArea(durationForExit),$$.updateCircle(),$$.hasDataLabel()&&$$.updateText(durationForExit),$$.redrawTitle&&$$.redrawTitle(),$$.redrawArc&&$$.redrawArc(duration,durationForExit,withTransform),$$.redrawSubchart&&$$.redrawSubchart(withSubchart,transitions,duration,durationForExit,areaIndices,barIndices,lineIndices),main.selectAll("."+CLASS.selectedCircles).filter($$.isBarType.bind($$)).selectAll("circle").remove(),config.interaction_enabled&&!options.flow&&withEventRect&&($$.redrawEventRect(),$$.updateZoom&&$$.updateZoom()),$$.updateCircleY(),cx=($$.config.axis_rotated?$$.circleY:$$.circleX).bind($$),cy=($$.config.axis_rotated?$$.circleX:$$.circleY).bind($$),options.flow&&(flow=$$.generateFlow({targets:targetsToShow,flow:options.flow,duration:options.flow.duration,drawBar:drawBar,drawLine:drawLine,drawArea:drawArea,cx:cx,cy:cy,xv:xv,xForText:xForText,yForText:yForText})),(duration||flow)&&$$.isTabVisible()?d3.transition().duration(duration).each(function(){var transitionsToWait=[];[$$.redrawBar(drawBar,!0),$$.redrawLine(drawLine,!0),$$.redrawArea(drawArea,!0),$$.redrawCircle(cx,cy,!0),$$.redrawText(xForText,yForText,options.flow,!0),$$.redrawRegion(!0),$$.redrawGrid(!0)].forEach(function(transitions){transitions.forEach(function(transition){transitionsToWait.push(transition)})}),waitForDraw=$$.generateWait(),transitionsToWait.forEach(function(t){waitForDraw.add(t)})}).call(waitForDraw,function(){flow&&flow(),config.onrendered&&config.onrendered.call($$)}):($$.redrawBar(drawBar),$$.redrawLine(drawLine),$$.redrawArea(drawArea),$$.redrawCircle(cx,cy),$$.redrawText(xForText,yForText,options.flow),$$.redrawRegion(),$$.redrawGrid(),config.onrendered&&config.onrendered.call($$)),$$.mapToIds($$.data.targets).forEach(function(id){$$.withoutFadeIn[id]=!0})},c3_chart_internal_fn.updateAndRedraw=function(options){var transitions,$$=this,config=$$.config;options=options||{},options.withTransition=getOption(options,"withTransition",!0),options.withTransform=getOption(options,"withTransform",!1),options.withLegend=getOption(options,"withLegend",!1),options.withUpdateXDomain=!0,options.withUpdateOrgXDomain=!0,options.withTransitionForExit=!1,options.withTransitionForTransform=getOption(options,"withTransitionForTransform",options.withTransition),$$.updateSizes(),options.withLegend&&config.legend_show||(transitions=$$.axis.generateTransitions(options.withTransitionForAxis?config.transition_duration:0),$$.updateScales(),$$.updateSvgSize(),$$.transformAll(options.withTransitionForTransform,transitions)),$$.redraw(options,transitions)},c3_chart_internal_fn.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},c3_chart_internal_fn.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},c3_chart_internal_fn.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},c3_chart_internal_fn.isCustomX=function(){var $$=this,config=$$.config;return!$$.isTimeSeries()&&(config.data_x||notEmpty(config.data_xs))},c3_chart_internal_fn.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},c3_chart_internal_fn.getTranslate=function(target){var x,y,$$=this,config=$$.config;return"main"===target?(x=asHalfPixel($$.margin.left),y=asHalfPixel($$.margin.top)):"context"===target?(x=asHalfPixel($$.margin2.left),y=asHalfPixel($$.margin2.top)):"legend"===target?(x=$$.margin3.left,y=$$.margin3.top):"x"===target?(x=0,y=config.axis_rotated?0:$$.height):"y"===target?(x=0,y=config.axis_rotated?$$.height:0):"y2"===target?(x=config.axis_rotated?0:$$.width,y=config.axis_rotated?1:0):"subx"===target?(x=0,y=config.axis_rotated?0:$$.height2):"arc"===target&&(x=$$.arcWidth/2,y=$$.arcHeight/2),"translate("+x+","+y+")"},c3_chart_internal_fn.initialOpacity=function(d){return null!==d.value&&this.withoutFadeIn[d.id]?1:0},c3_chart_internal_fn.initialOpacityForCircle=function(d){return null!==d.value&&this.withoutFadeIn[d.id]?this.opacityForCircle(d):0},c3_chart_internal_fn.opacityForCircle=function(d){var opacity=this.config.point_show?1:0;return isValue(d.value)?this.isScatterType(d)?.5:opacity:0},c3_chart_internal_fn.opacityForText=function(){return this.hasDataLabel()?1:0},c3_chart_internal_fn.xx=function(d){return d?this.x(d.x):null},c3_chart_internal_fn.xv=function(d){var $$=this,value=d.value;return $$.isTimeSeries()?value=$$.parseDate(d.value):$$.isCategorized()&&"string"==typeof d.value&&(value=$$.config.axis_x_categories.indexOf(d.value)),Math.ceil($$.x(value))},c3_chart_internal_fn.yv=function(d){var $$=this,yScale=d.axis&&"y2"===d.axis?$$.y2:$$.y;return Math.ceil(yScale(d.value))},c3_chart_internal_fn.subxx=function(d){return d?this.subX(d.x):null},c3_chart_internal_fn.transformMain=function(withTransition,transitions){var xAxis,yAxis,y2Axis,$$=this;transitions&&transitions.axisX?xAxis=transitions.axisX:(xAxis=$$.main.select("."+CLASS.axisX),withTransition&&(xAxis=xAxis.transition())),transitions&&transitions.axisY?yAxis=transitions.axisY:(yAxis=$$.main.select("."+CLASS.axisY),withTransition&&(yAxis=yAxis.transition())),transitions&&transitions.axisY2?y2Axis=transitions.axisY2:(y2Axis=$$.main.select("."+CLASS.axisY2),withTransition&&(y2Axis=y2Axis.transition())),(withTransition?$$.main.transition():$$.main).attr("transform",$$.getTranslate("main")),xAxis.attr("transform",$$.getTranslate("x")),yAxis.attr("transform",$$.getTranslate("y")),y2Axis.attr("transform",$$.getTranslate("y2")),$$.main.select("."+CLASS.chartArcs).attr("transform",$$.getTranslate("arc"))},c3_chart_internal_fn.transformAll=function(withTransition,transitions){var $$=this;$$.transformMain(withTransition,transitions),$$.config.subchart_show&&$$.transformContext(withTransition,transitions),$$.legend&&$$.transformLegend(withTransition)},c3_chart_internal_fn.updateSvgSize=function(){var $$=this,brush=$$.svg.select(".c3-brush .background");$$.svg.attr("width",$$.currentWidth).attr("height",$$.currentHeight),$$.svg.selectAll(["#"+$$.clipId,"#"+$$.clipIdForGrid]).select("rect").attr("width",$$.width).attr("height",$$.height),$$.svg.select("#"+$$.clipIdForXAxis).select("rect").attr("x",$$.getXAxisClipX.bind($$)).attr("y",$$.getXAxisClipY.bind($$)).attr("width",$$.getXAxisClipWidth.bind($$)).attr("height",$$.getXAxisClipHeight.bind($$)),$$.svg.select("#"+$$.clipIdForYAxis).select("rect").attr("x",$$.getYAxisClipX.bind($$)).attr("y",$$.getYAxisClipY.bind($$)).attr("width",$$.getYAxisClipWidth.bind($$)).attr("height",$$.getYAxisClipHeight.bind($$)),$$.svg.select("#"+$$.clipIdForSubchart).select("rect").attr("width",$$.width).attr("height",brush.size()?brush.attr("height"):0),$$.svg.select("."+CLASS.zoomRect).attr("width",$$.width).attr("height",$$.height),$$.selectChart.style("max-height",$$.currentHeight+"px")},c3_chart_internal_fn.updateDimension=function(withoutAxis){var $$=this;withoutAxis||($$.config.axis_rotated?($$.axes.x.call($$.xAxis),$$.axes.subx.call($$.subXAxis)):($$.axes.y.call($$.yAxis),$$.axes.y2.call($$.y2Axis))),$$.updateSizes(),$$.updateScales(),$$.updateSvgSize(),$$.transformAll(!1)},c3_chart_internal_fn.observeInserted=function(selection){var observer,$$=this;return"undefined"==typeof MutationObserver?void window.console.error("MutationObserver not defined."):(observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){"childList"===mutation.type&&mutation.previousSibling&&(observer.disconnect(),$$.intervalForObserveInserted=window.setInterval(function(){selection.node().parentNode&&(window.clearInterval($$.intervalForObserveInserted),$$.updateDimension(),$$.brush&&$$.brush.update(),$$.config.oninit.call($$),$$.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),selection.transition().style("opacity",1))},10))})}),void observer.observe(selection.node(),{attributes:!0,childList:!0,characterData:!0}))},c3_chart_internal_fn.bindResize=function(){var $$=this,config=$$.config;if($$.resizeFunction=$$.generateResize(),$$.resizeFunction.add(function(){config.onresize.call($$)}),config.resize_auto&&$$.resizeFunction.add(function(){void 0!==$$.resizeTimeout&&window.clearTimeout($$.resizeTimeout),$$.resizeTimeout=window.setTimeout(function(){delete $$.resizeTimeout,$$.api.flush()},100)}),$$.resizeFunction.add(function(){config.onresized.call($$)}),window.attachEvent)window.attachEvent("onresize",$$.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",$$.resizeFunction,!1);else{var wrapper=window.onresize;wrapper?wrapper.add&&wrapper.remove||(wrapper=$$.generateResize(),wrapper.add(window.onresize)):wrapper=$$.generateResize(),wrapper.add($$.resizeFunction),window.onresize=wrapper}},c3_chart_internal_fn.generateResize=function(){function callResizeFunctions(){resizeFunctions.forEach(function(f){f()})}var resizeFunctions=[];return callResizeFunctions.add=function(f){resizeFunctions.push(f)},callResizeFunctions.remove=function(f){for(var i=0;i<resizeFunctions.length;i++)if(resizeFunctions[i]===f){resizeFunctions.splice(i,1);break}},callResizeFunctions},c3_chart_internal_fn.endall=function(transition,callback){var n=0;transition.each(function(){++n}).each("end",function(){--n||callback.apply(this,arguments)})},c3_chart_internal_fn.generateWait=function(){var transitionsToWait=[],f=function(transition,callback){var timer=setInterval(function(){var done=0;transitionsToWait.forEach(function(t){if(t.empty())return void(done+=1);try{t.transition()}catch(e){done+=1}}),done===transitionsToWait.length&&(clearInterval(timer),callback&&callback())},10)};return f.add=function(transition){transitionsToWait.push(transition)},f},c3_chart_internal_fn.parseDate=function(date){var parsedDate,$$=this;return date instanceof Date?parsedDate=date:"string"==typeof date?parsedDate=$$.dataTimeFormat($$.config.data_xFormat).parse(date):"number"!=typeof date||isNaN(date)||(parsedDate=new Date((+date))),parsedDate&&!isNaN(+parsedDate)||window.console.error("Failed to parse x '"+date+"' to Date object"),parsedDate},c3_chart_internal_fn.isTabVisible=function(){var hidden;return"undefined"!=typeof document.hidden?hidden="hidden":"undefined"!=typeof document.mozHidden?hidden="mozHidden":"undefined"!=typeof document.msHidden?hidden="msHidden":"undefined"!=typeof document.webkitHidden&&(hidden="webkitHidden"),!document[hidden]},c3_chart_internal_fn.getDefaultConfig=function(){var config={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(id){return id},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:{},pie_expand_duration:50,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(d,defaultTitleFormat,defaultValueFormat,color){return this.getTooltipContent?this.getTooltipContent(d,defaultTitleFormat,defaultValueFormat,color):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(key){config[key]=this.additionalConfig[key]},this),config},c3_chart_internal_fn.additionalConfig={},c3_chart_internal_fn.loadConfig=function(config){function find(){var key=keys.shift();return key&&target&&"object"==typeof target&&key in target?(target=target[key],find()):key?void 0:target}var target,keys,read,this_config=this.config;Object.keys(this_config).forEach(function(key){target=config,keys=key.split("_"),read=find(),isDefined(read)&&(this_config[key]=read)})},c3_chart_internal_fn.getScale=function(min,max,forTimeseries){return(forTimeseries?this.d3.time.scale():this.d3.scale.linear()).range([min,max])},c3_chart_internal_fn.getX=function(min,max,domain,offset){var key,$$=this,scale=$$.getScale(min,max,$$.isTimeSeries()),_scale=domain?scale.domain(domain):scale;$$.isCategorized()?(offset=offset||function(){return 0},scale=function(d,raw){var v=_scale(d)+offset(d);return raw?v:Math.ceil(v)}):scale=function(d,raw){var v=_scale(d);return raw?v:Math.ceil(v);
};for(key in _scale)scale[key]=_scale[key];return scale.orgDomain=function(){return _scale.domain()},$$.isCategorized()&&(scale.domain=function(domain){return arguments.length?(_scale.domain(domain),scale):(domain=this.orgDomain(),[domain[0],domain[1]+1])}),scale},c3_chart_internal_fn.getY=function(min,max,domain){var scale=this.getScale(min,max,this.isTimeSeriesY());return domain&&scale.domain(domain),scale},c3_chart_internal_fn.getYScale=function(id){return"y2"===this.axis.getId(id)?this.y2:this.y},c3_chart_internal_fn.getSubYScale=function(id){return"y2"===this.axis.getId(id)?this.subY2:this.subY},c3_chart_internal_fn.updateScales=function(){var $$=this,config=$$.config,forInit=!$$.x;$$.xMin=config.axis_rotated?1:0,$$.xMax=config.axis_rotated?$$.height:$$.width,$$.yMin=config.axis_rotated?0:$$.height,$$.yMax=config.axis_rotated?$$.width:1,$$.subXMin=$$.xMin,$$.subXMax=$$.xMax,$$.subYMin=config.axis_rotated?0:$$.height2,$$.subYMax=config.axis_rotated?$$.width2:1,$$.x=$$.getX($$.xMin,$$.xMax,forInit?void 0:$$.x.orgDomain(),function(){return $$.xAxis.tickOffset()}),$$.y=$$.getY($$.yMin,$$.yMax,forInit?config.axis_y_default:$$.y.domain()),$$.y2=$$.getY($$.yMin,$$.yMax,forInit?config.axis_y2_default:$$.y2.domain()),$$.subX=$$.getX($$.xMin,$$.xMax,$$.orgXDomain,function(d){return d%1?0:$$.subXAxis.tickOffset()}),$$.subY=$$.getY($$.subYMin,$$.subYMax,forInit?config.axis_y_default:$$.subY.domain()),$$.subY2=$$.getY($$.subYMin,$$.subYMax,forInit?config.axis_y2_default:$$.subY2.domain()),$$.xAxisTickFormat=$$.axis.getXAxisTickFormat(),$$.xAxisTickValues=$$.axis.getXAxisTickValues(),$$.yAxisTickValues=$$.axis.getYAxisTickValues(),$$.y2AxisTickValues=$$.axis.getY2AxisTickValues(),$$.xAxis=$$.axis.getXAxis($$.x,$$.xOrient,$$.xAxisTickFormat,$$.xAxisTickValues,config.axis_x_tick_outer),$$.subXAxis=$$.axis.getXAxis($$.subX,$$.subXOrient,$$.xAxisTickFormat,$$.xAxisTickValues,config.axis_x_tick_outer),$$.yAxis=$$.axis.getYAxis($$.y,$$.yOrient,config.axis_y_tick_format,$$.yAxisTickValues,config.axis_y_tick_outer),$$.y2Axis=$$.axis.getYAxis($$.y2,$$.y2Orient,config.axis_y2_tick_format,$$.y2AxisTickValues,config.axis_y2_tick_outer),forInit||($$.brush&&$$.brush.scale($$.subX),config.zoom_enabled&&$$.zoom.scale($$.x)),$$.updateArc&&$$.updateArc()},c3_chart_internal_fn.getYDomainMin=function(targets){var j,k,baseId,idsInGroup,id,hasNegativeValue,$$=this,config=$$.config,ids=$$.mapToIds(targets),ys=$$.getValuesAsIdKeyed(targets);if(config.data_groups.length>0)for(hasNegativeValue=$$.hasNegativeValueInTargets(targets),j=0;j<config.data_groups.length;j++)if(idsInGroup=config.data_groups[j].filter(function(id){return ids.indexOf(id)>=0}),0!==idsInGroup.length)for(baseId=idsInGroup[0],hasNegativeValue&&ys[baseId]&&ys[baseId].forEach(function(v,i){ys[baseId][i]=v<0?v:0}),k=1;k<idsInGroup.length;k++)id=idsInGroup[k],ys[id]&&ys[id].forEach(function(v,i){$$.axis.getId(id)!==$$.axis.getId(baseId)||!ys[baseId]||hasNegativeValue&&+v>0||(ys[baseId][i]+=+v)});return $$.d3.min(Object.keys(ys).map(function(key){return $$.d3.min(ys[key])}))},c3_chart_internal_fn.getYDomainMax=function(targets){var j,k,baseId,idsInGroup,id,hasPositiveValue,$$=this,config=$$.config,ids=$$.mapToIds(targets),ys=$$.getValuesAsIdKeyed(targets);if(config.data_groups.length>0)for(hasPositiveValue=$$.hasPositiveValueInTargets(targets),j=0;j<config.data_groups.length;j++)if(idsInGroup=config.data_groups[j].filter(function(id){return ids.indexOf(id)>=0}),0!==idsInGroup.length)for(baseId=idsInGroup[0],hasPositiveValue&&ys[baseId]&&ys[baseId].forEach(function(v,i){ys[baseId][i]=v>0?v:0}),k=1;k<idsInGroup.length;k++)id=idsInGroup[k],ys[id]&&ys[id].forEach(function(v,i){$$.axis.getId(id)!==$$.axis.getId(baseId)||!ys[baseId]||hasPositiveValue&&+v<0||(ys[baseId][i]+=+v)});return $$.d3.max(Object.keys(ys).map(function(key){return $$.d3.max(ys[key])}))},c3_chart_internal_fn.getYDomain=function(targets,axisId,xDomain){var domain,domainLength,padding,padding_top,padding_bottom,yDomainAbs,lengths,diff,ratio,isAllPositive,isAllNegative,$$=this,config=$$.config,targetsByAxisId=targets.filter(function(t){return $$.axis.getId(t.id)===axisId}),yTargets=xDomain?$$.filterByXDomain(targetsByAxisId,xDomain):targetsByAxisId,yMin="y2"===axisId?config.axis_y2_min:config.axis_y_min,yMax="y2"===axisId?config.axis_y2_max:config.axis_y_max,yDomainMin=$$.getYDomainMin(yTargets),yDomainMax=$$.getYDomainMax(yTargets),center="y2"===axisId?config.axis_y2_center:config.axis_y_center,isZeroBased=$$.hasType("bar",yTargets)&&config.bar_zerobased||$$.hasType("area",yTargets)&&config.area_zerobased,isInverted="y2"===axisId?config.axis_y2_inverted:config.axis_y_inverted,showHorizontalDataLabel=$$.hasDataLabel()&&config.axis_rotated,showVerticalDataLabel=$$.hasDataLabel()&&!config.axis_rotated;return yDomainMin=isValue(yMin)?yMin:isValue(yMax)?yDomainMin<yMax?yDomainMin:yMax-10:yDomainMin,yDomainMax=isValue(yMax)?yMax:isValue(yMin)?yMin<yDomainMax?yDomainMax:yMin+10:yDomainMax,0===yTargets.length?"y2"===axisId?$$.y2.domain():$$.y.domain():(isNaN(yDomainMin)&&(yDomainMin=0),isNaN(yDomainMax)&&(yDomainMax=yDomainMin),yDomainMin===yDomainMax&&(yDomainMin<0?yDomainMax=0:yDomainMin=0),isAllPositive=yDomainMin>=0&&yDomainMax>=0,isAllNegative=yDomainMin<=0&&yDomainMax<=0,(isValue(yMin)&&isAllPositive||isValue(yMax)&&isAllNegative)&&(isZeroBased=!1),isZeroBased&&(isAllPositive&&(yDomainMin=0),isAllNegative&&(yDomainMax=0)),domainLength=Math.abs(yDomainMax-yDomainMin),padding=padding_top=padding_bottom=.1*domainLength,"undefined"!=typeof center&&(yDomainAbs=Math.max(Math.abs(yDomainMin),Math.abs(yDomainMax)),yDomainMax=center+yDomainAbs,yDomainMin=center-yDomainAbs),showHorizontalDataLabel?(lengths=$$.getDataLabelLength(yDomainMin,yDomainMax,"width"),diff=diffDomain($$.y.range()),ratio=[lengths[0]/diff,lengths[1]/diff],padding_top+=domainLength*(ratio[1]/(1-ratio[0]-ratio[1])),padding_bottom+=domainLength*(ratio[0]/(1-ratio[0]-ratio[1]))):showVerticalDataLabel&&(lengths=$$.getDataLabelLength(yDomainMin,yDomainMax,"height"),padding_top+=$$.axis.convertPixelsToAxisPadding(lengths[1],domainLength),padding_bottom+=$$.axis.convertPixelsToAxisPadding(lengths[0],domainLength)),"y"===axisId&&notEmpty(config.axis_y_padding)&&(padding_top=$$.axis.getPadding(config.axis_y_padding,"top",padding_top,domainLength),padding_bottom=$$.axis.getPadding(config.axis_y_padding,"bottom",padding_bottom,domainLength)),"y2"===axisId&&notEmpty(config.axis_y2_padding)&&(padding_top=$$.axis.getPadding(config.axis_y2_padding,"top",padding_top,domainLength),padding_bottom=$$.axis.getPadding(config.axis_y2_padding,"bottom",padding_bottom,domainLength)),isZeroBased&&(isAllPositive&&(padding_bottom=yDomainMin),isAllNegative&&(padding_top=-yDomainMax)),domain=[yDomainMin-padding_bottom,yDomainMax+padding_top],isInverted?domain.reverse():domain)},c3_chart_internal_fn.getXDomainMin=function(targets){var $$=this,config=$$.config;return isDefined(config.axis_x_min)?$$.isTimeSeries()?this.parseDate(config.axis_x_min):config.axis_x_min:$$.d3.min(targets,function(t){return $$.d3.min(t.values,function(v){return v.x})})},c3_chart_internal_fn.getXDomainMax=function(targets){var $$=this,config=$$.config;return isDefined(config.axis_x_max)?$$.isTimeSeries()?this.parseDate(config.axis_x_max):config.axis_x_max:$$.d3.max(targets,function(t){return $$.d3.max(t.values,function(v){return v.x})})},c3_chart_internal_fn.getXDomainPadding=function(domain){var maxDataCount,padding,paddingLeft,paddingRight,$$=this,config=$$.config,diff=domain[1]-domain[0];return $$.isCategorized()?padding=0:$$.hasType("bar")?(maxDataCount=$$.getMaxDataCount(),padding=maxDataCount>1?diff/(maxDataCount-1)/2:.5):padding=.01*diff,"object"==typeof config.axis_x_padding&&notEmpty(config.axis_x_padding)?(paddingLeft=isValue(config.axis_x_padding.left)?config.axis_x_padding.left:padding,paddingRight=isValue(config.axis_x_padding.right)?config.axis_x_padding.right:padding):paddingLeft=paddingRight="number"==typeof config.axis_x_padding?config.axis_x_padding:padding,{left:paddingLeft,right:paddingRight}},c3_chart_internal_fn.getXDomain=function(targets){var $$=this,xDomain=[$$.getXDomainMin(targets),$$.getXDomainMax(targets)],firstX=xDomain[0],lastX=xDomain[1],padding=$$.getXDomainPadding(xDomain),min=0,max=0;return firstX-lastX!==0||$$.isCategorized()||($$.isTimeSeries()?(firstX=new Date(.5*firstX.getTime()),lastX=new Date(1.5*lastX.getTime())):(firstX=0===firstX?1:.5*firstX,lastX=0===lastX?-1:1.5*lastX)),(firstX||0===firstX)&&(min=$$.isTimeSeries()?new Date(firstX.getTime()-padding.left):firstX-padding.left),(lastX||0===lastX)&&(max=$$.isTimeSeries()?new Date(lastX.getTime()+padding.right):lastX+padding.right),[min,max]},c3_chart_internal_fn.updateXDomain=function(targets,withUpdateXDomain,withUpdateOrgXDomain,withTrim,domain){var $$=this,config=$$.config;return withUpdateOrgXDomain&&($$.x.domain(domain?domain:$$.d3.extent($$.getXDomain(targets))),$$.orgXDomain=$$.x.domain(),config.zoom_enabled&&$$.zoom.scale($$.x).updateScaleExtent(),$$.subX.domain($$.x.domain()),$$.brush&&$$.brush.scale($$.subX)),withUpdateXDomain&&($$.x.domain(domain?domain:!$$.brush||$$.brush.empty()?$$.orgXDomain:$$.brush.extent()),config.zoom_enabled&&$$.zoom.scale($$.x).updateScaleExtent()),withTrim&&$$.x.domain($$.trimXDomain($$.x.orgDomain())),$$.x.domain()},c3_chart_internal_fn.trimXDomain=function(domain){var zoomDomain=this.getZoomDomain(),min=zoomDomain[0],max=zoomDomain[1];return domain[0]<=min&&(domain[1]=+domain[1]+(min-domain[0]),domain[0]=min),max<=domain[1]&&(domain[0]=+domain[0]-(domain[1]-max),domain[1]=max),domain},c3_chart_internal_fn.isX=function(key){var $$=this,config=$$.config;return config.data_x&&key===config.data_x||notEmpty(config.data_xs)&&hasValue(config.data_xs,key)},c3_chart_internal_fn.isNotX=function(key){return!this.isX(key)},c3_chart_internal_fn.getXKey=function(id){var $$=this,config=$$.config;return config.data_x?config.data_x:notEmpty(config.data_xs)?config.data_xs[id]:null},c3_chart_internal_fn.getXValuesOfXKey=function(key,targets){var xValues,$$=this,ids=targets&&notEmpty(targets)?$$.mapToIds(targets):[];return ids.forEach(function(id){$$.getXKey(id)===key&&(xValues=$$.data.xs[id])}),xValues},c3_chart_internal_fn.getIndexByX=function(x){var $$=this,data=$$.filterByX($$.data.targets,x);return data.length?data[0].index:null},c3_chart_internal_fn.getXValue=function(id,i){var $$=this;return id in $$.data.xs&&$$.data.xs[id]&&isValue($$.data.xs[id][i])?$$.data.xs[id][i]:i},c3_chart_internal_fn.getOtherTargetXs=function(){var $$=this,idsForX=Object.keys($$.data.xs);return idsForX.length?$$.data.xs[idsForX[0]]:null},c3_chart_internal_fn.getOtherTargetX=function(index){var xs=this.getOtherTargetXs();return xs&&index<xs.length?xs[index]:null},c3_chart_internal_fn.addXs=function(xs){var $$=this;Object.keys(xs).forEach(function(id){$$.config.data_xs[id]=xs[id]})},c3_chart_internal_fn.hasMultipleX=function(xs){return this.d3.set(Object.keys(xs).map(function(id){return xs[id]})).size()>1},c3_chart_internal_fn.isMultipleX=function(){return notEmpty(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},c3_chart_internal_fn.addName=function(data){var name,$$=this;return data&&(name=$$.config.data_names[data.id],data.name=void 0!==name?name:data.id),data},c3_chart_internal_fn.getValueOnIndex=function(values,index){var valueOnIndex=values.filter(function(v){return v.index===index});return valueOnIndex.length?valueOnIndex[0]:null},c3_chart_internal_fn.updateTargetX=function(targets,x){var $$=this;targets.forEach(function(t){t.values.forEach(function(v,i){v.x=$$.generateTargetX(x[i],t.id,i)}),$$.data.xs[t.id]=x})},c3_chart_internal_fn.updateTargetXs=function(targets,xs){var $$=this;targets.forEach(function(t){xs[t.id]&&$$.updateTargetX([t],xs[t.id])})},c3_chart_internal_fn.generateTargetX=function(rawX,id,index){var x,$$=this;return x=$$.isTimeSeries()?rawX?$$.parseDate(rawX):$$.parseDate($$.getXValue(id,index)):$$.isCustomX()&&!$$.isCategorized()?isValue(rawX)?+rawX:$$.getXValue(id,index):index},c3_chart_internal_fn.cloneTarget=function(target){return{id:target.id,id_org:target.id_org,values:target.values.map(function(d){return{x:d.x,value:d.value,id:d.id}})}},c3_chart_internal_fn.updateXs=function(){var $$=this;$$.data.targets.length&&($$.xs=[],$$.data.targets[0].values.forEach(function(v){$$.xs[v.index]=v.x}))},c3_chart_internal_fn.getPrevX=function(i){var x=this.xs[i-1];return"undefined"!=typeof x?x:null},c3_chart_internal_fn.getNextX=function(i){var x=this.xs[i+1];return"undefined"!=typeof x?x:null},c3_chart_internal_fn.getMaxDataCount=function(){var $$=this;return $$.d3.max($$.data.targets,function(t){return t.values.length})},c3_chart_internal_fn.getMaxDataCountTarget=function(targets){var maxTarget,length=targets.length,max=0;return length>1?targets.forEach(function(t){t.values.length>max&&(maxTarget=t,max=t.values.length)}):maxTarget=length?targets[0]:null,maxTarget},c3_chart_internal_fn.getEdgeX=function(targets){var $$=this;return targets.length?[$$.d3.min(targets,function(t){return t.values[0].x}),$$.d3.max(targets,function(t){return t.values[t.values.length-1].x})]:[0,0]},c3_chart_internal_fn.mapToIds=function(targets){return targets.map(function(d){return d.id})},c3_chart_internal_fn.mapToTargetIds=function(ids){var $$=this;return ids?[].concat(ids):$$.mapToIds($$.data.targets)},c3_chart_internal_fn.hasTarget=function(targets,id){var i,ids=this.mapToIds(targets);for(i=0;i<ids.length;i++)if(ids[i]===id)return!0;return!1},c3_chart_internal_fn.isTargetToShow=function(targetId){return this.hiddenTargetIds.indexOf(targetId)<0},c3_chart_internal_fn.isLegendToShow=function(targetId){return this.hiddenLegendIds.indexOf(targetId)<0},c3_chart_internal_fn.filterTargetsToShow=function(targets){var $$=this;return targets.filter(function(t){return $$.isTargetToShow(t.id)})},c3_chart_internal_fn.mapTargetsToUniqueXs=function(targets){var $$=this,xs=$$.d3.set($$.d3.merge(targets.map(function(t){return t.values.map(function(v){return+v.x})}))).values();return xs=$$.isTimeSeries()?xs.map(function(x){return new Date((+x))}):xs.map(function(x){return+x}),xs.sort(function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN})},c3_chart_internal_fn.addHiddenTargetIds=function(targetIds){this.hiddenTargetIds=this.hiddenTargetIds.concat(targetIds)},c3_chart_internal_fn.removeHiddenTargetIds=function(targetIds){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(id){return targetIds.indexOf(id)<0})},c3_chart_internal_fn.addHiddenLegendIds=function(targetIds){this.hiddenLegendIds=this.hiddenLegendIds.concat(targetIds)},c3_chart_internal_fn.removeHiddenLegendIds=function(targetIds){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(id){return targetIds.indexOf(id)<0})},c3_chart_internal_fn.getValuesAsIdKeyed=function(targets){var ys={};return targets.forEach(function(t){ys[t.id]=[],t.values.forEach(function(v){ys[t.id].push(v.value)})}),ys},c3_chart_internal_fn.checkValueInTargets=function(targets,checker){var i,j,values,ids=Object.keys(targets);for(i=0;i<ids.length;i++)for(values=targets[ids[i]].values,j=0;j<values.length;j++)if(checker(values[j].value))return!0;return!1},c3_chart_internal_fn.hasNegativeValueInTargets=function(targets){return this.checkValueInTargets(targets,function(v){return v<0})},c3_chart_internal_fn.hasPositiveValueInTargets=function(targets){return this.checkValueInTargets(targets,function(v){return v>0})},c3_chart_internal_fn.isOrderDesc=function(){var config=this.config;return"string"==typeof config.data_order&&"desc"===config.data_order.toLowerCase()},c3_chart_internal_fn.isOrderAsc=function(){var config=this.config;return"string"==typeof config.data_order&&"asc"===config.data_order.toLowerCase()},c3_chart_internal_fn.orderTargets=function(targets){var $$=this,config=$$.config,orderAsc=$$.isOrderAsc(),orderDesc=$$.isOrderDesc();return orderAsc||orderDesc?targets.sort(function(t1,t2){var reducer=function(p,c){return p+Math.abs(c.value)},t1Sum=t1.values.reduce(reducer,0),t2Sum=t2.values.reduce(reducer,0);return orderAsc?t2Sum-t1Sum:t1Sum-t2Sum}):isFunction(config.data_order)&&targets.sort(config.data_order),targets},c3_chart_internal_fn.filterByX=function(targets,x){return this.d3.merge(targets.map(function(t){return t.values})).filter(function(v){return v.x-x===0})},c3_chart_internal_fn.filterRemoveNull=function(data){return data.filter(function(d){return isValue(d.value)})},c3_chart_internal_fn.filterByXDomain=function(targets,xDomain){return targets.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(v){return xDomain[0]<=v.x&&v.x<=xDomain[1]})}})},c3_chart_internal_fn.hasDataLabel=function(){var config=this.config;return!("boolean"!=typeof config.data_labels||!config.data_labels)||!("object"!=typeof config.data_labels||!notEmpty(config.data_labels))},c3_chart_internal_fn.getDataLabelLength=function(min,max,key){var $$=this,lengths=[0,0],paddingCoef=1.3;return $$.selectChart.select("svg").selectAll(".dummy").data([min,max]).enter().append("text").text(function(d){return $$.dataLabelFormat(d.id)(d)}).each(function(d,i){lengths[i]=this.getBoundingClientRect()[key]*paddingCoef}).remove(),lengths},c3_chart_internal_fn.isNoneArc=function(d){return this.hasTarget(this.data.targets,d.id)},c3_chart_internal_fn.isArc=function(d){return"data"in d&&this.hasTarget(this.data.targets,d.data.id)},c3_chart_internal_fn.findSameXOfValues=function(values,index){var i,targetX=values[index].x,sames=[];for(i=index-1;i>=0&&targetX===values[i].x;i--)sames.push(values[i]);for(i=index;i<values.length&&targetX===values[i].x;i++)sames.push(values[i]);return sames},c3_chart_internal_fn.findClosestFromTargets=function(targets,pos){var candidates,$$=this;return candidates=targets.map(function(target){return $$.findClosest(target.values,pos)}),$$.findClosest(candidates,pos)},c3_chart_internal_fn.findClosest=function(values,pos){var closest,$$=this,minDist=$$.config.point_sensitivity;return values.filter(function(v){return v&&$$.isBarType(v.id)}).forEach(function(v){var shape=$$.main.select("."+CLASS.bars+$$.getTargetSelectorSuffix(v.id)+" ."+CLASS.bar+"-"+v.index).node();!closest&&$$.isWithinBar(shape)&&(closest=v)}),values.filter(function(v){return v&&!$$.isBarType(v.id)}).forEach(function(v){var d=$$.dist(v,pos);d<minDist&&(minDist=d,closest=v)}),closest},c3_chart_internal_fn.dist=function(data,pos){var $$=this,config=$$.config,xIndex=config.axis_rotated?1:0,yIndex=config.axis_rotated?0:1,y=$$.circleY(data,data.index),x=$$.x(data.x);return Math.sqrt(Math.pow(x-pos[xIndex],2)+Math.pow(y-pos[yIndex],2))},c3_chart_internal_fn.convertValuesToStep=function(values){var i,converted=[].concat(values);if(!this.isCategorized())return values;for(i=values.length+1;0<i;i--)converted[i]=converted[i-1];return converted[0]={x:converted[0].x-1,value:converted[0].value,id:converted[0].id},converted[values.length+1]={x:converted[values.length].x+1,value:converted[values.length].value,id:converted[values.length].id},converted},c3_chart_internal_fn.updateDataAttributes=function(name,attrs){var $$=this,config=$$.config,current=config["data_"+name];return"undefined"==typeof attrs?current:(Object.keys(attrs).forEach(function(id){current[id]=attrs[id]}),$$.redraw({withLegend:!0}),current)},c3_chart_internal_fn.convertUrlToData=function(url,mimeType,keys,done){var $$=this,type=mimeType?mimeType:"csv";$$.d3.xhr(url,function(error,data){var d;if(!data)throw new Error(error.responseURL+" "+error.status+" ("+error.statusText+")");d="json"===type?$$.convertJsonToData(JSON.parse(data.response),keys):"tsv"===type?$$.convertTsvToData(data.response):$$.convertCsvToData(data.response),done.call($$,d)})},c3_chart_internal_fn.convertXsvToData=function(xsv,parser){var d,rows=parser.parseRows(xsv);return 1===rows.length?(d=[{}],rows[0].forEach(function(id){d[0][id]=null})):d=parser.parse(xsv),d},c3_chart_internal_fn.convertCsvToData=function(csv){return this.convertXsvToData(csv,this.d3.csv)},c3_chart_internal_fn.convertTsvToData=function(tsv){return this.convertXsvToData(tsv,this.d3.tsv)},c3_chart_internal_fn.convertJsonToData=function(json,keys){var targetKeys,data,$$=this,new_rows=[];return keys?(keys.x?(targetKeys=keys.value.concat(keys.x),$$.config.data_x=keys.x):targetKeys=keys.value,new_rows.push(targetKeys),json.forEach(function(o){var new_row=[];targetKeys.forEach(function(key){var v=isUndefined(o[key])?null:o[key];new_row.push(v)}),new_rows.push(new_row)}),data=$$.convertRowsToData(new_rows)):(Object.keys(json).forEach(function(key){new_rows.push([key].concat(json[key]))}),data=$$.convertColumnsToData(new_rows)),data},c3_chart_internal_fn.convertRowsToData=function(rows){var i,j,keys=rows[0],new_row={},new_rows=[];for(i=1;i<rows.length;i++){for(new_row={},j=0;j<rows[i].length;j++){if(isUndefined(rows[i][j]))throw new Error("Source data is missing a component at ("+i+","+j+")!");new_row[keys[j]]=rows[i][j]}new_rows.push(new_row)}return new_rows},c3_chart_internal_fn.convertColumnsToData=function(columns){var i,j,key,new_rows=[];for(i=0;i<columns.length;i++)for(key=columns[i][0],j=1;j<columns[i].length;j++){if(isUndefined(new_rows[j-1])&&(new_rows[j-1]={}),isUndefined(columns[i][j]))throw new Error("Source data is missing a component at ("+i+","+j+")!");new_rows[j-1][key]=columns[i][j]}return new_rows},c3_chart_internal_fn.convertDataToTargets=function(data,appendXs){var targets,$$=this,config=$$.config,ids=$$.d3.keys(data[0]).filter($$.isNotX,$$),xs=$$.d3.keys(data[0]).filter($$.isX,$$);return ids.forEach(function(id){var xKey=$$.getXKey(id);$$.isCustomX()||$$.isTimeSeries()?xs.indexOf(xKey)>=0?$$.data.xs[id]=(appendXs&&$$.data.xs[id]?$$.data.xs[id]:[]).concat(data.map(function(d){return d[xKey]}).filter(isValue).map(function(rawX,i){return $$.generateTargetX(rawX,id,i)})):config.data_x?$$.data.xs[id]=$$.getOtherTargetXs():notEmpty(config.data_xs)&&($$.data.xs[id]=$$.getXValuesOfXKey(xKey,$$.data.targets)):$$.data.xs[id]=data.map(function(d,i){return i})}),ids.forEach(function(id){if(!$$.data.xs[id])throw new Error('x is not defined for id = "'+id+'".')}),targets=ids.map(function(id,index){var convertedId=config.data_idConverter(id);return{id:convertedId,id_org:id,values:data.map(function(d,i){var xKey=$$.getXKey(id),rawX=d[xKey],x=$$.generateTargetX(rawX,id,i),value=null===d[id]||isNaN(d[id])?null:+d[id];return $$.isCustomX()&&$$.isCategorized()&&0===index&&rawX&&(0===i&&(config.axis_x_categories=[]),config.axis_x_categories.push(rawX)),(isUndefined(d[id])||$$.data.xs[id].length<=i)&&(x=void 0),{x:x,value:value,id:convertedId}}).filter(function(v){return isDefined(v.x)})}}),targets.forEach(function(t){var i;config.data_xSort&&(t.values=t.values.sort(function(v1,v2){var x1=v1.x||0===v1.x?v1.x:1/0,x2=v2.x||0===v2.x?v2.x:1/0;return x1-x2})),i=0,t.values.forEach(function(v){v.index=i++}),$$.data.xs[t.id].sort(function(v1,v2){return v1-v2})}),$$.hasNegativeValue=$$.hasNegativeValueInTargets(targets),$$.hasPositiveValue=$$.hasPositiveValueInTargets(targets),config.data_type&&$$.setTargetType($$.mapToIds(targets).filter(function(id){return!(id in config.data_types)}),config.data_type),targets.forEach(function(d){$$.addCache(d.id_org,d)}),targets},c3_chart_internal_fn.load=function(targets,args){var $$=this;targets&&(args.filter&&(targets=targets.filter(args.filter)),(args.type||args.types)&&targets.forEach(function(t){var type=args.types&&args.types[t.id]?args.types[t.id]:args.type;$$.setTargetType(t.id,type)}),$$.data.targets.forEach(function(d){for(var i=0;i<targets.length;i++)if(d.id===targets[i].id){d.values=targets[i].values,targets.splice(i,1);break}}),$$.data.targets=$$.data.targets.concat(targets)),$$.updateTargets($$.data.targets),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),args.done&&args.done()},c3_chart_internal_fn.loadFromArgs=function(args){var $$=this;args.data?$$.load($$.convertDataToTargets(args.data),args):args.url?$$.convertUrlToData(args.url,args.mimeType,args.keys,function(data){$$.load($$.convertDataToTargets(data),args)}):args.json?$$.load($$.convertDataToTargets($$.convertJsonToData(args.json,args.keys)),args):args.rows?$$.load($$.convertDataToTargets($$.convertRowsToData(args.rows)),args):args.columns?$$.load($$.convertDataToTargets($$.convertColumnsToData(args.columns)),args):$$.load(null,args)},c3_chart_internal_fn.unload=function(targetIds,done){var $$=this;return done||(done=function(){}),targetIds=targetIds.filter(function(id){return $$.hasTarget($$.data.targets,id)}),targetIds&&0!==targetIds.length?($$.svg.selectAll(targetIds.map(function(id){return $$.selectorTarget(id)})).transition().style("opacity",0).remove().call($$.endall,done),void targetIds.forEach(function(id){$$.withoutFadeIn[id]=!1,$$.legend&&$$.legend.selectAll("."+CLASS.legendItem+$$.getTargetSelectorSuffix(id)).remove(),$$.data.targets=$$.data.targets.filter(function(t){return t.id!==id})})):void done()},c3_chart_internal_fn.categoryName=function(i){var config=this.config;return i<config.axis_x_categories.length?config.axis_x_categories[i]:i},c3_chart_internal_fn.initEventRect=function(){var $$=this;$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.eventRects).style("fill-opacity",0)},c3_chart_internal_fn.redrawEventRect=function(){var eventRectUpdate,maxDataCountTarget,$$=this,config=$$.config,isMultipleX=$$.isMultipleX(),eventRects=$$.main.select("."+CLASS.eventRects).style("cursor",config.zoom_enabled?config.axis_rotated?"ns-resize":"ew-resize":null).classed(CLASS.eventRectsMultiple,isMultipleX).classed(CLASS.eventRectsSingle,!isMultipleX);eventRects.selectAll("."+CLASS.eventRect).remove(),$$.eventRect=eventRects.selectAll("."+CLASS.eventRect),isMultipleX?(eventRectUpdate=$$.eventRect.data([0]),$$.generateEventRectsForMultipleXs(eventRectUpdate.enter()),$$.updateEventRect(eventRectUpdate)):(maxDataCountTarget=$$.getMaxDataCountTarget($$.data.targets),eventRects.datum(maxDataCountTarget?maxDataCountTarget.values:[]),$$.eventRect=eventRects.selectAll("."+CLASS.eventRect),eventRectUpdate=$$.eventRect.data(function(d){return d}),$$.generateEventRectsForSingleX(eventRectUpdate.enter()),$$.updateEventRect(eventRectUpdate),eventRectUpdate.exit().remove())},c3_chart_internal_fn.updateEventRect=function(eventRectUpdate){var x,y,w,h,rectW,rectX,$$=this,config=$$.config;eventRectUpdate=eventRectUpdate||$$.eventRect.data(function(d){return d}),$$.isMultipleX()?(x=0,y=0,w=$$.width,h=$$.height):(!$$.isCustomX()&&!$$.isTimeSeries()||$$.isCategorized()?(rectW=$$.getEventRectWidth(),rectX=function(d){return $$.x(d.x)-rectW/2}):($$.updateXs(),rectW=function(d){var prevX=$$.getPrevX(d.index),nextX=$$.getNextX(d.index);return null===prevX&&null===nextX?config.axis_rotated?$$.height:$$.width:(null===prevX&&(prevX=$$.x.domain()[0]),null===nextX&&(nextX=$$.x.domain()[1]),Math.max(0,($$.x(nextX)-$$.x(prevX))/2))},rectX=function(d){var prevX=$$.getPrevX(d.index),nextX=$$.getNextX(d.index),thisX=$$.data.xs[d.id][d.index];return null===prevX&&null===nextX?0:(null===prevX&&(prevX=$$.x.domain()[0]),($$.x(thisX)+$$.x(prevX))/2)}),x=config.axis_rotated?0:rectX,y=config.axis_rotated?rectX:0,w=config.axis_rotated?$$.width:rectW,h=config.axis_rotated?rectW:$$.height),eventRectUpdate.attr("class",$$.classEvent.bind($$)).attr("x",x).attr("y",y).attr("width",w).attr("height",h)},c3_chart_internal_fn.generateEventRectsForSingleX=function(eventRectEnter){var $$=this,d3=$$.d3,config=$$.config;eventRectEnter.append("rect").attr("class",$$.classEvent.bind($$)).style("cursor",config.data_selection_enabled&&config.data_selection_grouped?"pointer":null).on("mouseover",function(d){var index=d.index;$$.dragging||$$.flowing||$$.hasArcType()||(config.point_focus_expand_enabled&&$$.expandCircles(index,null,!0),$$.expandBars(index,null,!0),$$.main.selectAll("."+CLASS.shape+"-"+index).each(function(d){config.data_onmouseover.call($$.api,d)}))}).on("mouseout",function(d){var index=d.index;$$.config&&($$.hasArcType()||($$.hideXGridFocus(),$$.hideTooltip(),$$.unexpandCircles(),$$.unexpandBars(),$$.main.selectAll("."+CLASS.shape+"-"+index).each(function(d){config.data_onmouseout.call($$.api,d)})))}).on("mousemove",function(d){var selectedData,index=d.index,eventRect=$$.svg.select("."+CLASS.eventRect+"-"+index);$$.dragging||$$.flowing||$$.hasArcType()||($$.isStepType(d)&&"step-after"===$$.config.line_step_type&&d3.mouse(this)[0]<$$.x($$.getXValue(d.id,index))&&(index-=1),selectedData=$$.filterTargetsToShow($$.data.targets).map(function(t){return $$.addName($$.getValueOnIndex(t.values,index))}),config.tooltip_grouped&&($$.showTooltip(selectedData,this),$$.showXGridFocus(selectedData)),(!config.tooltip_grouped||config.data_selection_enabled&&!config.data_selection_grouped)&&$$.main.selectAll("."+CLASS.shape+"-"+index).each(function(){d3.select(this).classed(CLASS.EXPANDED,!0),config.data_selection_enabled&&eventRect.style("cursor",config.data_selection_grouped?"pointer":null),config.tooltip_grouped||($$.hideXGridFocus(),$$.hideTooltip(),config.data_selection_grouped||($$.unexpandCircles(index),$$.unexpandBars(index)))}).filter(function(d){return $$.isWithinShape(this,d)}).each(function(d){config.data_selection_enabled&&(config.data_selection_grouped||config.data_selection_isselectable(d))&&eventRect.style("cursor","pointer"),config.tooltip_grouped||($$.showTooltip([d],this),$$.showXGridFocus([d]),config.point_focus_expand_enabled&&$$.expandCircles(index,d.id,!0),$$.expandBars(index,d.id,!0))}))}).on("click",function(d){var index=d.index;if(!$$.hasArcType()&&$$.toggleShape){if($$.cancelClick)return void($$.cancelClick=!1);$$.isStepType(d)&&"step-after"===config.line_step_type&&d3.mouse(this)[0]<$$.x($$.getXValue(d.id,index))&&(index-=1),$$.main.selectAll("."+CLASS.shape+"-"+index).each(function(d){(config.data_selection_grouped||$$.isWithinShape(this,d))&&($$.toggleShape(this,d,index),$$.config.data_onclick.call($$.api,d,this))})}}).call(config.data_selection_draggable&&$$.drag?d3.behavior.drag().origin(Object).on("drag",function(){$$.drag(d3.mouse(this))}).on("dragstart",function(){$$.dragstart(d3.mouse(this))}).on("dragend",function(){$$.dragend()}):function(){})},c3_chart_internal_fn.generateEventRectsForMultipleXs=function(eventRectEnter){function mouseout(){$$.svg.select("."+CLASS.eventRect).style("cursor",null),$$.hideXGridFocus(),$$.hideTooltip(),$$.unexpandCircles(),$$.unexpandBars()}var $$=this,d3=$$.d3,config=$$.config;eventRectEnter.append("rect").attr("x",0).attr("y",0).attr("width",$$.width).attr("height",$$.height).attr("class",CLASS.eventRect).on("mouseout",function(){$$.config&&($$.hasArcType()||mouseout())}).on("mousemove",function(){var mouse,closest,sameXData,selectedData,targetsToShow=$$.filterTargetsToShow($$.data.targets);if(!$$.dragging&&!$$.hasArcType(targetsToShow)){if(mouse=d3.mouse(this),closest=$$.findClosestFromTargets(targetsToShow,mouse),!$$.mouseover||closest&&closest.id===$$.mouseover.id||(config.data_onmouseout.call($$.api,$$.mouseover),$$.mouseover=void 0),!closest)return void mouseout();sameXData=$$.isScatterType(closest)||!config.tooltip_grouped?[closest]:$$.filterByX(targetsToShow,closest.x),selectedData=sameXData.map(function(d){return $$.addName(d)}),$$.showTooltip(selectedData,this),config.point_focus_expand_enabled&&$$.expandCircles(closest.index,closest.id,!0),$$.expandBars(closest.index,closest.id,!0),$$.showXGridFocus(selectedData),($$.isBarType(closest.id)||$$.dist(closest,mouse)<config.point_sensitivity)&&($$.svg.select("."+CLASS.eventRect).style("cursor","pointer"),$$.mouseover||(config.data_onmouseover.call($$.api,closest),$$.mouseover=closest))}}).on("click",function(){var mouse,closest,targetsToShow=$$.filterTargetsToShow($$.data.targets);$$.hasArcType(targetsToShow)||(mouse=d3.mouse(this),closest=$$.findClosestFromTargets(targetsToShow,mouse),closest&&($$.isBarType(closest.id)||$$.dist(closest,mouse)<config.point_sensitivity)&&$$.main.selectAll("."+CLASS.shapes+$$.getTargetSelectorSuffix(closest.id)).selectAll("."+CLASS.shape+"-"+closest.index).each(function(){(config.data_selection_grouped||$$.isWithinShape(this,closest))&&($$.toggleShape(this,closest,closest.index),
$$.config.data_onclick.call($$.api,closest,this))}))}).call(config.data_selection_draggable&&$$.drag?d3.behavior.drag().origin(Object).on("drag",function(){$$.drag(d3.mouse(this))}).on("dragstart",function(){$$.dragstart(d3.mouse(this))}).on("dragend",function(){$$.dragend()}):function(){})},c3_chart_internal_fn.dispatchEvent=function(type,index,mouse){var $$=this,selector="."+CLASS.eventRect+($$.isMultipleX()?"":"-"+index),eventRect=$$.main.select(selector).node(),box=eventRect.getBoundingClientRect(),x=box.left+(mouse?mouse[0]:0),y=box.top+(mouse?mouse[1]:0),event=document.createEvent("MouseEvents");event.initMouseEvent(type,!0,!0,window,0,x,y,x,y,!1,!1,!1,!1,0,null),eventRect.dispatchEvent(event)},c3_chart_internal_fn.getCurrentWidth=function(){var $$=this,config=$$.config;return config.size_width?config.size_width:$$.getParentWidth()},c3_chart_internal_fn.getCurrentHeight=function(){var $$=this,config=$$.config,h=config.size_height?config.size_height:$$.getParentHeight();return h>0?h:320/($$.hasType("gauge")?2:1)},c3_chart_internal_fn.getCurrentPaddingTop=function(){var $$=this,config=$$.config,padding=isValue(config.padding_top)?config.padding_top:0;return $$.title&&$$.title.node()&&(padding+=$$.getTitlePadding()),padding},c3_chart_internal_fn.getCurrentPaddingBottom=function(){var config=this.config;return isValue(config.padding_bottom)?config.padding_bottom:0},c3_chart_internal_fn.getCurrentPaddingLeft=function(withoutRecompute){var $$=this,config=$$.config;return isValue(config.padding_left)?config.padding_left:config.axis_rotated?config.axis_x_show?Math.max(ceil10($$.getAxisWidthByAxisId("x",withoutRecompute)),40):1:!config.axis_y_show||config.axis_y_inner?$$.axis.getYAxisLabelPosition().isOuter?30:1:ceil10($$.getAxisWidthByAxisId("y",withoutRecompute))},c3_chart_internal_fn.getCurrentPaddingRight=function(){var $$=this,config=$$.config,defaultPadding=10,legendWidthOnRight=$$.isLegendRight?$$.getLegendWidth()+20:0;return isValue(config.padding_right)?config.padding_right+1:config.axis_rotated?defaultPadding+legendWidthOnRight:!config.axis_y2_show||config.axis_y2_inner?2+legendWidthOnRight+($$.axis.getY2AxisLabelPosition().isOuter?20:0):ceil10($$.getAxisWidthByAxisId("y2"))+legendWidthOnRight},c3_chart_internal_fn.getParentRectValue=function(key){for(var v,parent=this.selectChart.node();parent&&"BODY"!==parent.tagName;){try{v=parent.getBoundingClientRect()[key]}catch(e){"width"===key&&(v=parent.offsetWidth)}if(v)break;parent=parent.parentNode}return v},c3_chart_internal_fn.getParentWidth=function(){return this.getParentRectValue("width")},c3_chart_internal_fn.getParentHeight=function(){var h=this.selectChart.style("height");return h.indexOf("px")>0?+h.replace("px",""):0},c3_chart_internal_fn.getSvgLeft=function(withoutRecompute){var $$=this,config=$$.config,hasLeftAxisRect=config.axis_rotated||!config.axis_rotated&&!config.axis_y_inner,leftAxisClass=config.axis_rotated?CLASS.axisX:CLASS.axisY,leftAxis=$$.main.select("."+leftAxisClass).node(),svgRect=leftAxis&&hasLeftAxisRect?leftAxis.getBoundingClientRect():{right:0},chartRect=$$.selectChart.node().getBoundingClientRect(),hasArc=$$.hasArcType(),svgLeft=svgRect.right-chartRect.left-(hasArc?0:$$.getCurrentPaddingLeft(withoutRecompute));return svgLeft>0?svgLeft:0},c3_chart_internal_fn.getAxisWidthByAxisId=function(id,withoutRecompute){var $$=this,position=$$.axis.getLabelPositionById(id);return $$.axis.getMaxTickWidth(id,withoutRecompute)+(position.isInner?20:40)},c3_chart_internal_fn.getHorizontalAxisHeight=function(axisId){var $$=this,config=$$.config,h=30;return"x"!==axisId||config.axis_x_show?"x"===axisId&&config.axis_x_height?config.axis_x_height:"y"!==axisId||config.axis_y_show?"y2"!==axisId||config.axis_y2_show?("x"===axisId&&!config.axis_rotated&&config.axis_x_tick_rotate&&(h=30+$$.axis.getMaxTickWidth(axisId)*Math.cos(Math.PI*(90-config.axis_x_tick_rotate)/180)),h+($$.axis.getLabelPositionById(axisId).isInner?0:10)+("y2"===axisId?-10:0)):$$.rotated_padding_top:!config.legend_show||$$.isLegendRight||$$.isLegendInset?1:10:8},c3_chart_internal_fn.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},c3_chart_internal_fn.getShapeIndices=function(typeFilter){var j,k,$$=this,config=$$.config,indices={},i=0;return $$.filterTargetsToShow($$.data.targets.filter(typeFilter,$$)).forEach(function(d){for(j=0;j<config.data_groups.length;j++)if(!(config.data_groups[j].indexOf(d.id)<0))for(k=0;k<config.data_groups[j].length;k++)if(config.data_groups[j][k]in indices){indices[d.id]=indices[config.data_groups[j][k]];break}isUndefined(indices[d.id])&&(indices[d.id]=i++)}),indices.__max__=i-1,indices},c3_chart_internal_fn.getShapeX=function(offset,targetsNum,indices,isSub){var $$=this,scale=isSub?$$.subX:$$.x;return function(d){var index=d.id in indices?indices[d.id]:0;return d.x||0===d.x?scale(d.x)-offset*(targetsNum/2-index):0}},c3_chart_internal_fn.getShapeY=function(isSub){var $$=this;return function(d){var scale=isSub?$$.getSubYScale(d.id):$$.getYScale(d.id);return scale(d.value)}},c3_chart_internal_fn.getShapeOffset=function(typeFilter,indices,isSub){var $$=this,targets=$$.orderTargets($$.filterTargetsToShow($$.data.targets.filter(typeFilter,$$))),targetIds=targets.map(function(t){return t.id});return function(d,i){var scale=isSub?$$.getSubYScale(d.id):$$.getYScale(d.id),y0=scale(0),offset=y0;return targets.forEach(function(t){var values=$$.isStepType(d)?$$.convertValuesToStep(t.values):t.values;t.id!==d.id&&indices[t.id]===indices[d.id]&&targetIds.indexOf(t.id)<targetIds.indexOf(d.id)&&("undefined"!=typeof values[i]&&+values[i].x===+d.x||(i=-1,values.forEach(function(v,j){v.x===d.x&&(i=j)})),i in values&&values[i].value*d.value>=0&&(offset+=scale(values[i].value)-y0))}),offset}},c3_chart_internal_fn.isWithinShape=function(that,d){var isWithin,$$=this,shape=$$.d3.select(that);return $$.isTargetToShow(d.id)?"circle"===that.nodeName?isWithin=$$.isStepType(d)?$$.isWithinStep(that,$$.getYScale(d.id)(d.value)):$$.isWithinCircle(that,1.5*$$.pointSelectR(d)):"path"===that.nodeName&&(isWithin=!shape.classed(CLASS.bar)||$$.isWithinBar(that)):isWithin=!1,isWithin},c3_chart_internal_fn.getInterpolate=function(d){var $$=this,interpolation=$$.isInterpolationType($$.config.spline_interpolation_type)?$$.config.spline_interpolation_type:"cardinal";return $$.isSplineType(d)?interpolation:$$.isStepType(d)?$$.config.line_step_type:"linear"},c3_chart_internal_fn.initLine=function(){var $$=this;$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.chartLines)},c3_chart_internal_fn.updateTargetsForLine=function(targets){var mainLineUpdate,mainLineEnter,$$=this,config=$$.config,classChartLine=$$.classChartLine.bind($$),classLines=$$.classLines.bind($$),classAreas=$$.classAreas.bind($$),classCircles=$$.classCircles.bind($$),classFocus=$$.classFocus.bind($$);mainLineUpdate=$$.main.select("."+CLASS.chartLines).selectAll("."+CLASS.chartLine).data(targets).attr("class",function(d){return classChartLine(d)+classFocus(d)}),mainLineEnter=mainLineUpdate.enter().append("g").attr("class",classChartLine).style("opacity",0).style("pointer-events","none"),mainLineEnter.append("g").attr("class",classLines),mainLineEnter.append("g").attr("class",classAreas),mainLineEnter.append("g").attr("class",function(d){return $$.generateClass(CLASS.selectedCircles,d.id)}),mainLineEnter.append("g").attr("class",classCircles).style("cursor",function(d){return config.data_selection_isselectable(d)?"pointer":null}),targets.forEach(function(t){$$.main.selectAll("."+CLASS.selectedCircles+$$.getTargetSelectorSuffix(t.id)).selectAll("."+CLASS.selectedCircle).each(function(d){d.value=t.values[d.index].value})})},c3_chart_internal_fn.updateLine=function(durationForExit){var $$=this;$$.mainLine=$$.main.selectAll("."+CLASS.lines).selectAll("."+CLASS.line).data($$.lineData.bind($$)),$$.mainLine.enter().append("path").attr("class",$$.classLine.bind($$)).style("stroke",$$.color),$$.mainLine.style("opacity",$$.initialOpacity.bind($$)).style("shape-rendering",function(d){return $$.isStepType(d)?"crispEdges":""}).attr("transform",null),$$.mainLine.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawLine=function(drawLine,withTransition){return[(withTransition?this.mainLine.transition():this.mainLine).attr("d",drawLine).style("stroke",this.color).style("opacity",1)]},c3_chart_internal_fn.generateDrawLine=function(lineIndices,isSub){var $$=this,config=$$.config,line=$$.d3.svg.line(),getPoints=$$.generateGetLinePoints(lineIndices,isSub),yScaleGetter=isSub?$$.getSubYScale:$$.getYScale,xValue=function(d){return(isSub?$$.subxx:$$.xx).call($$,d)},yValue=function(d,i){return config.data_groups.length>0?getPoints(d,i)[0][1]:yScaleGetter.call($$,d.id)(d.value)};return line=config.axis_rotated?line.x(yValue).y(xValue):line.x(xValue).y(yValue),config.line_connectNull||(line=line.defined(function(d){return null!=d.value})),function(d){var path,values=config.line_connectNull?$$.filterRemoveNull(d.values):d.values,x=isSub?$$.x:$$.subX,y=yScaleGetter.call($$,d.id),x0=0,y0=0;return $$.isLineType(d)?config.data_regions[d.id]?path=$$.lineWithRegions(values,x,y,config.data_regions[d.id]):($$.isStepType(d)&&(values=$$.convertValuesToStep(values)),path=line.interpolate($$.getInterpolate(d))(values)):(values[0]&&(x0=x(values[0].x),y0=y(values[0].value)),path=config.axis_rotated?"M "+y0+" "+x0:"M "+x0+" "+y0),path?path:"M 0 0"}},c3_chart_internal_fn.generateGetLinePoints=function(lineIndices,isSub){var $$=this,config=$$.config,lineTargetsNum=lineIndices.__max__+1,x=$$.getShapeX(0,lineTargetsNum,lineIndices,!!isSub),y=$$.getShapeY(!!isSub),lineOffset=$$.getShapeOffset($$.isLineType,lineIndices,!!isSub),yScale=isSub?$$.getSubYScale:$$.getYScale;return function(d,i){var y0=yScale.call($$,d.id)(0),offset=lineOffset(d,i)||y0,posX=x(d),posY=y(d);return config.axis_rotated&&(0<d.value&&posY<y0||d.value<0&&y0<posY)&&(posY=y0),[[posX,posY-(y0-offset)],[posX,posY-(y0-offset)],[posX,posY-(y0-offset)],[posX,posY-(y0-offset)]]}},c3_chart_internal_fn.lineWithRegions=function(d,x,y,_regions){function isWithinRegions(x,regions){var i;for(i=0;i<regions.length;i++)if(regions[i].start<x&&x<=regions[i].end)return!0;return!1}function generateM(points){return"M"+points[0][0]+" "+points[0][1]+" "+points[1][0]+" "+points[1][1]}var i,j,sWithRegion,xp,yp,dx,dy,dd,diff,diffx2,xValue,yValue,$$=this,config=$$.config,prev=-1,s="M",xOffset=$$.isCategorized()?.5:0,regions=[];if(isDefined(_regions))for(i=0;i<_regions.length;i++)regions[i]={},isUndefined(_regions[i].start)?regions[i].start=d[0].x:regions[i].start=$$.isTimeSeries()?$$.parseDate(_regions[i].start):_regions[i].start,isUndefined(_regions[i].end)?regions[i].end=d[d.length-1].x:regions[i].end=$$.isTimeSeries()?$$.parseDate(_regions[i].end):_regions[i].end;for(xValue=config.axis_rotated?function(d){return y(d.value)}:function(d){return x(d.x)},yValue=config.axis_rotated?function(d){return x(d.x)}:function(d){return y(d.value)},sWithRegion=$$.isTimeSeries()?function(d0,d1,j,diff){var points,x0=d0.x.getTime(),x_diff=d1.x-d0.x,xv0=new Date(x0+x_diff*j),xv1=new Date(x0+x_diff*(j+diff));return points=config.axis_rotated?[[y(yp(j)),x(xv0)],[y(yp(j+diff)),x(xv1)]]:[[x(xv0),y(yp(j))],[x(xv1),y(yp(j+diff))]],generateM(points)}:function(d0,d1,j,diff){var points;return points=config.axis_rotated?[[y(yp(j),!0),x(xp(j))],[y(yp(j+diff),!0),x(xp(j+diff))]]:[[x(xp(j),!0),y(yp(j))],[x(xp(j+diff),!0),y(yp(j+diff))]],generateM(points)},i=0;i<d.length;i++){if(isUndefined(regions)||!isWithinRegions(d[i].x,regions))s+=" "+xValue(d[i])+" "+yValue(d[i]);else for(xp=$$.getScale(d[i-1].x+xOffset,d[i].x+xOffset,$$.isTimeSeries()),yp=$$.getScale(d[i-1].value,d[i].value),dx=x(d[i].x)-x(d[i-1].x),dy=y(d[i].value)-y(d[i-1].value),dd=Math.sqrt(Math.pow(dx,2)+Math.pow(dy,2)),diff=2/dd,diffx2=2*diff,j=diff;j<=1;j+=diffx2)s+=sWithRegion(d[i-1],d[i],j,diff);prev=d[i].x}return s},c3_chart_internal_fn.updateArea=function(durationForExit){var $$=this,d3=$$.d3;$$.mainArea=$$.main.selectAll("."+CLASS.areas).selectAll("."+CLASS.area).data($$.lineData.bind($$)),$$.mainArea.enter().append("path").attr("class",$$.classArea.bind($$)).style("fill",$$.color).style("opacity",function(){return $$.orgAreaOpacity=+d3.select(this).style("opacity"),0}),$$.mainArea.style("opacity",$$.orgAreaOpacity),$$.mainArea.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawArea=function(drawArea,withTransition){return[(withTransition?this.mainArea.transition():this.mainArea).attr("d",drawArea).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},c3_chart_internal_fn.generateDrawArea=function(areaIndices,isSub){var $$=this,config=$$.config,area=$$.d3.svg.area(),getPoints=$$.generateGetAreaPoints(areaIndices,isSub),yScaleGetter=isSub?$$.getSubYScale:$$.getYScale,xValue=function(d){return(isSub?$$.subxx:$$.xx).call($$,d)},value0=function(d,i){return config.data_groups.length>0?getPoints(d,i)[0][1]:yScaleGetter.call($$,d.id)($$.getAreaBaseValue(d.id))},value1=function(d,i){return config.data_groups.length>0?getPoints(d,i)[1][1]:yScaleGetter.call($$,d.id)(d.value)};return area=config.axis_rotated?area.x0(value0).x1(value1).y(xValue):area.x(xValue).y0(value0).y1(value1),config.line_connectNull||(area=area.defined(function(d){return null!==d.value})),function(d){var path,values=config.line_connectNull?$$.filterRemoveNull(d.values):d.values,x0=0,y0=0;return $$.isAreaType(d)?($$.isStepType(d)&&(values=$$.convertValuesToStep(values)),path=area.interpolate($$.getInterpolate(d))(values)):(values[0]&&(x0=$$.x(values[0].x),y0=$$.getYScale(d.id)(values[0].value)),path=config.axis_rotated?"M "+y0+" "+x0:"M "+x0+" "+y0),path?path:"M 0 0"}},c3_chart_internal_fn.getAreaBaseValue=function(){return 0},c3_chart_internal_fn.generateGetAreaPoints=function(areaIndices,isSub){var $$=this,config=$$.config,areaTargetsNum=areaIndices.__max__+1,x=$$.getShapeX(0,areaTargetsNum,areaIndices,!!isSub),y=$$.getShapeY(!!isSub),areaOffset=$$.getShapeOffset($$.isAreaType,areaIndices,!!isSub),yScale=isSub?$$.getSubYScale:$$.getYScale;return function(d,i){var y0=yScale.call($$,d.id)(0),offset=areaOffset(d,i)||y0,posX=x(d),posY=y(d);return config.axis_rotated&&(0<d.value&&posY<y0||d.value<0&&y0<posY)&&(posY=y0),[[posX,offset],[posX,posY-(y0-offset)],[posX,posY-(y0-offset)],[posX,offset]]}},c3_chart_internal_fn.updateCircle=function(){var $$=this;$$.mainCircle=$$.main.selectAll("."+CLASS.circles).selectAll("."+CLASS.circle).data($$.lineOrScatterData.bind($$)),$$.mainCircle.enter().append("circle").attr("class",$$.classCircle.bind($$)).attr("r",$$.pointR.bind($$)).style("fill",$$.color),$$.mainCircle.style("opacity",$$.initialOpacityForCircle.bind($$)),$$.mainCircle.exit().remove()},c3_chart_internal_fn.redrawCircle=function(cx,cy,withTransition){var selectedCircles=this.main.selectAll("."+CLASS.selectedCircle);return[(withTransition?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",cx).attr("cy",cy),(withTransition?selectedCircles.transition():selectedCircles).attr("cx",cx).attr("cy",cy)]},c3_chart_internal_fn.circleX=function(d){return d.x||0===d.x?this.x(d.x):null},c3_chart_internal_fn.updateCircleY=function(){var lineIndices,getPoints,$$=this;$$.config.data_groups.length>0?(lineIndices=$$.getShapeIndices($$.isLineType),getPoints=$$.generateGetLinePoints(lineIndices),$$.circleY=function(d,i){return getPoints(d,i)[0][1]}):$$.circleY=function(d){return $$.getYScale(d.id)(d.value)}},c3_chart_internal_fn.getCircles=function(i,id){var $$=this;return(id?$$.main.selectAll("."+CLASS.circles+$$.getTargetSelectorSuffix(id)):$$.main).selectAll("."+CLASS.circle+(isValue(i)?"-"+i:""))},c3_chart_internal_fn.expandCircles=function(i,id,reset){var $$=this,r=$$.pointExpandedR.bind($$);reset&&$$.unexpandCircles(),$$.getCircles(i,id).classed(CLASS.EXPANDED,!0).attr("r",r)},c3_chart_internal_fn.unexpandCircles=function(i){var $$=this,r=$$.pointR.bind($$);$$.getCircles(i).filter(function(){return $$.d3.select(this).classed(CLASS.EXPANDED)}).classed(CLASS.EXPANDED,!1).attr("r",r)},c3_chart_internal_fn.pointR=function(d){var $$=this,config=$$.config;return $$.isStepType(d)?0:isFunction(config.point_r)?config.point_r(d):config.point_r},c3_chart_internal_fn.pointExpandedR=function(d){var $$=this,config=$$.config;return config.point_focus_expand_enabled?config.point_focus_expand_r?config.point_focus_expand_r:1.75*$$.pointR(d):$$.pointR(d)},c3_chart_internal_fn.pointSelectR=function(d){var $$=this,config=$$.config;return config.point_select_r?config.point_select_r:4*$$.pointR(d)},c3_chart_internal_fn.isWithinCircle=function(that,r){var d3=this.d3,mouse=d3.mouse(that),d3_this=d3.select(that),cx=+d3_this.attr("cx"),cy=+d3_this.attr("cy");return Math.sqrt(Math.pow(cx-mouse[0],2)+Math.pow(cy-mouse[1],2))<r},c3_chart_internal_fn.isWithinStep=function(that,y){return Math.abs(y-this.d3.mouse(that)[1])<30},c3_chart_internal_fn.initBar=function(){var $$=this;$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.chartBars)},c3_chart_internal_fn.updateTargetsForBar=function(targets){var mainBarUpdate,mainBarEnter,$$=this,config=$$.config,classChartBar=$$.classChartBar.bind($$),classBars=$$.classBars.bind($$),classFocus=$$.classFocus.bind($$);mainBarUpdate=$$.main.select("."+CLASS.chartBars).selectAll("."+CLASS.chartBar).data(targets).attr("class",function(d){return classChartBar(d)+classFocus(d)}),mainBarEnter=mainBarUpdate.enter().append("g").attr("class",classChartBar).style("opacity",0).style("pointer-events","none"),mainBarEnter.append("g").attr("class",classBars).style("cursor",function(d){return config.data_selection_isselectable(d)?"pointer":null})},c3_chart_internal_fn.updateBar=function(durationForExit){var $$=this,barData=$$.barData.bind($$),classBar=$$.classBar.bind($$),initialOpacity=$$.initialOpacity.bind($$),color=function(d){return $$.color(d.id)};$$.mainBar=$$.main.selectAll("."+CLASS.bars).selectAll("."+CLASS.bar).data(barData),$$.mainBar.enter().append("path").attr("class",classBar).style("stroke",color).style("fill",color),$$.mainBar.style("opacity",initialOpacity),$$.mainBar.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawBar=function(drawBar,withTransition){return[(withTransition?this.mainBar.transition():this.mainBar).attr("d",drawBar).style("fill",this.color).style("opacity",1)]},c3_chart_internal_fn.getBarW=function(axis,barTargetsNum){var $$=this,config=$$.config,w="number"==typeof config.bar_width?config.bar_width:barTargetsNum?axis.tickInterval()*config.bar_width_ratio/barTargetsNum:0;return config.bar_width_max&&w>config.bar_width_max?config.bar_width_max:w},c3_chart_internal_fn.getBars=function(i,id){var $$=this;return(id?$$.main.selectAll("."+CLASS.bars+$$.getTargetSelectorSuffix(id)):$$.main).selectAll("."+CLASS.bar+(isValue(i)?"-"+i:""))},c3_chart_internal_fn.expandBars=function(i,id,reset){var $$=this;reset&&$$.unexpandBars(),$$.getBars(i,id).classed(CLASS.EXPANDED,!0)},c3_chart_internal_fn.unexpandBars=function(i){var $$=this;$$.getBars(i).classed(CLASS.EXPANDED,!1)},c3_chart_internal_fn.generateDrawBar=function(barIndices,isSub){var $$=this,config=$$.config,getPoints=$$.generateGetBarPoints(barIndices,isSub);return function(d,i){var points=getPoints(d,i),indexX=config.axis_rotated?1:0,indexY=config.axis_rotated?0:1,path="M "+points[0][indexX]+","+points[0][indexY]+" L"+points[1][indexX]+","+points[1][indexY]+" L"+points[2][indexX]+","+points[2][indexY]+" L"+points[3][indexX]+","+points[3][indexY]+" z";return path}},c3_chart_internal_fn.generateGetBarPoints=function(barIndices,isSub){var $$=this,axis=isSub?$$.subXAxis:$$.xAxis,barTargetsNum=barIndices.__max__+1,barW=$$.getBarW(axis,barTargetsNum),barX=$$.getShapeX(barW,barTargetsNum,barIndices,!!isSub),barY=$$.getShapeY(!!isSub),barOffset=$$.getShapeOffset($$.isBarType,barIndices,!!isSub),yScale=isSub?$$.getSubYScale:$$.getYScale;return function(d,i){var y0=yScale.call($$,d.id)(0),offset=barOffset(d,i)||y0,posX=barX(d),posY=barY(d);return $$.config.axis_rotated&&(0<d.value&&posY<y0||d.value<0&&y0<posY)&&(posY=y0),[[posX,offset],[posX,posY-(y0-offset)],[posX+barW,posY-(y0-offset)],[posX+barW,offset]]}},c3_chart_internal_fn.isWithinBar=function(that){var mouse=this.d3.mouse(that),box=that.getBoundingClientRect(),seg0=that.pathSegList.getItem(0),seg1=that.pathSegList.getItem(1),x=Math.min(seg0.x,seg1.x),y=Math.min(seg0.y,seg1.y),w=box.width,h=box.height,offset=2,sx=x-offset,ex=x+w+offset,sy=y+h+offset,ey=y-offset;return sx<mouse[0]&&mouse[0]<ex&&ey<mouse[1]&&mouse[1]<sy},c3_chart_internal_fn.initText=function(){var $$=this;$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.chartTexts),$$.mainText=$$.d3.selectAll([])},c3_chart_internal_fn.updateTargetsForText=function(targets){var mainTextUpdate,mainTextEnter,$$=this,classChartText=$$.classChartText.bind($$),classTexts=$$.classTexts.bind($$),classFocus=$$.classFocus.bind($$);mainTextUpdate=$$.main.select("."+CLASS.chartTexts).selectAll("."+CLASS.chartText).data(targets).attr("class",function(d){return classChartText(d)+classFocus(d)}),mainTextEnter=mainTextUpdate.enter().append("g").attr("class",classChartText).style("opacity",0).style("pointer-events","none"),mainTextEnter.append("g").attr("class",classTexts)},c3_chart_internal_fn.updateText=function(durationForExit){var $$=this,config=$$.config,barOrLineData=$$.barOrLineData.bind($$),classText=$$.classText.bind($$);$$.mainText=$$.main.selectAll("."+CLASS.texts).selectAll("."+CLASS.text).data(barOrLineData),$$.mainText.enter().append("text").attr("class",classText).attr("text-anchor",function(d){return config.axis_rotated?d.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(d){return $$.color(d)}).style("fill-opacity",0),$$.mainText.text(function(d,i,j){return $$.dataLabelFormat(d.id)(d.value,d.id,i,j)}),$$.mainText.exit().transition().duration(durationForExit).style("fill-opacity",0).remove()},c3_chart_internal_fn.redrawText=function(xForText,yForText,forFlow,withTransition){return[(withTransition?this.mainText.transition():this.mainText).attr("x",xForText).attr("y",yForText).style("fill",this.color).style("fill-opacity",forFlow?0:this.opacityForText.bind(this))]},c3_chart_internal_fn.getTextRect=function(text,cls,element){var rect,dummy=this.d3.select("body").append("div").classed("c3",!0),svg=dummy.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),font=this.d3.select(element).style("font");return svg.selectAll(".dummy").data([text]).enter().append("text").classed(cls?cls:"",!0).style("font",font).text(text).each(function(){rect=this.getBoundingClientRect()}),dummy.remove(),rect},c3_chart_internal_fn.generateXYForText=function(areaIndices,barIndices,lineIndices,forX){var $$=this,getAreaPoints=$$.generateGetAreaPoints(areaIndices,!1),getBarPoints=$$.generateGetBarPoints(barIndices,!1),getLinePoints=$$.generateGetLinePoints(lineIndices,!1),getter=forX?$$.getXForText:$$.getYForText;return function(d,i){var getPoints=$$.isAreaType(d)?getAreaPoints:$$.isBarType(d)?getBarPoints:getLinePoints;return getter.call($$,getPoints(d,i),d,this)}},c3_chart_internal_fn.getXForText=function(points,d,textElement){var xPos,padding,$$=this,box=textElement.getBoundingClientRect();return $$.config.axis_rotated?(padding=$$.isBarType(d)?4:6,xPos=points[2][1]+padding*(d.value<0?-1:1)):xPos=$$.hasType("bar")?(points[2][0]+points[0][0])/2:points[0][0],null===d.value&&(xPos>$$.width?xPos=$$.width-box.width:xPos<0&&(xPos=4)),xPos},c3_chart_internal_fn.getYForText=function(points,d,textElement){var yPos,$$=this,box=textElement.getBoundingClientRect();return $$.config.axis_rotated?yPos=(points[0][0]+points[2][0]+.6*box.height)/2:(yPos=points[2][1],d.value<0||0===d.value&&!$$.hasPositiveValue?(yPos+=box.height,$$.isBarType(d)&&$$.isSafari()?yPos-=3:!$$.isBarType(d)&&$$.isChrome()&&(yPos+=3)):yPos+=$$.isBarType(d)?-3:-6),null!==d.value||$$.config.axis_rotated||(yPos<box.height?yPos=box.height:yPos>this.height&&(yPos=this.height-4)),yPos},c3_chart_internal_fn.setTargetType=function(targetIds,type){var $$=this,config=$$.config;$$.mapToTargetIds(targetIds).forEach(function(id){$$.withoutFadeIn[id]=type===config.data_types[id],config.data_types[id]=type}),targetIds||(config.data_type=type)},c3_chart_internal_fn.hasType=function(type,targets){var $$=this,types=$$.config.data_types,has=!1;return targets=targets||$$.data.targets,targets&&targets.length?targets.forEach(function(target){var t=types[target.id];(t&&t.indexOf(type)>=0||!t&&"line"===type)&&(has=!0)}):Object.keys(types).length?Object.keys(types).forEach(function(id){types[id]===type&&(has=!0)}):has=$$.config.data_type===type,has},c3_chart_internal_fn.hasArcType=function(targets){return this.hasType("pie",targets)||this.hasType("donut",targets)||this.hasType("gauge",targets)},c3_chart_internal_fn.isLineType=function(d){var config=this.config,id=isString(d)?d:d.id;return!config.data_types[id]||["line","spline","area","area-spline","step","area-step"].indexOf(config.data_types[id])>=0},c3_chart_internal_fn.isStepType=function(d){var id=isString(d)?d:d.id;return["step","area-step"].indexOf(this.config.data_types[id])>=0},c3_chart_internal_fn.isSplineType=function(d){var id=isString(d)?d:d.id;return["spline","area-spline"].indexOf(this.config.data_types[id])>=0},c3_chart_internal_fn.isAreaType=function(d){var id=isString(d)?d:d.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[id])>=0},c3_chart_internal_fn.isBarType=function(d){var id=isString(d)?d:d.id;return"bar"===this.config.data_types[id]},c3_chart_internal_fn.isScatterType=function(d){var id=isString(d)?d:d.id;return"scatter"===this.config.data_types[id]},c3_chart_internal_fn.isPieType=function(d){var id=isString(d)?d:d.id;return"pie"===this.config.data_types[id]},c3_chart_internal_fn.isGaugeType=function(d){var id=isString(d)?d:d.id;return"gauge"===this.config.data_types[id]},c3_chart_internal_fn.isDonutType=function(d){var id=isString(d)?d:d.id;return"donut"===this.config.data_types[id]},c3_chart_internal_fn.isArcType=function(d){return this.isPieType(d)||this.isDonutType(d)||this.isGaugeType(d)},c3_chart_internal_fn.lineData=function(d){return this.isLineType(d)?[d]:[]},c3_chart_internal_fn.arcData=function(d){return this.isArcType(d.data)?[d]:[]},c3_chart_internal_fn.barData=function(d){return this.isBarType(d)?d.values:[]},c3_chart_internal_fn.lineOrScatterData=function(d){return this.isLineType(d)||this.isScatterType(d)?d.values:[]},c3_chart_internal_fn.barOrLineData=function(d){return this.isBarType(d)||this.isLineType(d)?d.values:[]},c3_chart_internal_fn.isInterpolationType=function(type){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(type)>=0},c3_chart_internal_fn.initGrid=function(){var $$=this,config=$$.config,d3=$$.d3;$$.grid=$$.main.append("g").attr("clip-path",$$.clipPathForGrid).attr("class",CLASS.grid),config.grid_x_show&&$$.grid.append("g").attr("class",CLASS.xgrids),config.grid_y_show&&$$.grid.append("g").attr("class",CLASS.ygrids),config.grid_focus_show&&$$.grid.append("g").attr("class",CLASS.xgridFocus).append("line").attr("class",CLASS.xgridFocus),$$.xgrid=d3.selectAll([]),config.grid_lines_front||$$.initGridLines()},c3_chart_internal_fn.initGridLines=function(){var $$=this,d3=$$.d3;$$.gridLines=$$.main.append("g").attr("clip-path",$$.clipPathForGrid).attr("class",CLASS.grid+" "+CLASS.gridLines),$$.gridLines.append("g").attr("class",CLASS.xgridLines),$$.gridLines.append("g").attr("class",CLASS.ygridLines),$$.xgridLines=d3.selectAll([])},c3_chart_internal_fn.updateXGrid=function(withoutUpdate){var $$=this,config=$$.config,d3=$$.d3,xgridData=$$.generateGridData(config.grid_x_type,$$.x),tickOffset=$$.isCategorized()?$$.xAxis.tickOffset():0;$$.xgridAttr=config.axis_rotated?{x1:0,x2:$$.width,y1:function(d){return $$.x(d)-tickOffset},y2:function(d){return $$.x(d)-tickOffset}}:{x1:function(d){return $$.x(d)+tickOffset},x2:function(d){return $$.x(d)+tickOffset},y1:0,y2:$$.height},$$.xgrid=$$.main.select("."+CLASS.xgrids).selectAll("."+CLASS.xgrid).data(xgridData),$$.xgrid.enter().append("line").attr("class",CLASS.xgrid),withoutUpdate||$$.xgrid.attr($$.xgridAttr).style("opacity",function(){return+d3.select(this).attr(config.axis_rotated?"y1":"x1")===(config.axis_rotated?$$.height:0)?0:1}),$$.xgrid.exit().remove()},c3_chart_internal_fn.updateYGrid=function(){var $$=this,config=$$.config,gridValues=$$.yAxis.tickValues()||$$.y.ticks(config.grid_y_ticks);$$.ygrid=$$.main.select("."+CLASS.ygrids).selectAll("."+CLASS.ygrid).data(gridValues),$$.ygrid.enter().append("line").attr("class",CLASS.ygrid),$$.ygrid.attr("x1",config.axis_rotated?$$.y:0).attr("x2",config.axis_rotated?$$.y:$$.width).attr("y1",config.axis_rotated?0:$$.y).attr("y2",config.axis_rotated?$$.height:$$.y),$$.ygrid.exit().remove(),$$.smoothLines($$.ygrid,"grid")},c3_chart_internal_fn.gridTextAnchor=function(d){return d.position?d.position:"end"},c3_chart_internal_fn.gridTextDx=function(d){return"start"===d.position?4:"middle"===d.position?0:-4},c3_chart_internal_fn.xGridTextX=function(d){return"start"===d.position?-this.height:"middle"===d.position?-this.height/2:0},c3_chart_internal_fn.yGridTextX=function(d){return"start"===d.position?0:"middle"===d.position?this.width/2:this.width},c3_chart_internal_fn.updateGrid=function(duration){var xgridLine,ygridLine,yv,$$=this,main=$$.main,config=$$.config;$$.grid.style("visibility",$$.hasArcType()?"hidden":"visible"),main.select("line."+CLASS.xgridFocus).style("visibility","hidden"),config.grid_x_show&&$$.updateXGrid(),$$.xgridLines=main.select("."+CLASS.xgridLines).selectAll("."+CLASS.xgridLine).data(config.grid_x_lines),xgridLine=$$.xgridLines.enter().append("g").attr("class",function(d){return CLASS.xgridLine+(d["class"]?" "+d["class"]:"")}),xgridLine.append("line").style("opacity",0),xgridLine.append("text").attr("text-anchor",$$.gridTextAnchor).attr("transform",config.axis_rotated?"":"rotate(-90)").attr("dx",$$.gridTextDx).attr("dy",-5).style("opacity",0),$$.xgridLines.exit().transition().duration(duration).style("opacity",0).remove(),config.grid_y_show&&$$.updateYGrid(),$$.ygridLines=main.select("."+CLASS.ygridLines).selectAll("."+CLASS.ygridLine).data(config.grid_y_lines),ygridLine=$$.ygridLines.enter().append("g").attr("class",function(d){return CLASS.ygridLine+(d["class"]?" "+d["class"]:"")}),ygridLine.append("line").style("opacity",0),ygridLine.append("text").attr("text-anchor",$$.gridTextAnchor).attr("transform",config.axis_rotated?"rotate(-90)":"").attr("dx",$$.gridTextDx).attr("dy",-5).style("opacity",0),yv=$$.yv.bind($$),$$.ygridLines.select("line").transition().duration(duration).attr("x1",config.axis_rotated?yv:0).attr("x2",config.axis_rotated?yv:$$.width).attr("y1",config.axis_rotated?0:yv).attr("y2",config.axis_rotated?$$.height:yv).style("opacity",1),$$.ygridLines.select("text").transition().duration(duration).attr("x",config.axis_rotated?$$.xGridTextX.bind($$):$$.yGridTextX.bind($$)).attr("y",yv).text(function(d){return d.text}).style("opacity",1),$$.ygridLines.exit().transition().duration(duration).style("opacity",0).remove()},c3_chart_internal_fn.redrawGrid=function(withTransition){var $$=this,config=$$.config,xv=$$.xv.bind($$),lines=$$.xgridLines.select("line"),texts=$$.xgridLines.select("text");return[(withTransition?lines.transition():lines).attr("x1",config.axis_rotated?0:xv).attr("x2",config.axis_rotated?$$.width:xv).attr("y1",config.axis_rotated?xv:0).attr("y2",config.axis_rotated?xv:$$.height).style("opacity",1),(withTransition?texts.transition():texts).attr("x",config.axis_rotated?$$.yGridTextX.bind($$):$$.xGridTextX.bind($$)).attr("y",xv).text(function(d){return d.text}).style("opacity",1)]},c3_chart_internal_fn.showXGridFocus=function(selectedData){var $$=this,config=$$.config,dataToShow=selectedData.filter(function(d){
return d&&isValue(d.value)}),focusEl=$$.main.selectAll("line."+CLASS.xgridFocus),xx=$$.xx.bind($$);config.tooltip_show&&($$.hasType("scatter")||$$.hasArcType()||(focusEl.style("visibility","visible").data([dataToShow[0]]).attr(config.axis_rotated?"y1":"x1",xx).attr(config.axis_rotated?"y2":"x2",xx),$$.smoothLines(focusEl,"grid")))},c3_chart_internal_fn.hideXGridFocus=function(){this.main.select("line."+CLASS.xgridFocus).style("visibility","hidden")},c3_chart_internal_fn.updateXgridFocus=function(){var $$=this,config=$$.config;$$.main.select("line."+CLASS.xgridFocus).attr("x1",config.axis_rotated?0:-10).attr("x2",config.axis_rotated?$$.width:-10).attr("y1",config.axis_rotated?-10:0).attr("y2",config.axis_rotated?-10:$$.height)},c3_chart_internal_fn.generateGridData=function(type,scale){var xDomain,firstYear,lastYear,i,$$=this,gridData=[],tickNum=$$.main.select("."+CLASS.axisX).selectAll(".tick").size();if("year"===type)for(xDomain=$$.getXDomain(),firstYear=xDomain[0].getFullYear(),lastYear=xDomain[1].getFullYear(),i=firstYear;i<=lastYear;i++)gridData.push(new Date(i+"-01-01 00:00:00"));else gridData=scale.ticks(10),gridData.length>tickNum&&(gridData=gridData.filter(function(d){return(""+d).indexOf(".")<0}));return gridData},c3_chart_internal_fn.getGridFilterToRemove=function(params){return params?function(line){var found=!1;return[].concat(params).forEach(function(param){("value"in param&&line.value===param.value||"class"in param&&line["class"]===param["class"])&&(found=!0)}),found}:function(){return!0}},c3_chart_internal_fn.removeGridLines=function(params,forX){var $$=this,config=$$.config,toRemove=$$.getGridFilterToRemove(params),toShow=function(line){return!toRemove(line)},classLines=forX?CLASS.xgridLines:CLASS.ygridLines,classLine=forX?CLASS.xgridLine:CLASS.ygridLine;$$.main.select("."+classLines).selectAll("."+classLine).filter(toRemove).transition().duration(config.transition_duration).style("opacity",0).remove(),forX?config.grid_x_lines=config.grid_x_lines.filter(toShow):config.grid_y_lines=config.grid_y_lines.filter(toShow)},c3_chart_internal_fn.initTooltip=function(){var i,$$=this,config=$$.config;if($$.tooltip=$$.selectChart.style("position","relative").append("div").attr("class",CLASS.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),config.tooltip_init_show){if($$.isTimeSeries()&&isString(config.tooltip_init_x)){for(config.tooltip_init_x=$$.parseDate(config.tooltip_init_x),i=0;i<$$.data.targets[0].values.length&&$$.data.targets[0].values[i].x-config.tooltip_init_x!==0;i++);config.tooltip_init_x=i}$$.tooltip.html(config.tooltip_contents.call($$,$$.data.targets.map(function(d){return $$.addName(d.values[config.tooltip_init_x])}),$$.axis.getXAxisTickFormat(),$$.getYFormat($$.hasArcType()),$$.color)),$$.tooltip.style("top",config.tooltip_init_position.top).style("left",config.tooltip_init_position.left).style("display","block")}},c3_chart_internal_fn.getTooltipContent=function(d,defaultTitleFormat,defaultValueFormat,color){var text,i,title,value,name,bgcolor,$$=this,config=$$.config,titleFormat=config.tooltip_format_title||defaultTitleFormat,nameFormat=config.tooltip_format_name||function(name){return name},valueFormat=config.tooltip_format_value||defaultValueFormat,orderAsc=$$.isOrderAsc();if(0===config.data_groups.length)d.sort(function(a,b){return orderAsc?a.value-b.value:b.value-a.value});else{var ids=$$.orderTargets($$.data.targets).map(function(i){return i.id});d.sort(function(a,b){return a.value>0&&b.value>0?orderAsc?ids.indexOf(a.id)-ids.indexOf(b.id):ids.indexOf(b.id)-ids.indexOf(a.id):orderAsc?a.value-b.value:b.value-a.value})}for(i=0;i<d.length;i++)if(d[i]&&(d[i].value||0===d[i].value)&&(text||(title=titleFormat?titleFormat(d[i].x):d[i].x,text="<table class='"+$$.CLASS.tooltip+"'>"+(title||0===title?"<tr><th colspan='2'>"+title+"</th></tr>":"")),value=valueFormat(d[i].value,d[i].ratio,d[i].id,d[i].index),void 0!==value)){if(null===d[i].name)continue;name=nameFormat(d[i].name,d[i].ratio,d[i].id,d[i].index),bgcolor=$$.levelColor?$$.levelColor(d[i].value):color(d[i].id),text+="<tr class='"+$$.CLASS.tooltipName+"-"+$$.getTargetSelectorSuffix(d[i].id)+"'>",text+="<td class='name'><span style='background-color:"+bgcolor+"'></span>"+name+"</td>",text+="<td class='value'>"+value+"</td>",text+="</tr>"}return text+"</table>"},c3_chart_internal_fn.tooltipPosition=function(dataToShow,tWidth,tHeight,element){var svgLeft,tooltipLeft,tooltipRight,tooltipTop,chartRight,$$=this,config=$$.config,d3=$$.d3,forArc=$$.hasArcType(),mouse=d3.mouse(element);return forArc?(tooltipLeft=($$.width-($$.isLegendRight?$$.getLegendWidth():0))/2+mouse[0],tooltipTop=$$.height/2+mouse[1]+20):(svgLeft=$$.getSvgLeft(!0),config.axis_rotated?(tooltipLeft=svgLeft+mouse[0]+100,tooltipRight=tooltipLeft+tWidth,chartRight=$$.currentWidth-$$.getCurrentPaddingRight(),tooltipTop=$$.x(dataToShow[0].x)+20):(tooltipLeft=svgLeft+$$.getCurrentPaddingLeft(!0)+$$.x(dataToShow[0].x)+20,tooltipRight=tooltipLeft+tWidth,chartRight=svgLeft+$$.currentWidth-$$.getCurrentPaddingRight(),tooltipTop=mouse[1]+15),tooltipRight>chartRight&&(tooltipLeft-=tooltipRight-chartRight+20),tooltipTop+tHeight>$$.currentHeight&&(tooltipTop-=tHeight+30)),tooltipTop<0&&(tooltipTop=0),{top:tooltipTop,left:tooltipLeft}},c3_chart_internal_fn.showTooltip=function(selectedData,element){var tWidth,tHeight,position,$$=this,config=$$.config,forArc=$$.hasArcType(),dataToShow=selectedData.filter(function(d){return d&&isValue(d.value)}),positionFunction=config.tooltip_position||c3_chart_internal_fn.tooltipPosition;0!==dataToShow.length&&config.tooltip_show&&($$.tooltip.html(config.tooltip_contents.call($$,selectedData,$$.axis.getXAxisTickFormat(),$$.getYFormat(forArc),$$.color)).style("display","block"),tWidth=$$.tooltip.property("offsetWidth"),tHeight=$$.tooltip.property("offsetHeight"),position=positionFunction.call(this,dataToShow,tWidth,tHeight,element),$$.tooltip.style("top",position.top+"px").style("left",position.left+"px"))},c3_chart_internal_fn.hideTooltip=function(){this.tooltip.style("display","none")},c3_chart_internal_fn.initLegend=function(){var $$=this;return $$.legendItemTextBox={},$$.legendHasRendered=!1,$$.legend=$$.svg.append("g").attr("transform",$$.getTranslate("legend")),$$.config.legend_show?void $$.updateLegendWithDefaults():($$.legend.style("visibility","hidden"),void($$.hiddenLegendIds=$$.mapToIds($$.data.targets)))},c3_chart_internal_fn.updateLegendWithDefaults=function(){var $$=this;$$.updateLegend($$.mapToIds($$.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},c3_chart_internal_fn.updateSizeForLegend=function(legendHeight,legendWidth){var $$=this,config=$$.config,insetLegendPosition={top:$$.isLegendTop?$$.getCurrentPaddingTop()+config.legend_inset_y+5.5:$$.currentHeight-legendHeight-$$.getCurrentPaddingBottom()-config.legend_inset_y,left:$$.isLegendLeft?$$.getCurrentPaddingLeft()+config.legend_inset_x+.5:$$.currentWidth-legendWidth-$$.getCurrentPaddingRight()-config.legend_inset_x+.5};$$.margin3={top:$$.isLegendRight?0:$$.isLegendInset?insetLegendPosition.top:$$.currentHeight-legendHeight,right:NaN,bottom:0,left:$$.isLegendRight?$$.currentWidth-legendWidth:$$.isLegendInset?insetLegendPosition.left:0}},c3_chart_internal_fn.transformLegend=function(withTransition){var $$=this;(withTransition?$$.legend.transition():$$.legend).attr("transform",$$.getTranslate("legend"))},c3_chart_internal_fn.updateLegendStep=function(step){this.legendStep=step},c3_chart_internal_fn.updateLegendItemWidth=function(w){this.legendItemWidth=w},c3_chart_internal_fn.updateLegendItemHeight=function(h){this.legendItemHeight=h},c3_chart_internal_fn.getLegendWidth=function(){var $$=this;return $$.config.legend_show?$$.isLegendRight||$$.isLegendInset?$$.legendItemWidth*($$.legendStep+1):$$.currentWidth:0},c3_chart_internal_fn.getLegendHeight=function(){var $$=this,h=0;return $$.config.legend_show&&(h=$$.isLegendRight?$$.currentHeight:Math.max(20,$$.legendItemHeight)*($$.legendStep+1)),h},c3_chart_internal_fn.opacityForLegend=function(legendItem){return legendItem.classed(CLASS.legendItemHidden)?null:1},c3_chart_internal_fn.opacityForUnfocusedLegend=function(legendItem){return legendItem.classed(CLASS.legendItemHidden)?null:.3},c3_chart_internal_fn.toggleFocusLegend=function(targetIds,focus){var $$=this;targetIds=$$.mapToTargetIds(targetIds),$$.legend.selectAll("."+CLASS.legendItem).filter(function(id){return targetIds.indexOf(id)>=0}).classed(CLASS.legendItemFocused,focus).transition().duration(100).style("opacity",function(){var opacity=focus?$$.opacityForLegend:$$.opacityForUnfocusedLegend;return opacity.call($$,$$.d3.select(this))})},c3_chart_internal_fn.revertLegend=function(){var $$=this,d3=$$.d3;$$.legend.selectAll("."+CLASS.legendItem).classed(CLASS.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return $$.opacityForLegend(d3.select(this))})},c3_chart_internal_fn.showLegend=function(targetIds){var $$=this,config=$$.config;config.legend_show||(config.legend_show=!0,$$.legend.style("visibility","visible"),$$.legendHasRendered||$$.updateLegendWithDefaults()),$$.removeHiddenLegendIds(targetIds),$$.legend.selectAll($$.selectorLegends(targetIds)).style("visibility","visible").transition().style("opacity",function(){return $$.opacityForLegend($$.d3.select(this))})},c3_chart_internal_fn.hideLegend=function(targetIds){var $$=this,config=$$.config;config.legend_show&&isEmpty(targetIds)&&(config.legend_show=!1,$$.legend.style("visibility","hidden")),$$.addHiddenLegendIds(targetIds),$$.legend.selectAll($$.selectorLegends(targetIds)).style("opacity",0).style("visibility","hidden")},c3_chart_internal_fn.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},c3_chart_internal_fn.updateLegend=function(targetIds,options,transitions){function getTextBox(textElement,id){return $$.legendItemTextBox[id]||($$.legendItemTextBox[id]=$$.getTextRect(textElement.textContent,CLASS.legendItem,textElement)),$$.legendItemTextBox[id]}function updatePositions(textElement,id,index){function updateValues(id,withoutStep){withoutStep||(margin=(areaLength-totalLength-itemLength)/2,margin<posMin&&(margin=(areaLength-itemLength)/2,totalLength=0,step++)),steps[id]=step,margins[step]=$$.isLegendInset?10:margin,offsets[id]=totalLength,totalLength+=itemLength}var margin,maxLength,reset=0===index,isLast=index===targetIds.length-1,box=getTextBox(textElement,id),itemWidth=box.width+tileWidth+(!isLast||$$.isLegendRight||$$.isLegendInset?paddingRight:0)+config.legend_padding,itemHeight=box.height+paddingTop,itemLength=$$.isLegendRight||$$.isLegendInset?itemHeight:itemWidth,areaLength=$$.isLegendRight||$$.isLegendInset?$$.getLegendHeight():$$.getLegendWidth();return reset&&(totalLength=0,step=0,maxWidth=0,maxHeight=0),config.legend_show&&!$$.isLegendToShow(id)?void(widths[id]=heights[id]=steps[id]=offsets[id]=0):(widths[id]=itemWidth,heights[id]=itemHeight,(!maxWidth||itemWidth>=maxWidth)&&(maxWidth=itemWidth),(!maxHeight||itemHeight>=maxHeight)&&(maxHeight=itemHeight),maxLength=$$.isLegendRight||$$.isLegendInset?maxHeight:maxWidth,void(config.legend_equally?(Object.keys(widths).forEach(function(id){widths[id]=maxWidth}),Object.keys(heights).forEach(function(id){heights[id]=maxHeight}),margin=(areaLength-maxLength*targetIds.length)/2,margin<posMin?(totalLength=0,step=0,targetIds.forEach(function(id){updateValues(id)})):updateValues(id,!0)):updateValues(id)))}var xForLegend,xForLegendText,xForLegendRect,yForLegend,yForLegendText,yForLegendRect,x1ForLegendTile,x2ForLegendTile,yForLegendTile,l,withTransition,withTransitionForTransform,texts,rects,tiles,background,$$=this,config=$$.config,paddingTop=4,paddingRight=10,maxWidth=0,maxHeight=0,posMin=10,tileWidth=config.legend_item_tile_width+5,totalLength=0,offsets={},widths={},heights={},margins=[0],steps={},step=0;targetIds=targetIds.filter(function(id){return!isDefined(config.data_names[id])||null!==config.data_names[id]}),options=options||{},withTransition=getOption(options,"withTransition",!0),withTransitionForTransform=getOption(options,"withTransitionForTransform",!0),$$.isLegendInset&&(step=config.legend_inset_step?config.legend_inset_step:targetIds.length,$$.updateLegendStep(step)),$$.isLegendRight?(xForLegend=function(id){return maxWidth*steps[id]},yForLegend=function(id){return margins[steps[id]]+offsets[id]}):$$.isLegendInset?(xForLegend=function(id){return maxWidth*steps[id]+10},yForLegend=function(id){return margins[steps[id]]+offsets[id]}):(xForLegend=function(id){return margins[steps[id]]+offsets[id]},yForLegend=function(id){return maxHeight*steps[id]}),xForLegendText=function(id,i){return xForLegend(id,i)+4+config.legend_item_tile_width},yForLegendText=function(id,i){return yForLegend(id,i)+9},xForLegendRect=function(id,i){return xForLegend(id,i)},yForLegendRect=function(id,i){return yForLegend(id,i)-5},x1ForLegendTile=function(id,i){return xForLegend(id,i)-2},x2ForLegendTile=function(id,i){return xForLegend(id,i)-2+config.legend_item_tile_width},yForLegendTile=function(id,i){return yForLegend(id,i)+4},l=$$.legend.selectAll("."+CLASS.legendItem).data(targetIds).enter().append("g").attr("class",function(id){return $$.generateClass(CLASS.legendItem,id)}).style("visibility",function(id){return $$.isLegendToShow(id)?"visible":"hidden"}).style("cursor","pointer").on("click",function(id){config.legend_item_onclick?config.legend_item_onclick.call($$,id):$$.d3.event.altKey?($$.api.hide(),$$.api.show(id)):($$.api.toggle(id),$$.isTargetToShow(id)?$$.api.focus(id):$$.api.revert())}).on("mouseover",function(id){config.legend_item_onmouseover?config.legend_item_onmouseover.call($$,id):($$.d3.select(this).classed(CLASS.legendItemFocused,!0),!$$.transiting&&$$.isTargetToShow(id)&&$$.api.focus(id))}).on("mouseout",function(id){config.legend_item_onmouseout?config.legend_item_onmouseout.call($$,id):($$.d3.select(this).classed(CLASS.legendItemFocused,!1),$$.api.revert())}),l.append("text").text(function(id){return isDefined(config.data_names[id])?config.data_names[id]:id}).each(function(id,i){updatePositions(this,id,i)}).style("pointer-events","none").attr("x",$$.isLegendRight||$$.isLegendInset?xForLegendText:-200).attr("y",$$.isLegendRight||$$.isLegendInset?-200:yForLegendText),l.append("rect").attr("class",CLASS.legendItemEvent).style("fill-opacity",0).attr("x",$$.isLegendRight||$$.isLegendInset?xForLegendRect:-200).attr("y",$$.isLegendRight||$$.isLegendInset?-200:yForLegendRect),l.append("line").attr("class",CLASS.legendItemTile).style("stroke",$$.color).style("pointer-events","none").attr("x1",$$.isLegendRight||$$.isLegendInset?x1ForLegendTile:-200).attr("y1",$$.isLegendRight||$$.isLegendInset?-200:yForLegendTile).attr("x2",$$.isLegendRight||$$.isLegendInset?x2ForLegendTile:-200).attr("y2",$$.isLegendRight||$$.isLegendInset?-200:yForLegendTile).attr("stroke-width",config.legend_item_tile_height),background=$$.legend.select("."+CLASS.legendBackground+" rect"),$$.isLegendInset&&maxWidth>0&&0===background.size()&&(background=$$.legend.insert("g","."+CLASS.legendItem).attr("class",CLASS.legendBackground).append("rect")),texts=$$.legend.selectAll("text").data(targetIds).text(function(id){return isDefined(config.data_names[id])?config.data_names[id]:id}).each(function(id,i){updatePositions(this,id,i)}),(withTransition?texts.transition():texts).attr("x",xForLegendText).attr("y",yForLegendText),rects=$$.legend.selectAll("rect."+CLASS.legendItemEvent).data(targetIds),(withTransition?rects.transition():rects).attr("width",function(id){return widths[id]}).attr("height",function(id){return heights[id]}).attr("x",xForLegendRect).attr("y",yForLegendRect),tiles=$$.legend.selectAll("line."+CLASS.legendItemTile).data(targetIds),(withTransition?tiles.transition():tiles).style("stroke",$$.color).attr("x1",x1ForLegendTile).attr("y1",yForLegendTile).attr("x2",x2ForLegendTile).attr("y2",yForLegendTile),background&&(withTransition?background.transition():background).attr("height",$$.getLegendHeight()-12).attr("width",maxWidth*(step+1)+10),$$.legend.selectAll("."+CLASS.legendItem).classed(CLASS.legendItemHidden,function(id){return!$$.isTargetToShow(id)}),$$.updateLegendItemWidth(maxWidth),$$.updateLegendItemHeight(maxHeight),$$.updateLegendStep(step),$$.updateSizes(),$$.updateScales(),$$.updateSvgSize(),$$.transformAll(withTransitionForTransform,transitions),$$.legendHasRendered=!0},c3_chart_internal_fn.initTitle=function(){var $$=this;$$.title=$$.svg.append("text").text($$.config.title_text).attr("class",$$.CLASS.title)},c3_chart_internal_fn.redrawTitle=function(){var $$=this;$$.title.attr("x",$$.xForTitle.bind($$)).attr("y",$$.yForTitle.bind($$))},c3_chart_internal_fn.xForTitle=function(){var x,$$=this,config=$$.config,position=config.title_position||"left";return x=position.indexOf("right")>=0?$$.currentWidth-$$.getTextRect($$.title.node().textContent,$$.CLASS.title,$$.title.node()).width-config.title_padding.right:position.indexOf("center")>=0?($$.currentWidth-$$.getTextRect($$.title.node().textContent,$$.CLASS.title,$$.title.node()).width)/2:config.title_padding.left},c3_chart_internal_fn.yForTitle=function(){var $$=this;return $$.config.title_padding.top+$$.getTextRect($$.title.node().textContent,$$.CLASS.title,$$.title.node()).height},c3_chart_internal_fn.getTitlePadding=function(){var $$=this;return $$.yForTitle()+$$.config.title_padding.bottom},inherit(API,Axis),Axis.prototype.init=function(){var $$=this.owner,config=$$.config,main=$$.main;$$.axes.x=main.append("g").attr("class",CLASS.axis+" "+CLASS.axisX).attr("clip-path",$$.clipPathForXAxis).attr("transform",$$.getTranslate("x")).style("visibility",config.axis_x_show?"visible":"hidden"),$$.axes.x.append("text").attr("class",CLASS.axisXLabel).attr("transform",config.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),$$.axes.y=main.append("g").attr("class",CLASS.axis+" "+CLASS.axisY).attr("clip-path",config.axis_y_inner?"":$$.clipPathForYAxis).attr("transform",$$.getTranslate("y")).style("visibility",config.axis_y_show?"visible":"hidden"),$$.axes.y.append("text").attr("class",CLASS.axisYLabel).attr("transform",config.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),$$.axes.y2=main.append("g").attr("class",CLASS.axis+" "+CLASS.axisY2).attr("transform",$$.getTranslate("y2")).style("visibility",config.axis_y2_show?"visible":"hidden"),$$.axes.y2.append("text").attr("class",CLASS.axisY2Label).attr("transform",config.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},Axis.prototype.getXAxis=function(scale,orient,tickFormat,tickValues,withOuterTick,withoutTransition,withoutRotateTickText){var $$=this.owner,config=$$.config,axisParams={isCategory:$$.isCategorized(),withOuterTick:withOuterTick,tickMultiline:config.axis_x_tick_multiline,tickWidth:config.axis_x_tick_width,tickTextRotate:withoutRotateTickText?0:config.axis_x_tick_rotate,withoutTransition:withoutTransition},axis=c3_axis($$.d3,axisParams).scale(scale).orient(orient);return $$.isTimeSeries()&&tickValues&&"function"!=typeof tickValues&&(tickValues=tickValues.map(function(v){return $$.parseDate(v)})),axis.tickFormat(tickFormat).tickValues(tickValues),$$.isCategorized()&&(axis.tickCentered(config.axis_x_tick_centered),isEmpty(config.axis_x_tick_culling)&&(config.axis_x_tick_culling=!1)),axis},Axis.prototype.updateXAxisTickValues=function(targets,axis){var tickValues,$$=this.owner,config=$$.config;return(config.axis_x_tick_fit||config.axis_x_tick_count)&&(tickValues=this.generateTickValues($$.mapTargetsToUniqueXs(targets),config.axis_x_tick_count,$$.isTimeSeries())),axis?axis.tickValues(tickValues):($$.xAxis.tickValues(tickValues),$$.subXAxis.tickValues(tickValues)),tickValues},Axis.prototype.getYAxis=function(scale,orient,tickFormat,tickValues,withOuterTick,withoutTransition){var axisParams={withOuterTick:withOuterTick,withoutTransition:withoutTransition},$$=this.owner,d3=$$.d3,config=$$.config,axis=c3_axis(d3,axisParams).scale(scale).orient(orient).tickFormat(tickFormat);return $$.isTimeSeriesY()?axis.ticks(d3.time[config.axis_y_tick_time_value],config.axis_y_tick_time_interval):axis.tickValues(tickValues),axis},Axis.prototype.getId=function(id){var config=this.owner.config;return id in config.data_axes?config.data_axes[id]:"y"},Axis.prototype.getXAxisTickFormat=function(){var $$=this.owner,config=$$.config,format=$$.isTimeSeries()?$$.defaultAxisTimeFormat:$$.isCategorized()?$$.categoryName:function(v){return v<0?v.toFixed(0):v};return config.axis_x_tick_format&&(isFunction(config.axis_x_tick_format)?format=config.axis_x_tick_format:$$.isTimeSeries()&&(format=function(date){return date?$$.axisTimeFormat(config.axis_x_tick_format)(date):""})),isFunction(format)?function(v){return format.call($$,v)}:format},Axis.prototype.getTickValues=function(tickValues,axis){return tickValues?tickValues:axis?axis.tickValues():void 0},Axis.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},Axis.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},Axis.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},Axis.prototype.getLabelOptionByAxisId=function(axisId){var option,$$=this.owner,config=$$.config;return"y"===axisId?option=config.axis_y_label:"y2"===axisId?option=config.axis_y2_label:"x"===axisId&&(option=config.axis_x_label),option},Axis.prototype.getLabelText=function(axisId){var option=this.getLabelOptionByAxisId(axisId);return isString(option)?option:option?option.text:null},Axis.prototype.setLabelText=function(axisId,text){var $$=this.owner,config=$$.config,option=this.getLabelOptionByAxisId(axisId);isString(option)?"y"===axisId?config.axis_y_label=text:"y2"===axisId?config.axis_y2_label=text:"x"===axisId&&(config.axis_x_label=text):option&&(option.text=text)},Axis.prototype.getLabelPosition=function(axisId,defaultPosition){var option=this.getLabelOptionByAxisId(axisId),position=option&&"object"==typeof option&&option.position?option.position:defaultPosition;return{isInner:position.indexOf("inner")>=0,isOuter:position.indexOf("outer")>=0,isLeft:position.indexOf("left")>=0,isCenter:position.indexOf("center")>=0,isRight:position.indexOf("right")>=0,isTop:position.indexOf("top")>=0,isMiddle:position.indexOf("middle")>=0,isBottom:position.indexOf("bottom")>=0}},Axis.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},Axis.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getLabelPositionById=function(id){return"y2"===id?this.getY2AxisLabelPosition():"y"===id?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},Axis.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},Axis.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},Axis.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},Axis.prototype.xForAxisLabel=function(forHorizontal,position){var $$=this.owner;return forHorizontal?position.isLeft?0:position.isCenter?$$.width/2:$$.width:position.isBottom?-$$.height:position.isMiddle?-$$.height/2:0},Axis.prototype.dxForAxisLabel=function(forHorizontal,position){return forHorizontal?position.isLeft?"0.5em":position.isRight?"-0.5em":"0":position.isTop?"-0.5em":position.isBottom?"0.5em":"0"},Axis.prototype.textAnchorForAxisLabel=function(forHorizontal,position){return forHorizontal?position.isLeft?"start":position.isCenter?"middle":"end":position.isBottom?"start":position.isMiddle?"middle":"end"},Axis.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dyForXAxisLabel=function(){var $$=this.owner,config=$$.config,position=this.getXAxisLabelPosition();return config.axis_rotated?position.isInner?"1.2em":-25-this.getMaxTickWidth("x"):position.isInner?"-0.5em":config.axis_x_height?config.axis_x_height-10:"3em"},Axis.prototype.dyForYAxisLabel=function(){var $$=this.owner,position=this.getYAxisLabelPosition();return $$.config.axis_rotated?position.isInner?"-0.5em":"3em":position.isInner?"1.2em":-10-($$.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},Axis.prototype.dyForY2AxisLabel=function(){var $$=this.owner,position=this.getY2AxisLabelPosition();return $$.config.axis_rotated?position.isInner?"1.2em":"-2.2em":position.isInner?"-0.5em":15+($$.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},Axis.prototype.textAnchorForXAxisLabel=function(){var $$=this.owner;return this.textAnchorForAxisLabel(!$$.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.textAnchorForYAxisLabel=function(){var $$=this.owner;return this.textAnchorForAxisLabel($$.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.textAnchorForY2AxisLabel=function(){var $$=this.owner;return this.textAnchorForAxisLabel($$.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.getMaxTickWidth=function(id,withoutRecompute){var targetsToShow,scale,axis,dummy,svg,$$=this.owner,config=$$.config,maxWidth=0;return withoutRecompute&&$$.currentMaxTickWidths[id]?$$.currentMaxTickWidths[id]:($$.svg&&(targetsToShow=$$.filterTargetsToShow($$.data.targets),"y"===id?(scale=$$.y.copy().domain($$.getYDomain(targetsToShow,"y")),axis=this.getYAxis(scale,$$.yOrient,config.axis_y_tick_format,$$.yAxisTickValues,!1,!0)):"y2"===id?(scale=$$.y2.copy().domain($$.getYDomain(targetsToShow,"y2")),axis=this.getYAxis(scale,$$.y2Orient,config.axis_y2_tick_format,$$.y2AxisTickValues,!1,!0)):(scale=$$.x.copy().domain($$.getXDomain(targetsToShow)),axis=this.getXAxis(scale,$$.xOrient,$$.xAxisTickFormat,$$.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(targetsToShow,axis)),dummy=$$.d3.select("body").append("div").classed("c3",!0),svg=dummy.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),svg.append("g").call(axis).each(function(){$$.d3.select(this).selectAll("text").each(function(){var box=this.getBoundingClientRect();maxWidth<box.width&&(maxWidth=box.width)}),dummy.remove()})),$$.currentMaxTickWidths[id]=maxWidth<=0?$$.currentMaxTickWidths[id]:maxWidth,$$.currentMaxTickWidths[id])},Axis.prototype.updateLabels=function(withTransition){var $$=this.owner,axisXLabel=$$.main.select("."+CLASS.axisX+" ."+CLASS.axisXLabel),axisYLabel=$$.main.select("."+CLASS.axisY+" ."+CLASS.axisYLabel),axisY2Label=$$.main.select("."+CLASS.axisY2+" ."+CLASS.axisY2Label);(withTransition?axisXLabel.transition():axisXLabel).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(withTransition?axisYLabel.transition():axisYLabel).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(withTransition?axisY2Label.transition():axisY2Label).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},Axis.prototype.getPadding=function(padding,key,defaultValue,domainLength){var p="number"==typeof padding?padding:padding[key];return isValue(p)?"ratio"===padding.unit?padding[key]*domainLength:this.convertPixelsToAxisPadding(p,domainLength):defaultValue},Axis.prototype.convertPixelsToAxisPadding=function(pixels,domainLength){var $$=this.owner,length=$$.config.axis_rotated?$$.width:$$.height;return domainLength*(pixels/length)},Axis.prototype.generateTickValues=function(values,tickCount,forTimeSeries){var targetCount,start,end,count,interval,i,tickValue,tickValues=values;if(tickCount)if(targetCount=isFunction(tickCount)?tickCount():tickCount,1===targetCount)tickValues=[values[0]];else if(2===targetCount)tickValues=[values[0],values[values.length-1]];else if(targetCount>2){for(count=targetCount-2,start=values[0],end=values[values.length-1],interval=(end-start)/(count+1),tickValues=[start],i=0;i<count;i++)tickValue=+start+interval*(i+1),tickValues.push(forTimeSeries?new Date(tickValue):tickValue);tickValues.push(end)}return forTimeSeries||(tickValues=tickValues.sort(function(a,b){return a-b})),tickValues},Axis.prototype.generateTransitions=function(duration){var $$=this.owner,axes=$$.axes;return{axisX:duration?axes.x.transition().duration(duration):axes.x,axisY:duration?axes.y.transition().duration(duration):axes.y,axisY2:duration?axes.y2.transition().duration(duration):axes.y2,axisSubX:duration?axes.subx.transition().duration(duration):axes.subx}},Axis.prototype.redraw=function(transitions,isHidden){var $$=this.owner;$$.axes.x.style("opacity",isHidden?0:1),$$.axes.y.style("opacity",isHidden?0:1),$$.axes.y2.style("opacity",isHidden?0:1),$$.axes.subx.style("opacity",isHidden?0:1),transitions.axisX.call($$.xAxis),transitions.axisY.call($$.yAxis),transitions.axisY2.call($$.y2Axis),transitions.axisSubX.call($$.subXAxis)},c3_chart_internal_fn.getClipPath=function(id){var isIE9=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(isIE9?"":document.URL.split("#")[0])+"#"+id+")"},c3_chart_internal_fn.appendClip=function(parent,id){return parent.append("clipPath").attr("id",id).append("rect")},c3_chart_internal_fn.getAxisClipX=function(forHorizontal){var left=Math.max(30,this.margin.left);return forHorizontal?-(1+left):-(left-1)},c3_chart_internal_fn.getAxisClipY=function(forHorizontal){return forHorizontal?-20:-this.margin.top},c3_chart_internal_fn.getXAxisClipX=function(){var $$=this;return $$.getAxisClipX(!$$.config.axis_rotated)},c3_chart_internal_fn.getXAxisClipY=function(){var $$=this;return $$.getAxisClipY(!$$.config.axis_rotated)},c3_chart_internal_fn.getYAxisClipX=function(){var $$=this;return $$.config.axis_y_inner?-1:$$.getAxisClipX($$.config.axis_rotated)},c3_chart_internal_fn.getYAxisClipY=function(){var $$=this;return $$.getAxisClipY($$.config.axis_rotated)},c3_chart_internal_fn.getAxisClipWidth=function(forHorizontal){var $$=this,left=Math.max(30,$$.margin.left),right=Math.max(30,$$.margin.right);return forHorizontal?$$.width+2+left+right:$$.margin.left+20},c3_chart_internal_fn.getAxisClipHeight=function(forHorizontal){return(forHorizontal?this.margin.bottom:this.margin.top+this.height)+20},c3_chart_internal_fn.getXAxisClipWidth=function(){var $$=this;return $$.getAxisClipWidth(!$$.config.axis_rotated)},c3_chart_internal_fn.getXAxisClipHeight=function(){var $$=this;return $$.getAxisClipHeight(!$$.config.axis_rotated)},c3_chart_internal_fn.getYAxisClipWidth=function(){var $$=this;return $$.getAxisClipWidth($$.config.axis_rotated)+($$.config.axis_y_inner?20:0)},c3_chart_internal_fn.getYAxisClipHeight=function(){var $$=this;return $$.getAxisClipHeight($$.config.axis_rotated)},c3_chart_internal_fn.initPie=function(){var $$=this,d3=$$.d3,config=$$.config;$$.pie=d3.layout.pie().value(function(d){
return d.values.reduce(function(a,b){return a+b.value},0)}),config.data_order||$$.pie.sort(null)},c3_chart_internal_fn.updateRadius=function(){var $$=this,config=$$.config,w=config.gauge_width||config.donut_width;$$.radiusExpanded=Math.min($$.arcWidth,$$.arcHeight)/2,$$.radius=.95*$$.radiusExpanded,$$.innerRadiusRatio=w?($$.radius-w)/$$.radius:.6,$$.innerRadius=$$.hasType("donut")||$$.hasType("gauge")?$$.radius*$$.innerRadiusRatio:0},c3_chart_internal_fn.updateArc=function(){var $$=this;$$.svgArc=$$.getSvgArc(),$$.svgArcExpanded=$$.getSvgArcExpanded(),$$.svgArcExpandedSub=$$.getSvgArcExpanded(.98)},c3_chart_internal_fn.updateAngle=function(d){var gTic,gValue,$$=this,config=$$.config,found=!1,index=0,gMin=config.gauge_min,gMax=config.gauge_max;return $$.pie($$.filterTargetsToShow($$.data.targets)).forEach(function(t){found||t.data.id!==d.data.id||(found=!0,d=t,d.index=index),index++}),isNaN(d.startAngle)&&(d.startAngle=0),isNaN(d.endAngle)&&(d.endAngle=d.startAngle),$$.isGaugeType(d.data)&&(gTic=Math.PI/(gMax-gMin),gValue=d.value<gMin?0:d.value<gMax?d.value-gMin:gMax-gMin,d.startAngle=-1*(Math.PI/2),d.endAngle=d.startAngle+gTic*gValue),found?d:null},c3_chart_internal_fn.getSvgArc=function(){var $$=this,arc=$$.d3.svg.arc().outerRadius($$.radius).innerRadius($$.innerRadius),newArc=function(d,withoutUpdate){var updated;return withoutUpdate?arc(d):(updated=$$.updateAngle(d),updated?arc(updated):"M 0 0")};return newArc.centroid=arc.centroid,newArc},c3_chart_internal_fn.getSvgArcExpanded=function(rate){var $$=this,arc=$$.d3.svg.arc().outerRadius($$.radiusExpanded*(rate?rate:1)).innerRadius($$.innerRadius);return function(d){var updated=$$.updateAngle(d);return updated?arc(updated):"M 0 0"}},c3_chart_internal_fn.getArc=function(d,withoutUpdate,force){return force||this.isArcType(d.data)?this.svgArc(d,withoutUpdate):"M 0 0"},c3_chart_internal_fn.transformForArcLabel=function(d){var c,x,y,h,ratio,$$=this,updated=$$.updateAngle(d),translate="";return updated&&!$$.hasType("gauge")&&(c=this.svgArc.centroid(updated),x=isNaN(c[0])?0:c[0],y=isNaN(c[1])?0:c[1],h=Math.sqrt(x*x+y*y),ratio=$$.radius&&h?(36/$$.radius>.375?1.175-36/$$.radius:.8)*$$.radius/h:0,translate="translate("+x*ratio+","+y*ratio+")"),translate},c3_chart_internal_fn.getArcRatio=function(d){var $$=this,whole=$$.hasType("gauge")?Math.PI:2*Math.PI;return d?(d.endAngle-d.startAngle)/whole:null},c3_chart_internal_fn.convertToArcData=function(d){return this.addName({id:d.data.id,value:d.value,ratio:this.getArcRatio(d),index:d.index})},c3_chart_internal_fn.textForArcLabel=function(d){var updated,value,ratio,id,format,$$=this;return $$.shouldShowArcLabel()?(updated=$$.updateAngle(d),value=updated?updated.value:null,ratio=$$.getArcRatio(updated),id=d.data.id,$$.hasType("gauge")||$$.meetsArcLabelThreshold(ratio)?(format=$$.getArcLabelFormat(),format?format(value,ratio,id):$$.defaultArcValueFormat(value,ratio)):""):""},c3_chart_internal_fn.expandArc=function(targetIds){var interval,$$=this;return $$.transiting?void(interval=window.setInterval(function(){$$.transiting||(window.clearInterval(interval),$$.legend.selectAll(".c3-legend-item-focused").size()>0&&$$.expandArc(targetIds))},10)):(targetIds=$$.mapToTargetIds(targetIds),void $$.svg.selectAll($$.selectorTargets(targetIds,"."+CLASS.chartArc)).each(function(d){$$.shouldExpand(d.data.id)&&$$.d3.select(this).selectAll("path").transition().duration($$.expandDuration(d.data.id)).attr("d",$$.svgArcExpanded).transition().duration(2*$$.expandDuration(d.data.id)).attr("d",$$.svgArcExpandedSub).each(function(d){$$.isDonutType(d.data)})}))},c3_chart_internal_fn.unexpandArc=function(targetIds){var $$=this;$$.transiting||(targetIds=$$.mapToTargetIds(targetIds),$$.svg.selectAll($$.selectorTargets(targetIds,"."+CLASS.chartArc)).selectAll("path").transition().duration(function(d){return $$.expandDuration(d.data.id)}).attr("d",$$.svgArc),$$.svg.selectAll("."+CLASS.arc).style("opacity",1))},c3_chart_internal_fn.expandDuration=function(id){var $$=this,config=$$.config;return $$.isDonutType(id)?config.donut_expand_duration:$$.isGaugeType(id)?config.gauge_expand_duration:$$.isPieType(id)?config.pie_expand_duration:50},c3_chart_internal_fn.shouldExpand=function(id){var $$=this,config=$$.config;return $$.isDonutType(id)&&config.donut_expand||$$.isGaugeType(id)&&config.gauge_expand||$$.isPieType(id)&&config.pie_expand},c3_chart_internal_fn.shouldShowArcLabel=function(){var $$=this,config=$$.config,shouldShow=!0;return $$.hasType("donut")?shouldShow=config.donut_label_show:$$.hasType("pie")&&(shouldShow=config.pie_label_show),shouldShow},c3_chart_internal_fn.meetsArcLabelThreshold=function(ratio){var $$=this,config=$$.config,threshold=$$.hasType("donut")?config.donut_label_threshold:config.pie_label_threshold;return ratio>=threshold},c3_chart_internal_fn.getArcLabelFormat=function(){var $$=this,config=$$.config,format=config.pie_label_format;return $$.hasType("gauge")?format=config.gauge_label_format:$$.hasType("donut")&&(format=config.donut_label_format),format},c3_chart_internal_fn.getArcTitle=function(){var $$=this;return $$.hasType("donut")?$$.config.donut_title:""},c3_chart_internal_fn.updateTargetsForArc=function(targets){var mainPieUpdate,mainPieEnter,$$=this,main=$$.main,classChartArc=$$.classChartArc.bind($$),classArcs=$$.classArcs.bind($$),classFocus=$$.classFocus.bind($$);mainPieUpdate=main.select("."+CLASS.chartArcs).selectAll("."+CLASS.chartArc).data($$.pie(targets)).attr("class",function(d){return classChartArc(d)+classFocus(d.data)}),mainPieEnter=mainPieUpdate.enter().append("g").attr("class",classChartArc),mainPieEnter.append("g").attr("class",classArcs),mainPieEnter.append("text").attr("dy",$$.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},c3_chart_internal_fn.initArc=function(){var $$=this;$$.arcs=$$.main.select("."+CLASS.chart).append("g").attr("class",CLASS.chartArcs).attr("transform",$$.getTranslate("arc")),$$.arcs.append("text").attr("class",CLASS.chartArcsTitle).style("text-anchor","middle").text($$.getArcTitle())},c3_chart_internal_fn.redrawArc=function(duration,durationForExit,withTransform){var mainArc,$$=this,d3=$$.d3,config=$$.config,main=$$.main;mainArc=main.selectAll("."+CLASS.arcs).selectAll("."+CLASS.arc).data($$.arcData.bind($$)),mainArc.enter().append("path").attr("class",$$.classArc.bind($$)).style("fill",function(d){return $$.color(d.data)}).style("cursor",function(d){return config.interaction_enabled&&config.data_selection_isselectable(d)?"pointer":null}).style("opacity",0).each(function(d){$$.isGaugeType(d.data)&&(d.startAngle=d.endAngle=-1*(Math.PI/2)),this._current=d}),mainArc.attr("transform",function(d){return!$$.isGaugeType(d.data)&&withTransform?"scale(0)":""}).style("opacity",function(d){return d===this._current?0:1}).on("mouseover",config.interaction_enabled?function(d){var updated,arcData;$$.transiting||(updated=$$.updateAngle(d),updated&&(arcData=$$.convertToArcData(updated),$$.expandArc(updated.data.id),$$.api.focus(updated.data.id),$$.toggleFocusLegend(updated.data.id,!0),$$.config.data_onmouseover(arcData,this)))}:null).on("mousemove",config.interaction_enabled?function(d){var arcData,selectedData,updated=$$.updateAngle(d);updated&&(arcData=$$.convertToArcData(updated),selectedData=[arcData],$$.showTooltip(selectedData,this))}:null).on("mouseout",config.interaction_enabled?function(d){var updated,arcData;$$.transiting||(updated=$$.updateAngle(d),updated&&(arcData=$$.convertToArcData(updated),$$.unexpandArc(updated.data.id),$$.api.revert(),$$.revertLegend(),$$.hideTooltip(),$$.config.data_onmouseout(arcData,this)))}:null).on("click",config.interaction_enabled?function(d,i){var arcData,updated=$$.updateAngle(d);updated&&(arcData=$$.convertToArcData(updated),$$.toggleShape&&$$.toggleShape(this,arcData,i),$$.config.data_onclick.call($$.api,arcData,this))}:null).each(function(){$$.transiting=!0}).transition().duration(duration).attrTween("d",function(d){var interpolate,updated=$$.updateAngle(d);return updated?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),interpolate=d3.interpolate(this._current,updated),this._current=interpolate(0),function(t){var interpolated=interpolate(t);return interpolated.data=d.data,$$.getArc(interpolated,!0)}):function(){return"M 0 0"}}).attr("transform",withTransform?"scale(1)":"").style("fill",function(d){return $$.levelColor?$$.levelColor(d.data.values[0].value):$$.color(d.data.id)}).style("opacity",1).call($$.endall,function(){$$.transiting=!1}),mainArc.exit().transition().duration(durationForExit).style("opacity",0).remove(),main.selectAll("."+CLASS.chartArc).select("text").style("opacity",0).attr("class",function(d){return $$.isGaugeType(d.data)?CLASS.gaugeValue:""}).text($$.textForArcLabel.bind($$)).attr("transform",$$.transformForArcLabel.bind($$)).style("font-size",function(d){return $$.isGaugeType(d.data)?Math.round($$.radius/5)+"px":""}).transition().duration(duration).style("opacity",function(d){return $$.isTargetToShow(d.data.id)&&$$.isArcType(d.data)?1:0}),main.select("."+CLASS.chartArcsTitle).style("opacity",$$.hasType("donut")||$$.hasType("gauge")?1:0),$$.hasType("gauge")&&($$.arcs.select("."+CLASS.chartArcsBackground).attr("d",function(){var d={data:[{value:config.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return $$.getArc(d,!0,!0)}),$$.arcs.select("."+CLASS.chartArcsGaugeUnit).attr("dy",".75em").text(config.gauge_label_show?config.gauge_units:""),$$.arcs.select("."+CLASS.chartArcsGaugeMin).attr("dx",-1*($$.innerRadius+($$.radius-$$.innerRadius)/2)+"px").attr("dy","1.2em").text(config.gauge_label_show?config.gauge_min:""),$$.arcs.select("."+CLASS.chartArcsGaugeMax).attr("dx",$$.innerRadius+($$.radius-$$.innerRadius)/2+"px").attr("dy","1.2em").text(config.gauge_label_show?config.gauge_max:""))},c3_chart_internal_fn.initGauge=function(){var arcs=this.arcs;this.hasType("gauge")&&(arcs.append("path").attr("class",CLASS.chartArcsBackground),arcs.append("text").attr("class",CLASS.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),arcs.append("text").attr("class",CLASS.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),arcs.append("text").attr("class",CLASS.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},c3_chart_internal_fn.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},c3_chart_internal_fn.initRegion=function(){var $$=this;$$.region=$$.main.append("g").attr("clip-path",$$.clipPath).attr("class",CLASS.regions)},c3_chart_internal_fn.updateRegion=function(duration){var $$=this,config=$$.config;$$.region.style("visibility",$$.hasArcType()?"hidden":"visible"),$$.mainRegion=$$.main.select("."+CLASS.regions).selectAll("."+CLASS.region).data(config.regions),$$.mainRegion.enter().append("g").attr("class",$$.classRegion.bind($$)).append("rect").style("fill-opacity",0),$$.mainRegion.exit().transition().duration(duration).style("opacity",0).remove()},c3_chart_internal_fn.redrawRegion=function(withTransition){var $$=this,regions=$$.mainRegion.selectAll("rect"),x=$$.regionX.bind($$),y=$$.regionY.bind($$),w=$$.regionWidth.bind($$),h=$$.regionHeight.bind($$);return[(withTransition?regions.transition():regions).attr("x",x).attr("y",y).attr("width",w).attr("height",h).style("fill-opacity",function(d){return isValue(d.opacity)?d.opacity:.1})]},c3_chart_internal_fn.regionX=function(d){var xPos,$$=this,config=$$.config,yScale="y"===d.axis?$$.y:$$.y2;return xPos="y"===d.axis||"y2"===d.axis?config.axis_rotated&&"start"in d?yScale(d.start):0:config.axis_rotated?0:"start"in d?$$.x($$.isTimeSeries()?$$.parseDate(d.start):d.start):0},c3_chart_internal_fn.regionY=function(d){var yPos,$$=this,config=$$.config,yScale="y"===d.axis?$$.y:$$.y2;return yPos="y"===d.axis||"y2"===d.axis?config.axis_rotated?0:"end"in d?yScale(d.end):0:config.axis_rotated&&"start"in d?$$.x($$.isTimeSeries()?$$.parseDate(d.start):d.start):0},c3_chart_internal_fn.regionWidth=function(d){var end,$$=this,config=$$.config,start=$$.regionX(d),yScale="y"===d.axis?$$.y:$$.y2;return end="y"===d.axis||"y2"===d.axis?config.axis_rotated&&"end"in d?yScale(d.end):$$.width:config.axis_rotated?$$.width:"end"in d?$$.x($$.isTimeSeries()?$$.parseDate(d.end):d.end):$$.width,end<start?0:end-start},c3_chart_internal_fn.regionHeight=function(d){var end,$$=this,config=$$.config,start=this.regionY(d),yScale="y"===d.axis?$$.y:$$.y2;return end="y"===d.axis||"y2"===d.axis?config.axis_rotated?$$.height:"start"in d?yScale(d.start):$$.height:config.axis_rotated&&"end"in d?$$.x($$.isTimeSeries()?$$.parseDate(d.end):d.end):$$.height,end<start?0:end-start},c3_chart_internal_fn.isRegionOnX=function(d){return!d.axis||"x"===d.axis},c3_chart_internal_fn.drag=function(mouse){var sx,sy,mx,my,minX,maxX,minY,maxY,$$=this,config=$$.config,main=$$.main,d3=$$.d3;$$.hasArcType()||config.data_selection_enabled&&(config.zoom_enabled&&!$$.zoom.altDomain||config.data_selection_multiple&&(sx=$$.dragStart[0],sy=$$.dragStart[1],mx=mouse[0],my=mouse[1],minX=Math.min(sx,mx),maxX=Math.max(sx,mx),minY=config.data_selection_grouped?$$.margin.top:Math.min(sy,my),maxY=config.data_selection_grouped?$$.height:Math.max(sy,my),main.select("."+CLASS.dragarea).attr("x",minX).attr("y",minY).attr("width",maxX-minX).attr("height",maxY-minY),main.selectAll("."+CLASS.shapes).selectAll("."+CLASS.shape).filter(function(d){return config.data_selection_isselectable(d)}).each(function(d,i){var _x,_y,_w,_h,toggle,box,shape=d3.select(this),isSelected=shape.classed(CLASS.SELECTED),isIncluded=shape.classed(CLASS.INCLUDED),isWithin=!1;if(shape.classed(CLASS.circle))_x=1*shape.attr("cx"),_y=1*shape.attr("cy"),toggle=$$.togglePoint,isWithin=minX<_x&&_x<maxX&&minY<_y&&_y<maxY;else{if(!shape.classed(CLASS.bar))return;box=getPathBox(this),_x=box.x,_y=box.y,_w=box.width,_h=box.height,toggle=$$.togglePath,isWithin=!(maxX<_x||_x+_w<minX||maxY<_y||_y+_h<minY)}isWithin^isIncluded&&(shape.classed(CLASS.INCLUDED,!isIncluded),shape.classed(CLASS.SELECTED,!isSelected),toggle.call($$,!isSelected,shape,d,i))})))},c3_chart_internal_fn.dragstart=function(mouse){var $$=this,config=$$.config;$$.hasArcType()||config.data_selection_enabled&&($$.dragStart=mouse,$$.main.select("."+CLASS.chart).append("rect").attr("class",CLASS.dragarea).style("opacity",.1),$$.dragging=!0)},c3_chart_internal_fn.dragend=function(){var $$=this,config=$$.config;$$.hasArcType()||config.data_selection_enabled&&($$.main.select("."+CLASS.dragarea).transition().duration(100).style("opacity",0).remove(),$$.main.selectAll("."+CLASS.shape).classed(CLASS.INCLUDED,!1),$$.dragging=!1)},c3_chart_internal_fn.selectPoint=function(target,d,i){var $$=this,config=$$.config,cx=(config.axis_rotated?$$.circleY:$$.circleX).bind($$),cy=(config.axis_rotated?$$.circleX:$$.circleY).bind($$),r=$$.pointSelectR.bind($$);config.data_onselected.call($$.api,d,target.node()),$$.main.select("."+CLASS.selectedCircles+$$.getTargetSelectorSuffix(d.id)).selectAll("."+CLASS.selectedCircle+"-"+i).data([d]).enter().append("circle").attr("class",function(){return $$.generateClass(CLASS.selectedCircle,i)}).attr("cx",cx).attr("cy",cy).attr("stroke",function(){return $$.color(d)}).attr("r",function(d){return 1.4*$$.pointSelectR(d)}).transition().duration(100).attr("r",r)},c3_chart_internal_fn.unselectPoint=function(target,d,i){var $$=this;$$.config.data_onunselected.call($$.api,d,target.node()),$$.main.select("."+CLASS.selectedCircles+$$.getTargetSelectorSuffix(d.id)).selectAll("."+CLASS.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},c3_chart_internal_fn.togglePoint=function(selected,target,d,i){selected?this.selectPoint(target,d,i):this.unselectPoint(target,d,i)},c3_chart_internal_fn.selectPath=function(target,d){var $$=this;$$.config.data_onselected.call($$,d,target.node()),target.transition().duration(100).style("fill",function(){return $$.d3.rgb($$.color(d)).brighter(.75)})},c3_chart_internal_fn.unselectPath=function(target,d){var $$=this;$$.config.data_onunselected.call($$,d,target.node()),target.transition().duration(100).style("fill",function(){return $$.color(d)})},c3_chart_internal_fn.togglePath=function(selected,target,d,i){selected?this.selectPath(target,d,i):this.unselectPath(target,d,i)},c3_chart_internal_fn.getToggle=function(that,d){var toggle,$$=this;return"circle"===that.nodeName?toggle=$$.isStepType(d)?function(){}:$$.togglePoint:"path"===that.nodeName&&(toggle=$$.togglePath),toggle},c3_chart_internal_fn.toggleShape=function(that,d,i){var $$=this,d3=$$.d3,config=$$.config,shape=d3.select(that),isSelected=shape.classed(CLASS.SELECTED),toggle=$$.getToggle(that,d).bind($$);config.data_selection_enabled&&config.data_selection_isselectable(d)&&(config.data_selection_multiple||$$.main.selectAll("."+CLASS.shapes+(config.data_selection_grouped?$$.getTargetSelectorSuffix(d.id):"")).selectAll("."+CLASS.shape).each(function(d,i){var shape=d3.select(this);shape.classed(CLASS.SELECTED)&&toggle(!1,shape.classed(CLASS.SELECTED,!1),d,i)}),shape.classed(CLASS.SELECTED,!isSelected),toggle(!isSelected,shape,d,i))},c3_chart_internal_fn.initBrush=function(){var $$=this,d3=$$.d3;$$.brush=d3.svg.brush().on("brush",function(){$$.redrawForBrush()}),$$.brush.update=function(){return $$.context&&$$.context.select("."+CLASS.brush).call(this),this},$$.brush.scale=function(scale){return $$.config.axis_rotated?this.y(scale):this.x(scale)}},c3_chart_internal_fn.initSubchart=function(){var $$=this,config=$$.config,context=$$.context=$$.svg.append("g").attr("transform",$$.getTranslate("context")),visibility=config.subchart_show?"visible":"hidden";context.style("visibility",visibility),context.append("g").attr("clip-path",$$.clipPathForSubchart).attr("class",CLASS.chart),context.select("."+CLASS.chart).append("g").attr("class",CLASS.chartBars),context.select("."+CLASS.chart).append("g").attr("class",CLASS.chartLines),context.append("g").attr("clip-path",$$.clipPath).attr("class",CLASS.brush).call($$.brush),$$.axes.subx=context.append("g").attr("class",CLASS.axisX).attr("transform",$$.getTranslate("subx")).attr("clip-path",config.axis_rotated?"":$$.clipPathForXAxis).style("visibility",config.subchart_axis_x_show?visibility:"hidden")},c3_chart_internal_fn.updateTargetsForSubchart=function(targets){var contextLineEnter,contextLineUpdate,contextBarEnter,contextBarUpdate,$$=this,context=$$.context,config=$$.config,classChartBar=$$.classChartBar.bind($$),classBars=$$.classBars.bind($$),classChartLine=$$.classChartLine.bind($$),classLines=$$.classLines.bind($$),classAreas=$$.classAreas.bind($$);config.subchart_show&&(contextBarUpdate=context.select("."+CLASS.chartBars).selectAll("."+CLASS.chartBar).data(targets).attr("class",classChartBar),contextBarEnter=contextBarUpdate.enter().append("g").style("opacity",0).attr("class",classChartBar),contextBarEnter.append("g").attr("class",classBars),contextLineUpdate=context.select("."+CLASS.chartLines).selectAll("."+CLASS.chartLine).data(targets).attr("class",classChartLine),contextLineEnter=contextLineUpdate.enter().append("g").style("opacity",0).attr("class",classChartLine),contextLineEnter.append("g").attr("class",classLines),contextLineEnter.append("g").attr("class",classAreas),context.selectAll("."+CLASS.brush+" rect").attr(config.axis_rotated?"width":"height",config.axis_rotated?$$.width2:$$.height2))},c3_chart_internal_fn.updateBarForSubchart=function(durationForExit){var $$=this;$$.contextBar=$$.context.selectAll("."+CLASS.bars).selectAll("."+CLASS.bar).data($$.barData.bind($$)),$$.contextBar.enter().append("path").attr("class",$$.classBar.bind($$)).style("stroke","none").style("fill",$$.color),$$.contextBar.style("opacity",$$.initialOpacity.bind($$)),$$.contextBar.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawBarForSubchart=function(drawBarOnSub,withTransition,duration){(withTransition?this.contextBar.transition().duration(duration):this.contextBar).attr("d",drawBarOnSub).style("opacity",1)},c3_chart_internal_fn.updateLineForSubchart=function(durationForExit){var $$=this;$$.contextLine=$$.context.selectAll("."+CLASS.lines).selectAll("."+CLASS.line).data($$.lineData.bind($$)),$$.contextLine.enter().append("path").attr("class",$$.classLine.bind($$)).style("stroke",$$.color),$$.contextLine.style("opacity",$$.initialOpacity.bind($$)),$$.contextLine.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawLineForSubchart=function(drawLineOnSub,withTransition,duration){(withTransition?this.contextLine.transition().duration(duration):this.contextLine).attr("d",drawLineOnSub).style("opacity",1)},c3_chart_internal_fn.updateAreaForSubchart=function(durationForExit){var $$=this,d3=$$.d3;$$.contextArea=$$.context.selectAll("."+CLASS.areas).selectAll("."+CLASS.area).data($$.lineData.bind($$)),$$.contextArea.enter().append("path").attr("class",$$.classArea.bind($$)).style("fill",$$.color).style("opacity",function(){return $$.orgAreaOpacity=+d3.select(this).style("opacity"),0}),$$.contextArea.style("opacity",0),$$.contextArea.exit().transition().duration(durationForExit).style("opacity",0).remove()},c3_chart_internal_fn.redrawAreaForSubchart=function(drawAreaOnSub,withTransition,duration){(withTransition?this.contextArea.transition().duration(duration):this.contextArea).attr("d",drawAreaOnSub).style("fill",this.color).style("opacity",this.orgAreaOpacity)},c3_chart_internal_fn.redrawSubchart=function(withSubchart,transitions,duration,durationForExit,areaIndices,barIndices,lineIndices){var drawAreaOnSub,drawBarOnSub,drawLineOnSub,$$=this,d3=$$.d3,config=$$.config;$$.context.style("visibility",config.subchart_show?"visible":"hidden"),config.subchart_show&&(d3.event&&"zoom"===d3.event.type&&$$.brush.extent($$.x.orgDomain()).update(),withSubchart&&($$.brush.empty()||$$.brush.extent($$.x.orgDomain()).update(),drawAreaOnSub=$$.generateDrawArea(areaIndices,!0),drawBarOnSub=$$.generateDrawBar(barIndices,!0),drawLineOnSub=$$.generateDrawLine(lineIndices,!0),$$.updateBarForSubchart(duration),$$.updateLineForSubchart(duration),$$.updateAreaForSubchart(duration),$$.redrawBarForSubchart(drawBarOnSub,duration,duration),$$.redrawLineForSubchart(drawLineOnSub,duration,duration),$$.redrawAreaForSubchart(drawAreaOnSub,duration,duration)))},c3_chart_internal_fn.redrawForBrush=function(){var $$=this,x=$$.x;$$.redraw({withTransition:!1,withY:$$.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),$$.config.subchart_onbrush.call($$.api,x.orgDomain())},c3_chart_internal_fn.transformContext=function(withTransition,transitions){var subXAxis,$$=this;transitions&&transitions.axisSubX?subXAxis=transitions.axisSubX:(subXAxis=$$.context.select("."+CLASS.axisX),withTransition&&(subXAxis=subXAxis.transition())),$$.context.attr("transform",$$.getTranslate("context")),subXAxis.attr("transform",$$.getTranslate("subx"))},c3_chart_internal_fn.getDefaultExtent=function(){var $$=this,config=$$.config,extent=isFunction(config.axis_x_extent)?config.axis_x_extent($$.getXDomain($$.data.targets)):config.axis_x_extent;return $$.isTimeSeries()&&(extent=[$$.parseDate(extent[0]),$$.parseDate(extent[1])]),extent},c3_chart_internal_fn.initZoom=function(){var startEvent,$$=this,d3=$$.d3,config=$$.config;$$.zoom=d3.behavior.zoom().on("zoomstart",function(){startEvent=d3.event.sourceEvent,$$.zoom.altDomain=d3.event.sourceEvent.altKey?$$.x.orgDomain():null,config.zoom_onzoomstart.call($$.api,d3.event.sourceEvent)}).on("zoom",function(){$$.redrawForZoom.call($$)}).on("zoomend",function(){var event=d3.event.sourceEvent;event&&startEvent.clientX===event.clientX&&startEvent.clientY===event.clientY||($$.redrawEventRect(),$$.updateZoom(),config.zoom_onzoomend.call($$.api,$$.x.orgDomain()))}),$$.zoom.scale=function(scale){return config.axis_rotated?this.y(scale):this.x(scale)},$$.zoom.orgScaleExtent=function(){var extent=config.zoom_extent?config.zoom_extent:[1,10];return[extent[0],Math.max($$.getMaxDataCount()/extent[1],extent[1])]},$$.zoom.updateScaleExtent=function(){var ratio=diffDomain($$.x.orgDomain())/diffDomain($$.getZoomDomain()),extent=this.orgScaleExtent();return this.scaleExtent([extent[0]*ratio,extent[1]*ratio]),this}},c3_chart_internal_fn.getZoomDomain=function(){var $$=this,config=$$.config,d3=$$.d3,min=d3.min([$$.orgXDomain[0],config.zoom_x_min]),max=d3.max([$$.orgXDomain[1],config.zoom_x_max]);return[min,max]},c3_chart_internal_fn.updateZoom=function(){var $$=this,z=$$.config.zoom_enabled?$$.zoom:function(){};$$.main.select("."+CLASS.zoomRect).call(z).on("dblclick.zoom",null),$$.main.selectAll("."+CLASS.eventRect).call(z).on("dblclick.zoom",null)},c3_chart_internal_fn.redrawForZoom=function(){var $$=this,d3=$$.d3,config=$$.config,zoom=$$.zoom,x=$$.x;if(config.zoom_enabled&&0!==$$.filterTargetsToShow($$.data.targets).length){if("mousemove"===d3.event.sourceEvent.type&&zoom.altDomain)return x.domain(zoom.altDomain),void zoom.scale(x).updateScaleExtent();$$.isCategorized()&&x.orgDomain()[0]===$$.orgXDomain[0]&&x.domain([$$.orgXDomain[0]-1e-10,x.orgDomain()[1]]),$$.redraw({withTransition:!1,withY:config.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===d3.event.sourceEvent.type&&($$.cancelClick=!0),config.zoom_onzoom.call($$.api,x.orgDomain())}},c3_chart_internal_fn.generateColor=function(){var $$=this,config=$$.config,d3=$$.d3,colors=config.data_colors,pattern=notEmpty(config.color_pattern)?config.color_pattern:d3.scale.category10().range(),callback=config.data_color,ids=[];return function(d){var color,id=d.id||d.data&&d.data.id||d;return colors[id]instanceof Function?color=colors[id](d):colors[id]?color=colors[id]:(ids.indexOf(id)<0&&ids.push(id),color=pattern[ids.indexOf(id)%pattern.length],colors[id]=color),callback instanceof Function?callback(color,d):color}},c3_chart_internal_fn.generateLevelColor=function(){var $$=this,config=$$.config,colors=config.color_pattern,threshold=config.color_threshold,asValue="value"===threshold.unit,values=threshold.values&&threshold.values.length?threshold.values:[],max=threshold.max||100;return notEmpty(config.color_threshold)?function(value){var i,v,color=colors[colors.length-1];for(i=0;i<values.length;i++)if(v=asValue?value:100*value/max,v<values[i]){color=colors[i];break}return color}:null},c3_chart_internal_fn.getYFormat=function(forArc){var $$=this,formatForY=forArc&&!$$.hasType("gauge")?$$.defaultArcValueFormat:$$.yFormat,formatForY2=forArc&&!$$.hasType("gauge")?$$.defaultArcValueFormat:$$.y2Format;return function(v,ratio,id){var format="y2"===$$.axis.getId(id)?formatForY2:formatForY;return format.call($$,v,ratio)}},c3_chart_internal_fn.yFormat=function(v){var $$=this,config=$$.config,format=config.axis_y_tick_format?config.axis_y_tick_format:$$.defaultValueFormat;return format(v)},c3_chart_internal_fn.y2Format=function(v){var $$=this,config=$$.config,format=config.axis_y2_tick_format?config.axis_y2_tick_format:$$.defaultValueFormat;return format(v)},c3_chart_internal_fn.defaultValueFormat=function(v){return isValue(v)?+v:""},c3_chart_internal_fn.defaultArcValueFormat=function(v,ratio){return(100*ratio).toFixed(1)+"%"},c3_chart_internal_fn.dataLabelFormat=function(targetId){var format,$$=this,data_labels=$$.config.data_labels,defaultFormat=function(v){return isValue(v)?+v:""};return format="function"==typeof data_labels.format?data_labels.format:"object"==typeof data_labels.format?data_labels.format[targetId]?data_labels.format[targetId]===!0?defaultFormat:data_labels.format[targetId]:function(){return""}:defaultFormat},c3_chart_internal_fn.hasCaches=function(ids){for(var i=0;i<ids.length;i++)if(!(ids[i]in this.cache))return!1;return!0},c3_chart_internal_fn.addCache=function(id,target){this.cache[id]=this.cloneTarget(target)},c3_chart_internal_fn.getCaches=function(ids){var i,targets=[];for(i=0;i<ids.length;i++)ids[i]in this.cache&&targets.push(this.cloneTarget(this.cache[ids[i]]));return targets};var CLASS=c3_chart_internal_fn.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};c3_chart_internal_fn.generateClass=function(prefix,targetId){return" "+prefix+" "+prefix+this.getTargetSelectorSuffix(targetId)},c3_chart_internal_fn.classText=function(d){return this.generateClass(CLASS.text,d.index)},c3_chart_internal_fn.classTexts=function(d){return this.generateClass(CLASS.texts,d.id)},c3_chart_internal_fn.classShape=function(d){return this.generateClass(CLASS.shape,d.index)},c3_chart_internal_fn.classShapes=function(d){return this.generateClass(CLASS.shapes,d.id)},c3_chart_internal_fn.classLine=function(d){return this.classShape(d)+this.generateClass(CLASS.line,d.id)},c3_chart_internal_fn.classLines=function(d){return this.classShapes(d)+this.generateClass(CLASS.lines,d.id)},c3_chart_internal_fn.classCircle=function(d){return this.classShape(d)+this.generateClass(CLASS.circle,d.index)},c3_chart_internal_fn.classCircles=function(d){return this.classShapes(d)+this.generateClass(CLASS.circles,d.id)},c3_chart_internal_fn.classBar=function(d){return this.classShape(d)+this.generateClass(CLASS.bar,d.index)},c3_chart_internal_fn.classBars=function(d){return this.classShapes(d)+this.generateClass(CLASS.bars,d.id)},c3_chart_internal_fn.classArc=function(d){return this.classShape(d.data)+this.generateClass(CLASS.arc,d.data.id)},c3_chart_internal_fn.classArcs=function(d){return this.classShapes(d.data)+this.generateClass(CLASS.arcs,d.data.id)},c3_chart_internal_fn.classArea=function(d){return this.classShape(d)+this.generateClass(CLASS.area,d.id)},c3_chart_internal_fn.classAreas=function(d){return this.classShapes(d)+this.generateClass(CLASS.areas,d.id)},c3_chart_internal_fn.classRegion=function(d,i){return this.generateClass(CLASS.region,i)+" "+("class"in d?d["class"]:"")},c3_chart_internal_fn.classEvent=function(d){return this.generateClass(CLASS.eventRect,d.index)},c3_chart_internal_fn.classTarget=function(id){var $$=this,additionalClassSuffix=$$.config.data_classes[id],additionalClass="";return additionalClassSuffix&&(additionalClass=" "+CLASS.target+"-"+additionalClassSuffix),
$$.generateClass(CLASS.target,id)+additionalClass},c3_chart_internal_fn.classFocus=function(d){return this.classFocused(d)+this.classDefocused(d)},c3_chart_internal_fn.classFocused=function(d){return" "+(this.focusedTargetIds.indexOf(d.id)>=0?CLASS.focused:"")},c3_chart_internal_fn.classDefocused=function(d){return" "+(this.defocusedTargetIds.indexOf(d.id)>=0?CLASS.defocused:"")},c3_chart_internal_fn.classChartText=function(d){return CLASS.chartText+this.classTarget(d.id)},c3_chart_internal_fn.classChartLine=function(d){return CLASS.chartLine+this.classTarget(d.id)},c3_chart_internal_fn.classChartBar=function(d){return CLASS.chartBar+this.classTarget(d.id)},c3_chart_internal_fn.classChartArc=function(d){return CLASS.chartArc+this.classTarget(d.data.id)},c3_chart_internal_fn.getTargetSelectorSuffix=function(targetId){return targetId||0===targetId?("-"+targetId).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},c3_chart_internal_fn.selectorTarget=function(id,prefix){return(prefix||"")+"."+CLASS.target+this.getTargetSelectorSuffix(id)},c3_chart_internal_fn.selectorTargets=function(ids,prefix){var $$=this;return ids=ids||[],ids.length?ids.map(function(id){return $$.selectorTarget(id,prefix)}):null},c3_chart_internal_fn.selectorLegend=function(id){return"."+CLASS.legendItem+this.getTargetSelectorSuffix(id)},c3_chart_internal_fn.selectorLegends=function(ids){var $$=this;return ids&&ids.length?ids.map(function(id){return $$.selectorLegend(id)}):null};var isValue=c3_chart_internal_fn.isValue=function(v){return v||0===v},isFunction=c3_chart_internal_fn.isFunction=function(o){return"function"==typeof o},isString=c3_chart_internal_fn.isString=function(o){return"string"==typeof o},isUndefined=c3_chart_internal_fn.isUndefined=function(v){return"undefined"==typeof v},isDefined=c3_chart_internal_fn.isDefined=function(v){return"undefined"!=typeof v},ceil10=c3_chart_internal_fn.ceil10=function(v){return 10*Math.ceil(v/10)},asHalfPixel=c3_chart_internal_fn.asHalfPixel=function(n){return Math.ceil(n)+.5},diffDomain=c3_chart_internal_fn.diffDomain=function(d){return d[1]-d[0]},isEmpty=c3_chart_internal_fn.isEmpty=function(o){return"undefined"==typeof o||null===o||isString(o)&&0===o.length||"object"==typeof o&&0===Object.keys(o).length},notEmpty=c3_chart_internal_fn.notEmpty=function(o){return!c3_chart_internal_fn.isEmpty(o)},getOption=c3_chart_internal_fn.getOption=function(options,key,defaultValue){return isDefined(options[key])?options[key]:defaultValue},hasValue=c3_chart_internal_fn.hasValue=function(dict,value){var found=!1;return Object.keys(dict).forEach(function(key){dict[key]===value&&(found=!0)}),found},getPathBox=c3_chart_internal_fn.getPathBox=function(path){var box=path.getBoundingClientRect(),items=[path.pathSegList.getItem(0),path.pathSegList.getItem(1)],minX=items[0].x,minY=Math.min(items[0].y,items[1].y);return{x:minX,y:minY,width:box.width,height:box.height}};c3_chart_fn.focus=function(targetIds){var candidates,$$=this.internal;targetIds=$$.mapToTargetIds(targetIds),candidates=$$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow,$$))),this.revert(),this.defocus(),candidates.classed(CLASS.focused,!0).classed(CLASS.defocused,!1),$$.hasArcType()&&$$.expandArc(targetIds),$$.toggleFocusLegend(targetIds,!0),$$.focusedTargetIds=targetIds,$$.defocusedTargetIds=$$.defocusedTargetIds.filter(function(id){return targetIds.indexOf(id)<0})},c3_chart_fn.defocus=function(targetIds){var candidates,$$=this.internal;targetIds=$$.mapToTargetIds(targetIds),candidates=$$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow,$$))),candidates.classed(CLASS.focused,!1).classed(CLASS.defocused,!0),$$.hasArcType()&&$$.unexpandArc(targetIds),$$.toggleFocusLegend(targetIds,!1),$$.focusedTargetIds=$$.focusedTargetIds.filter(function(id){return targetIds.indexOf(id)<0}),$$.defocusedTargetIds=targetIds},c3_chart_fn.revert=function(targetIds){var candidates,$$=this.internal;targetIds=$$.mapToTargetIds(targetIds),candidates=$$.svg.selectAll($$.selectorTargets(targetIds)),candidates.classed(CLASS.focused,!1).classed(CLASS.defocused,!1),$$.hasArcType()&&$$.unexpandArc(targetIds),$$.config.legend_show&&($$.showLegend(targetIds.filter($$.isLegendToShow.bind($$))),$$.legend.selectAll($$.selectorLegends(targetIds)).filter(function(){return $$.d3.select(this).classed(CLASS.legendItemFocused)}).classed(CLASS.legendItemFocused,!1)),$$.focusedTargetIds=[],$$.defocusedTargetIds=[]},c3_chart_fn.show=function(targetIds,options){var targets,$$=this.internal;targetIds=$$.mapToTargetIds(targetIds),options=options||{},$$.removeHiddenTargetIds(targetIds),targets=$$.svg.selectAll($$.selectorTargets(targetIds)),targets.transition().style("opacity",1,"important").call($$.endall,function(){targets.style("opacity",null).style("opacity",1)}),options.withLegend&&$$.showLegend(targetIds),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},c3_chart_fn.hide=function(targetIds,options){var targets,$$=this.internal;targetIds=$$.mapToTargetIds(targetIds),options=options||{},$$.addHiddenTargetIds(targetIds),targets=$$.svg.selectAll($$.selectorTargets(targetIds)),targets.transition().style("opacity",0,"important").call($$.endall,function(){targets.style("opacity",null).style("opacity",0)}),options.withLegend&&$$.hideLegend(targetIds),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},c3_chart_fn.toggle=function(targetIds,options){var that=this,$$=this.internal;$$.mapToTargetIds(targetIds).forEach(function(targetId){$$.isTargetToShow(targetId)?that.hide(targetId,options):that.show(targetId,options)})},c3_chart_fn.zoom=function(domain){var $$=this.internal;return domain&&($$.isTimeSeries()&&(domain=domain.map(function(x){return $$.parseDate(x)})),$$.brush.extent(domain),$$.redraw({withUpdateXDomain:!0,withY:$$.config.zoom_rescale}),$$.config.zoom_onzoom.call(this,$$.x.orgDomain())),$$.brush.extent()},c3_chart_fn.zoom.enable=function(enabled){var $$=this.internal;$$.config.zoom_enabled=enabled,$$.updateAndRedraw()},c3_chart_fn.unzoom=function(){var $$=this.internal;$$.brush.clear().update(),$$.redraw({withUpdateXDomain:!0})},c3_chart_fn.zoom.max=function(max){var $$=this.internal,config=$$.config,d3=$$.d3;return 0===max||max?void(config.zoom_x_max=d3.max([$$.orgXDomain[1],max])):config.zoom_x_max},c3_chart_fn.zoom.min=function(min){var $$=this.internal,config=$$.config,d3=$$.d3;return 0===min||min?void(config.zoom_x_min=d3.min([$$.orgXDomain[0],min])):config.zoom_x_min},c3_chart_fn.zoom.range=function(range){return arguments.length?(isDefined(range.max)&&this.domain.max(range.max),void(isDefined(range.min)&&this.domain.min(range.min))):{max:this.domain.max(),min:this.domain.min()}},c3_chart_fn.load=function(args){var $$=this.internal,config=$$.config;return args.xs&&$$.addXs(args.xs),"classes"in args&&Object.keys(args.classes).forEach(function(id){config.data_classes[id]=args.classes[id]}),"categories"in args&&$$.isCategorized()&&(config.axis_x_categories=args.categories),"axes"in args&&Object.keys(args.axes).forEach(function(id){config.data_axes[id]=args.axes[id]}),"colors"in args&&Object.keys(args.colors).forEach(function(id){config.data_colors[id]=args.colors[id]}),"cacheIds"in args&&$$.hasCaches(args.cacheIds)?void $$.load($$.getCaches(args.cacheIds),args.done):void("unload"in args?$$.unload($$.mapToTargetIds("boolean"==typeof args.unload&&args.unload?null:args.unload),function(){$$.loadFromArgs(args)}):$$.loadFromArgs(args))},c3_chart_fn.unload=function(args){var $$=this.internal;args=args||{},args instanceof Array?args={ids:args}:"string"==typeof args&&(args={ids:[args]}),$$.unload($$.mapToTargetIds(args.ids),function(){$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),args.done&&args.done()})},c3_chart_fn.flow=function(args){var targets,data,dataCount,domain,baseTarget,baseValue,diff,to,$$=this.internal,notfoundIds=[],orgDataCount=$$.getMaxDataCount(),length=0,tail=0;if(args.json)data=$$.convertJsonToData(args.json,args.keys);else if(args.rows)data=$$.convertRowsToData(args.rows);else{if(!args.columns)return;data=$$.convertColumnsToData(args.columns)}targets=$$.convertDataToTargets(data,!0),$$.data.targets.forEach(function(t){var i,j,found=!1;for(i=0;i<targets.length;i++)if(t.id===targets[i].id){for(found=!0,t.values[t.values.length-1]&&(tail=t.values[t.values.length-1].index+1),length=targets[i].values.length,j=0;j<length;j++)targets[i].values[j].index=tail+j,$$.isTimeSeries()||(targets[i].values[j].x=tail+j);t.values=t.values.concat(targets[i].values),targets.splice(i,1);break}found||notfoundIds.push(t.id)}),$$.data.targets.forEach(function(t){var i,j;for(i=0;i<notfoundIds.length;i++)if(t.id===notfoundIds[i])for(tail=t.values[t.values.length-1].index+1,j=0;j<length;j++)t.values.push({id:t.id,index:tail+j,x:$$.isTimeSeries()?$$.getOtherTargetX(tail+j):tail+j,value:null})}),$$.data.targets.length&&targets.forEach(function(t){var i,missing=[];for(i=$$.data.targets[0].values[0].index;i<tail;i++)missing.push({id:t.id,index:i,x:$$.isTimeSeries()?$$.getOtherTargetX(i):i,value:null});t.values.forEach(function(v){v.index+=tail,$$.isTimeSeries()||(v.x+=tail)}),t.values=missing.concat(t.values)}),$$.data.targets=$$.data.targets.concat(targets),dataCount=$$.getMaxDataCount(),baseTarget=$$.data.targets[0],baseValue=baseTarget.values[0],isDefined(args.to)?(length=0,to=$$.isTimeSeries()?$$.parseDate(args.to):args.to,baseTarget.values.forEach(function(v){v.x<to&&length++})):isDefined(args.length)&&(length=args.length),orgDataCount?1===orgDataCount&&$$.isTimeSeries()&&(diff=(baseTarget.values[baseTarget.values.length-1].x-baseValue.x)/2,domain=[new Date(+baseValue.x-diff),new Date(+baseValue.x+diff)],$$.updateXDomain(null,!0,!0,!1,domain)):(diff=$$.isTimeSeries()?baseTarget.values.length>1?baseTarget.values[baseTarget.values.length-1].x-baseValue.x:baseValue.x-$$.getXDomain($$.data.targets)[0]:1,domain=[baseValue.x-diff,baseValue.x],$$.updateXDomain(null,!0,!0,!1,domain)),$$.updateTargets($$.data.targets),$$.redraw({flow:{index:baseValue.index,length:length,duration:isValue(args.duration)?args.duration:$$.config.transition_duration,done:args.done,orgDataCount:orgDataCount},withLegend:!0,withTransition:orgDataCount>1,withTrimXDomain:!1,withUpdateXAxis:!0})},c3_chart_internal_fn.generateFlow=function(args){var $$=this,config=$$.config,d3=$$.d3;return function(){var translateX,transform,domain,targets=args.targets,flow=args.flow,drawBar=args.drawBar,drawLine=args.drawLine,drawArea=args.drawArea,cx=args.cx,cy=args.cy,xv=args.xv,xForText=args.xForText,yForText=args.yForText,duration=args.duration,scaleX=1,flowIndex=flow.index,flowLength=flow.length,flowStart=$$.getValueOnIndex($$.data.targets[0].values,flowIndex),flowEnd=$$.getValueOnIndex($$.data.targets[0].values,flowIndex+flowLength),orgDomain=$$.x.domain(),durationForFlow=flow.duration||duration,done=flow.done||function(){},wait=$$.generateWait(),xgrid=$$.xgrid||d3.selectAll([]),xgridLines=$$.xgridLines||d3.selectAll([]),mainRegion=$$.mainRegion||d3.selectAll([]),mainText=$$.mainText||d3.selectAll([]),mainBar=$$.mainBar||d3.selectAll([]),mainLine=$$.mainLine||d3.selectAll([]),mainArea=$$.mainArea||d3.selectAll([]),mainCircle=$$.mainCircle||d3.selectAll([]);$$.flowing=!0,$$.data.targets.forEach(function(d){d.values.splice(0,flowLength)}),domain=$$.updateXDomain(targets,!0,!0),$$.updateXGrid&&$$.updateXGrid(!0),flow.orgDataCount?translateX=1===flow.orgDataCount||flowStart.x===flowEnd.x?$$.x(orgDomain[0])-$$.x(domain[0]):$$.isTimeSeries()?$$.x(orgDomain[0])-$$.x(domain[0]):$$.x(flowStart.x)-$$.x(flowEnd.x):1!==$$.data.targets[0].values.length?translateX=$$.x(orgDomain[0])-$$.x(domain[0]):$$.isTimeSeries()?(flowStart=$$.getValueOnIndex($$.data.targets[0].values,0),flowEnd=$$.getValueOnIndex($$.data.targets[0].values,$$.data.targets[0].values.length-1),translateX=$$.x(flowStart.x)-$$.x(flowEnd.x)):translateX=diffDomain(domain)/2,scaleX=diffDomain(orgDomain)/diffDomain(domain),transform="translate("+translateX+",0) scale("+scaleX+",1)",$$.hideXGridFocus(),d3.transition().ease("linear").duration(durationForFlow).each(function(){wait.add($$.axes.x.transition().call($$.xAxis)),wait.add(mainBar.transition().attr("transform",transform)),wait.add(mainLine.transition().attr("transform",transform)),wait.add(mainArea.transition().attr("transform",transform)),wait.add(mainCircle.transition().attr("transform",transform)),wait.add(mainText.transition().attr("transform",transform)),wait.add(mainRegion.filter($$.isRegionOnX).transition().attr("transform",transform)),wait.add(xgrid.transition().attr("transform",transform)),wait.add(xgridLines.transition().attr("transform",transform))}).call(wait,function(){var i,shapes=[],texts=[],eventRects=[];if(flowLength){for(i=0;i<flowLength;i++)shapes.push("."+CLASS.shape+"-"+(flowIndex+i)),texts.push("."+CLASS.text+"-"+(flowIndex+i)),eventRects.push("."+CLASS.eventRect+"-"+(flowIndex+i));$$.svg.selectAll("."+CLASS.shapes).selectAll(shapes).remove(),$$.svg.selectAll("."+CLASS.texts).selectAll(texts).remove(),$$.svg.selectAll("."+CLASS.eventRects).selectAll(eventRects).remove(),$$.svg.select("."+CLASS.xgrid).remove()}xgrid.attr("transform",null).attr($$.xgridAttr),xgridLines.attr("transform",null),xgridLines.select("line").attr("x1",config.axis_rotated?0:xv).attr("x2",config.axis_rotated?$$.width:xv),xgridLines.select("text").attr("x",config.axis_rotated?$$.width:0).attr("y",xv),mainBar.attr("transform",null).attr("d",drawBar),mainLine.attr("transform",null).attr("d",drawLine),mainArea.attr("transform",null).attr("d",drawArea),mainCircle.attr("transform",null).attr("cx",cx).attr("cy",cy),mainText.attr("transform",null).attr("x",xForText).attr("y",yForText).style("fill-opacity",$$.opacityForText.bind($$)),mainRegion.attr("transform",null),mainRegion.select("rect").filter($$.isRegionOnX).attr("x",$$.regionX.bind($$)).attr("width",$$.regionWidth.bind($$)),config.interaction_enabled&&$$.redrawEventRect(),done(),$$.flowing=!1})}},c3_chart_fn.selected=function(targetId){var $$=this.internal,d3=$$.d3;return d3.merge($$.main.selectAll("."+CLASS.shapes+$$.getTargetSelectorSuffix(targetId)).selectAll("."+CLASS.shape).filter(function(){return d3.select(this).classed(CLASS.SELECTED)}).map(function(d){return d.map(function(d){var data=d.__data__;return data.data?data.data:data})}))},c3_chart_fn.select=function(ids,indices,resetOther){var $$=this.internal,d3=$$.d3,config=$$.config;config.data_selection_enabled&&$$.main.selectAll("."+CLASS.shapes).selectAll("."+CLASS.shape).each(function(d,i){var shape=d3.select(this),id=d.data?d.data.id:d.id,toggle=$$.getToggle(this,d).bind($$),isTargetId=config.data_selection_grouped||!ids||ids.indexOf(id)>=0,isTargetIndex=!indices||indices.indexOf(i)>=0,isSelected=shape.classed(CLASS.SELECTED);shape.classed(CLASS.line)||shape.classed(CLASS.area)||(isTargetId&&isTargetIndex?config.data_selection_isselectable(d)&&!isSelected&&toggle(!0,shape.classed(CLASS.SELECTED,!0),d,i):isDefined(resetOther)&&resetOther&&isSelected&&toggle(!1,shape.classed(CLASS.SELECTED,!1),d,i))})},c3_chart_fn.unselect=function(ids,indices){var $$=this.internal,d3=$$.d3,config=$$.config;config.data_selection_enabled&&$$.main.selectAll("."+CLASS.shapes).selectAll("."+CLASS.shape).each(function(d,i){var shape=d3.select(this),id=d.data?d.data.id:d.id,toggle=$$.getToggle(this,d).bind($$),isTargetId=config.data_selection_grouped||!ids||ids.indexOf(id)>=0,isTargetIndex=!indices||indices.indexOf(i)>=0,isSelected=shape.classed(CLASS.SELECTED);shape.classed(CLASS.line)||shape.classed(CLASS.area)||isTargetId&&isTargetIndex&&config.data_selection_isselectable(d)&&isSelected&&toggle(!1,shape.classed(CLASS.SELECTED,!1),d,i)})},c3_chart_fn.transform=function(type,targetIds){var $$=this.internal,options=["pie","donut"].indexOf(type)>=0?{withTransform:!0}:null;$$.transformTo(targetIds,type,options)},c3_chart_internal_fn.transformTo=function(targetIds,type,optionsForRedraw){var $$=this,withTransitionForAxis=!$$.hasArcType(),options=optionsForRedraw||{withTransitionForAxis:withTransitionForAxis};options.withTransitionForTransform=!1,$$.transiting=!1,$$.setTargetType(targetIds,type),$$.updateTargets($$.data.targets),$$.updateAndRedraw(options)},c3_chart_fn.groups=function(groups){var $$=this.internal,config=$$.config;return isUndefined(groups)?config.data_groups:(config.data_groups=groups,$$.redraw(),config.data_groups)},c3_chart_fn.xgrids=function(grids){var $$=this.internal,config=$$.config;return grids?(config.grid_x_lines=grids,$$.redrawWithoutRescale(),config.grid_x_lines):config.grid_x_lines},c3_chart_fn.xgrids.add=function(grids){var $$=this.internal;return this.xgrids($$.config.grid_x_lines.concat(grids?grids:[]))},c3_chart_fn.xgrids.remove=function(params){var $$=this.internal;$$.removeGridLines(params,!0)},c3_chart_fn.ygrids=function(grids){var $$=this.internal,config=$$.config;return grids?(config.grid_y_lines=grids,$$.redrawWithoutRescale(),config.grid_y_lines):config.grid_y_lines},c3_chart_fn.ygrids.add=function(grids){var $$=this.internal;return this.ygrids($$.config.grid_y_lines.concat(grids?grids:[]))},c3_chart_fn.ygrids.remove=function(params){var $$=this.internal;$$.removeGridLines(params,!1)},c3_chart_fn.regions=function(regions){var $$=this.internal,config=$$.config;return regions?(config.regions=regions,$$.redrawWithoutRescale(),config.regions):config.regions},c3_chart_fn.regions.add=function(regions){var $$=this.internal,config=$$.config;return regions?(config.regions=config.regions.concat(regions),$$.redrawWithoutRescale(),config.regions):config.regions},c3_chart_fn.regions.remove=function(options){var duration,classes,regions,$$=this.internal,config=$$.config;return options=options||{},duration=$$.getOption(options,"duration",config.transition_duration),classes=$$.getOption(options,"classes",[CLASS.region]),regions=$$.main.select("."+CLASS.regions).selectAll(classes.map(function(c){return"."+c})),(duration?regions.transition().duration(duration):regions).style("opacity",0).remove(),config.regions=config.regions.filter(function(region){var found=!1;return!region["class"]||(region["class"].split(" ").forEach(function(c){classes.indexOf(c)>=0&&(found=!0)}),!found)}),config.regions},c3_chart_fn.data=function(targetIds){var targets=this.internal.data.targets;return"undefined"==typeof targetIds?targets:targets.filter(function(t){return[].concat(targetIds).indexOf(t.id)>=0})},c3_chart_fn.data.shown=function(targetIds){return this.internal.filterTargetsToShow(this.data(targetIds))},c3_chart_fn.data.values=function(targetId){var targets,values=null;return targetId&&(targets=this.data(targetId),values=targets[0]?targets[0].values.map(function(d){return d.value}):null),values},c3_chart_fn.data.names=function(names){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",names)},c3_chart_fn.data.colors=function(colors){return this.internal.updateDataAttributes("colors",colors)},c3_chart_fn.data.axes=function(axes){return this.internal.updateDataAttributes("axes",axes)},c3_chart_fn.category=function(i,category){var $$=this.internal,config=$$.config;return arguments.length>1&&(config.axis_x_categories[i]=category,$$.redraw()),config.axis_x_categories[i]},c3_chart_fn.categories=function(categories){var $$=this.internal,config=$$.config;return arguments.length?(config.axis_x_categories=categories,$$.redraw(),config.axis_x_categories):config.axis_x_categories},c3_chart_fn.color=function(id){var $$=this.internal;return $$.color(id)},c3_chart_fn.x=function(x){var $$=this.internal;return arguments.length&&($$.updateTargetX($$.data.targets,x),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),$$.data.xs},c3_chart_fn.xs=function(xs){var $$=this.internal;return arguments.length&&($$.updateTargetXs($$.data.targets,xs),$$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),$$.data.xs},c3_chart_fn.axis=function(){},c3_chart_fn.axis.labels=function(labels){var $$=this.internal;arguments.length&&(Object.keys(labels).forEach(function(axisId){$$.axis.setLabelText(axisId,labels[axisId])}),$$.axis.updateLabels())},c3_chart_fn.axis.max=function(max){var $$=this.internal,config=$$.config;return arguments.length?("object"==typeof max?(isValue(max.x)&&(config.axis_x_max=max.x),isValue(max.y)&&(config.axis_y_max=max.y),isValue(max.y2)&&(config.axis_y2_max=max.y2)):config.axis_y_max=config.axis_y2_max=max,void $$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:config.axis_x_max,y:config.axis_y_max,y2:config.axis_y2_max}},c3_chart_fn.axis.min=function(min){var $$=this.internal,config=$$.config;return arguments.length?("object"==typeof min?(isValue(min.x)&&(config.axis_x_min=min.x),isValue(min.y)&&(config.axis_y_min=min.y),isValue(min.y2)&&(config.axis_y2_min=min.y2)):config.axis_y_min=config.axis_y2_min=min,void $$.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:config.axis_x_min,y:config.axis_y_min,y2:config.axis_y2_min}},c3_chart_fn.axis.range=function(range){return arguments.length?(isDefined(range.max)&&this.axis.max(range.max),void(isDefined(range.min)&&this.axis.min(range.min))):{max:this.axis.max(),min:this.axis.min()}},c3_chart_fn.legend=function(){},c3_chart_fn.legend.show=function(targetIds){var $$=this.internal;$$.showLegend($$.mapToTargetIds(targetIds)),$$.updateAndRedraw({withLegend:!0})},c3_chart_fn.legend.hide=function(targetIds){var $$=this.internal;$$.hideLegend($$.mapToTargetIds(targetIds)),$$.updateAndRedraw({withLegend:!0})},c3_chart_fn.resize=function(size){var $$=this.internal,config=$$.config;config.size_width=size?size.width:null,config.size_height=size?size.height:null,this.flush()},c3_chart_fn.flush=function(){var $$=this.internal;$$.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},c3_chart_fn.destroy=function(){var $$=this.internal;if(window.clearInterval($$.intervalForObserveInserted),void 0!==$$.resizeTimeout&&window.clearTimeout($$.resizeTimeout),window.detachEvent)window.detachEvent("onresize",$$.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",$$.resizeFunction);else{var wrapper=window.onresize;wrapper&&wrapper.add&&wrapper.remove&&wrapper.remove($$.resizeFunction)}return $$.selectChart.classed("c3",!1).html(""),Object.keys($$).forEach(function(key){$$[key]=null}),null},c3_chart_fn.tooltip=function(){},c3_chart_fn.tooltip.show=function(args){var index,mouse,$$=this.internal;args.mouse&&(mouse=args.mouse),args.data?$$.isMultipleX()?(mouse=[$$.x(args.data.x),$$.getYScale(args.data.id)(args.data.value)],index=null):index=isValue(args.data.index)?args.data.index:$$.getIndexByX(args.data.x):"undefined"!=typeof args.x?index=$$.getIndexByX(args.x):"undefined"!=typeof args.index&&(index=args.index),$$.dispatchEvent("mouseover",index,mouse),$$.dispatchEvent("mousemove",index,mouse),$$.config.tooltip_onshow.call($$,args.data)},c3_chart_fn.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var tickTextCharSize;c3_chart_internal_fn.isSafari=function(){var ua=window.navigator.userAgent;return ua.indexOf("Safari")>=0&&ua.indexOf("Chrome")<0},c3_chart_internal_fn.isChrome=function(){var ua=window.navigator.userAgent;return ua.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(oThis){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))};return fNOP.prototype=this.prototype,fBound.prototype=new fNOP,fBound}),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return c3}):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c3:window.c3=c3}(window)},{d3:191}],149:[function(require,module,exports){"use strict";var uiRouter=require("angular-ui-router"),uiRouterExtras=require("ui-router-extras"),angularAnimate=require("angular-animate"),angularUiBootstrap=require("angular-ui-bootstrap"),angularCookies=require("angular-cookies"),angularResource=require("angular-resource"),angularSanitize=require("angular-sanitize"),angularBreadcrumb=require("angular-breadcrumb"),bootstrap=require("bootstrap"),domReady=require("domready"),AgGrid=require("../../node_modules/ag-grid/dist/ag-grid.noStyle");AgGrid.initialiseAgGridWithAngular1(angular),module.exports=function(){var vendor={uiRouter:uiRouter,uiRouterExtras:uiRouterExtras,angularAnimate:angularAnimate,angularUiBootstrap:angularUiBootstrap,angularCookies:angularCookies,angularResource:angularResource,angularSanitize:angularSanitize,angularBreadcrumb:angularBreadcrumb,bootstrap:bootstrap,domReady:domReady,AgGrid:AgGrid};return vendor}},{"../../node_modules/ag-grid/dist/ag-grid.noStyle":150,"angular-animate":154,"angular-breadcrumb":155,"angular-cookies":157,"angular-resource":161,"angular-sanitize":163,"angular-ui-bootstrap":166,"angular-ui-router":167,bootstrap:171,domready:192,"ui-router-extras":348}],150:[function(require,module,exports){!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.agGrid=factory():root.agGrid=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){var populateClientExports=__webpack_require__(1).populateClientExports;populateClientExports(exports)},function(module,exports,__webpack_require__){function populateClientExports(exports){exports.BalancedColumnTreeBuilder=balancedColumnTreeBuilder_1.BalancedColumnTreeBuilder,exports.ColumnController=columnController_1.ColumnController,exports.ColumnKeyCreator=columnKeyCreator_1.ColumnKeyCreator,exports.ColumnUtils=columnUtils_1.ColumnUtils,exports.DisplayedGroupCreator=displayedGroupCreator_1.DisplayedGroupCreator,exports.GroupInstanceIdCreator=groupInstanceIdCreator_1.GroupInstanceIdCreator,exports.PivotService=pivotService_1.PivotService,exports.ComponentUtil=componentUtil_1.ComponentUtil,exports.initialiseAgGridWithAngular1=agGridNg1_1.initialiseAgGridWithAngular1,exports.initialiseAgGridWithWebComponents=agGridWebComponent_1.initialiseAgGridWithWebComponents,exports.Context=context_1.Context,exports.Autowired=context_1.Autowired,exports.PostConstruct=context_1.PostConstruct,exports.PreDestroy=context_1.PreDestroy,exports.Optional=context_1.Optional,exports.Bean=context_1.Bean,exports.Qualifier=context_1.Qualifier,exports.DragAndDropService=dragAndDropService_1.DragAndDropService,exports.DragService=dragService_1.DragService,exports.Column=column_1.Column,exports.ColumnGroup=columnGroup_1.ColumnGroup,exports.GridCell=gridCell_1.GridCell,exports.GridRow=gridRow_1.GridRow,exports.OriginalColumnGroup=originalColumnGroup_1.OriginalColumnGroup,exports.RowNode=rowNode_1.RowNode,exports.FilterManager=filterManager_1.FilterManager,exports.NumberFilter=numberFilter_1.NumberFilter,exports.TextFilter=textFilter_1.TextFilter,exports.GridPanel=gridPanel_1.GridPanel,exports.MouseEventService=mouseEventService_1.MouseEventService,exports.CssClassApplier=cssClassApplier_1.CssClassApplier,exports.HeaderContainer=headerContainer_1.HeaderContainer,exports.HeaderRenderer=headerRenderer_1.HeaderRenderer,exports.HeaderTemplateLoader=headerTemplateLoader_1.HeaderTemplateLoader,exports.HorizontalDragService=horizontalDragService_1.HorizontalDragService,exports.MoveColumnController=moveColumnController_1.MoveColumnController,exports.RenderedHeaderCell=renderedHeaderCell_1.RenderedHeaderCell,exports.RenderedHeaderGroupCell=renderedHeaderGroupCell_1.RenderedHeaderGroupCell,exports.StandardMenuFactory=standardMenu_1.StandardMenuFactory,exports.BorderLayout=borderLayout_1.BorderLayout,exports.TabbedLayout=tabbedLayout_1.TabbedLayout,exports.VerticalStack=verticalStack_1.VerticalStack,exports.DateCellEditor=dateCellEditor_1.DateCellEditor,exports.PopupEditorWrapper=popupEditorWrapper_1.PopupEditorWrapper,exports.PopupSelectCellEditor=popupSelectCellEditor_1.PopupSelectCellEditor,exports.PopupTextCellEditor=popupTextCellEditor_1.PopupTextCellEditor,exports.SelectCellEditor=selectCellEditor_1.SelectCellEditor,exports.TextCellEditor=textCellEditor_1.TextCellEditor,exports.AnimateSlideCellRenderer=animateSlideCellRenderer_1.AnimateSlideCellRenderer,exports.GroupCellRenderer=groupCellRenderer_1.GroupCellRenderer,exports.AutoWidthCalculator=autoWidthCalculator_1.AutoWidthCalculator,exports.CellEditorFactory=cellEditorFactory_1.CellEditorFactory,exports.RenderedHeaderCell=renderedHeaderCell_1.RenderedHeaderCell,exports.CellRendererFactory=cellRendererFactory_1.CellRendererFactory,exports.CellRendererService=cellRendererService_1.CellRendererService,exports.RenderedRow=renderedRow_1.RenderedRow,exports.RowRenderer=rowRenderer_1.RowRenderer,exports.ValueFormatterService=valueFormatterService_1.ValueFormatterService,exports.FilterStage=filterStage_1.FilterStage,exports.FlattenStage=flattenStage_1.FlattenStage,exports.InMemoryRowModel=inMemoryRowModel_1.InMemoryRowModel,exports.SortStage=sortStage_1.SortStage,exports.FloatingRowModel=floatingRowModel_1.FloatingRowModel,exports.PaginationController=paginationController_1.PaginationController,exports.VirtualPageRowModel=virtualPageRowModel_1.VirtualPageRowModel,exports.PopupService=popupService_1.PopupService,exports.MenuItemComponent=menuItemComponent_1.MenuItemComponent,exports.Component=component_1.Component,exports.MenuList=menuList_1.MenuList,exports.CellNavigationService=cellNavigationService_1.CellNavigationService,exports.ColumnChangeEvent=columnChangeEvent_1.ColumnChangeEvent,exports.Constants=constants_1.Constants,exports.CsvCreator=csvCreator_1.CsvCreator,exports.Events=events_1.Events,exports.EventService=eventService_1.EventService,exports.ExpressionService=expressionService_1.ExpressionService,exports.FocusedCellController=focusedCellController_1.FocusedCellController,exports.defaultGroupComparator=functions_1.defaultGroupComparator,exports.Grid=grid_1.Grid,exports.GridApi=gridApi_1.GridApi,exports.GridCore=gridCore_1.GridCore,exports.GridOptionsWrapper=gridOptionsWrapper_1.GridOptionsWrapper,exports.Logger=logger_1.Logger,exports.MasterSlaveService=masterSlaveService_1.MasterSlaveService,exports.SelectionController=selectionController_1.SelectionController,exports.CheckboxSelectionComponent=checkboxSelectionComponent_1.CheckboxSelectionComponent,exports.SortController=sortController_1.SortController,exports.SvgFactory=svgFactory_1.SvgFactory,exports.TemplateService=templateService_1.TemplateService,exports.Utils=utils_1.Utils,exports.ValueService=valueService_1.ValueService}var grid_1=__webpack_require__(2),gridApi_1=__webpack_require__(11),events_1=__webpack_require__(10),componentUtil_1=__webpack_require__(9),columnController_1=__webpack_require__(13),agGridNg1_1=__webpack_require__(84),agGridWebComponent_1=__webpack_require__(85),gridCell_1=__webpack_require__(33),rowNode_1=__webpack_require__(27),originalColumnGroup_1=__webpack_require__(17),columnGroup_1=__webpack_require__(14),column_1=__webpack_require__(15),focusedCellController_1=__webpack_require__(35),functions_1=__webpack_require__(66),gridOptionsWrapper_1=__webpack_require__(3),balancedColumnTreeBuilder_1=__webpack_require__(19),columnKeyCreator_1=__webpack_require__(20),columnUtils_1=__webpack_require__(16),displayedGroupCreator_1=__webpack_require__(21),groupInstanceIdCreator_1=__webpack_require__(65),context_1=__webpack_require__(6),dragAndDropService_1=__webpack_require__(73),dragService_1=__webpack_require__(31),filterManager_1=__webpack_require__(43),numberFilter_1=__webpack_require__(46),textFilter_1=__webpack_require__(45),gridPanel_1=__webpack_require__(24),mouseEventService_1=__webpack_require__(32),cssClassApplier_1=__webpack_require__(72),headerContainer_1=__webpack_require__(69),headerRenderer_1=__webpack_require__(68),headerTemplateLoader_1=__webpack_require__(75),horizontalDragService_1=__webpack_require__(71),moveColumnController_1=__webpack_require__(76),renderedHeaderCell_1=__webpack_require__(74),renderedHeaderGroupCell_1=__webpack_require__(70),standardMenu_1=__webpack_require__(78),borderLayout_1=__webpack_require__(30),tabbedLayout_1=__webpack_require__(86),verticalStack_1=__webpack_require__(87),autoWidthCalculator_1=__webpack_require__(22),renderedRow_1=__webpack_require__(37),rowRenderer_1=__webpack_require__(23),filterStage_1=__webpack_require__(79),flattenStage_1=__webpack_require__(81),sortStage_1=__webpack_require__(80),floatingRowModel_1=__webpack_require__(26),paginationController_1=__webpack_require__(41),component_1=__webpack_require__(47),menuList_1=__webpack_require__(88),cellNavigationService_1=__webpack_require__(63),columnChangeEvent_1=__webpack_require__(64),constants_1=__webpack_require__(8),csvCreator_1=__webpack_require__(12),eventService_1=__webpack_require__(4),expressionService_1=__webpack_require__(18),gridCore_1=__webpack_require__(40),logger_1=__webpack_require__(5),masterSlaveService_1=__webpack_require__(25),selectionController_1=__webpack_require__(28),sortController_1=__webpack_require__(42),svgFactory_1=__webpack_require__(59),templateService_1=__webpack_require__(36),utils_1=__webpack_require__(7),valueService_1=__webpack_require__(29),popupService_1=__webpack_require__(44),gridRow_1=__webpack_require__(34),inMemoryRowModel_1=__webpack_require__(83),virtualPageRowModel_1=__webpack_require__(82),menuItemComponent_1=__webpack_require__(89),animateSlideCellRenderer_1=__webpack_require__(56),cellEditorFactory_1=__webpack_require__(48),popupEditorWrapper_1=__webpack_require__(51),popupSelectCellEditor_1=__webpack_require__(53),popupTextCellEditor_1=__webpack_require__(52),selectCellEditor_1=__webpack_require__(50),textCellEditor_1=__webpack_require__(49),cellRendererFactory_1=__webpack_require__(55),groupCellRenderer_1=__webpack_require__(58),cellRendererService_1=__webpack_require__(60),valueFormatterService_1=__webpack_require__(61),dateCellEditor_1=__webpack_require__(54),checkboxSelectionComponent_1=__webpack_require__(62),pivotService_1=__webpack_require__(67);
exports.populateClientExports=populateClientExports},function(module,exports,__webpack_require__){var gridOptionsWrapper_1=__webpack_require__(3),paginationController_1=__webpack_require__(41),floatingRowModel_1=__webpack_require__(26),selectionController_1=__webpack_require__(28),columnController_1=__webpack_require__(13),rowRenderer_1=__webpack_require__(23),headerRenderer_1=__webpack_require__(68),filterManager_1=__webpack_require__(43),valueService_1=__webpack_require__(29),masterSlaveService_1=__webpack_require__(25),eventService_1=__webpack_require__(4),oldToolPanelDragAndDropService_1=__webpack_require__(77),gridPanel_1=__webpack_require__(24),gridApi_1=__webpack_require__(11),headerTemplateLoader_1=__webpack_require__(75),balancedColumnTreeBuilder_1=__webpack_require__(19),displayedGroupCreator_1=__webpack_require__(21),expressionService_1=__webpack_require__(18),templateService_1=__webpack_require__(36),popupService_1=__webpack_require__(44),logger_1=__webpack_require__(5),columnUtils_1=__webpack_require__(16),autoWidthCalculator_1=__webpack_require__(22),horizontalDragService_1=__webpack_require__(71),context_1=__webpack_require__(6),csvCreator_1=__webpack_require__(12),gridCore_1=__webpack_require__(40),standardMenu_1=__webpack_require__(78),dragAndDropService_1=__webpack_require__(73),dragService_1=__webpack_require__(31),sortController_1=__webpack_require__(42),focusedCellController_1=__webpack_require__(35),mouseEventService_1=__webpack_require__(32),cellNavigationService_1=__webpack_require__(63),utils_1=__webpack_require__(7),filterStage_1=__webpack_require__(79),sortStage_1=__webpack_require__(80),flattenStage_1=__webpack_require__(81),focusService_1=__webpack_require__(39),cellEditorFactory_1=__webpack_require__(48),events_1=__webpack_require__(10),virtualPageRowModel_1=__webpack_require__(82),inMemoryRowModel_1=__webpack_require__(83),cellRendererFactory_1=__webpack_require__(55),cellRendererService_1=__webpack_require__(60),valueFormatterService_1=__webpack_require__(61),pivotService_1=__webpack_require__(67),Grid=function(){function Grid(eGridDiv,gridOptions,globalEventListener,$scope,$compile,quickFilterOnScope){void 0===globalEventListener&&(globalEventListener=null),void 0===$scope&&($scope=null),void 0===$compile&&($compile=null),void 0===quickFilterOnScope&&(quickFilterOnScope=null),eGridDiv||console.error("ag-Grid: no div element provided to the grid"),gridOptions||console.error("ag-Grid: no gridOptions provided to the grid");var rowModelClass=this.getRowModelClass(gridOptions),enterprise=utils_1.Utils.exists(Grid.enterpriseBeans);this.context=new context_1.Context({overrideBeans:Grid.enterpriseBeans,seed:{enterprise:enterprise,gridOptions:gridOptions,eGridDiv:eGridDiv,$scope:$scope,$compile:$compile,quickFilterOnScope:quickFilterOnScope,globalEventListener:globalEventListener},beans:[rowModelClass,cellRendererFactory_1.CellRendererFactory,horizontalDragService_1.HorizontalDragService,headerTemplateLoader_1.HeaderTemplateLoader,floatingRowModel_1.FloatingRowModel,dragService_1.DragService,displayedGroupCreator_1.DisplayedGroupCreator,eventService_1.EventService,gridOptionsWrapper_1.GridOptionsWrapper,selectionController_1.SelectionController,filterManager_1.FilterManager,columnController_1.ColumnController,rowRenderer_1.RowRenderer,pivotService_1.PivotService,headerRenderer_1.HeaderRenderer,expressionService_1.ExpressionService,balancedColumnTreeBuilder_1.BalancedColumnTreeBuilder,csvCreator_1.CsvCreator,templateService_1.TemplateService,gridPanel_1.GridPanel,popupService_1.PopupService,valueService_1.ValueService,masterSlaveService_1.MasterSlaveService,logger_1.LoggerFactory,oldToolPanelDragAndDropService_1.OldToolPanelDragAndDropService,columnUtils_1.ColumnUtils,autoWidthCalculator_1.AutoWidthCalculator,gridApi_1.GridApi,paginationController_1.PaginationController,popupService_1.PopupService,gridCore_1.GridCore,standardMenu_1.StandardMenuFactory,dragAndDropService_1.DragAndDropService,sortController_1.SortController,columnController_1.ColumnApi,focusedCellController_1.FocusedCellController,mouseEventService_1.MouseEventService,cellNavigationService_1.CellNavigationService,filterStage_1.FilterStage,sortStage_1.SortStage,flattenStage_1.FlattenStage,focusService_1.FocusService,cellEditorFactory_1.CellEditorFactory,cellRendererService_1.CellRendererService,valueFormatterService_1.ValueFormatterService],debug:!!gridOptions.debug});var eventService=this.context.getBean("eventService"),readyEvent={api:gridOptions.api,columnApi:gridOptions.columnApi};eventService.dispatchEvent(events_1.Events.EVENT_GRID_READY,readyEvent)}return Grid.setEnterpriseBeans=function(enterpriseBeans,rowModelClasses){this.enterpriseBeans=enterpriseBeans,utils_1.Utils.iterateObject(rowModelClasses,function(key,value){return Grid.RowModelClasses[key]=value})},Grid.prototype.getRowModelClass=function(gridOptions){var rowModelType=gridOptions.rowModelType;if(utils_1.Utils.exists(rowModelType)){var rowModelClass=Grid.RowModelClasses[rowModelType];if(utils_1.Utils.exists(rowModelClass))return rowModelClass;console.error("ag-Grid: count not find matching row model for rowModelType "+rowModelType),"viewport"===rowModelType&&console.error("ag-Grid: rowModelType viewport is only available in ag-Grid Enterprise")}return inMemoryRowModel_1.InMemoryRowModel},Grid.prototype.destroy=function(){this.context.destroy()},Grid.RowModelClasses={virtual:virtualPageRowModel_1.VirtualPageRowModel,pagination:inMemoryRowModel_1.InMemoryRowModel},Grid}();exports.Grid=Grid},function(module,exports,__webpack_require__){function isTrue(value){return value===!0||"true"===value}function positiveNumberOrZero(value,defaultValue){return value>0?value:defaultValue}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},eventService_1=__webpack_require__(4),constants_1=__webpack_require__(8),componentUtil_1=__webpack_require__(9),gridApi_1=__webpack_require__(11),context_1=__webpack_require__(6),columnController_1=__webpack_require__(13),events_1=__webpack_require__(10),utils_1=__webpack_require__(7),DEFAULT_ROW_HEIGHT=25,DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE=5,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE=5,GridOptionsWrapper=function(){function GridOptionsWrapper(){}return GridOptionsWrapper.prototype.agWire=function(gridApi,columnApi){this.headerHeight=this.gridOptions.headerHeight,this.gridOptions.api=gridApi,this.gridOptions.columnApi=columnApi,this.checkForDeprecated()},GridOptionsWrapper.prototype.init=function(){this.eventService.addGlobalListener(this.globalEventHandler.bind(this)),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: groupSelectsChildren does not work wth suppressParentsInRowNodes, this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&!this.isRowSelectionMulti()&&console.warn("ag-Grid: rowSelectionMulti must be true for groupSelectsChildren to make sense")},GridOptionsWrapper.prototype.isEnterprise=function(){return this.enterprise},GridOptionsWrapper.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},GridOptionsWrapper.prototype.isRowDeselection=function(){return isTrue(this.gridOptions.rowDeselection)},GridOptionsWrapper.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},GridOptionsWrapper.prototype.getContext=function(){return this.gridOptions.context},GridOptionsWrapper.prototype.isRowModelPagination=function(){return this.gridOptions.rowModelType===constants_1.Constants.ROW_MODEL_TYPE_PAGINATION},GridOptionsWrapper.prototype.isRowModelVirtual=function(){return this.gridOptions.rowModelType===constants_1.Constants.ROW_MODEL_TYPE_VIRTUAL},GridOptionsWrapper.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===constants_1.Constants.ROW_MODEL_TYPE_VIEWPORT},GridOptionsWrapper.prototype.isRowModelDefault=function(){return!(this.isRowModelPagination()||this.isRowModelVirtual()||this.isRowModelViewport())},GridOptionsWrapper.prototype.isShowToolPanel=function(){return isTrue(this.gridOptions.showToolPanel)},GridOptionsWrapper.prototype.isToolPanelSuppressGroups=function(){return isTrue(this.gridOptions.toolPanelSuppressGroups)},GridOptionsWrapper.prototype.isToolPanelSuppressValues=function(){return isTrue(this.gridOptions.toolPanelSuppressValues)},GridOptionsWrapper.prototype.isEnableCellChangeFlash=function(){return isTrue(this.gridOptions.enableCellChangeFlash)},GridOptionsWrapper.prototype.isGroupSelectsChildren=function(){return isTrue(this.gridOptions.groupSelectsChildren)},GridOptionsWrapper.prototype.isGroupIncludeFooter=function(){return isTrue(this.gridOptions.groupIncludeFooter)},GridOptionsWrapper.prototype.isGroupSuppressBlankHeader=function(){return isTrue(this.gridOptions.groupSuppressBlankHeader)},GridOptionsWrapper.prototype.isSuppressRowClickSelection=function(){return isTrue(this.gridOptions.suppressRowClickSelection)},GridOptionsWrapper.prototype.isSuppressCellSelection=function(){return isTrue(this.gridOptions.suppressCellSelection)},GridOptionsWrapper.prototype.isSuppressMultiSort=function(){return isTrue(this.gridOptions.suppressMultiSort)},GridOptionsWrapper.prototype.isGroupSuppressAutoColumn=function(){return isTrue(this.gridOptions.groupSuppressAutoColumn)},GridOptionsWrapper.prototype.isSuppressDragLeaveHidesColumns=function(){return isTrue(this.gridOptions.suppressDragLeaveHidesColumns)},GridOptionsWrapper.prototype.isForPrint=function(){return isTrue(this.gridOptions.forPrint)},GridOptionsWrapper.prototype.isSuppressHorizontalScroll=function(){return isTrue(this.gridOptions.suppressHorizontalScroll)},GridOptionsWrapper.prototype.isSuppressLoadingOverlay=function(){return isTrue(this.gridOptions.suppressLoadingOverlay)},GridOptionsWrapper.prototype.isSuppressNoRowsOverlay=function(){return isTrue(this.gridOptions.suppressNoRowsOverlay)},GridOptionsWrapper.prototype.isSuppressFieldDotNotation=function(){return isTrue(this.gridOptions.suppressFieldDotNotation)},GridOptionsWrapper.prototype.getFloatingTopRowData=function(){return this.gridOptions.floatingTopRowData},GridOptionsWrapper.prototype.getFloatingBottomRowData=function(){return this.gridOptions.floatingBottomRowData},GridOptionsWrapper.prototype.isUnSortIcon=function(){return isTrue(this.gridOptions.unSortIcon)},GridOptionsWrapper.prototype.isSuppressMenuHide=function(){return isTrue(this.gridOptions.suppressMenuHide)},GridOptionsWrapper.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},GridOptionsWrapper.prototype.getRowClass=function(){return this.gridOptions.rowClass},GridOptionsWrapper.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},GridOptionsWrapper.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},GridOptionsWrapper.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},GridOptionsWrapper.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer},GridOptionsWrapper.prototype.getApi=function(){return this.gridOptions.api},GridOptionsWrapper.prototype.getColumnApi=function(){return this.gridOptions.columnApi},GridOptionsWrapper.prototype.isEnableColResize=function(){return isTrue(this.gridOptions.enableColResize)},GridOptionsWrapper.prototype.isSingleClickEdit=function(){return isTrue(this.gridOptions.singleClickEdit)},GridOptionsWrapper.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},GridOptionsWrapper.prototype.getRowData=function(){return this.gridOptions.rowData},GridOptionsWrapper.prototype.isGroupUseEntireRow=function(){return isTrue(this.gridOptions.groupUseEntireRow)},GridOptionsWrapper.prototype.getGroupColumnDef=function(){return this.gridOptions.groupColumnDef},GridOptionsWrapper.prototype.isGroupSuppressRow=function(){return isTrue(this.gridOptions.groupSuppressRow)},GridOptionsWrapper.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},GridOptionsWrapper.prototype.isAngularCompileRows=function(){return isTrue(this.gridOptions.angularCompileRows)},GridOptionsWrapper.prototype.isAngularCompileFilters=function(){return isTrue(this.gridOptions.angularCompileFilters)},GridOptionsWrapper.prototype.isAngularCompileHeaders=function(){return isTrue(this.gridOptions.angularCompileHeaders)},GridOptionsWrapper.prototype.isDebug=function(){return isTrue(this.gridOptions.debug)},GridOptionsWrapper.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},GridOptionsWrapper.prototype.getDatasource=function(){return this.gridOptions.datasource},GridOptionsWrapper.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},GridOptionsWrapper.prototype.isEnableSorting=function(){return isTrue(this.gridOptions.enableSorting)||isTrue(this.gridOptions.enableServerSideSorting)},GridOptionsWrapper.prototype.isEnableCellExpressions=function(){return isTrue(this.gridOptions.enableCellExpressions)},GridOptionsWrapper.prototype.isSuppressMiddleClickScrolls=function(){return isTrue(this.gridOptions.suppressMiddleClickScrolls)},GridOptionsWrapper.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return isTrue(this.gridOptions.suppressPreventDefaultOnMouseWheel)},GridOptionsWrapper.prototype.isEnableServerSideSorting=function(){return isTrue(this.gridOptions.enableServerSideSorting)},GridOptionsWrapper.prototype.isSuppressContextMenu=function(){return isTrue(this.gridOptions.suppressContextMenu)},GridOptionsWrapper.prototype.isEnableFilter=function(){return isTrue(this.gridOptions.enableFilter)||isTrue(this.gridOptions.enableServerSideFilter)},GridOptionsWrapper.prototype.isEnableServerSideFilter=function(){return this.gridOptions.enableServerSideFilter},GridOptionsWrapper.prototype.isSuppressScrollLag=function(){return isTrue(this.gridOptions.suppressScrollLag)},GridOptionsWrapper.prototype.isSuppressMovableColumns=function(){return isTrue(this.gridOptions.suppressMovableColumns)},GridOptionsWrapper.prototype.isSuppressColumnMoveAnimation=function(){return isTrue(this.gridOptions.suppressColumnMoveAnimation)},GridOptionsWrapper.prototype.isSuppressMenuColumnPanel=function(){return isTrue(this.gridOptions.suppressMenuColumnPanel)},GridOptionsWrapper.prototype.isSuppressMenuFilterPanel=function(){return isTrue(this.gridOptions.suppressMenuFilterPanel)},GridOptionsWrapper.prototype.isSuppressMenuMainPanel=function(){return isTrue(this.gridOptions.suppressMenuMainPanel)},GridOptionsWrapper.prototype.isEnableRangeSelection=function(){return isTrue(this.gridOptions.enableRangeSelection)},GridOptionsWrapper.prototype.isRememberGroupStateWhenNewData=function(){return isTrue(this.gridOptions.rememberGroupStateWhenNewData)},GridOptionsWrapper.prototype.getIcons=function(){return this.gridOptions.icons},GridOptionsWrapper.prototype.getIsScrollLag=function(){return this.gridOptions.isScrollLag},GridOptionsWrapper.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},GridOptionsWrapper.prototype.getSlaveGrids=function(){return this.gridOptions.slaveGrids},GridOptionsWrapper.prototype.getGroupRowRenderer=function(){return this.gridOptions.groupRowRenderer},GridOptionsWrapper.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},GridOptionsWrapper.prototype.getGroupRowInnerRenderer=function(){return this.gridOptions.groupRowInnerRenderer},GridOptionsWrapper.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},GridOptionsWrapper.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},GridOptionsWrapper.prototype.getCheckboxSelection=function(){return this.gridOptions.checkboxSelection},GridOptionsWrapper.prototype.isSuppressAutoSize=function(){return isTrue(this.gridOptions.suppressAutoSize)},GridOptionsWrapper.prototype.isSuppressParentsInRowNodes=function(){return isTrue(this.gridOptions.suppressParentsInRowNodes)},GridOptionsWrapper.prototype.isEnableStatusBar=function(){return isTrue(this.gridOptions.enableStatusBar)},GridOptionsWrapper.prototype.getHeaderCellTemplate=function(){return this.gridOptions.headerCellTemplate},GridOptionsWrapper.prototype.getHeaderCellTemplateFunc=function(){return this.gridOptions.getHeaderCellTemplate},GridOptionsWrapper.prototype.getNodeChildDetailsFunc=function(){return this.gridOptions.getNodeChildDetails},GridOptionsWrapper.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},GridOptionsWrapper.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},GridOptionsWrapper.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},GridOptionsWrapper.prototype.getViewportRowModelPageSize=function(){return positiveNumberOrZero(this.gridOptions.viewportRowModelPageSize,DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE)},GridOptionsWrapper.prototype.getViewportRowModelBufferSize=function(){return positiveNumberOrZero(this.gridOptions.viewportRowModelBufferSize,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE)},GridOptionsWrapper.prototype.executeProcessRowPostCreateFunc=function(params){this.gridOptions.processRowPostCreate&&this.gridOptions.processRowPostCreate(params)},GridOptionsWrapper.prototype.getHeaderHeight=function(){return"number"==typeof this.headerHeight?this.headerHeight:25},GridOptionsWrapper.prototype.setHeaderHeight=function(headerHeight){this.headerHeight=headerHeight,this.eventService.dispatchEvent(events_1.Events.EVENT_HEADER_HEIGHT_CHANGED)},GridOptionsWrapper.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},GridOptionsWrapper.prototype.doesExternalFilterPass=function(node){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(node)},GridOptionsWrapper.prototype.getMinColWidth=function(){return this.gridOptions.minColWidth>GridOptionsWrapper.MIN_COL_WIDTH?this.gridOptions.minColWidth:GridOptionsWrapper.MIN_COL_WIDTH},GridOptionsWrapper.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth>GridOptionsWrapper.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},GridOptionsWrapper.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<GridOptionsWrapper.MIN_COL_WIDTH?200:this.gridOptions.colWidth},GridOptionsWrapper.prototype.getRowBuffer=function(){return"number"==typeof this.gridOptions.rowBuffer?(this.gridOptions.rowBuffer<0&&console.warn("ag-Grid: rowBuffer should not be negative"),this.gridOptions.rowBuffer):constants_1.Constants.ROW_BUFFER_SIZE},GridOptionsWrapper.prototype.checkForDeprecated=function(){var options=this.gridOptions;options.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortOrder instead."),options.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortOrder instead."),options.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),options.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),options.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),(options.ready||options.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady"),"boolean"==typeof options.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups"),(options.onRowDeselected||options.rowDeselected)&&console.warn("ag-grid: since version 3.4 event rowDeselected no longer exists, please check the docs"),options.rowsAlreadyGrouped&&console.warn("ag-grid: since version 3.4 rowsAlreadyGrouped no longer exists, please use getNodeChildDetails() instead"),options.groupAggFunction&&console.warn("ag-grid: since version 4.2.0 groupAggFunction no longer exists, please check documentation on how to do custom aggregations, aggFunc on the colDef can now be a function")},GridOptionsWrapper.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var that=this;return function(key,defaultValue){var localeText=that.gridOptions.localeText;return localeText&&localeText[key]?localeText[key]:defaultValue}},GridOptionsWrapper.prototype.globalEventHandler=function(eventName,event){var callbackMethodName=componentUtil_1.ComponentUtil.getCallbackForEvent(eventName);"function"==typeof this.gridOptions[callbackMethodName]&&this.gridOptions[callbackMethodName](event)},GridOptionsWrapper.prototype.getRowHeightAsNumber=function(){var rowHeight=this.gridOptions.rowHeight;return utils_1.Utils.missing(rowHeight)?DEFAULT_ROW_HEIGHT:"number"==typeof this.gridOptions.rowHeight?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),DEFAULT_ROW_HEIGHT)},GridOptionsWrapper.prototype.getRowHeightForNode=function(rowNode){if("number"==typeof this.gridOptions.rowHeight)return this.gridOptions.rowHeight;if("function"==typeof this.gridOptions.getRowHeight){var params={node:rowNode,data:rowNode.data,api:this.gridOptions.api,context:this.gridOptions.context};return this.gridOptions.getRowHeight(params)}return DEFAULT_ROW_HEIGHT},GridOptionsWrapper.MIN_COL_WIDTH=10,__decorate([context_1.Autowired("gridOptions"),__metadata("design:type",Object)],GridOptionsWrapper.prototype,"gridOptions",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GridOptionsWrapper.prototype,"columnController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GridOptionsWrapper.prototype,"eventService",void 0),__decorate([context_1.Autowired("enterprise"),__metadata("design:type",Boolean)],GridOptionsWrapper.prototype,"enterprise",void 0),__decorate([__param(0,context_1.Qualifier("gridApi")),__param(1,context_1.Qualifier("columnApi")),__metadata("design:type",Function),__metadata("design:paramtypes",[gridApi_1.GridApi,columnController_1.ColumnApi]),__metadata("design:returntype",void 0)],GridOptionsWrapper.prototype,"agWire",null),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridOptionsWrapper.prototype,"init",null),GridOptionsWrapper=__decorate([context_1.Bean("gridOptionsWrapper"),__metadata("design:paramtypes",[])],GridOptionsWrapper)}();exports.GridOptionsWrapper=GridOptionsWrapper},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},logger_1=__webpack_require__(5),utils_1=__webpack_require__(7),context_1=__webpack_require__(6),context_2=__webpack_require__(6),EventService=function(){function EventService(){this.allListeners={},this.globalListeners=[]}return EventService.prototype.agWire=function(loggerFactory,globalEventListener){void 0===globalEventListener&&(globalEventListener=null),this.logger=loggerFactory.create("EventService"),globalEventListener&&this.addGlobalListener(globalEventListener)},EventService.prototype.getListenerList=function(eventType){var listenerList=this.allListeners[eventType];return listenerList||(listenerList=[],this.allListeners[eventType]=listenerList),listenerList},EventService.prototype.addEventListener=function(eventType,listener){var listenerList=this.getListenerList(eventType);listenerList.indexOf(listener)<0&&listenerList.push(listener)},EventService.prototype.addModalPriorityEventListener=function(eventType,listener){this.addEventListener(eventType+EventService.PRIORITY,listener)},EventService.prototype.addGlobalListener=function(listener){this.globalListeners.push(listener)},EventService.prototype.removeEventListener=function(eventType,listener){var listenerList=this.getListenerList(eventType);utils_1.Utils.removeFromArray(listenerList,listener)},EventService.prototype.removeGlobalListener=function(listener){utils_1.Utils.removeFromArray(this.globalListeners,listener)},EventService.prototype.dispatchEvent=function(eventType,event){event||(event={});var p1ListenerList=this.getListenerList(eventType+EventService.PRIORITY);p1ListenerList.forEach(function(listener){listener(event)});var listenerList=this.getListenerList(eventType);listenerList.forEach(function(listener){listener(event)}),this.globalListeners.forEach(function(listener){listener(eventType,event)})},EventService.PRIORITY="-P1",__decorate([__param(0,context_2.Qualifier("loggerFactory")),__param(1,context_2.Qualifier("globalEventListener")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory,Function]),__metadata("design:returntype",void 0)],EventService.prototype,"agWire",null),EventService=__decorate([context_1.Bean("eventService"),__metadata("design:paramtypes",[])],EventService)}();exports.EventService=EventService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},gridOptionsWrapper_1=__webpack_require__(3),context_1=__webpack_require__(6),context_2=__webpack_require__(6),LoggerFactory=function(){function LoggerFactory(){}return LoggerFactory.prototype.setBeans=function(gridOptionsWrapper){this.logging=gridOptionsWrapper.isDebug()},LoggerFactory.prototype.create=function(name){return new Logger(name,this.logging)},__decorate([__param(0,context_2.Qualifier("gridOptionsWrapper")),__metadata("design:type",Function),__metadata("design:paramtypes",[gridOptionsWrapper_1.GridOptionsWrapper]),__metadata("design:returntype",void 0)],LoggerFactory.prototype,"setBeans",null),LoggerFactory=__decorate([context_1.Bean("loggerFactory"),__metadata("design:paramtypes",[])],LoggerFactory)}();exports.LoggerFactory=LoggerFactory;var Logger=function(){function Logger(name,logging){this.name=name,this.logging=logging}return Logger.prototype.log=function(message){this.logging&&console.log("ag-Grid."+this.name+": "+message)},Logger}();exports.Logger=Logger},function(module,exports,__webpack_require__){function applyToConstructor(constructor,argArray){var args=[null].concat(argArray),factoryFunction=constructor.bind.apply(constructor,args);return new factoryFunction}function PostConstruct(target,methodName,descriptor){var props=getOrCreateProps(target);props.postConstructMethods||(props.postConstructMethods=[]),props.postConstructMethods.push(methodName)}function PreDestroy(target,methodName,descriptor){var props=getOrCreateProps(target);props.preDestroyMethods||(props.preDestroyMethods=[]),props.preDestroyMethods.push(methodName)}function Bean(beanName){return function(classConstructor){var props=getOrCreateProps(classConstructor.prototype);props.beanName=beanName}}function Autowired(name){return autowiredFunc.bind(this,name,!1)}function Optional(name){return autowiredFunc.bind(this,name,!0)}function autowiredFunc(name,optional,classPrototype,methodOrAttributeName,index){if(null===name)return void console.error("ag-Grid: Autowired name should not be null");if("number"==typeof index)return void console.error("ag-Grid: Autowired should be on an attribute");var props=getOrCreateProps(classPrototype);props.agClassAttributes||(props.agClassAttributes=[]),props.agClassAttributes.push({attributeName:methodOrAttributeName,beanName:name,optional:optional})}function Qualifier(name){return function(classPrototype,methodOrAttributeName,index){var props;if("number"==typeof index){var methodName;methodOrAttributeName?(props=getOrCreateProps(classPrototype),methodName=methodOrAttributeName):(props=getOrCreateProps(classPrototype.prototype),methodName="agConstructor"),props.autowireMethods||(props.autowireMethods={}),props.autowireMethods[methodName]||(props.autowireMethods[methodName]={}),props.autowireMethods[methodName][index]=name}}}function getOrCreateProps(target){var props=target.__agBeanMetaData;return props||(props={},target.__agBeanMetaData=props),props}var utils_1=__webpack_require__(7),logger_1=__webpack_require__(5),Context=function(){function Context(params){if(this.beans={},this.destroyed=!1,params&&params.beans){this.contextParams=params,this.logger=new logger_1.Logger("Context",this.contextParams.debug),this.logger.log(">> creating ag-Application Context"),this.createBeans();var beans=utils_1.Utils.mapObject(this.beans,function(beanEntry){return beanEntry.beanInstance});this.wireBeans(beans),this.logger.log(">> ag-Application Context ready - component is alive")}}return Context.prototype.wireBean=function(bean){this.wireBeans([bean])},Context.prototype.wireBeans=function(beans){this.autoWireBeans(beans),this.methodWireBeans(beans),this.postConstruct(beans)},Context.prototype.createBeans=function(){var _this=this;this.contextParams.beans.forEach(this.createBeanEntry.bind(this)),this.contextParams.overrideBeans&&this.contextParams.overrideBeans.forEach(this.createBeanEntry.bind(this)),utils_1.Utils.iterateObject(this.beans,function(key,beanEntry){var constructorParamsMeta;beanEntry.bean.prototype.__agBeanMetaData&&beanEntry.bean.prototype.__agBeanMetaData.autowireMethods&&beanEntry.bean.prototype.__agBeanMetaData.autowireMethods.agConstructor&&(constructorParamsMeta=beanEntry.bean.prototype.__agBeanMetaData.autowireMethods.agConstructor);var constructorParams=_this.getBeansForParameters(constructorParamsMeta,beanEntry.beanName),newInstance=applyToConstructor(beanEntry.bean,constructorParams);beanEntry.beanInstance=newInstance,_this.logger.log("bean "+_this.getBeanName(newInstance)+" created");
})},Context.prototype.createBeanEntry=function(Bean){var metaData=Bean.prototype.__agBeanMetaData;if(!metaData){var beanName;return beanName=Bean.prototype.constructor?Bean.prototype.constructor.name:""+Bean,void console.error("context item "+beanName+" is not a bean")}var beanEntry={bean:Bean,beanInstance:null,beanName:metaData.beanName};this.beans[metaData.beanName]=beanEntry},Context.prototype.autoWireBeans=function(beans){var _this=this;beans.forEach(function(bean){return _this.autoWireBean(bean)})},Context.prototype.methodWireBeans=function(beans){var _this=this;beans.forEach(function(bean){return _this.methodWireBean(bean)})},Context.prototype.autoWireBean=function(bean){var _this=this;if(bean&&bean.__agBeanMetaData&&bean.__agBeanMetaData.agClassAttributes){var attributes=bean.__agBeanMetaData.agClassAttributes;if(attributes){var beanName=this.getBeanName(bean);attributes.forEach(function(attribute){var otherBean=_this.lookupBeanInstance(beanName,attribute.beanName,attribute.optional);bean[attribute.attributeName]=otherBean})}}},Context.prototype.getBeanName=function(bean){var constructorString=bean.constructor.toString(),beanName=constructorString.substring(9,constructorString.indexOf("("));return beanName},Context.prototype.methodWireBean=function(bean){var autowiredMethods,_this=this;bean.__agBeanMetaData&&(autowiredMethods=bean.__agBeanMetaData.autowireMethods),utils_1.Utils.iterateObject(autowiredMethods,function(methodName,wireParams){if("agConstructor"!==methodName){var beanName=_this.getBeanName(bean),initParams=_this.getBeansForParameters(wireParams,beanName);bean[methodName].apply(bean,initParams)}})},Context.prototype.getBeansForParameters=function(parameters,beanName){var _this=this,beansList=[];return parameters&&utils_1.Utils.iterateObject(parameters,function(paramIndex,otherBeanName){var otherBean=_this.lookupBeanInstance(beanName,otherBeanName);beansList[Number(paramIndex)]=otherBean}),beansList},Context.prototype.lookupBeanInstance=function(wiringBean,beanName,optional){if(void 0===optional&&(optional=!1),"context"===beanName)return this;if(this.contextParams.seed&&this.contextParams.seed.hasOwnProperty(beanName))return this.contextParams.seed[beanName];var beanEntry=this.beans[beanName];return beanEntry?beanEntry.beanInstance:(optional||console.error("ag-Grid: unable to find bean reference "+beanName+" while initialising "+wiringBean),null)},Context.prototype.postConstruct=function(beans){beans.forEach(function(bean){bean.__agBeanMetaData&&bean.__agBeanMetaData.postConstructMethods&&bean.__agBeanMetaData.postConstructMethods.forEach(function(methodName){return bean[methodName]()})})},Context.prototype.getBean=function(name){return this.lookupBeanInstance("getBean",name,!0)},Context.prototype.destroy=function(){this.destroyed||(this.logger.log(">> Shutting down ag-Application Context"),utils_1.Utils.iterateObject(this.beans,function(key,beanEntry){var bean=beanEntry.beanInstance;bean.__agBeanMetaData&&bean.__agBeanMetaData.preDestroyMethods&&bean.__agBeanMetaData.preDestroyMethods.forEach(function(methodName){return bean[methodName]()})}),this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead"))},Context}();exports.Context=Context,exports.PostConstruct=PostConstruct,exports.PreDestroy=PreDestroy,exports.Bean=Bean,exports.Autowired=Autowired,exports.Optional=Optional,exports.Qualifier=Qualifier},function(module,exports){var FUNCTION_STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,FUNCTION_ARGUMENT_NAMES=/([^\s,]+)/g,Utils=function(){function Utils(){}return Utils.iterateObject=function(object,callback){if(!this.missing(object))for(var keys=Object.keys(object),i=0;i<keys.length;i++){var key=keys[i],value=object[key];callback(key,value)}},Utils.cloneObject=function(object){for(var copy={},keys=Object.keys(object),i=0;i<keys.length;i++){var key=keys[i],value=object[key];copy[key]=value}return copy},Utils.map=function(array,callback){for(var result=[],i=0;i<array.length;i++){var item=array[i],mappedItem=callback(item);result.push(mappedItem)}return result},Utils.mapObject=function(object,callback){var result=[];return Utils.iterateObject(object,function(key,value){result.push(callback(value))}),result},Utils.forEach=function(array,callback){if(array)for(var i=0;i<array.length;i++){var value=array[i];callback(value,i)}},Utils.filter=function(array,callback){var result=[];return array.forEach(function(item){callback(item)&&result.push(item)}),result},Utils.assign=function(object,source){this.exists(source)&&this.iterateObject(source,function(key,value){object[key]=value})},Utils.getFunctionParameters=function(func){var fnStr=func.toString().replace(FUNCTION_STRIP_COMMENTS,""),result=fnStr.slice(fnStr.indexOf("(")+1,fnStr.indexOf(")")).match(FUNCTION_ARGUMENT_NAMES);return null===result?[]:result},Utils.find=function(collection,predicate,value){if(null===collection||void 0===collection)return null;for(var firstMatchingItem,i=0;i<collection.length;i++){var item=collection[i];if("string"==typeof predicate){if(item[predicate]===value){firstMatchingItem=item;break}}else{var callback=predicate;if(callback(item)){firstMatchingItem=item;break}}}return firstMatchingItem},Utils.toStrings=function(array){return this.map(array,function(item){return void 0!==item&&null!==item&&item.toString?item.toString():null})},Utils.iterateArray=function(array,callback){for(var index=0;index<array.length;index++){var value=array[index];callback(value,index)}},Utils.isNode=function(o){return"function"==typeof Node?o instanceof Node:o&&"object"==typeof o&&"number"==typeof o.nodeType&&"string"==typeof o.nodeName},Utils.isElement=function(o){return"function"==typeof HTMLElement?o instanceof HTMLElement:o&&"object"==typeof o&&null!==o&&1===o.nodeType&&"string"==typeof o.nodeName},Utils.isNodeOrElement=function(o){return this.isNode(o)||this.isElement(o)},Utils.addChangeListener=function(element,listener){element.addEventListener("changed",listener),element.addEventListener("paste",listener),element.addEventListener("input",listener),element.addEventListener("keydown",listener),element.addEventListener("keyup",listener)},Utils.makeNull=function(value){return null===value||void 0===value||""===value?null:value},Utils.missing=function(value){return!this.exists(value)},Utils.missingOrEmpty=function(value){return this.missing(value)||0===value.length},Utils.exists=function(value){return null!==value&&void 0!==value&&""!==value},Utils.existsAndNotEmpty=function(value){return this.exists(value)&&value.length>0},Utils.removeAllChildren=function(node){if(node)for(;node.hasChildNodes();)node.removeChild(node.lastChild)},Utils.removeElement=function(parent,cssSelector){this.removeFromParent(parent.querySelector(cssSelector))},Utils.removeFromParent=function(node){node&&node.parentNode&&node.parentNode.removeChild(node)},Utils.isVisible=function(element){return null!==element.offsetParent},Utils.loadTemplate=function(template){var tempDiv=document.createElement("div");return tempDiv.innerHTML=template,tempDiv.firstChild},Utils.addOrRemoveCssClass=function(element,className,addOrRemove){addOrRemove?this.addCssClass(element,className):this.removeCssClass(element,className)},Utils.callIfPresent=function(func){func&&func()},Utils.addCssClass=function(element,className){var _this=this;if(className&&0!==className.length){if(className.indexOf(" ")>=0)return void className.split(" ").forEach(function(value){return _this.addCssClass(element,value)});if(element.classList)element.classList.add(className);else if(element.className&&element.className.length>0){var cssClasses=element.className.split(" ");cssClasses.indexOf(className)<0&&(cssClasses.push(className),element.className=cssClasses.join(" "))}else element.className=className}},Utils.containsClass=function(element,className){if(element.classList)return element.classList.contains(className);if(element.className){var onlyClass=element.className===className,contains=element.className.indexOf(" "+className+" ")>=0,startsWithClass=0===element.className.indexOf(className+" "),endsWithClass=element.className.lastIndexOf(" "+className)===element.className.length-className.length-1;return onlyClass||contains||startsWithClass||endsWithClass}return!1},Utils.getElementAttribute=function(element,attributeName){if(element.attributes){if(element.attributes[attributeName]){var attribute=element.attributes[attributeName];return attribute.value}return null}return null},Utils.offsetHeight=function(element){return element&&element.clientHeight?element.clientHeight:0},Utils.offsetWidth=function(element){return element&&element.clientWidth?element.clientWidth:0},Utils.removeCssClass=function(element,className){if(element.className&&element.className.length>0){var cssClasses=element.className.split(" "),index=cssClasses.indexOf(className);index>=0&&(cssClasses.splice(index,1),element.className=cssClasses.join(" "))}},Utils.removeFromArray=function(array,object){array.indexOf(object)>=0&&array.splice(array.indexOf(object),1)},Utils.insertIntoArray=function(array,object,toIndex){array.splice(toIndex,0,object)},Utils.moveInArray=function(array,objectsToMove,toIndex){var _this=this;objectsToMove.forEach(function(obj){_this.removeFromArray(array,obj)}),objectsToMove.slice().reverse().forEach(function(obj){_this.insertIntoArray(array,obj,toIndex)})},Utils.defaultComparator=function(valueA,valueB){var valueAMissing=null===valueA||void 0===valueA,valueBMissing=null===valueB||void 0===valueB;return valueAMissing&&valueBMissing?0:valueAMissing?-1:valueBMissing?1:valueA<valueB?-1:valueA>valueB?1:0},Utils.formatWidth=function(width){return"number"==typeof width?width+"px":width},Utils.formatNumberTwoDecimalPlacesAndCommas=function(value){return"number"==typeof value?(Math.round(100*value)/100).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):""},Utils.createIcon=function(iconName,gridOptionsWrapper,column,svgFactoryFunc){var eResult=document.createElement("span");return eResult.appendChild(this.createIconNoSpan(iconName,gridOptionsWrapper,column,svgFactoryFunc)),eResult},Utils.createIconNoSpan=function(iconName,gridOptionsWrapper,colDefWrapper,svgFactoryFunc){var userProvidedIcon;if(colDefWrapper&&colDefWrapper.getColDef().icons&&(userProvidedIcon=colDefWrapper.getColDef().icons[iconName]),!userProvidedIcon&&gridOptionsWrapper.getIcons()&&(userProvidedIcon=gridOptionsWrapper.getIcons()[iconName]),userProvidedIcon){var rendererResult;if("function"==typeof userProvidedIcon)rendererResult=userProvidedIcon();else{if("string"!=typeof userProvidedIcon)throw"icon from grid options needs to be a string or a function";rendererResult=userProvidedIcon}if("string"==typeof rendererResult)return this.loadTemplate(rendererResult);if(this.isNodeOrElement(rendererResult))return rendererResult;throw"iconRenderer should return back a string or a dom object"}return svgFactoryFunc?svgFactoryFunc():null},Utils.addStylesToElement=function(eElement,styles){styles&&Object.keys(styles).forEach(function(key){eElement.style[key]=styles[key]})},Utils.getScrollbarWidth=function(){var outer=document.createElement("div");outer.style.visibility="hidden",outer.style.width="100px",outer.style.msOverflowStyle="scrollbar",document.body.appendChild(outer);var widthNoScroll=outer.offsetWidth;outer.style.overflow="scroll";var inner=document.createElement("div");inner.style.width="100%",outer.appendChild(inner);var widthWithScroll=inner.offsetWidth;return outer.parentNode.removeChild(outer),widthNoScroll-widthWithScroll},Utils.isKeyPressed=function(event,keyToCheck){var pressedKey=event.which||event.keyCode;return pressedKey===keyToCheck},Utils.setVisible=function(element,visible,visibleStyle){visible?this.exists(visibleStyle)?element.style.display=visibleStyle:element.style.display="inline":element.style.display="none"},Utils.isBrowserIE=function(){return void 0===this.isIE&&(this.isIE=!!document.documentMode),this.isIE},Utils.isBrowserSafari=function(){return void 0===this.isSafari&&(this.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0),this.isSafari},Utils.getBodyWidth=function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},Utils.getBodyHeight=function(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1},Utils.setCheckboxState=function(eCheckbox,state){"boolean"==typeof state?(eCheckbox.checked=state,eCheckbox.indeterminate=!1):eCheckbox.indeterminate=!0},Utils.traverseNodesWithKey=function(nodes,callback){function recursiveSearchNodes(nodes){nodes.forEach(function(node){if(node.group){keyParts.push(node.key);var key=keyParts.join("|");callback(node,key),recursiveSearchNodes(node.childrenAfterGroup),keyParts.pop()}})}var keyParts=[];recursiveSearchNodes(nodes)},Utils.normalizeWheel=function(event){var PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800,sX=0,sY=0,pX=0,pY=0;return"detail"in event&&(sY=event.detail),"wheelDelta"in event&&(sY=-event.wheelDelta/120),"wheelDeltaY"in event&&(sY=-event.wheelDeltaY/120),"wheelDeltaX"in event&&(sX=-event.wheelDeltaX/120),"axis"in event&&event.axis===event.HORIZONTAL_AXIS&&(sX=sY,sY=0),pX=sX*PIXEL_STEP,pY=sY*PIXEL_STEP,"deltaY"in event&&(pY=event.deltaY),"deltaX"in event&&(pX=event.deltaX),(pX||pY)&&event.deltaMode&&(1==event.deltaMode?(pX*=LINE_HEIGHT,pY*=LINE_HEIGHT):(pX*=PAGE_HEIGHT,pY*=PAGE_HEIGHT)),pX&&!sX&&(sX=pX<1?-1:1),pY&&!sY&&(sY=pY<1?-1:1),{spinX:sX,spinY:sY,pixelX:pX,pixelY:pY}},Utils}();exports.Utils=Utils},function(module,exports){var Constants=function(){function Constants(){}return Constants.STEP_EVERYTHING=0,Constants.STEP_FILTER=1,Constants.STEP_PIVOT=5,Constants.STEP_AGGREGATE=4,Constants.STEP_SORT=2,Constants.STEP_MAP=3,Constants.ROW_BUFFER_SIZE=5,Constants.KEY_TAB=9,Constants.KEY_ENTER=13,Constants.KEY_BACKSPACE=8,Constants.KEY_DELETE=46,Constants.KEY_ESCAPE=27,Constants.KEY_SPACE=32,Constants.KEY_DOWN=40,Constants.KEY_UP=38,Constants.KEY_LEFT=37,Constants.KEY_RIGHT=39,Constants.KEY_A=65,Constants.KEY_C=67,Constants.KEY_V=86,Constants.KEY_D=68,Constants.KEY_F2=113,Constants.ROW_MODEL_TYPE_PAGINATION="pagination",Constants.ROW_MODEL_TYPE_VIRTUAL="virtual",Constants.ROW_MODEL_TYPE_VIEWPORT="viewport",Constants.ROW_MODEL_TYPE_NORMAL="normal",Constants.ALWAYS="always",Constants.ONLY_WHEN_GROUPING="onlyWhenGrouping",Constants.FLOATING_TOP="top",Constants.FLOATING_BOTTOM="bottom",Constants}();exports.Constants=Constants},function(module,exports,__webpack_require__){function checkForDeprecated(changes){(changes.ready||changes.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady"),(changes.rowDeselected||changes.onRowDeselected)&&console.warn("ag-grid: as of v3.4 rowDeselected no longer exists. Please check the docs.")}var events_1=__webpack_require__(10),utils_1=__webpack_require__(7),ComponentUtil=function(){function ComponentUtil(){}return ComponentUtil.getEventCallbacks=function(){return ComponentUtil.EVENT_CALLBACKS||(ComponentUtil.EVENT_CALLBACKS=[],ComponentUtil.EVENTS.forEach(function(eventName){ComponentUtil.EVENT_CALLBACKS.push(ComponentUtil.getCallbackForEvent(eventName))})),ComponentUtil.EVENT_CALLBACKS},ComponentUtil.copyAttributesToGridOptions=function(gridOptions,component){checkForDeprecated(component),"object"!=typeof gridOptions&&(gridOptions={});var pGridOptions=gridOptions;return ComponentUtil.ARRAY_PROPERTIES.concat(ComponentUtil.STRING_PROPERTIES).concat(ComponentUtil.OBJECT_PROPERTIES).concat(ComponentUtil.FUNCTION_PROPERTIES).forEach(function(key){"undefined"!=typeof component[key]&&(pGridOptions[key]=component[key])}),ComponentUtil.BOOLEAN_PROPERTIES.forEach(function(key){"undefined"!=typeof component[key]&&(pGridOptions[key]=ComponentUtil.toBoolean(component[key]))}),ComponentUtil.NUMBER_PROPERTIES.forEach(function(key){"undefined"!=typeof component[key]&&(pGridOptions[key]=ComponentUtil.toNumber(component[key]))}),ComponentUtil.getEventCallbacks().forEach(function(funcName){"undefined"!=typeof component[funcName]&&(pGridOptions[funcName]=component[funcName])}),gridOptions},ComponentUtil.getCallbackForEvent=function(eventName){return!eventName||eventName.length<2?eventName:"on"+eventName[0].toUpperCase()+eventName.substr(1)},ComponentUtil.processOnChange=function(changes,gridOptions,api){if(changes){checkForDeprecated(changes);var pGridOptions=gridOptions;ComponentUtil.ARRAY_PROPERTIES.concat(ComponentUtil.OBJECT_PROPERTIES).concat(ComponentUtil.STRING_PROPERTIES).forEach(function(key){changes[key]&&(pGridOptions[key]=changes[key].currentValue)}),ComponentUtil.BOOLEAN_PROPERTIES.forEach(function(key){changes[key]&&(pGridOptions[key]=ComponentUtil.toBoolean(changes[key].currentValue))}),ComponentUtil.NUMBER_PROPERTIES.forEach(function(key){changes[key]&&(pGridOptions[key]=ComponentUtil.toNumber(changes[key].currentValue))}),ComponentUtil.getEventCallbacks().forEach(function(funcName){changes[funcName]&&(pGridOptions[funcName]=changes[funcName].currentValue)}),changes.showToolPanel&&api.showToolPanel(changes.showToolPanel.currentValue),changes.quickFilterText&&api.setQuickFilter(changes.quickFilterText.currentValue),changes.rowData&&api.setRowData(changes.rowData.currentValue),changes.floatingTopRowData&&api.setFloatingTopRowData(changes.floatingTopRowData.currentValue),changes.floatingBottomRowData&&api.setFloatingBottomRowData(changes.floatingBottomRowData.currentValue),changes.columnDefs&&api.setColumnDefs(changes.columnDefs.currentValue),changes.datasource&&api.setDatasource(changes.datasource.currentValue),changes.headerHeight&&api.setHeaderHeight(changes.headerHeight.currentValue)}},ComponentUtil.toBoolean=function(value){return"boolean"==typeof value?value:"string"==typeof value&&("TRUE"===value.toUpperCase()||""==value)},ComponentUtil.toNumber=function(value){return"number"==typeof value?value:"string"==typeof value?Number(value):void 0},ComponentUtil.EVENTS=[],ComponentUtil.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","headerCellTemplate","quickFilterText","rowModelType"],ComponentUtil.OBJECT_PROPERTIES=["rowStyle","context","groupColumnDef","localeText","icons","datasource","viewportDatasource","groupRowRendererParams"],ComponentUtil.ARRAY_PROPERTIES=["slaveGrids","rowData","floatingTopRowData","floatingBottomRowData","columnDefs"],ComponentUtil.NUMBER_PROPERTIES=["rowHeight","rowBuffer","colWidth","headerHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize"],ComponentUtil.BOOLEAN_PROPERTIES=["toolPanelSuppressGroups","toolPanelSuppressValues","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","debug","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","suppressScrollLag","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","suppressParentsInRowNodes","showToolPanel","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","suppressEnterprise","rowGroupPanelShow","suppressContextMenu","suppressMenuFilterPanel","suppressMenuMainPanel","suppressMenuColumnPanel","enableStatusBar","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel"],ComponentUtil.FUNCTION_PROPERTIES=["headerCellRenderer","localeTextFunc","groupRowInnerRenderer","groupRowRenderer","isScrollLag","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getHeaderCellTemplate","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getNodeChildDetails"],ComponentUtil.ALL_PROPERTIES=ComponentUtil.ARRAY_PROPERTIES.concat(ComponentUtil.OBJECT_PROPERTIES).concat(ComponentUtil.STRING_PROPERTIES).concat(ComponentUtil.NUMBER_PROPERTIES).concat(ComponentUtil.FUNCTION_PROPERTIES).concat(ComponentUtil.BOOLEAN_PROPERTIES),ComponentUtil}();exports.ComponentUtil=ComponentUtil,utils_1.Utils.iterateObject(events_1.Events,function(key,value){ComponentUtil.EVENTS.push(value)})},function(module,exports){var Events=function(){function Events(){}return Events.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",Events.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",Events.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",Events.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",Events.EVENT_PIVOT_VALUE_CHANGED="pivotValueChanged",Events.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",Events.EVENT_COLUMN_MOVED="columnMoved",Events.EVENT_COLUMN_VISIBLE="columnVisible",Events.EVENT_COLUMN_PINNED="columnPinned",Events.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",Events.EVENT_COLUMN_RESIZED="columnResized",Events.EVENT_ROW_GROUP_OPENED="rowGroupOpened",Events.EVENT_ROW_DATA_CHANGED="rowDataChanged",Events.EVENT_FLOATING_ROW_DATA_CHANGED="floatingRowDataChanged",Events.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",Events.EVENT_FLASH_CELLS="clipboardPaste",Events.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",Events.EVENT_MODEL_UPDATED="modelUpdated",Events.EVENT_CELL_CLICKED="cellClicked",Events.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",Events.EVENT_CELL_CONTEXT_MENU="cellContextMenu",Events.EVENT_CELL_VALUE_CHANGED="cellValueChanged",Events.EVENT_CELL_FOCUSED="cellFocused",Events.EVENT_ROW_SELECTED="rowSelected",Events.EVENT_SELECTION_CHANGED="selectionChanged",Events.EVENT_BEFORE_FILTER_CHANGED="beforeFilterChanged",Events.EVENT_FILTER_CHANGED="filterChanged",Events.EVENT_AFTER_FILTER_CHANGED="afterFilterChanged",Events.EVENT_FILTER_MODIFIED="filterModified",Events.EVENT_BEFORE_SORT_CHANGED="beforeSortChanged",Events.EVENT_SORT_CHANGED="sortChanged",Events.EVENT_AFTER_SORT_CHANGED="afterSortChanged",Events.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",Events.EVENT_ROW_CLICKED="rowClicked",Events.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",Events.EVENT_GRID_READY="gridReady",Events.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",Events.EVENT_VIEWPORT_CHANGED="viewportChanged",Events}();exports.Events=Events},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},csvCreator_1=__webpack_require__(12),rowRenderer_1=__webpack_require__(23),headerRenderer_1=__webpack_require__(68),filterManager_1=__webpack_require__(43),columnController_1=__webpack_require__(13),selectionController_1=__webpack_require__(28),gridOptionsWrapper_1=__webpack_require__(3),gridPanel_1=__webpack_require__(24),valueService_1=__webpack_require__(29),masterSlaveService_1=__webpack_require__(25),eventService_1=__webpack_require__(4),floatingRowModel_1=__webpack_require__(26),constants_1=__webpack_require__(8),context_1=__webpack_require__(6),gridCore_1=__webpack_require__(40),sortController_1=__webpack_require__(42),paginationController_1=__webpack_require__(41),focusedCellController_1=__webpack_require__(35),utils_1=__webpack_require__(7),cellRendererFactory_1=__webpack_require__(55),cellEditorFactory_1=__webpack_require__(48),GridApi=function(){function GridApi(){}return GridApi.prototype.init=function(){this.rowModel.getType()===constants_1.Constants.ROW_MODEL_TYPE_NORMAL&&(this.inMemoryRowModel=this.rowModel)},GridApi.prototype.__getMasterSlaveService=function(){return this.masterSlaveService},GridApi.prototype.getFirstRenderedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},GridApi.prototype.getLastRenderedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},GridApi.prototype.getDataAsCsv=function(params){return this.csvCreator.getDataAsCsv(params)},GridApi.prototype.exportDataAsCsv=function(params){this.csvCreator.exportDataAsCsv(params)},GridApi.prototype.setDatasource=function(datasource){this.gridOptionsWrapper.isRowModelPagination()?this.paginationController.setDatasource(datasource):this.gridOptionsWrapper.isRowModelVirtual()?this.rowModel.setDatasource(datasource):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+constants_1.Constants.ROW_MODEL_TYPE_VIRTUAL+"' or '"+constants_1.Constants.ROW_MODEL_TYPE_PAGINATION+"'")},GridApi.prototype.setViewportDatasource=function(viewportDatasource){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(viewportDatasource):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+constants_1.Constants.ROW_MODEL_TYPE_VIEWPORT+"'")},GridApi.prototype.setRowData=function(rowData){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call setRowData unless using normal row model"),this.inMemoryRowModel.setRowData(rowData,!0)},GridApi.prototype.setFloatingTopRowData=function(rows){this.floatingRowModel.setFloatingTopRowData(rows)},GridApi.prototype.setFloatingBottomRowData=function(rows){this.floatingRowModel.setFloatingBottomRowData(rows)},GridApi.prototype.setColumnDefs=function(colDefs){this.columnController.setColumnDefs(colDefs)},GridApi.prototype.refreshRows=function(rowNodes){this.rowRenderer.refreshRows(rowNodes)},GridApi.prototype.refreshCells=function(rowNodes,colIds,animate){void 0===animate&&(animate=!1),this.rowRenderer.refreshCells(rowNodes,colIds,animate)},GridApi.prototype.rowDataChanged=function(rows){this.rowRenderer.rowDataChanged(rows)},GridApi.prototype.refreshView=function(){this.rowRenderer.refreshView()},GridApi.prototype.softRefreshView=function(){this.rowRenderer.softRefreshView()},GridApi.prototype.refreshGroupRows=function(){this.rowRenderer.refreshGroupRows()},GridApi.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader()},GridApi.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},GridApi.prototype.isAdvancedFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},GridApi.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},GridApi.prototype.getModel=function(){return this.rowModel},GridApi.prototype.onGroupExpandedOrCollapsed=function(refreshFromIndex){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call onGroupExpandedOrCollapsed unless using normal row model"),this.inMemoryRowModel.refreshModel(constants_1.Constants.STEP_MAP,refreshFromIndex)},GridApi.prototype.refreshInMemoryRowModel=function(){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call refreshInMemoryRowModel unless using normal row model"),this.inMemoryRowModel.refreshModel(constants_1.Constants.STEP_EVERYTHING)},GridApi.prototype.expandAll=function(){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call expandAll unless using normal row model"),this.inMemoryRowModel.expandOrCollapseAll(!0)},GridApi.prototype.collapseAll=function(){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call collapseAll unless using normal row model"),this.inMemoryRowModel.expandOrCollapseAll(!1)},GridApi.prototype.addVirtualRowListener=function(eventName,rowIndex,callback){"string"!=typeof eventName&&console.log("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(eventName,rowIndex,callback)},GridApi.prototype.addRenderedRowListener=function(eventName,rowIndex,callback){"virtualRowRemoved"===eventName&&(console.log("ag-Grid: event virtualRowRemoved is deprecated, now called renderedRowRemoved"),eventName=""),"virtualRowSelected"===eventName&&console.log("ag-Grid: event virtualRowSelected is deprecated, to register for individual row selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(eventName,rowIndex,callback)},GridApi.prototype.setQuickFilter=function(newFilter){this.filterManager.setQuickFilter(newFilter)},GridApi.prototype.selectIndex=function(index,tryMulti,suppressEvents){console.log("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),suppressEvents&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(index,tryMulti)},GridApi.prototype.deselectIndex=function(index,suppressEvents){void 0===suppressEvents&&(suppressEvents=!1),console.log("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),suppressEvents&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(index)},GridApi.prototype.selectNode=function(node,tryMulti,suppressEvents){void 0===tryMulti&&(tryMulti=!1),void 0===suppressEvents&&(suppressEvents=!1),console.log("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),suppressEvents&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),node.setSelectedParams({newValue:!0,clearSelection:!tryMulti})},GridApi.prototype.deselectNode=function(node,suppressEvents){void 0===suppressEvents&&(suppressEvents=!1),console.log("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),suppressEvents&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),node.setSelectedParams({newValue:!1})},GridApi.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},GridApi.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},GridApi.prototype.recomputeAggregates=function(){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call recomputeAggregates unless using normal row model"),this.inMemoryRowModel.refreshModel(constants_1.Constants.STEP_AGGREGATE)},GridApi.prototype.sizeColumnsToFit=function(){return this.gridOptionsWrapper.isForPrint()?void console.warn("ag-grid: sizeColumnsToFit does not work when forPrint=true"):void this.gridPanel.sizeColumnsToFit()},GridApi.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},GridApi.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},GridApi.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},GridApi.prototype.isNodeSelected=function(node){return console.log("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),node.isSelected()},GridApi.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},GridApi.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},GridApi.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},GridApi.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},GridApi.prototype.getRenderedNodes=function(){
return this.rowRenderer.getRenderedNodes()},GridApi.prototype.ensureColIndexVisible=function(index){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},GridApi.prototype.ensureColumnVisible=function(key){this.gridPanel.ensureColumnVisible(key)},GridApi.prototype.ensureIndexVisible=function(index){this.gridPanel.ensureIndexVisible(index)},GridApi.prototype.ensureNodeVisible=function(comparator){this.gridCore.ensureNodeVisible(comparator)},GridApi.prototype.forEachNode=function(callback){this.rowModel.forEachNode(callback)},GridApi.prototype.forEachNodeAfterFilter=function(callback){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call forEachNodeAfterFilter unless using normal row model"),this.inMemoryRowModel.forEachNodeAfterFilter(callback)},GridApi.prototype.forEachNodeAfterFilterAndSort=function(callback){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.inMemoryRowModel.forEachNodeAfterFilterAndSort(callback)},GridApi.prototype.getFilterApiForColDef=function(colDef){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterApi(colDef)},GridApi.prototype.getFilterApi=function(key){var column=this.columnController.getOriginalColumn(key);if(column)return this.filterManager.getFilterApi(column)},GridApi.prototype.destroyFilter=function(key){var column=this.columnController.getOriginalColumn(key);if(column)return this.filterManager.destroyFilter(column)},GridApi.prototype.getColumnDef=function(key){var column=this.columnController.getOriginalColumn(key);return column?column.getColDef():null},GridApi.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},GridApi.prototype.setSortModel=function(sortModel){this.sortController.setSortModel(sortModel)},GridApi.prototype.getSortModel=function(){return this.sortController.getSortModel()},GridApi.prototype.setFilterModel=function(model){this.filterManager.setFilterModel(model)},GridApi.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},GridApi.prototype.getFocusedCell=function(){return this.focusedCellController.getFocusedCell()},GridApi.prototype.setFocusedCell=function(rowIndex,colKey,floating){this.focusedCellController.setFocusedCell(rowIndex,colKey,floating,!0)},GridApi.prototype.setHeaderHeight=function(headerHeight){this.gridOptionsWrapper.setHeaderHeight(headerHeight)},GridApi.prototype.showToolPanel=function(show){this.gridCore.showToolPanel(show)},GridApi.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},GridApi.prototype.doLayout=function(){this.gridCore.doLayout()},GridApi.prototype.getValue=function(colKey,rowNode){var column=this.columnController.getOriginalColumn(colKey);return this.valueService.getValue(column,rowNode)},GridApi.prototype.addEventListener=function(eventType,listener){this.eventService.addEventListener(eventType,listener)},GridApi.prototype.addGlobalListener=function(listener){this.eventService.addGlobalListener(listener)},GridApi.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},GridApi.prototype.removeGlobalListener=function(listener){this.eventService.removeGlobalListener(listener)},GridApi.prototype.dispatchEvent=function(eventType,event){this.eventService.dispatchEvent(eventType,event)},GridApi.prototype.destroy=function(){this.context.destroy()},GridApi.prototype.resetQuickFilter=function(){this.rowModel.forEachNode(function(node){return node.quickFilterAggregateText=null})},GridApi.prototype.getRangeSelections=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},GridApi.prototype.addRangeSelection=function(rangeSelection){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addRange(rangeSelection)},GridApi.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.clearSelection()},GridApi.prototype.copySelectedRowsToClipboard=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard()},GridApi.prototype.copySelectedRangeToClipboard=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard()},GridApi.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},GridApi.prototype.showColumnMenuAfterButtonClick=function(colKey,buttonElement){var column=this.columnController.getOriginalColumn(colKey);this.menuFactory.showMenuAfterButtonClick(column,buttonElement)},GridApi.prototype.showColumnMenuAfterMouseClick=function(colKey,mouseEvent){var column=this.columnController.getOriginalColumn(colKey);this.menuFactory.showMenuAfterMouseEvent(column,mouseEvent)},__decorate([context_1.Autowired("csvCreator"),__metadata("design:type",csvCreator_1.CsvCreator)],GridApi.prototype,"csvCreator",void 0),__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],GridApi.prototype,"gridCore",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],GridApi.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("headerRenderer"),__metadata("design:type",headerRenderer_1.HeaderRenderer)],GridApi.prototype,"headerRenderer",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],GridApi.prototype,"filterManager",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GridApi.prototype,"columnController",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],GridApi.prototype,"selectionController",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],GridApi.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],GridApi.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],GridApi.prototype,"valueService",void 0),__decorate([context_1.Autowired("masterSlaveService"),__metadata("design:type",masterSlaveService_1.MasterSlaveService)],GridApi.prototype,"masterSlaveService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GridApi.prototype,"eventService",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],GridApi.prototype,"floatingRowModel",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],GridApi.prototype,"context",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],GridApi.prototype,"rowModel",void 0),__decorate([context_1.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],GridApi.prototype,"sortController",void 0),__decorate([context_1.Autowired("paginationController"),__metadata("design:type",paginationController_1.PaginationController)],GridApi.prototype,"paginationController",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],GridApi.prototype,"focusedCellController",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],GridApi.prototype,"rangeController",void 0),__decorate([context_1.Optional("clipboardService"),__metadata("design:type",Object)],GridApi.prototype,"clipboardService",void 0),__decorate([context_1.Autowired("menuFactory"),__metadata("design:type",Object)],GridApi.prototype,"menuFactory",void 0),__decorate([context_1.Autowired("cellRendererFactory"),__metadata("design:type",cellRendererFactory_1.CellRendererFactory)],GridApi.prototype,"cellRendererFactory",void 0),__decorate([context_1.Autowired("cellEditorFactory"),__metadata("design:type",cellEditorFactory_1.CellEditorFactory)],GridApi.prototype,"cellEditorFactory",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridApi.prototype,"init",null),GridApi=__decorate([context_1.Bean("gridApi"),__metadata("design:paramtypes",[])],GridApi)}();exports.GridApi=GridApi},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},columnController_1=__webpack_require__(13),valueService_1=__webpack_require__(29),context_1=__webpack_require__(6),gridOptionsWrapper_1=__webpack_require__(3),constants_1=__webpack_require__(8),LINE_SEPARATOR="\r\n",CsvCreator=function(){function CsvCreator(){}return CsvCreator.prototype.exportDataAsCsv=function(params){var csvString=this.getDataAsCsv(params),fileNamePresent=params&&params.fileName&&0!==params.fileName.length,fileName=fileNamePresent?params.fileName:"export.csv",blobObject=new Blob(["\ufeff",csvString],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(blobObject,fileName);else{var downloadLink=document.createElement("a");downloadLink.href=window.URL.createObjectURL(blobObject),downloadLink.download=fileName,document.body.appendChild(downloadLink),downloadLink.click(),document.body.removeChild(downloadLink)}},CsvCreator.prototype.getDataAsCsv=function(params){var _this=this;if(this.rowModel.getType()!==constants_1.Constants.ROW_MODEL_TYPE_NORMAL)return console.log("ag-Grid: getDataAsCsv is only available for standard row model"),"";var columnsToExport,inMemoryRowModel=this.rowModel,result="",skipGroups=params&&params.skipGroups,skipHeader=params&&params.skipHeader,skipFooters=params&&params.skipFooters,includeCustomHeader=params&&params.customHeader,includeCustomFooter=params&&params.customFooter,allColumns=params&&params.allColumns,onlySelected=params&&params.onlySelected,columnSeparator=params&&params.columnSeparator||",",processCellCallback=params.processCellCallback;return columnsToExport=allColumns?this.columnController.getAllOriginalColumns():this.columnController.getAllDisplayedColumns(),columnsToExport&&0!==columnsToExport.length?(includeCustomHeader&&(result+=params.customHeader),skipHeader||(columnsToExport.forEach(function(column,index){var nameForCol=_this.getHeaderName(params.processHeaderCallback,column);null!==nameForCol&&void 0!==nameForCol||(nameForCol=""),0!=index&&(result+=columnSeparator),result+='"'+_this.escape(nameForCol)+'"'}),result+=LINE_SEPARATOR),inMemoryRowModel.forEachNodeAfterFilterAndSort(function(node){skipGroups&&node.group||skipFooters&&node.footer||onlySelected&&!node.isSelected()||(columnsToExport.forEach(function(column,index){var valueForCell;valueForCell=node.group&&0===index?_this.createValueForGroupNode(node):_this.valueService.getValue(column,node),valueForCell=_this.processCell(node,column,valueForCell,processCellCallback),null!==valueForCell&&void 0!==valueForCell||(valueForCell=""),0!=index&&(result+=columnSeparator),result+='"'+_this.escape(valueForCell)+'"'}),result+=LINE_SEPARATOR)}),includeCustomFooter&&(result+=params.customFooter),result):""},CsvCreator.prototype.getHeaderName=function(callback,column){return callback?callback({column:column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForCol(column)},CsvCreator.prototype.processCell=function(rowNode,column,value,processCellCallback){return processCellCallback?processCellCallback({column:column,node:rowNode,value:value,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):value},CsvCreator.prototype.createValueForGroupNode=function(node){for(var keys=[node.key];node.parent;)node=node.parent,keys.push(node.key);return keys.reverse().join(" -> ")},CsvCreator.prototype.escape=function(value){if(null===value||void 0===value)return"";var stringValue;return"string"==typeof value?stringValue=value:"function"==typeof value.toString?stringValue=value.toString():(console.warn("known value type during csv conversion"),stringValue=""),stringValue.replace(/"/g,'""')},__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],CsvCreator.prototype,"rowModel",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],CsvCreator.prototype,"columnController",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],CsvCreator.prototype,"valueService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],CsvCreator.prototype,"gridOptionsWrapper",void 0),CsvCreator=__decorate([context_1.Bean("csvCreator"),__metadata("design:paramtypes",[])],CsvCreator)}();exports.CsvCreator=CsvCreator},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(7),columnGroup_1=__webpack_require__(14),column_1=__webpack_require__(15),gridOptionsWrapper_1=__webpack_require__(3),expressionService_1=__webpack_require__(18),balancedColumnTreeBuilder_1=__webpack_require__(19),displayedGroupCreator_1=__webpack_require__(21),autoWidthCalculator_1=__webpack_require__(22),eventService_1=__webpack_require__(4),columnUtils_1=__webpack_require__(16),logger_1=__webpack_require__(5),events_1=__webpack_require__(10),columnChangeEvent_1=__webpack_require__(64),originalColumnGroup_1=__webpack_require__(17),groupInstanceIdCreator_1=__webpack_require__(65),functions_1=__webpack_require__(66),context_1=__webpack_require__(6),gridPanel_1=__webpack_require__(24),pivotService_1=__webpack_require__(67),ColumnApi=function(){function ColumnApi(){}return ColumnApi.prototype.sizeColumnsToFit=function(gridWidth){this._columnController.sizeColumnsToFit(gridWidth)},ColumnApi.prototype.setColumnGroupOpened=function(group,newValue,instanceId){this._columnController.setColumnGroupOpened(group,newValue,instanceId)},ColumnApi.prototype.getColumnGroup=function(name,instanceId){return this._columnController.getColumnGroup(name,instanceId)},ColumnApi.prototype.getDisplayNameForCol=function(column){return this._columnController.getDisplayNameForCol(column)},ColumnApi.prototype.getColumn=function(key){return this._columnController.getOriginalColumn(key)},ColumnApi.prototype.setColumnState=function(columnState){return this._columnController.setColumnState(columnState)},ColumnApi.prototype.getColumnState=function(){return this._columnController.getColumnState()},ColumnApi.prototype.resetColumnState=function(){this._columnController.resetColumnState()},ColumnApi.prototype.isPinning=function(){return this._columnController.isPinningLeft()||this._columnController.isPinningRight()},ColumnApi.prototype.isPinningLeft=function(){return this._columnController.isPinningLeft()},ColumnApi.prototype.isPinningRight=function(){return this._columnController.isPinningRight()},ColumnApi.prototype.getDisplayedColAfter=function(col){return this._columnController.getDisplayedColAfter(col)},ColumnApi.prototype.getDisplayedColBefore=function(col){return this._columnController.getDisplayedColBefore(col)},ColumnApi.prototype.setColumnVisible=function(key,visible){this._columnController.setColumnVisible(key,visible)},ColumnApi.prototype.setColumnsVisible=function(keys,visible){this._columnController.setColumnsVisible(keys,visible)},ColumnApi.prototype.setColumnPinned=function(key,pinned){this._columnController.setColumnPinned(key,pinned)},ColumnApi.prototype.setColumnsPinned=function(keys,pinned){this._columnController.setColumnsPinned(keys,pinned)},ColumnApi.prototype.getAllColumns=function(){return this._columnController.getAllOriginalColumns()},ColumnApi.prototype.getDisplayedLeftColumns=function(){return this._columnController.getDisplayedLeftColumns()},ColumnApi.prototype.getDisplayedCenterColumns=function(){return this._columnController.getDisplayedCenterColumns()},ColumnApi.prototype.getDisplayedRightColumns=function(){return this._columnController.getDisplayedRightColumns()},ColumnApi.prototype.getAllDisplayedColumns=function(){return this._columnController.getAllDisplayedColumns()},ColumnApi.prototype.getRowGroupColumns=function(){return this._columnController.getRowGroupColumns()},ColumnApi.prototype.getValueColumns=function(){return this._columnController.getValueColumns()},ColumnApi.prototype.moveColumn=function(fromIndex,toIndex){this._columnController.moveColumnByIndex(fromIndex,toIndex)},ColumnApi.prototype.moveRowGroupColumn=function(fromIndex,toIndex){this._columnController.moveRowGroupColumn(fromIndex,toIndex)},ColumnApi.prototype.setColumnAggFunction=function(column,aggFunc){this._columnController.setColumnAggFunction(column,aggFunc)},ColumnApi.prototype.setColumnWidth=function(key,newWidth,finished){void 0===finished&&(finished=!0),this._columnController.setColumnWidth(key,newWidth,finished)},ColumnApi.prototype.removeValueColumn=function(column){this._columnController.removeValueColumn(column)},ColumnApi.prototype.addValueColumn=function(column){this._columnController.addValueColumn(column)},ColumnApi.prototype.setRowGroupColumns=function(colKeys){this._columnController.setRowGroupColumns(colKeys)},ColumnApi.prototype.removeRowGroupColumn=function(colKey){this._columnController.removeRowGroupColumn(colKey)},ColumnApi.prototype.removeRowGroupColumns=function(colKeys){this._columnController.removeRowGroupColumns(colKeys)},ColumnApi.prototype.addRowGroupColumn=function(colKey){this._columnController.addRowGroupColumn(colKey)},ColumnApi.prototype.addRowGroupColumns=function(colKeys){this._columnController.addRowGroupColumns(colKeys)},ColumnApi.prototype.setPivotColumns=function(colKeys){this._columnController.setPivotColumns(colKeys)},ColumnApi.prototype.removePivotColumn=function(colKey){this._columnController.removePivotColumn(colKey)},ColumnApi.prototype.removePivotColumns=function(colKeys){this._columnController.removePivotColumns(colKeys)},ColumnApi.prototype.addPivotColumn=function(colKey){this._columnController.addPivotColumn(colKey)},ColumnApi.prototype.addPivotColumns=function(colKeys){this._columnController.addPivotColumns(colKeys)},ColumnApi.prototype.getLeftDisplayedColumnGroups=function(){return this._columnController.getLeftDisplayedColumnGroups()},ColumnApi.prototype.getCenterDisplayedColumnGroups=function(){return this._columnController.getCenterDisplayedColumnGroups()},ColumnApi.prototype.getRightDisplayedColumnGroups=function(){return this._columnController.getRightDisplayedColumnGroups()},ColumnApi.prototype.getAllDisplayedColumnGroups=function(){return this._columnController.getAllDisplayedColumnGroups()},ColumnApi.prototype.autoSizeColumn=function(key){return this._columnController.autoSizeColumn(key)},ColumnApi.prototype.autoSizeColumns=function(keys){return this._columnController.autoSizeColumns(keys)},ColumnApi.prototype.columnGroupOpened=function(group,newValue){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(group,newValue)},ColumnApi.prototype.hideColumns=function(colIds,hide){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this._columnController.setColumnsVisible(colIds,!hide)},ColumnApi.prototype.hideColumn=function(colId,hide){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this._columnController.setColumnVisible(colId,!hide)},ColumnApi.prototype.setState=function(columnState){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(columnState)},ColumnApi.prototype.getState=function(){return console.error("ag-Grid: hideColumn is getState, use getColumnState"),this.getColumnState()},ColumnApi.prototype.resetState=function(){console.error("ag-Grid: hideColumn is resetState, use resetColumnState"),this.resetColumnState()},__decorate([context_1.Autowired("columnController"),__metadata("design:type",ColumnController)],ColumnApi.prototype,"_columnController",void 0),ColumnApi=__decorate([context_1.Bean("columnApi"),__metadata("design:paramtypes",[])],ColumnApi)}();exports.ColumnApi=ColumnApi;var ColumnController=function(){function ColumnController(){this.originalHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.ready=!1}return ColumnController.prototype.init=function(){this.gridOptionsWrapper.getColumnDefs()&&this.setColumnDefs(this.gridOptionsWrapper.getColumnDefs())},ColumnController.prototype.isReduce=function(){return this.pivotColumns.length>0},ColumnController.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("ColumnController")},ColumnController.prototype.setFirstRightAndLastLeftPinned=function(){var lastLeft=this.displayedLeftColumns?this.displayedLeftColumns[this.displayedLeftColumns.length-1]:null,firstRight=this.displayedRightColumns?this.displayedRightColumns[0]:null;this.originalColumns.forEach(function(column){column.setLastLeftPinned(column===lastLeft),column.setFirstRightPinned(column===firstRight)})},ColumnController.prototype.autoSizeColumns=function(keys){var _this=this;this.actionOnColumns(keys,function(column){var requiredWidth=_this.autoWidthCalculator.getPreferredWidthForColumn(column);if(requiredWidth>0){var newWidth=_this.normaliseColumnWidth(column,requiredWidth);column.setActualWidth(newWidth)}},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_RESIZED).withFinished(!0)})},ColumnController.prototype.autoSizeColumn=function(key){this.autoSizeColumns([key])},ColumnController.prototype.autoSizeAllColumns=function(){var allDisplayedColumns=this.getAllDisplayedColumns();this.autoSizeColumns(allDisplayedColumns)},ColumnController.prototype.getColumnsFromTree=function(rootColumns){function recursiveFindColumns(childColumns){for(var i=0;i<childColumns.length;i++){var child=childColumns[i];child instanceof column_1.Column?result.push(child):child instanceof originalColumnGroup_1.OriginalColumnGroup&&recursiveFindColumns(child.getChildren())}}var result=[];return recursiveFindColumns(rootColumns),result},ColumnController.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},ColumnController.prototype.getOriginalColumnTree=function(){return this.originalBalancedTree},ColumnController.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},ColumnController.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},ColumnController.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},ColumnController.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},ColumnController.prototype.getDisplayedColumnGroups=function(type){switch(type){case column_1.Column.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case column_1.Column.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},ColumnController.prototype.isColumnDisplayed=function(column){return this.getAllDisplayedColumns().indexOf(column)>=0},ColumnController.prototype.getAllDisplayedColumns=function(){return this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},ColumnController.prototype.getPinnedLeftContainerWidth=function(){return this.getWithOfColsInList(this.displayedLeftColumns)},ColumnController.prototype.getPinnedRightContainerWidth=function(){return this.getWithOfColsInList(this.displayedRightColumns)},ColumnController.prototype.addRowGroupColumns=function(keys){var _this=this;keys.forEach(function(key){var column=_this.getOriginalColumn(key);column&&_this.rowGroupColumns.push(column)}),this.updateModel();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,event)},ColumnController.prototype.setRowGroupColumns=function(keys){this.rowGroupColumns.length=0,this.addRowGroupColumns(keys)},ColumnController.prototype.addRowGroupColumn=function(key){this.addRowGroupColumns([key])},ColumnController.prototype.removeRowGroupColumns=function(keys){var _this=this;keys.forEach(function(key){var column=_this.getOriginalColumn(key);column&&utils_1.Utils.removeFromArray(_this.rowGroupColumns,column)}),this.updateModel();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,event)},ColumnController.prototype.removeRowGroupColumn=function(key){this.removeRowGroupColumns([key])},ColumnController.prototype.addPivotColumns=function(keys){var _this=this;keys.forEach(function(key){var column=_this.getOriginalColumn(key);column&&_this.pivotColumns.push(column)}),this.updateModel();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_PIVOT_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_PIVOT_CHANGED,event)},ColumnController.prototype.setPivotColumns=function(keys){this.pivotColumns.length=0,this.addPivotColumns(keys)},ColumnController.prototype.addPivotColumn=function(key){this.addPivotColumns([key])},ColumnController.prototype.removePivotColumns=function(keys){var _this=this;keys.forEach(function(key){var column=_this.getOriginalColumn(key);column&&utils_1.Utils.removeFromArray(_this.pivotColumns,column)}),this.updateModel();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_PIVOT_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_PIVOT_CHANGED,event)},ColumnController.prototype.removePivotColumn=function(key){this.removePivotColumns([key])},ColumnController.prototype.addValueColumn=function(column){if(this.originalColumns.indexOf(column)<0)return void console.warn("not a valid column: "+column);if(this.valueColumns.indexOf(column)>=0)return void console.warn("column is already a value column");column.getAggFunc()||column.setAggFunc(column_1.Column.AGG_SUM),this.valueColumns.push(column);var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED,event)},ColumnController.prototype.removeValueColumn=function(column){if(this.valueColumns.indexOf(column)<0)return void console.warn("column not a value");utils_1.Utils.removeFromArray(this.valueColumns,column);var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED,event)},ColumnController.prototype.normaliseColumnWidth=function(column,newWidth){return newWidth<column.getMinWidth()&&(newWidth=column.getMinWidth()),column.isGreaterThanMax(newWidth)&&(newWidth=column.getMaxWidth()),newWidth},ColumnController.prototype.setColumnWidth=function(key,newWidth,finished){var column=this.getOriginalColumn(key);if(column){newWidth=this.normaliseColumnWidth(column,newWidth);var widthChanged=column.getActualWidth()!==newWidth;if(widthChanged&&(column.setActualWidth(newWidth),this.setLeftValues()),finished||widthChanged){var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_RESIZED).withColumn(column).withFinished(finished);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_RESIZED,event)}}},ColumnController.prototype.setColumnAggFunction=function(column,aggFunc){column.setAggFunc(aggFunc);var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED,event)},ColumnController.prototype.moveRowGroupColumn=function(fromIndex,toIndex){var column=this.rowGroupColumns[fromIndex];this.rowGroupColumns.splice(fromIndex,1),this.rowGroupColumns.splice(toIndex,0,column);var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,event)},ColumnController.prototype.moveColumns=function(columnsToMoveKeys,toIndex){if(toIndex>this.gridColumns.length-columnsToMoveKeys.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+toIndex),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var columnsToMove=this.getGridColumns(columnsToMoveKeys),failedRules=!this.doesMovePassRules(columnsToMove,toIndex);if(!failedRules){this.gridPanel.turnOnAnimationForABit(),utils_1.Utils.moveInArray(this.gridColumns,columnsToMove,toIndex),this.updateModel();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_MOVED).withToIndex(toIndex).withColumns(columnsToMove);1===columnsToMove.length&&event.withColumn(columnsToMove[0]),this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_MOVED,event)}},ColumnController.prototype.doesMovePassRules=function(columnsToMove,toIndex){var allColumnsCopy=this.gridColumns.slice();utils_1.Utils.moveInArray(allColumnsCopy,columnsToMove,toIndex);for(var index=0;index<allColumnsCopy.length-1;index++){var thisColumn=allColumnsCopy[index],nextColumn=allColumnsCopy[index+1];if(nextColumn.isVisible()){var thisPath=this.columnUtils.getOriginalPathForColumn(thisColumn,this.gridBalancedTree),nextPath=this.columnUtils.getOriginalPathForColumn(nextColumn,this.gridBalancedTree);nextPath&&thisPath||console.log("next path is missing");for(var dept=0;dept<thisPath.length;dept++){var thisOriginalGroup=thisPath[dept],nextOriginalGroup=nextPath[dept],lastColInGroup=thisOriginalGroup!==nextOriginalGroup,colGroupDef=thisOriginalGroup.getColGroupDef(),marryChildren=colGroupDef&&colGroupDef.marryChildren,needToCheckForRunaways=lastColInGroup&&marryChildren;
if(needToCheckForRunaways)for(var tailIndex=index+1;tailIndex<allColumnsCopy.length;tailIndex++){var tailColumn=allColumnsCopy[tailIndex],tailPath=this.columnUtils.getOriginalPathForColumn(tailColumn,this.gridBalancedTree),tailOriginalGroup=tailPath[dept];if(tailOriginalGroup===thisOriginalGroup)return!1}}}}return!0},ColumnController.prototype.moveColumn=function(key,toIndex){this.moveColumns([key],toIndex)},ColumnController.prototype.moveColumnByIndex=function(fromIndex,toIndex){var column=this.originalColumns[fromIndex];this.moveColumn(column,toIndex)},ColumnController.prototype.getBodyContainerWidth=function(){var result=this.getWithOfColsInList(this.displayedCenterColumns);return result},ColumnController.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},ColumnController.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},ColumnController.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},ColumnController.prototype.isColumnRowGrouped=function(column){return this.rowGroupColumns.indexOf(column)>=0},ColumnController.prototype.isColumnPivoted=function(column){return this.pivotColumns.indexOf(column)>=0},ColumnController.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns.slice(0)},ColumnController.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns.slice(0)},ColumnController.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns.slice(0)},ColumnController.prototype.getDisplayedColumns=function(type){switch(type){case column_1.Column.PINNED_LEFT:return this.getDisplayedLeftColumns();case column_1.Column.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},ColumnController.prototype.getAllOriginalColumns=function(){return this.originalColumns},ColumnController.prototype.getAllGridColumns=function(){return this.gridColumns},ColumnController.prototype.isEmpty=function(){return utils_1.Utils.missingOrEmpty(this.originalColumns)},ColumnController.prototype.isRowGroupEmpty=function(){return utils_1.Utils.missingOrEmpty(this.rowGroupColumns)},ColumnController.prototype.setColumnVisible=function(key,visible){this.setColumnsVisible([key],visible)},ColumnController.prototype.setColumnsVisible=function(keys,visible){this.gridPanel.turnOnAnimationForABit(),this.actionOnColumns(keys,function(column){column.setVisible(visible)},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_VISIBLE).withVisible(visible)})},ColumnController.prototype.setColumnPinned=function(key,pinned){this.setColumnsPinned([key],pinned)},ColumnController.prototype.setColumnsPinned=function(keys,pinned){this.gridPanel.turnOnAnimationForABit();var actualPinned;actualPinned=pinned===!0||pinned===column_1.Column.PINNED_LEFT?column_1.Column.PINNED_LEFT:pinned===column_1.Column.PINNED_RIGHT?column_1.Column.PINNED_RIGHT:null,this.actionOnColumns(keys,function(column){column.setPinned(actualPinned)},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_PINNED).withPinned(actualPinned)})},ColumnController.prototype.actionOnColumns=function(keys,action,createEvent){var _this=this;if(keys&&0!==keys.length){var updatedColumns=[];if(keys.forEach(function(key){var column=_this.getGridColumn(key);column&&(action(column),updatedColumns.push(column))}),0!==updatedColumns.length){this.updateModel();var event=createEvent();event.withColumns(updatedColumns),1===updatedColumns.length&&event.withColumn(updatedColumns[0]),this.eventService.dispatchEvent(event.getType(),event)}}},ColumnController.prototype.getDisplayedColBefore=function(col){var allDisplayedColumns=this.getAllDisplayedColumns(),oldIndex=allDisplayedColumns.indexOf(col);return oldIndex>0?allDisplayedColumns[oldIndex-1]:null},ColumnController.prototype.getDisplayedColAfter=function(col){var allDisplayedColumns=this.getAllDisplayedColumns(),oldIndex=allDisplayedColumns.indexOf(col);return oldIndex<allDisplayedColumns.length-1?allDisplayedColumns[oldIndex+1]:null},ColumnController.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},ColumnController.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},ColumnController.prototype.getAllColumnsIncludingAuto=function(){var result=this.originalColumns.slice(0);return this.groupAutoColumnActive&&result.push(this.groupAutoColumn),result},ColumnController.prototype.getColumnState=function(){if(!this.gridColumns||this.gridColumns.length<0)return[];for(var result=[],i=0;i<this.gridColumns.length;i++){var column=this.gridColumns[i],rowGroupIndex=this.rowGroupColumns.indexOf(column),resultItem={colId:column.getColId(),hide:!column.isVisible(),aggFunc:column.getAggFunc()?column.getAggFunc():null,width:column.getActualWidth(),pinned:column.getPinned(),rowGroupIndex:rowGroupIndex>=0?rowGroupIndex:null};result.push(resultItem)}return result},ColumnController.prototype.resetColumnState=function(){var originalColumns=this.getColumnsFromTree(this.originalBalancedTree),state=[];originalColumns&&originalColumns.forEach(function(column){state.push({colId:column.getColId(),aggFunc:column.getColDef().aggFunc,hide:column.getColDef().hide,pinned:column.getColDef().pinned,rowGroupIndex:column.getColDef().rowGroupIndex,width:column.getColDef().width})}),this.setColumnState(state)},ColumnController.prototype.setColumnState=function(columnState){var _this=this,oldColumnList=this.originalColumns;this.originalColumns=[],this.rowGroupColumns=[],this.valueColumns=[];var success=!0;columnState&&columnState.forEach(function(stateItem){var oldColumn=utils_1.Utils.find(oldColumnList,"colId",stateItem.colId);if(!oldColumn)return console.warn("ag-grid: column "+stateItem.colId+" not found"),void(success=!1);oldColumn.setVisible(!stateItem.hide),oldColumn.setPinned(stateItem.pinned),stateItem.width>=_this.gridOptionsWrapper.getMinColWidth()&&oldColumn.setActualWidth(stateItem.width);var aggFuncValid=[column_1.Column.AGG_MIN,column_1.Column.AGG_MAX,column_1.Column.AGG_SUM,column_1.Column.AGG_FIRST,column_1.Column.AGG_LAST].indexOf(stateItem.aggFunc)>=0;aggFuncValid?(oldColumn.setAggFunc(stateItem.aggFunc),_this.valueColumns.push(oldColumn)):oldColumn.setAggFunc(null),"number"==typeof stateItem.rowGroupIndex&&stateItem.rowGroupIndex>=0&&_this.rowGroupColumns.push(oldColumn),_this.originalColumns.push(oldColumn),oldColumnList.splice(oldColumnList.indexOf(oldColumn),1)}),oldColumnList.forEach(function(oldColumn){oldColumn.setVisible(!1),oldColumn.setAggFunc(null),oldColumn.setPinned(null),_this.originalColumns.push(oldColumn)}),this.rowGroupColumns.sort(function(colA,colB){for(var rowGroupIndexA=-1,rowGroupIndexB=-1,i=0;i<columnState.length;i++){var state=columnState[i];state.colId===colA.getColId()&&(rowGroupIndexA=state.rowGroupIndex),state.colId===colB.getColId()&&(rowGroupIndexB=state.rowGroupIndex)}return rowGroupIndexA-rowGroupIndexB}),this.setupGridColumns(),this.updateModel();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED);return this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,event),success},ColumnController.prototype.getGridColumns=function(keys){return this.getColumns(keys,this.getGridColumn.bind(this))},ColumnController.prototype.getColumns=function(keys,columnLookupCallback){var foundColumns=[];return keys&&keys.forEach(function(key){var column=columnLookupCallback(key);column&&foundColumns.push(column)}),foundColumns},ColumnController.prototype.getColumnWithValidation=function(key){var column=this.getOriginalColumn(key);return column||console.warn("ag-Grid: could not find column "+column),column},ColumnController.prototype.getOriginalColumn=function(key){return this.getColumn(key,this.originalColumns)},ColumnController.prototype.getGridColumn=function(key){return this.getColumn(key,this.gridColumns)},ColumnController.prototype.getColumn=function(key,columnList){function colMatches(column){var columnMatches=column===key,colDefMatches=column.getColDef()===key,idMatches=column.getColId()===key;return columnMatches||colDefMatches||idMatches}if(!key)return null;for(var i=0;i<columnList.length;i++)if(colMatches(columnList[i]))return columnList[i];return this.groupAutoColumnActive&&colMatches(this.groupAutoColumn)?this.groupAutoColumn:null},ColumnController.prototype.getDisplayNameForCol=function(column){var colDef=column.colDef,headerValueGetter=colDef.headerValueGetter;if(!headerValueGetter)return colDef.displayName?(console.warn("ag-grid: Found displayName "+colDef.displayName+", please use headerName instead, displayName is deprecated."),colDef.displayName):colDef.headerName;var params={colDef:colDef,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof headerValueGetter?headerValueGetter(params):"string"==typeof headerValueGetter?this.expressionService.evaluate(headerValueGetter,params):void console.warn("ag-grid: headerValueGetter must be a function or a string")},ColumnController.prototype.getColumnGroup=function(colId,instanceId){if(!colId)return null;if(colId instanceof columnGroup_1.ColumnGroup)return colId;var allColumnGroups=this.getAllDisplayedColumnGroups(),checkInstanceId="number"==typeof instanceId,result=null;return this.columnUtils.deptFirstAllColumnTreeSearch(allColumnGroups,function(child){if(child instanceof columnGroup_1.ColumnGroup){var matched,columnGroup=child;matched=checkInstanceId?colId===columnGroup.getGroupId()&&instanceId===columnGroup.getInstanceId():colId===columnGroup.getGroupId(),matched&&(result=columnGroup)}}),result},ColumnController.prototype.getColumnDept=function(){function getDept(children,currentDept){dept<currentDept&&(dept=currentDept),dept>currentDept||children.forEach(function(child){if(child instanceof columnGroup_1.ColumnGroup){var columnGroup=child;getDept(columnGroup.getChildren(),currentDept+1)}})}var dept=0;return getDept(this.getAllDisplayedColumnGroups(),1),dept},ColumnController.prototype.setColumnDefs=function(columnDefs){var balancedTreeResult=this.balancedColumnTreeBuilder.createBalancedColumnGroups(columnDefs);this.originalBalancedTree=balancedTreeResult.balancedTree,this.originalHeaderRowCount=balancedTreeResult.treeDept+1,this.originalColumns=this.getColumnsFromTree(this.originalBalancedTree),this.extractRowGroupColumns(),this.extractPivotColumns(),this.createValueColumns(),this.setupGridColumns(),this.updateModel(),this.ready=!0;var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,event),this.eventService.dispatchEvent(events_1.Events.EVENT_NEW_COLUMNS_LOADED)},ColumnController.prototype.isReady=function(){return this.ready},ColumnController.prototype.extractRowGroupColumns=function(){var _this=this;this.rowGroupColumns=[],this.originalColumns.forEach(function(column){"number"==typeof column.getColDef().rowGroupIndex&&_this.rowGroupColumns.push(column)}),this.rowGroupColumns.sort(function(colA,colB){return colA.getColDef().rowGroupIndex-colB.getColDef().rowGroupIndex})},ColumnController.prototype.extractPivotColumns=function(){var _this=this;this.pivotColumns=[],this.originalColumns.forEach(function(column){"number"==typeof column.getColDef().pivotIndex&&_this.pivotColumns.push(column)}),this.pivotColumns.sort(function(colA,colB){return colA.getColDef().pivotIndex-colB.getColDef().pivotIndex})},ColumnController.prototype.setColumnGroupOpened=function(passedGroup,newValue,instanceId){var groupToUse=this.getColumnGroup(passedGroup,instanceId);if(groupToUse){this.logger.log("columnGroupOpened("+groupToUse.getGroupId()+","+newValue+")"),groupToUse.setExpanded(newValue),this.gridPanel.turnOnAnimationForABit(),this.updateGroupsAndDisplayedColumns();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_GROUP_OPENED).withColumnGroup(groupToUse);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_GROUP_OPENED,event)}},ColumnController.prototype.getColumnGroupState=function(){var groupState={};return this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(child){if(child instanceof columnGroup_1.ColumnGroup){var columnGroup=child,key=columnGroup.getGroupId();groupState.hasOwnProperty(key)||(groupState[key]=columnGroup.isExpanded())}}),groupState},ColumnController.prototype.setColumnGroupState=function(groupState){this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(child){if(child instanceof columnGroup_1.ColumnGroup){var columnGroup=child,key=columnGroup.getGroupId(),shouldExpandGroup=groupState[key]===!0&&columnGroup.isExpandable();shouldExpandGroup&&columnGroup.setExpanded(!0)}})},ColumnController.prototype.updateModel=function(){var oldGroupState=this.getColumnGroupState();this.createGroupAutoColumn();var visibleColumns=utils_1.Utils.filter(this.gridColumns,function(column){return column.isVisible()});this.groupAutoColumnActive&&visibleColumns.unshift(this.groupAutoColumn),this.buildAllGroups(visibleColumns),this.setColumnGroupState(oldGroupState),this.updateGroupsAndDisplayedColumns(),this.setFirstRightAndLastLeftPinned()},ColumnController.prototype.onPivotValueChanged=function(){this.setupGridColumns(),this.updateModel();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_PIVOT_VALUE_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_PIVOT_VALUE_CHANGED,event)},ColumnController.prototype.setupGridColumns=function(){var doingPivot=this.pivotColumns.length>0;if(doingPivot){var pivotColumnGroupDefs=this.pivotService.getPivotColumnGroupDefs(),balancedTreeResult=this.balancedColumnTreeBuilder.createBalancedColumnGroups(pivotColumnGroupDefs);this.gridBalancedTree=balancedTreeResult.balancedTree,this.gridHeaderRowCount=balancedTreeResult.treeDept+1,this.gridColumns=this.getColumnsFromTree(this.gridBalancedTree)}else this.gridBalancedTree=this.originalBalancedTree.slice(),this.gridHeaderRowCount=this.originalHeaderRowCount,this.gridColumns=this.originalColumns.slice()},ColumnController.prototype.updateGroupsAndDisplayedColumns=function(){this.updateGroups(),this.updateDisplayedColumnsFromGroups()},ColumnController.prototype.updateDisplayedColumnsFromGroups=function(){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.setLeftValues()},ColumnController.prototype.setLeftValues=function(){var allColumns=this.originalColumns.slice(0);[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach(function(columns){var left=0;columns.forEach(function(column){column.setLeft(left),left+=column.getActualWidth(),utils_1.Utils.removeFromArray(allColumns,column)})}),allColumns.forEach(function(column){column.setLeft(null)})},ColumnController.prototype.addToDisplayedColumns=function(displayedColumnTree,displayedColumns){displayedColumns.length=0,this.columnUtils.deptFirstDisplayedColumnTreeSearch(displayedColumnTree,function(child){child instanceof column_1.Column&&displayedColumns.push(child)})},ColumnController.prototype.sizeColumnsToFit=function(gridWidth){function moveToNotSpread(column){utils_1.Utils.removeFromArray(colsToSpread,column),colsToNotSpread.push(column)}function getTotalWidth(columns){for(var result=0,i=0;i<columns.length;i++)result+=columns[i].getActualWidth();return result}var _this=this,allDisplayedColumns=this.getAllDisplayedColumns();if(!(gridWidth<=0||0===allDisplayedColumns.length)){for(var colsToNotSpread=utils_1.Utils.filter(allDisplayedColumns,function(column){return column.getColDef().suppressSizeToFit===!0}),colsToSpread=utils_1.Utils.filter(allDisplayedColumns,function(column){return column.getColDef().suppressSizeToFit!==!0}),colsToFireEventFor=colsToSpread.slice(0),finishedResizing=!1;!finishedResizing;){finishedResizing=!0;var availablePixels=gridWidth-getTotalWidth(colsToNotSpread);if(availablePixels<=0)colsToSpread.forEach(function(column){column.setMinimum()});else for(var scale=availablePixels/getTotalWidth(colsToSpread),pixelsForLastCol=availablePixels,i=colsToSpread.length-1;i>=0;i--){var column=colsToSpread[i],newWidth=Math.round(column.getActualWidth()*scale);if(newWidth<column.getMinWidth())column.setMinimum(),moveToNotSpread(column),finishedResizing=!1;else if(column.isGreaterThanMax(newWidth))column.setActualWidth(column.getMaxWidth()),moveToNotSpread(column),finishedResizing=!1;else{var onLastCol=0===i;onLastCol?column.setActualWidth(pixelsForLastCol):(pixelsForLastCol-=newWidth,column.setActualWidth(newWidth))}}}this.setLeftValues(),colsToFireEventFor.forEach(function(column){var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_RESIZED).withColumn(column);_this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_RESIZED,event)})}},ColumnController.prototype.buildAllGroups=function(visibleColumns){var leftVisibleColumns=utils_1.Utils.filter(visibleColumns,function(column){return"left"===column.getPinned()}),rightVisibleColumns=utils_1.Utils.filter(visibleColumns,function(column){return"right"===column.getPinned()}),centerVisibleColumns=utils_1.Utils.filter(visibleColumns,function(column){return"left"!==column.getPinned()&&"right"!==column.getPinned()}),groupInstanceIdCreator=new groupInstanceIdCreator_1.GroupInstanceIdCreator;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(leftVisibleColumns,this.gridBalancedTree,groupInstanceIdCreator),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(rightVisibleColumns,this.gridBalancedTree,groupInstanceIdCreator),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(centerVisibleColumns,this.gridBalancedTree,groupInstanceIdCreator)},ColumnController.prototype.updateGroups=function(){var allGroups=this.getAllDisplayedColumnGroups();this.columnUtils.deptFirstAllColumnTreeSearch(allGroups,function(child){if(child instanceof columnGroup_1.ColumnGroup){var group=child;group.calculateDisplayedColumns()}})},ColumnController.prototype.createGroupAutoColumn=function(){var needAGroupColumn=this.rowGroupColumns.length>0&&!this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.gridOptionsWrapper.isGroupUseEntireRow()&&!this.gridOptionsWrapper.isGroupSuppressRow();if(this.groupAutoColumnActive=needAGroupColumn,needAGroupColumn&&!this.groupAutoColumn){var autoColDef=this.gridOptionsWrapper.getGroupColumnDef();if(!autoColDef){var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc();autoColDef={headerName:localeTextFunc("group","Group"),comparator:functions_1.defaultGroupComparator,valueGetter:function(params){return params.node.group?params.node.key:params.data&&params.colDef.field?params.data[params.colDef.field]:null},suppressAggregation:!0,suppressRowGroup:!0,cellRenderer:"group"}}autoColDef.suppressMovable=!0;var colId="ag-Grid-AutoColumn";this.groupAutoColumn=new column_1.Column(autoColDef,colId),this.context.wireBean(this.groupAutoColumn)}},ColumnController.prototype.createValueColumns=function(){this.valueColumns=[];for(var i=0;i<this.originalColumns.length;i++){var column=this.originalColumns[i];column.getColDef().aggFunc&&(column.setAggFunc(column.getColDef().aggFunc),this.valueColumns.push(column))}},ColumnController.prototype.getWithOfColsInList=function(columnList){for(var result=0,i=0;i<columnList.length;i++)result+=columnList[i].getActualWidth();return result},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],ColumnController.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],ColumnController.prototype,"expressionService",void 0),__decorate([context_1.Autowired("balancedColumnTreeBuilder"),__metadata("design:type",balancedColumnTreeBuilder_1.BalancedColumnTreeBuilder)],ColumnController.prototype,"balancedColumnTreeBuilder",void 0),__decorate([context_1.Autowired("displayedGroupCreator"),__metadata("design:type",displayedGroupCreator_1.DisplayedGroupCreator)],ColumnController.prototype,"displayedGroupCreator",void 0),__decorate([context_1.Autowired("autoWidthCalculator"),__metadata("design:type",autoWidthCalculator_1.AutoWidthCalculator)],ColumnController.prototype,"autoWidthCalculator",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],ColumnController.prototype,"eventService",void 0),__decorate([context_1.Autowired("columnUtils"),__metadata("design:type",columnUtils_1.ColumnUtils)],ColumnController.prototype,"columnUtils",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],ColumnController.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],ColumnController.prototype,"context",void 0),__decorate([context_1.Autowired("pivotService"),__metadata("design:type",pivotService_1.PivotService)],ColumnController.prototype,"pivotService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ColumnController.prototype,"init",null),__decorate([__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],ColumnController.prototype,"setBeans",null),ColumnController=__decorate([context_1.Bean("columnController"),__metadata("design:paramtypes",[])],ColumnController)}();exports.ColumnController=ColumnController},function(module,exports,__webpack_require__){var column_1=__webpack_require__(15),eventService_1=__webpack_require__(4),ColumnGroup=function(){function ColumnGroup(originalColumnGroup,groupId,instanceId){this.displayedChildren=[],this.moving=!1,this.eventService=new eventService_1.EventService,this.groupId=groupId,this.instanceId=instanceId,this.originalColumnGroup=originalColumnGroup}return ColumnGroup.prototype.getHeaderName=function(){return this.originalColumnGroup.getColGroupDef()?this.originalColumnGroup.getColGroupDef().headerName:null},ColumnGroup.prototype.addEventListener=function(eventType,listener){this.eventService.addEventListener(eventType,listener)},ColumnGroup.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},ColumnGroup.prototype.setMoving=function(moving){this.getDisplayedLeafColumns().forEach(function(column){return column.setMoving(moving)})},ColumnGroup.prototype.isMoving=function(){return this.moving},ColumnGroup.prototype.getGroupId=function(){return this.groupId},ColumnGroup.prototype.getInstanceId=function(){return this.instanceId},ColumnGroup.prototype.isChildInThisGroupDeepSearch=function(wantedChild){var result=!1;return this.children.forEach(function(foundChild){wantedChild===foundChild&&(result=!0),foundChild instanceof ColumnGroup&&foundChild.isChildInThisGroupDeepSearch(wantedChild)&&(result=!0)}),result},ColumnGroup.prototype.getActualWidth=function(){var groupActualWidth=0;return this.displayedChildren&&this.displayedChildren.forEach(function(child){groupActualWidth+=child.getActualWidth()}),groupActualWidth},ColumnGroup.prototype.getMinWidth=function(){var result=0;return this.displayedChildren.forEach(function(groupChild){result+=groupChild.getMinWidth()}),result},ColumnGroup.prototype.addChild=function(child){this.children||(this.children=[]),this.children.push(child)},ColumnGroup.prototype.getDisplayedChildren=function(){return this.displayedChildren},ColumnGroup.prototype.getLeafColumns=function(){var result=[];return this.addLeafColumns(result),result},ColumnGroup.prototype.getDisplayedLeafColumns=function(){var result=[];return this.addDisplayedLeafColumns(result),result},ColumnGroup.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},ColumnGroup.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},ColumnGroup.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},ColumnGroup.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},ColumnGroup.prototype.setExpanded=function(expanded){this.originalColumnGroup.setExpanded(expanded)},ColumnGroup.prototype.addDisplayedLeafColumns=function(leafColumns){this.displayedChildren.forEach(function(child){child instanceof column_1.Column?leafColumns.push(child):child instanceof ColumnGroup&&child.addDisplayedLeafColumns(leafColumns)})},ColumnGroup.prototype.addLeafColumns=function(leafColumns){this.children.forEach(function(child){child instanceof column_1.Column?leafColumns.push(child):child instanceof ColumnGroup&&child.addLeafColumns(leafColumns)})},ColumnGroup.prototype.getChildren=function(){return this.children},ColumnGroup.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},ColumnGroup.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},ColumnGroup.prototype.calculateDisplayedColumns=function(){if(this.displayedChildren=[],!this.originalColumnGroup.isExpandable())return void(this.displayedChildren=this.children);for(var i=0,j=this.children.length;i<j;i++){var abstractColumn=this.children[i],headerGroupShow=abstractColumn.getColumnGroupShow();switch(headerGroupShow){case ColumnGroup.HEADER_GROUP_SHOW_OPEN:this.originalColumnGroup.isExpanded()&&this.displayedChildren.push(abstractColumn);break;case ColumnGroup.HEADER_GROUP_SHOW_CLOSED:this.originalColumnGroup.isExpanded()||this.displayedChildren.push(abstractColumn);break;default:this.displayedChildren.push(abstractColumn)}}},ColumnGroup.HEADER_GROUP_SHOW_OPEN="open",ColumnGroup.HEADER_GROUP_SHOW_CLOSED="closed",ColumnGroup}();exports.ColumnGroup=ColumnGroup},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},eventService_1=__webpack_require__(4),utils_1=__webpack_require__(7),context_1=__webpack_require__(6),gridOptionsWrapper_1=__webpack_require__(3),columnUtils_1=__webpack_require__(16),Column=function(){function Column(colDef,colId){this.moving=!1,this.filterActive=!1,this.eventService=new eventService_1.EventService,this.colDef=colDef,this.visible=!colDef.hide,this.sort=colDef.sort,this.sortedAt=colDef.sortedAt,this.colId=colId}return Column.prototype.initialise=function(){this.setPinned(this.colDef.pinned);var minColWidth=this.gridOptionsWrapper.getMinColWidth(),maxColWidth=this.gridOptionsWrapper.getMaxColWidth();this.colDef.minWidth?this.minWidth=this.colDef.minWidth:this.minWidth=minColWidth,this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=maxColWidth,this.actualWidth=this.columnUtils.calculateColInitialWidth(this.colDef),this.validate()},Column.prototype.validate=function(){this.gridOptionsWrapper.isEnterprise()||(utils_1.Utils.exists(this.colDef.aggFunc)&&console.warn("ag-Grid: aggFunc is only valid in ag-Grid-Enterprise"),utils_1.Utils.exists(this.colDef.rowGroupIndex)&&console.warn("ag-Grid: rowGroupIndex is only valid in ag-Grid-Enterprise"))},Column.prototype.addEventListener=function(eventType,listener){this.eventService.addEventListener(eventType,listener)},Column.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},Column.prototype.isCellEditable=function(rowNode){if("boolean"==typeof this.colDef.editable)return this.colDef.editable;if("function"==typeof this.colDef.editable){var params={node:rowNode,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},editableFunc=this.colDef.editable;return editableFunc(params)}return!1},Column.prototype.setMoving=function(moving){this.moving=moving,this.eventService.dispatchEvent(Column.EVENT_MOVING_CHANGED)},Column.prototype.isMoving=function(){return this.moving},Column.prototype.getSort=function(){return this.sort},Column.prototype.setSort=function(sort){this.sort!==sort&&(this.sort=sort,this.eventService.dispatchEvent(Column.EVENT_SORT_CHANGED))},Column.prototype.isSortAscending=function(){return this.sort===Column.SORT_ASC},Column.prototype.isSortDescending=function(){return this.sort===Column.SORT_DESC},Column.prototype.isSortNone=function(){return utils_1.Utils.missing(this.sort)},Column.prototype.getSortedAt=function(){return this.sortedAt},Column.prototype.setSortedAt=function(sortedAt){this.sortedAt=sortedAt},Column.prototype.setAggFunc=function(aggFunc){this.aggFunc=aggFunc},Column.prototype.getAggFunc=function(){return this.aggFunc},Column.prototype.getLeft=function(){return this.left},Column.prototype.getRight=function(){return this.left+this.actualWidth},Column.prototype.setLeft=function(left){this.left!==left&&(this.left=left,this.eventService.dispatchEvent(Column.EVENT_LEFT_CHANGED))},Column.prototype.isFilterActive=function(){return this.filterActive},Column.prototype.setFilterActive=function(active){this.filterActive!==active&&(this.filterActive=active,this.eventService.dispatchEvent(Column.EVENT_FILTER_ACTIVE_CHANGED))},Column.prototype.setPinned=function(pinned){this.gridOptionsWrapper.isForPrint()||(pinned===!0||pinned===Column.PINNED_LEFT?this.pinned=Column.PINNED_LEFT:pinned===Column.PINNED_RIGHT?this.pinned=Column.PINNED_RIGHT:this.pinned=null)},Column.prototype.setFirstRightPinned=function(firstRightPinned){this.firstRightPinned!==firstRightPinned&&(this.firstRightPinned=firstRightPinned,this.eventService.dispatchEvent(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED))},Column.prototype.setLastLeftPinned=function(lastLeftPinned){this.lastLeftPinned!==lastLeftPinned&&(this.lastLeftPinned=lastLeftPinned,this.eventService.dispatchEvent(Column.EVENT_LAST_LEFT_PINNED_CHANGED))},Column.prototype.isFirstRightPinned=function(){return this.firstRightPinned},Column.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},Column.prototype.isPinned=function(){return this.pinned===Column.PINNED_LEFT||this.pinned===Column.PINNED_RIGHT},Column.prototype.isPinnedLeft=function(){return this.pinned===Column.PINNED_LEFT},Column.prototype.isPinnedRight=function(){return this.pinned===Column.PINNED_RIGHT},Column.prototype.getPinned=function(){return this.pinned},Column.prototype.setVisible=function(visible){var newValue=visible===!0;this.visible!==newValue&&(this.visible=newValue,this.eventService.dispatchEvent(Column.EVENT_VISIBLE_CHANGED))},Column.prototype.isVisible=function(){return this.visible},Column.prototype.getColDef=function(){return this.colDef},Column.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},Column.prototype.getColId=function(){return this.colId},Column.prototype.getId=function(){return this.getColId()},Column.prototype.getDefinition=function(){return this.colDef},Column.prototype.getActualWidth=function(){return this.actualWidth},Column.prototype.setActualWidth=function(actualWidth){this.actualWidth!==actualWidth&&(this.actualWidth=actualWidth,
this.eventService.dispatchEvent(Column.EVENT_WIDTH_CHANGED))},Column.prototype.isGreaterThanMax=function(width){return!!this.maxWidth&&width>this.maxWidth},Column.prototype.getMinWidth=function(){return this.minWidth},Column.prototype.getMaxWidth=function(){return this.maxWidth},Column.prototype.setMinimum=function(){this.setActualWidth(this.minWidth)},Column.EVENT_MOVING_CHANGED="movingChanged",Column.EVENT_LEFT_CHANGED="leftChanged",Column.EVENT_WIDTH_CHANGED="widthChanged",Column.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",Column.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",Column.EVENT_VISIBLE_CHANGED="visibleChanged",Column.EVENT_FILTER_ACTIVE_CHANGED="filterChanged",Column.EVENT_SORT_CHANGED="filterChanged",Column.PINNED_RIGHT="right",Column.PINNED_LEFT="left",Column.AGG_SUM="sum",Column.AGG_MIN="min",Column.AGG_MAX="max",Column.AGG_FIRST="first",Column.AGG_LAST="last",Column.SORT_ASC="asc",Column.SORT_DESC="desc",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],Column.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnUtils"),__metadata("design:type",columnUtils_1.ColumnUtils)],Column.prototype,"columnUtils",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],Column.prototype,"initialise",null),Column}();exports.Column=Column},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},gridOptionsWrapper_1=__webpack_require__(3),columnGroup_1=__webpack_require__(14),originalColumnGroup_1=__webpack_require__(17),context_1=__webpack_require__(6),context_2=__webpack_require__(6),ColumnUtils=function(){function ColumnUtils(){}return ColumnUtils.prototype.calculateColInitialWidth=function(colDef){return colDef.width?colDef.width<this.gridOptionsWrapper.getMinColWidth()?this.gridOptionsWrapper.getMinColWidth():colDef.width:this.gridOptionsWrapper.getColWidth()},ColumnUtils.prototype.getOriginalPathForColumn=function(column,originalBalancedTree){function recursePath(balancedColumnTree,dept){for(var i=0;i<balancedColumnTree.length;i++){if(found)return;var node=balancedColumnTree[i];if(node instanceof originalColumnGroup_1.OriginalColumnGroup){var nextNode=node;recursePath(nextNode.getChildren(),dept+1),result[dept]=node}else node===column&&(found=!0)}}var result=[],found=!1;return recursePath(originalBalancedTree,0),found?result:null},ColumnUtils.prototype.deptFirstOriginalTreeSearch=function(tree,callback){var _this=this;tree&&tree.forEach(function(child){child instanceof originalColumnGroup_1.OriginalColumnGroup&&_this.deptFirstOriginalTreeSearch(child.getChildren(),callback),callback(child)})},ColumnUtils.prototype.deptFirstAllColumnTreeSearch=function(tree,callback){var _this=this;tree&&tree.forEach(function(child){child instanceof columnGroup_1.ColumnGroup&&_this.deptFirstAllColumnTreeSearch(child.getChildren(),callback),callback(child)})},ColumnUtils.prototype.deptFirstDisplayedColumnTreeSearch=function(tree,callback){var _this=this;tree&&tree.forEach(function(child){child instanceof columnGroup_1.ColumnGroup&&_this.deptFirstDisplayedColumnTreeSearch(child.getDisplayedChildren(),callback),callback(child)})},__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],ColumnUtils.prototype,"gridOptionsWrapper",void 0),ColumnUtils=__decorate([context_1.Bean("columnUtils"),__metadata("design:paramtypes",[])],ColumnUtils)}();exports.ColumnUtils=ColumnUtils},function(module,exports,__webpack_require__){var columnGroup_1=__webpack_require__(14),column_1=__webpack_require__(15),OriginalColumnGroup=function(){function OriginalColumnGroup(colGroupDef,groupId){this.expandable=!1,this.expanded=!1,this.colGroupDef=colGroupDef,this.groupId=groupId}return OriginalColumnGroup.prototype.setExpanded=function(expanded){this.expanded=expanded},OriginalColumnGroup.prototype.isExpandable=function(){return this.expandable},OriginalColumnGroup.prototype.isExpanded=function(){return this.expanded},OriginalColumnGroup.prototype.getGroupId=function(){return this.groupId},OriginalColumnGroup.prototype.getId=function(){return this.getGroupId()},OriginalColumnGroup.prototype.setChildren=function(children){this.children=children},OriginalColumnGroup.prototype.getChildren=function(){return this.children},OriginalColumnGroup.prototype.getColGroupDef=function(){return this.colGroupDef},OriginalColumnGroup.prototype.getLeafColumns=function(){var result=[];return this.addLeafColumns(result),result},OriginalColumnGroup.prototype.addLeafColumns=function(leafColumns){this.children.forEach(function(child){child instanceof column_1.Column?leafColumns.push(child):child instanceof OriginalColumnGroup&&child.addLeafColumns(leafColumns)})},OriginalColumnGroup.prototype.getColumnGroupShow=function(){return this.colGroupDef?this.colGroupDef.columnGroupShow:this.children[0].getColumnGroupShow()},OriginalColumnGroup.prototype.calculateExpandable=function(){for(var atLeastOneShowingWhenOpen=!1,atLeastOneShowingWhenClosed=!1,atLeastOneChangeable=!1,i=0,j=this.children.length;i<j;i++){var abstractColumn=this.children[i],headerGroupShow=abstractColumn.getColumnGroupShow();headerGroupShow===columnGroup_1.ColumnGroup.HEADER_GROUP_SHOW_OPEN?(atLeastOneShowingWhenOpen=!0,atLeastOneChangeable=!0):headerGroupShow===columnGroup_1.ColumnGroup.HEADER_GROUP_SHOW_CLOSED?(atLeastOneShowingWhenClosed=!0,atLeastOneChangeable=!0):(atLeastOneShowingWhenOpen=!0,atLeastOneShowingWhenClosed=!0)}this.expandable=atLeastOneShowingWhenOpen&&atLeastOneShowingWhenClosed&&atLeastOneChangeable},OriginalColumnGroup}();exports.OriginalColumnGroup=OriginalColumnGroup},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},logger_1=__webpack_require__(5),context_1=__webpack_require__(6),context_2=__webpack_require__(6),ExpressionService=function(){function ExpressionService(){this.expressionToFunctionCache={}}return ExpressionService.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("ExpressionService")},ExpressionService.prototype.evaluate=function(expression,params){try{var javaScriptFunction=this.createExpressionFunction(expression),result=javaScriptFunction(params.value,params.context,params.node,params.data,params.colDef,params.rowIndex,params.api,params.getValue);return result}catch(e){return this.logger.log("Processing of the expression failed"),this.logger.log("Expression = "+expression),this.logger.log("Exception = "+e),null}},ExpressionService.prototype.createExpressionFunction=function(expression){if(this.expressionToFunctionCache[expression])return this.expressionToFunctionCache[expression];var functionBody=this.createFunctionBody(expression),theFunction=new Function("x, ctx, node, data, colDef, rowIndex, api, getValue",functionBody);return this.expressionToFunctionCache[expression]=theFunction,theFunction},ExpressionService.prototype.createFunctionBody=function(expression){return expression.indexOf("return")>=0?expression:"return "+expression+";"},__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],ExpressionService.prototype,"setBeans",null),ExpressionService=__decorate([context_1.Bean("expressionService"),__metadata("design:paramtypes",[])],ExpressionService)}();exports.ExpressionService=ExpressionService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},gridOptionsWrapper_1=__webpack_require__(3),logger_1=__webpack_require__(5),columnUtils_1=__webpack_require__(16),columnKeyCreator_1=__webpack_require__(20),originalColumnGroup_1=__webpack_require__(17),column_1=__webpack_require__(15),context_1=__webpack_require__(6),context_2=__webpack_require__(6),context_3=__webpack_require__(6),context_4=__webpack_require__(6),BalancedColumnTreeBuilder=function(){function BalancedColumnTreeBuilder(){}return BalancedColumnTreeBuilder.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("BalancedColumnTreeBuilder")},BalancedColumnTreeBuilder.prototype.createBalancedColumnGroups=function(abstractColDefs){var columnKeyCreator=new columnKeyCreator_1.ColumnKeyCreator,unbalancedTree=this.recursivelyCreateColumns(abstractColDefs,0,columnKeyCreator),treeDept=this.findMaxDept(unbalancedTree,0);this.logger.log("Number of levels for grouped columns is "+treeDept);var balancedTree=this.balanceColumnTree(unbalancedTree,0,treeDept,columnKeyCreator);return this.columnUtils.deptFirstOriginalTreeSearch(balancedTree,function(child){child instanceof originalColumnGroup_1.OriginalColumnGroup&&child.calculateExpandable()}),{balancedTree:balancedTree,treeDept:treeDept}},BalancedColumnTreeBuilder.prototype.balanceColumnTree=function(unbalancedTree,currentDept,columnDept,columnKeyCreator){var _this=this,result=[];return unbalancedTree.forEach(function(child){if(child instanceof originalColumnGroup_1.OriginalColumnGroup){var originalGroup=child,newChildren=_this.balanceColumnTree(originalGroup.getChildren(),currentDept+1,columnDept,columnKeyCreator);originalGroup.setChildren(newChildren),result.push(originalGroup)}else{for(var newChild=child,i=columnDept-1;i>=currentDept;i--){var newColId=columnKeyCreator.getUniqueKey(null,null),paddedGroup=new originalColumnGroup_1.OriginalColumnGroup(null,newColId);paddedGroup.setChildren([newChild]),newChild=paddedGroup}result.push(newChild)}}),result},BalancedColumnTreeBuilder.prototype.findMaxDept=function(treeChildren,dept){for(var maxDeptThisLevel=dept,i=0;i<treeChildren.length;i++){var abstractColumn=treeChildren[i];if(abstractColumn instanceof originalColumnGroup_1.OriginalColumnGroup){var originalGroup=abstractColumn,newDept=this.findMaxDept(originalGroup.getChildren(),dept+1);maxDeptThisLevel<newDept&&(maxDeptThisLevel=newDept)}}return maxDeptThisLevel},BalancedColumnTreeBuilder.prototype.recursivelyCreateColumns=function(abstractColDefs,level,columnKeyCreator){var _this=this,result=[];return abstractColDefs?(abstractColDefs.forEach(function(abstractColDef){if(_this.checkForDeprecatedItems(abstractColDef),_this.isColumnGroup(abstractColDef)){var groupColDef=abstractColDef,groupId=columnKeyCreator.getUniqueKey(groupColDef.groupId,null),originalGroup=new originalColumnGroup_1.OriginalColumnGroup(groupColDef,groupId),children=_this.recursivelyCreateColumns(groupColDef.children,level+1,columnKeyCreator);originalGroup.setChildren(children),result.push(originalGroup)}else{var colDef=abstractColDef,colId=columnKeyCreator.getUniqueKey(colDef.colId,colDef.field),column=new column_1.Column(colDef,colId);_this.context.wireBean(column),result.push(column)}}),result):result},BalancedColumnTreeBuilder.prototype.checkForDeprecatedItems=function(colDef){if(colDef){var colDefNoType=colDef;void 0!==colDefNoType.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==colDefNoType.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==colDefNoType.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3")}},BalancedColumnTreeBuilder.prototype.isColumnGroup=function(abstractColDef){return void 0!==abstractColDef.children},__decorate([context_3.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],BalancedColumnTreeBuilder.prototype,"gridOptionsWrapper",void 0),__decorate([context_3.Autowired("columnUtils"),__metadata("design:type",columnUtils_1.ColumnUtils)],BalancedColumnTreeBuilder.prototype,"columnUtils",void 0),__decorate([context_3.Autowired("context"),__metadata("design:type",context_4.Context)],BalancedColumnTreeBuilder.prototype,"context",void 0),__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],BalancedColumnTreeBuilder.prototype,"setBeans",null),BalancedColumnTreeBuilder=__decorate([context_1.Bean("balancedColumnTreeBuilder"),__metadata("design:paramtypes",[])],BalancedColumnTreeBuilder)}();exports.BalancedColumnTreeBuilder=BalancedColumnTreeBuilder},function(module,exports){var ColumnKeyCreator=function(){function ColumnKeyCreator(){this.existingKeys=[]}return ColumnKeyCreator.prototype.getUniqueKey=function(colId,colField){for(var count=0;;){var idToTry;if(colId?(idToTry=colId,0!==count&&(idToTry+="_"+count)):colField?(idToTry=colField,0!==count&&(idToTry+="_"+count)):idToTry=""+count,this.existingKeys.indexOf(idToTry)<0)return this.existingKeys.push(idToTry),idToTry;count++}},ColumnKeyCreator}();exports.ColumnKeyCreator=ColumnKeyCreator},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},columnUtils_1=__webpack_require__(16),columnGroup_1=__webpack_require__(14),originalColumnGroup_1=__webpack_require__(17),context_1=__webpack_require__(6),context_2=__webpack_require__(6),DisplayedGroupCreator=function(){function DisplayedGroupCreator(){}return DisplayedGroupCreator.prototype.createDisplayedGroups=function(sortedVisibleColumns,balancedColumnTree,groupInstanceIdCreator){var previousRealPath,previousOriginalPath,_this=this,result=[];return sortedVisibleColumns.forEach(function(currentColumn){for(var currentOriginalPath=_this.getOriginalPathForColumn(balancedColumnTree,currentColumn),currentRealPath=[],firstColumn=!previousOriginalPath,i=0;i<currentOriginalPath.length;i++)if(firstColumn||currentOriginalPath[i]!==previousOriginalPath[i]){var originalGroup=currentOriginalPath[i],groupId=originalGroup.getGroupId(),instanceId=groupInstanceIdCreator.getInstanceIdForKey(groupId),newGroup=new columnGroup_1.ColumnGroup(originalGroup,groupId,instanceId);currentRealPath[i]=newGroup,0==i?result.push(newGroup):currentRealPath[i-1].addChild(newGroup)}else currentRealPath[i]=previousRealPath[i];var noColumnGroups=0===currentRealPath.length;if(noColumnGroups)result.push(currentColumn);else{var leafGroup=currentRealPath[currentRealPath.length-1];leafGroup.addChild(currentColumn)}previousRealPath=currentRealPath,previousOriginalPath=currentOriginalPath}),result},DisplayedGroupCreator.prototype.createFakePath=function(balancedColumnTree){for(var result=[],currentChildren=balancedColumnTree,index=0;currentChildren&&currentChildren[0]&&currentChildren[0]instanceof originalColumnGroup_1.OriginalColumnGroup;)result.push(new originalColumnGroup_1.OriginalColumnGroup(null,"FAKE_PATH_"+index)),currentChildren=currentChildren[0].getChildren(),index++;return result},DisplayedGroupCreator.prototype.getOriginalPathForColumn=function(balancedColumnTree,column){function recursePath(balancedColumnTree,dept){for(var i=0;i<balancedColumnTree.length;i++){if(found)return;var node=balancedColumnTree[i];if(node instanceof originalColumnGroup_1.OriginalColumnGroup){var nextNode=node;recursePath(nextNode.getChildren(),dept+1),result[dept]=node}else node===column&&(found=!0)}}var result=[],found=!1;return recursePath(balancedColumnTree,0),found?result:this.createFakePath(balancedColumnTree)},__decorate([context_2.Autowired("columnUtils"),__metadata("design:type",columnUtils_1.ColumnUtils)],DisplayedGroupCreator.prototype,"columnUtils",void 0),DisplayedGroupCreator=__decorate([context_1.Bean("displayedGroupCreator"),__metadata("design:paramtypes",[])],DisplayedGroupCreator)}();exports.DisplayedGroupCreator=DisplayedGroupCreator},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},rowRenderer_1=__webpack_require__(23),gridPanel_1=__webpack_require__(24),context_1=__webpack_require__(6),context_2=__webpack_require__(6),AutoWidthCalculator=function(){function AutoWidthCalculator(){}return AutoWidthCalculator.prototype.getPreferredWidthForColumn=function(column){var eDummyContainer=document.createElement("span");eDummyContainer.style.position="fixed";var eBodyContainer=this.gridPanel.getBodyContainer();eBodyContainer.appendChild(eDummyContainer);var eOriginalCells=this.rowRenderer.getAllCellsForColumn(column);eOriginalCells.forEach(function(eCell,index){var eCellClone=eCell.cloneNode(!0);eCellClone.style.width="",eCellClone.style.position="static",eCellClone.style.left="";var eCloneParent=document.createElement("div");eCloneParent.style.display="table-row",eCloneParent.appendChild(eCellClone),eDummyContainer.appendChild(eCloneParent)});var dummyContainerWidth=eDummyContainer.offsetWidth;return eBodyContainer.removeChild(eDummyContainer),dummyContainerWidth+4},__decorate([context_2.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],AutoWidthCalculator.prototype,"rowRenderer",void 0),__decorate([context_2.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],AutoWidthCalculator.prototype,"gridPanel",void 0),AutoWidthCalculator=__decorate([context_1.Bean("autoWidthCalculator"),__metadata("design:paramtypes",[])],AutoWidthCalculator)}();exports.AutoWidthCalculator=AutoWidthCalculator},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(7),gridOptionsWrapper_1=__webpack_require__(3),gridPanel_1=__webpack_require__(24),expressionService_1=__webpack_require__(18),templateService_1=__webpack_require__(36),valueService_1=__webpack_require__(29),eventService_1=__webpack_require__(4),floatingRowModel_1=__webpack_require__(26),renderedRow_1=__webpack_require__(37),events_1=__webpack_require__(10),constants_1=__webpack_require__(8),context_1=__webpack_require__(6),gridCore_1=__webpack_require__(40),columnController_1=__webpack_require__(13),logger_1=__webpack_require__(5),focusedCellController_1=__webpack_require__(35),cellNavigationService_1=__webpack_require__(63),gridCell_1=__webpack_require__(33),RowRenderer=function(){function RowRenderer(){this.renderedRows={},this.renderedTopFloatingRows=[],this.renderedBottomFloatingRows=[]}return RowRenderer.prototype.agWire=function(loggerFactory){this.logger=this.loggerFactory.create("RowRenderer"),this.logger=loggerFactory.create("BalancedColumnTreeBuilder")},RowRenderer.prototype.init=function(){this.getContainersFromGridPanel(),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_GROUP_OPENED,this.onColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VISIBLE,this.onColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_RESIZED,this.onColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_PINNED,this.onColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_MODEL_UPDATED,this.refreshView.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED,this.refreshView.bind(this,null)),this.refreshView()},RowRenderer.prototype.onColumnEvent=function(event){event.isContainerWidthImpacted()&&this.setMainRowWidths()},RowRenderer.prototype.getContainersFromGridPanel=function(){this.eBodyContainer=this.gridPanel.getBodyContainer(),this.ePinnedLeftColsContainer=this.gridPanel.getPinnedLeftColsContainer(),this.ePinnedRightColsContainer=this.gridPanel.getPinnedRightColsContainer(),this.eFloatingTopContainer=this.gridPanel.getFloatingTopContainer(),this.eFloatingTopPinnedLeftContainer=this.gridPanel.getPinnedLeftFloatingTop(),this.eFloatingTopPinnedRightContainer=this.gridPanel.getPinnedRightFloatingTop(),this.eFloatingBottomContainer=this.gridPanel.getFloatingBottomContainer(),this.eFloatingBottomPinnedLeftContainer=this.gridPanel.getPinnedLeftFloatingBottom(),this.eFloatingBottomPinnedRightContainer=this.gridPanel.getPinnedRightFloatingBottom(),this.eBodyViewport=this.gridPanel.getBodyViewport(),this.eAllBodyContainers=[this.eBodyContainer,this.eFloatingBottomContainer,this.eFloatingTopContainer],this.eAllPinnedLeftContainers=[this.ePinnedLeftColsContainer,this.eFloatingBottomPinnedLeftContainer,this.eFloatingTopPinnedLeftContainer],this.eAllPinnedRightContainers=[this.ePinnedRightColsContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingTopPinnedRightContainer]},RowRenderer.prototype.setRowModel=function(rowModel){this.rowModel=rowModel},RowRenderer.prototype.getAllCellsForColumn=function(column){function callback(key,renderedRow){var eCell=renderedRow.getCellForCol(column);eCell&&eCells.push(eCell)}var eCells=[];return utils_1.Utils.iterateObject(this.renderedRows,callback),utils_1.Utils.iterateObject(this.renderedBottomFloatingRows,callback),utils_1.Utils.iterateObject(this.renderedBottomFloatingRows,callback),eCells},RowRenderer.prototype.setMainRowWidths=function(){var mainRowWidth=this.columnController.getBodyContainerWidth()+"px";this.eAllBodyContainers.forEach(function(container){for(var unpinnedRows=container.querySelectorAll(".ag-row"),i=0;i<unpinnedRows.length;i++)unpinnedRows[i].style.width=mainRowWidth})},RowRenderer.prototype.refreshAllFloatingRows=function(){this.refreshFloatingRows(this.renderedTopFloatingRows,this.floatingRowModel.getFloatingTopRowData(),this.eFloatingTopPinnedLeftContainer,this.eFloatingTopPinnedRightContainer,this.eFloatingTopContainer),this.refreshFloatingRows(this.renderedBottomFloatingRows,this.floatingRowModel.getFloatingBottomRowData(),this.eFloatingBottomPinnedLeftContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingBottomContainer)},RowRenderer.prototype.refreshFloatingRows=function(renderedRows,rowNodes,pinnedLeftContainer,pinnedRightContainer,bodyContainer){var _this=this;renderedRows.forEach(function(row){row.destroy()}),renderedRows.length=0;var columns=this.columnController.getAllDisplayedColumns();columns&&0!=columns.length&&rowNodes&&rowNodes.forEach(function(node,rowIndex){var renderedRow=new renderedRow_1.RenderedRow(_this.$scope,_this,bodyContainer,pinnedLeftContainer,pinnedRightContainer,node,rowIndex);_this.context.wireBean(renderedRow),renderedRows.push(renderedRow)})},RowRenderer.prototype.refreshView=function(refreshEvent){this.logger.log("refreshView");var focusedCell=this.focusedCellController.getFocusCellIfBrowserFocused();this.focusedCellController.getFocusedCell();var refreshFromIndex=refreshEvent?refreshEvent.fromIndex:null;if(!this.gridOptionsWrapper.isForPrint()){var containerHeight=this.rowModel.getRowCombinedHeight();this.eBodyContainer.style.height=containerHeight+"px",this.ePinnedLeftColsContainer.style.height=containerHeight+"px",this.ePinnedRightColsContainer.style.height=containerHeight+"px"}this.refreshAllVirtualRows(refreshFromIndex),this.refreshAllFloatingRows(),this.restoreFocusedCell(focusedCell)},RowRenderer.prototype.restoreFocusedCell=function(gridCell){gridCell&&this.focusedCellController.setFocusedCell(gridCell.rowIndex,gridCell.column,gridCell.floating,!0)},RowRenderer.prototype.softRefreshView=function(){var focusedCell=this.focusedCellController.getFocusCellIfBrowserFocused();utils_1.Utils.iterateObject(this.renderedRows,function(key,renderedRow){renderedRow.softRefresh()}),this.restoreFocusedCell(focusedCell)},RowRenderer.prototype.addRenderedRowListener=function(eventName,rowIndex,callback){var renderedRow=this.renderedRows[rowIndex];renderedRow.addEventListener(eventName,callback)},RowRenderer.prototype.refreshRows=function(rowNodes){if(rowNodes&&0!=rowNodes.length){var focusedCell=this.focusedCellController.getFocusCellIfBrowserFocused(),indexesToRemove=[];utils_1.Utils.iterateObject(this.renderedRows,function(key,renderedRow){var rowNode=renderedRow.getRowNode();rowNodes.indexOf(rowNode)>=0&&indexesToRemove.push(key)}),this.removeVirtualRow(indexesToRemove),this.drawVirtualRows(),this.restoreFocusedCell(focusedCell)}},RowRenderer.prototype.refreshCells=function(rowNodes,colIds,animate){void 0===animate&&(animate=!1),rowNodes&&0!=rowNodes.length&&utils_1.Utils.iterateObject(this.renderedRows,function(key,renderedRow){var rowNode=renderedRow.getRowNode();rowNodes.indexOf(rowNode)>=0&&renderedRow.refreshCells(colIds,animate)})},RowRenderer.prototype.rowDataChanged=function(rows){var indexesToRemove=[],renderedRows=this.renderedRows;Object.keys(renderedRows).forEach(function(key){var renderedRow=renderedRows[key];renderedRow.isDataInList(rows)&&indexesToRemove.push(key)}),this.removeVirtualRow(indexesToRemove),this.drawVirtualRows()},RowRenderer.prototype.destroy=function(){var rowsToRemove=Object.keys(this.renderedRows);this.removeVirtualRow(rowsToRemove)},RowRenderer.prototype.refreshAllVirtualRows=function(fromIndex){var rowsToRemove=Object.keys(this.renderedRows);this.removeVirtualRow(rowsToRemove,fromIndex),this.drawVirtualRows()},RowRenderer.prototype.refreshGroupRows=function(){var rowsToRemove=[],that=this;Object.keys(this.renderedRows).forEach(function(key){var renderedRow=that.renderedRows[key];renderedRow.isGroup()&&rowsToRemove.push(key)}),this.removeVirtualRow(rowsToRemove),this.ensureRowsRendered()},RowRenderer.prototype.removeVirtualRow=function(rowsToRemove,fromIndex){var that=this,realFromIndex="number"==typeof fromIndex?fromIndex:-1;rowsToRemove.forEach(function(indexToRemove){indexToRemove>=realFromIndex&&that.unbindVirtualRow(indexToRemove)})},RowRenderer.prototype.unbindVirtualRow=function(indexToRemove){var renderedRow=this.renderedRows[indexToRemove];renderedRow.destroy();var event={node:renderedRow.getRowNode(),rowIndex:indexToRemove};this.eventService.dispatchEvent(events_1.Events.EVENT_VIRTUAL_ROW_REMOVED,event),delete this.renderedRows[indexToRemove]},RowRenderer.prototype.drawVirtualRows=function(){this.workOutFirstAndLastRowsToRender(),this.ensureRowsRendered()},RowRenderer.prototype.workOutFirstAndLastRowsToRender=function(){var newFirst,newLast;if(this.rowModel.isRowsToRender()){var rowCount=this.rowModel.getRowCount();if(this.gridOptionsWrapper.isForPrint())newFirst=0,newLast=rowCount;else{var topPixel=this.eBodyViewport.scrollTop,bottomPixel=topPixel+this.eBodyViewport.offsetHeight,first=this.rowModel.getRowIndexAtPixel(topPixel),last=this.rowModel.getRowIndexAtPixel(bottomPixel),buffer=this.gridOptionsWrapper.getRowBuffer();first-=buffer,last+=buffer,first<0&&(first=0),last>rowCount-1&&(last=rowCount-1),newFirst=first,newLast=last}}else newFirst=0,newLast=-1;var firstDiffers=newFirst!==this.firstRenderedRow,lastDiffers=newLast!==this.lastRenderedRow;if(firstDiffers||lastDiffers){this.firstRenderedRow=newFirst,this.lastRenderedRow=newLast;var event={firstRow:newFirst,lastRow:newLast};this.eventService.dispatchEvent(events_1.Events.EVENT_VIEWPORT_CHANGED,event)}},RowRenderer.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},RowRenderer.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},RowRenderer.prototype.ensureRowsRendered=function(){for(var _this=this,rowsToRemove=Object.keys(this.renderedRows),rowIndex=this.firstRenderedRow;rowIndex<=this.lastRenderedRow;rowIndex++)if(rowsToRemove.indexOf(rowIndex.toString())>=0)rowsToRemove.splice(rowsToRemove.indexOf(rowIndex.toString()),1);else{var node=this.rowModel.getRow(rowIndex);node&&this.insertRow(node,rowIndex)}this.removeVirtualRow(rowsToRemove),this.gridOptionsWrapper.isAngularCompileRows()&&setTimeout(function(){_this.$scope.$apply()},0)},RowRenderer.prototype.onMouseEvent=function(eventName,mouseEvent,eventSource,cell){var renderedRow;switch(cell.floating){case constants_1.Constants.FLOATING_TOP:renderedRow=this.renderedTopFloatingRows[cell.rowIndex];break;case constants_1.Constants.FLOATING_BOTTOM:renderedRow=this.renderedBottomFloatingRows[cell.rowIndex];break;default:renderedRow=this.renderedRows[cell.rowIndex]}renderedRow&&renderedRow.onMouseEvent(eventName,mouseEvent,eventSource,cell)},RowRenderer.prototype.insertRow=function(node,rowIndex){var columns=this.columnController.getAllDisplayedColumns();if(columns&&0!=columns.length){var renderedRow=new renderedRow_1.RenderedRow(this.$scope,this,this.eBodyContainer,this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,node,rowIndex);
this.context.wireBean(renderedRow),this.renderedRows[rowIndex]=renderedRow}},RowRenderer.prototype.getRenderedNodes=function(){var renderedRows=this.renderedRows;return Object.keys(renderedRows).map(function(key){return renderedRows[key].getRowNode()})},RowRenderer.prototype.navigateToNextCell=function(key,rowIndex,column,floating){for(var nextCell=new gridCell_1.GridCell(rowIndex,floating,column);;){if(nextCell=this.cellNavigationService.getNextCellToFocus(key,nextCell),utils_1.Utils.missing(nextCell))break;var skipGroupRows=this.gridOptionsWrapper.isGroupUseEntireRow();if(!skipGroupRows)break;var rowNode=this.rowModel.getRow(nextCell.rowIndex);if(!rowNode.group)break}nextCell&&(utils_1.Utils.missing(nextCell.floating)&&this.gridPanel.ensureIndexVisible(nextCell.rowIndex),nextCell.column.isPinned()||this.gridPanel.ensureColumnVisible(nextCell.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.focusedCellController.setFocusedCell(nextCell.rowIndex,nextCell.column,nextCell.floating,!0),this.rangeController&&this.rangeController.setRangeToCell(new gridCell_1.GridCell(nextCell.rowIndex,nextCell.floating,nextCell.column)))},RowRenderer.prototype.getComponentForCell=function(gridCell){var rowComponent;switch(gridCell.floating){case constants_1.Constants.FLOATING_TOP:rowComponent=this.renderedTopFloatingRows[gridCell.rowIndex];break;case constants_1.Constants.FLOATING_BOTTOM:rowComponent=this.renderedBottomFloatingRows[gridCell.rowIndex];break;default:rowComponent=this.renderedRows[gridCell.rowIndex]}if(!rowComponent)return null;var cellComponent=rowComponent.getRenderedCellForColumn(gridCell.column);return cellComponent},RowRenderer.prototype.moveFocusToNextCell=function(rowIndex,column,floating,shiftKey,startEditing){for(var nextCell=new gridCell_1.GridCell(rowIndex,floating,column);;){if(nextCell=this.cellNavigationService.getNextTabbedCell(nextCell,shiftKey),!nextCell)return!1;var nextRenderedCell=this.getComponentForCell(nextCell);if(!startEditing||nextRenderedCell.isCellEditable()){var cellIsNotFloating=utils_1.Utils.missing(nextCell.floating);return cellIsNotFloating&&this.gridPanel.ensureIndexVisible(nextCell.rowIndex),this.gridPanel.ensureColumnVisible(nextCell.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),startEditing?(nextRenderedCell.startEditingIfEnabled(),nextRenderedCell.focusCell(!1)):nextRenderedCell.focusCell(!0),this.rangeController&&this.rangeController.setRangeToCell(new gridCell_1.GridCell(nextCell.rowIndex,nextCell.floating,nextCell.column)),!0}}},__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RowRenderer.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RowRenderer.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],RowRenderer.prototype,"gridCore",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],RowRenderer.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],RowRenderer.prototype,"$compile",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],RowRenderer.prototype,"$scope",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],RowRenderer.prototype,"expressionService",void 0),__decorate([context_1.Autowired("templateService"),__metadata("design:type",templateService_1.TemplateService)],RowRenderer.prototype,"templateService",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],RowRenderer.prototype,"valueService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RowRenderer.prototype,"eventService",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],RowRenderer.prototype,"floatingRowModel",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],RowRenderer.prototype,"context",void 0),__decorate([context_1.Autowired("loggerFactory"),__metadata("design:type",logger_1.LoggerFactory)],RowRenderer.prototype,"loggerFactory",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],RowRenderer.prototype,"rowModel",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],RowRenderer.prototype,"focusedCellController",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],RowRenderer.prototype,"rangeController",void 0),__decorate([context_1.Autowired("cellNavigationService"),__metadata("design:type",cellNavigationService_1.CellNavigationService)],RowRenderer.prototype,"cellNavigationService",void 0),__decorate([__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],RowRenderer.prototype,"agWire",null),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RowRenderer.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RowRenderer.prototype,"destroy",null),RowRenderer=__decorate([context_1.Bean("rowRenderer"),__metadata("design:paramtypes",[])],RowRenderer)}();exports.RowRenderer=RowRenderer},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(7),masterSlaveService_1=__webpack_require__(25),gridOptionsWrapper_1=__webpack_require__(3),columnController_1=__webpack_require__(13),rowRenderer_1=__webpack_require__(23),floatingRowModel_1=__webpack_require__(26),borderLayout_1=__webpack_require__(30),logger_1=__webpack_require__(5),context_1=__webpack_require__(6),eventService_1=__webpack_require__(4),events_1=__webpack_require__(10),dragService_1=__webpack_require__(31),constants_1=__webpack_require__(8),selectionController_1=__webpack_require__(28),csvCreator_1=__webpack_require__(12),mouseEventService_1=__webpack_require__(32),focusedCellController_1=__webpack_require__(35),gridHtml='<div><div class="ag-header"><div class="ag-pinned-left-header"></div><div class="ag-pinned-right-header"></div><div class="ag-header-viewport"><div class="ag-header-container"></div></div><div class="ag-header-overlay"></div></div><div class="ag-floating-top"><div class="ag-pinned-left-floating-top"></div><div class="ag-pinned-right-floating-top"></div><div class="ag-floating-top-viewport"><div class="ag-floating-top-container"></div></div></div><div class="ag-floating-bottom"><div class="ag-pinned-left-floating-bottom"></div><div class="ag-pinned-right-floating-bottom"></div><div class="ag-floating-bottom-viewport"><div class="ag-floating-bottom-container"></div></div></div><div class="ag-body"><div class="ag-pinned-left-cols-viewport"><div class="ag-pinned-left-cols-container"></div></div><div class="ag-pinned-right-cols-viewport"><div class="ag-pinned-right-cols-container"></div></div><div class="ag-body-viewport-wrapper"><div class="ag-body-viewport"><div class="ag-body-container"></div></div></div></div></div>',gridForPrintHtml='<div><div class="ag-header-container"></div><div class="ag-floating-top-container"></div><div class="ag-body-container"></div><div class="ag-floating-bottom-container"></div></div>',mainOverlayTemplate='<div class="ag-overlay-panel"><div class="ag-overlay-wrapper ag-overlay-[OVERLAY_NAME]-wrapper">[OVERLAY_TEMPLATE]</div></div>',defaultLoadingOverlayTemplate='<span class="ag-overlay-loading-center">[LOADING...]</span>',defaultNoRowsOverlayTemplate='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',GridPanel=function(){function GridPanel(){this.scrollLagCounter=0,this.lastLeftPosition=-1,this.lastTopPosition=-1,this.animationThreadCount=0}return GridPanel.prototype.agWire=function(loggerFactory){this.forPrint=this.gridOptionsWrapper.isForPrint(),this.scrollWidth=utils_1.Utils.getScrollbarWidth(),this.logger=loggerFactory.create("GridPanel"),this.findElements()},GridPanel.prototype.onRowDataChanged=function(){this.rowModel.isEmpty()&&!this.gridOptionsWrapper.isSuppressNoRowsOverlay()?this.showNoRowsOverlay():this.hideOverlay()},GridPanel.prototype.getLayout=function(){return this.layout},GridPanel.prototype.init=function(){this.addEventListeners(),this.addDragListeners(),this.layout=new borderLayout_1.BorderLayout({overlays:{loading:utils_1.Utils.loadTemplate(this.createLoadingOverlayTemplate()),noRows:utils_1.Utils.loadTemplate(this.createNoRowsOverlayTemplate())},center:this.eRoot,dontFill:this.forPrint,name:"eGridPanel"}),this.layout.addSizeChangeListener(this.sizeHeaderAndBody.bind(this)),this.addScrollListener(),this.gridOptionsWrapper.isSuppressHorizontalScroll()&&(this.eBodyViewport.style.overflowX="hidden"),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setWidthsOfContainers(),this.showPinnedColContainersIfNeeded(),this.sizeHeaderAndBody(),this.disableBrowserDragging(),this.addShortcutKeyListeners(),this.addCellListeners()},GridPanel.prototype.disableBrowserDragging=function(){this.eRoot.addEventListener("dragstart",function(event){if(event.target instanceof HTMLImageElement)return event.preventDefault(),!1})},GridPanel.prototype.addEventListeners=function(){this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_GROUP_OPENED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_RESIZED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_PINNED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED,this.sizeHeaderAndBody.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_HEADER_HEIGHT_CHANGED,this.sizeHeaderAndBody.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_PIVOT_VALUE_CHANGED,this.sizeHeaderAndBody.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_PIVOT_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this))},GridPanel.prototype.addDragListeners=function(){var _this=this;if(!this.forPrint&&this.gridOptionsWrapper.isEnableRangeSelection()&&!utils_1.Utils.missing(this.rangeController)){var containers=[this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,this.eBodyContainer,this.eFloatingTop,this.eFloatingBottom];containers.forEach(function(container){_this.dragService.addDragSource({dragStartPixels:0,eElement:container,onDragStart:_this.rangeController.onDragStart.bind(_this.rangeController),onDragStop:_this.rangeController.onDragStop.bind(_this.rangeController),onDragging:_this.rangeController.onDragging.bind(_this.rangeController)})})}},GridPanel.prototype.addCellListeners=function(){var _this=this,eventNames=["click","mousedown","dblclick","contextmenu"],that=this;eventNames.forEach(function(eventName){_this.eAllCellContainers.forEach(function(container){return container.addEventListener(eventName,function(mouseEvent){var eventSource=this;that.processMouseEvent(eventName,mouseEvent,eventSource)})})})},GridPanel.prototype.processMouseEvent=function(eventName,mouseEvent,eventSource){var cell=this.mouseEventService.getCellForMouseEvent(mouseEvent);utils_1.Utils.exists(cell)&&this.rowRenderer.onMouseEvent(eventName,mouseEvent,eventSource,cell),this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===mouseEvent.which&&mouseEvent.preventDefault()},GridPanel.prototype.addShortcutKeyListeners=function(){var _this=this;this.eAllCellContainers.forEach(function(container){container.addEventListener("keydown",function(event){if(event.ctrlKey||event.metaKey)switch(event.which){case constants_1.Constants.KEY_A:return _this.onCtrlAndA(event);case constants_1.Constants.KEY_C:return _this.onCtrlAndC(event);case constants_1.Constants.KEY_V:return _this.onCtrlAndV(event);case constants_1.Constants.KEY_D:return _this.onCtrlAndD(event)}})})},GridPanel.prototype.onCtrlAndA=function(event){if(this.rangeController&&this.rowModel.isRowsToRender()){var rowEnd,floatingStart,floatingEnd;floatingStart=this.floatingRowModel.isEmpty(constants_1.Constants.FLOATING_TOP)?null:constants_1.Constants.FLOATING_TOP,this.floatingRowModel.isEmpty(constants_1.Constants.FLOATING_BOTTOM)?(floatingEnd=null,rowEnd=this.rowModel.getRowCount()-1):(floatingEnd=constants_1.Constants.FLOATING_BOTTOM,rowEnd=this.floatingRowModel.getFloatingBottomRowData().length=1);var allDisplayedColumns=this.columnController.getAllDisplayedColumns();if(utils_1.Utils.missingOrEmpty(allDisplayedColumns))return;this.rangeController.setRange({rowStart:0,floatingStart:floatingStart,rowEnd:rowEnd,floatingEnd:floatingEnd,columnStart:allDisplayedColumns[0],columnEnd:allDisplayedColumns[allDisplayedColumns.length-1]})}return event.preventDefault(),!1},GridPanel.prototype.onCtrlAndC=function(event){if(this.clipboardService){var focusedCell=this.focusedCellController.getFocusedCell();return this.clipboardService.copyToClipboard(),event.preventDefault(),focusedCell&&this.focusedCellController.setFocusedCell(focusedCell.rowIndex,focusedCell.column,focusedCell.floating,!0),!1}},GridPanel.prototype.onCtrlAndV=function(event){if(this.rangeController)return this.clipboardService.pasteFromClipboard(),!1},GridPanel.prototype.onCtrlAndD=function(event){if(this.clipboardService)return this.clipboardService.copyRangeDown(),event.preventDefault(),!1},GridPanel.prototype.getPinnedLeftFloatingTop=function(){return this.ePinnedLeftFloatingTop},GridPanel.prototype.getPinnedRightFloatingTop=function(){return this.ePinnedRightFloatingTop},GridPanel.prototype.getFloatingTopContainer=function(){return this.eFloatingTopContainer},GridPanel.prototype.getPinnedLeftFloatingBottom=function(){return this.ePinnedLeftFloatingBottom},GridPanel.prototype.getPinnedRightFloatingBottom=function(){return this.ePinnedRightFloatingBottom},GridPanel.prototype.getFloatingBottomContainer=function(){return this.eFloatingBottomContainer},GridPanel.prototype.createOverlayTemplate=function(name,defaultTemplate,userProvidedTemplate){var template=mainOverlayTemplate.replace("[OVERLAY_NAME]",name);return template=userProvidedTemplate?template.replace("[OVERLAY_TEMPLATE]",userProvidedTemplate):template.replace("[OVERLAY_TEMPLATE]",defaultTemplate)},GridPanel.prototype.createLoadingOverlayTemplate=function(){var userProvidedTemplate=this.gridOptionsWrapper.getOverlayLoadingTemplate(),templateNotLocalised=this.createOverlayTemplate("loading",defaultLoadingOverlayTemplate,userProvidedTemplate),localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),templateLocalised=templateNotLocalised.replace("[LOADING...]",localeTextFunc("loadingOoo","Loading..."));return templateLocalised},GridPanel.prototype.createNoRowsOverlayTemplate=function(){var userProvidedTemplate=this.gridOptionsWrapper.getOverlayNoRowsTemplate(),templateNotLocalised=this.createOverlayTemplate("no-rows",defaultNoRowsOverlayTemplate,userProvidedTemplate),localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),templateLocalised=templateNotLocalised.replace("[NO_ROWS_TO_SHOW]",localeTextFunc("noRowsToShow","No Rows To Show"));return templateLocalised},GridPanel.prototype.ensureIndexVisible=function(index){this.logger.log("ensureIndexVisible: "+index);var lastRow=this.rowModel.getRowCount();if("number"!=typeof index||index<0||index>=lastRow)return void console.warn("invalid row index for ensureIndexVisible: "+index);var nodeAtIndex=this.rowModel.getRow(index),rowTopPixel=nodeAtIndex.rowTop,rowBottomPixel=rowTopPixel+nodeAtIndex.rowHeight,viewportTopPixel=this.eBodyViewport.scrollTop,viewportHeight=this.eBodyViewport.offsetHeight,scrollShowing=this.isHorizontalScrollShowing();scrollShowing&&(viewportHeight-=this.scrollWidth);var viewportBottomPixel=viewportTopPixel+viewportHeight,viewportScrolledPastRow=viewportTopPixel>rowTopPixel,viewportScrolledBeforeRow=viewportBottomPixel<rowBottomPixel,eViewportToScroll=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport;if(viewportScrolledPastRow)eViewportToScroll.scrollTop=rowTopPixel;else if(viewportScrolledBeforeRow){var newScrollPosition=rowBottomPixel-viewportHeight;eViewportToScroll.scrollTop=newScrollPosition}},GridPanel.prototype.getCenterWidth=function(){return this.eBodyViewport.clientWidth},GridPanel.prototype.isHorizontalScrollShowing=function(){var result=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;return result},GridPanel.prototype.isVerticalScrollShowing=function(){return!this.columnController.isPinningRight()&&this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight},GridPanel.prototype.periodicallyCheck=function(){if(this.columnController.isPinningRight()){var bodyHorizontalScrollShowing=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;bodyHorizontalScrollShowing?this.ePinnedRightColsContainer.style.marginBottom=this.scrollWidth+"px":this.ePinnedRightColsContainer.style.marginBottom=""}},GridPanel.prototype.ensureColumnVisible=function(key){var column=this.columnController.getOriginalColumn(key);if(column.isPinned())return void console.warn("calling ensureIndexVisible on a "+column.getPinned()+" pinned column doesn't make sense for column "+column.getColId());if(!this.columnController.isColumnDisplayed(column))return void console.warn("column is not currently visible");var colLeftPixel=column.getLeft(),colRightPixel=colLeftPixel+column.getActualWidth(),viewportLeftPixel=this.eBodyViewport.scrollLeft,viewportWidth=this.eBodyViewport.offsetWidth,scrollShowing=this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight;scrollShowing&&(viewportWidth-=this.scrollWidth);var viewportRightPixel=viewportLeftPixel+viewportWidth,viewportScrolledPastCol=viewportLeftPixel>colLeftPixel,viewportScrolledBeforeCol=viewportRightPixel<colRightPixel;if(viewportScrolledPastCol)this.eBodyViewport.scrollLeft=colLeftPixel;else if(viewportScrolledBeforeCol){var newScrollPosition=colRightPixel-viewportWidth;this.eBodyViewport.scrollLeft=newScrollPosition}},GridPanel.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.layout.showOverlay("loading")},GridPanel.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.layout.showOverlay("noRows")},GridPanel.prototype.hideOverlay=function(){this.layout.hideOverlay()},GridPanel.prototype.getWidthForSizeColsToFit=function(){var availableWidth=this.eBody.clientWidth,scrollShowing=this.isVerticalScrollShowing();return scrollShowing&&(availableWidth-=this.scrollWidth),availableWidth},GridPanel.prototype.sizeColumnsToFit=function(nextTimeout){var _this=this,availableWidth=this.getWidthForSizeColsToFit();availableWidth>0?this.columnController.sizeColumnsToFit(availableWidth):void 0===nextTimeout?setTimeout(function(){_this.sizeColumnsToFit(100)},0):100===nextTimeout?setTimeout(function(){_this.sizeColumnsToFit(-1)},100):console.log("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},GridPanel.prototype.getBodyContainer=function(){return this.eBodyContainer},GridPanel.prototype.getDropTargetBodyContainers=function(){return this.forPrint?[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer]:[this.eBodyViewport,this.eFloatingTopViewport,this.eFloatingBottomViewport]},GridPanel.prototype.getBodyViewport=function(){return this.eBodyViewport},GridPanel.prototype.getPinnedLeftColsContainer=function(){return this.ePinnedLeftColsContainer},GridPanel.prototype.getDropTargetLeftContainers=function(){return this.forPrint?[]:[this.ePinnedLeftColsViewport,this.ePinnedLeftFloatingBottom,this.ePinnedLeftFloatingTop]},GridPanel.prototype.getPinnedRightColsContainer=function(){return this.ePinnedRightColsContainer},GridPanel.prototype.getDropTargetPinnedRightContainers=function(){return this.forPrint?[]:[this.ePinnedRightColsViewport,this.ePinnedRightFloatingBottom,this.ePinnedRightFloatingTop]},GridPanel.prototype.getHeaderContainer=function(){return this.eHeaderContainer},GridPanel.prototype.getHeaderOverlay=function(){return this.eHeaderOverlay},GridPanel.prototype.getRoot=function(){return this.eRoot},GridPanel.prototype.getPinnedLeftHeader=function(){return this.ePinnedLeftHeader},GridPanel.prototype.getPinnedRightHeader=function(){return this.ePinnedRightHeader},GridPanel.prototype.queryHtmlElement=function(selector){return this.eRoot.querySelector(selector)},GridPanel.prototype.findElements=function(){this.forPrint?(this.eRoot=utils_1.Utils.loadTemplate(gridForPrintHtml),utils_1.Utils.addCssClass(this.eRoot,"ag-root"),utils_1.Utils.addCssClass(this.eRoot,"ag-font-style"),utils_1.Utils.addCssClass(this.eRoot,"ag-no-scrolls")):(this.eRoot=utils_1.Utils.loadTemplate(gridHtml),utils_1.Utils.addCssClass(this.eRoot,"ag-root"),utils_1.Utils.addCssClass(this.eRoot,"ag-font-style"),utils_1.Utils.addCssClass(this.eRoot,"ag-scrolls")),this.forPrint?(this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eAllCellContainers=[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer]):(this.eBody=this.queryHtmlElement(".ag-body"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eBodyViewport=this.queryHtmlElement(".ag-body-viewport"),this.eBodyViewportWrapper=this.queryHtmlElement(".ag-body-viewport-wrapper"),this.ePinnedLeftColsContainer=this.queryHtmlElement(".ag-pinned-left-cols-container"),this.ePinnedRightColsContainer=this.queryHtmlElement(".ag-pinned-right-cols-container"),this.ePinnedLeftColsViewport=this.queryHtmlElement(".ag-pinned-left-cols-viewport"),this.ePinnedRightColsViewport=this.queryHtmlElement(".ag-pinned-right-cols-viewport"),this.ePinnedLeftHeader=this.queryHtmlElement(".ag-pinned-left-header"),this.ePinnedRightHeader=this.queryHtmlElement(".ag-pinned-right-header"),this.eHeader=this.queryHtmlElement(".ag-header"),this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eHeaderOverlay=this.queryHtmlElement(".ag-header-overlay"),this.eHeaderViewport=this.queryHtmlElement(".ag-header-viewport"),this.eFloatingTop=this.queryHtmlElement(".ag-floating-top"),this.ePinnedLeftFloatingTop=this.queryHtmlElement(".ag-pinned-left-floating-top"),this.ePinnedRightFloatingTop=this.queryHtmlElement(".ag-pinned-right-floating-top"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingTopViewport=this.queryHtmlElement(".ag-floating-top-viewport"),this.eFloatingBottom=this.queryHtmlElement(".ag-floating-bottom"),this.ePinnedLeftFloatingBottom=this.queryHtmlElement(".ag-pinned-left-floating-bottom"),this.ePinnedRightFloatingBottom=this.queryHtmlElement(".ag-pinned-right-floating-bottom"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eFloatingBottomViewport=this.queryHtmlElement(".ag-floating-bottom-viewport"),this.eAllCellContainers=[this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,this.eBodyContainer,this.eFloatingTop,this.eFloatingBottom],this.ePinnedLeftColsViewport.addEventListener("mousewheel",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("mousewheel",this.centerMouseWheelListener.bind(this)),this.ePinnedLeftColsViewport.addEventListener("DOMMouseScroll",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("DOMMouseScroll",this.centerMouseWheelListener.bind(this)))},GridPanel.prototype.getHeaderViewport=function(){return this.eHeaderViewport},GridPanel.prototype.centerMouseWheelListener=function(event){if(this.columnController.isPinningRight())return this.generalMouseWheelListener(event,this.ePinnedRightColsViewport)},GridPanel.prototype.pinnedLeftMouseWheelListener=function(event){var targetPanel;return targetPanel=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport,this.generalMouseWheelListener(event,targetPanel)},GridPanel.prototype.generalMouseWheelListener=function(event,targetPanel){var wheelEvent=utils_1.Utils.normalizeWheel(event);if(Math.abs(wheelEvent.pixelX)>Math.abs(wheelEvent.pixelY)){var newLeftPosition=this.eBodyViewport.scrollLeft+wheelEvent.pixelX;this.eBodyViewport.scrollLeft=newLeftPosition}else{var newTopPosition=this.eBodyViewport.scrollTop+wheelEvent.pixelY;targetPanel.scrollTop=newTopPosition}return this.gridOptionsWrapper.isSuppressPreventDefaultOnMouseWheel()||event.preventDefault(),!1},GridPanel.prototype.onColumnsChanged=function(event){event.isContainerWidthImpacted()&&this.setWidthsOfContainers(),event.isPinnedPanelVisibilityImpacted()&&this.showPinnedColContainersIfNeeded(),event.getType()===events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED&&this.sizeHeaderAndBody()},GridPanel.prototype.setWidthsOfContainers=function(){this.logger.log("setWidthsOfContainers()"),this.showPinnedColContainersIfNeeded();var mainRowWidth=this.columnController.getBodyContainerWidth()+"px";if(this.eBodyContainer.style.width=mainRowWidth,!this.forPrint){this.eFloatingBottomContainer.style.width=mainRowWidth,this.eFloatingTopContainer.style.width=mainRowWidth;var pinnedLeftWidth=this.columnController.getPinnedLeftContainerWidth()+"px";this.ePinnedLeftColsContainer.style.width=pinnedLeftWidth,this.ePinnedLeftFloatingBottom.style.width=pinnedLeftWidth,this.ePinnedLeftFloatingTop.style.width=pinnedLeftWidth,this.eBodyViewportWrapper.style.marginLeft=pinnedLeftWidth;var pinnedRightWidth=this.columnController.getPinnedRightContainerWidth()+"px";this.ePinnedRightColsContainer.style.width=pinnedRightWidth,this.ePinnedRightFloatingBottom.style.width=pinnedRightWidth,this.ePinnedRightFloatingTop.style.width=pinnedRightWidth,this.eBodyViewportWrapper.style.marginRight=pinnedRightWidth}},GridPanel.prototype.showPinnedColContainersIfNeeded=function(){this.forPrint||(this.columnController.isPinningLeft()?(this.ePinnedLeftHeader.style.display="inline-block",this.ePinnedLeftColsViewport.style.display="inline"):(this.ePinnedLeftHeader.style.display="none",this.ePinnedLeftColsViewport.style.display="none"),this.columnController.isPinningRight()?(this.ePinnedRightHeader.style.display="inline-block",this.ePinnedRightColsViewport.style.display="inline",this.eBodyViewport.style.overflowY="hidden"):(this.ePinnedRightHeader.style.display="none",this.ePinnedRightColsViewport.style.display="none",this.eBodyViewport.style.overflowY="auto"))},GridPanel.prototype.sizeHeaderAndBody=function(){if(!this.forPrint){var heightOfContainer=this.layout.getCentreHeight();if(heightOfContainer){var headerHeight=this.gridOptionsWrapper.getHeaderHeight(),numberOfRowsInHeader=this.columnController.getHeaderRowCount(),totalHeaderHeight=headerHeight*numberOfRowsInHeader;this.eHeader.style.height=totalHeaderHeight+"px";var floatingTopHeight=this.floatingRowModel.getFloatingTopTotalHeight(),paddingTop=totalHeaderHeight+floatingTopHeight,floatingBottomHeight=this.floatingRowModel.getFloatingBottomTotalHeight(),floatingBottomTop=heightOfContainer-floatingBottomHeight,heightOfCentreRows=heightOfContainer-totalHeaderHeight-floatingBottomHeight-floatingTopHeight;this.eBody.style.paddingTop=paddingTop+"px",this.eBody.style.paddingBottom=floatingBottomHeight+"px",this.eFloatingTop.style.top=totalHeaderHeight+"px",this.eFloatingTop.style.height=floatingTopHeight+"px",this.eFloatingBottom.style.height=floatingBottomHeight+"px",this.eFloatingBottom.style.top=floatingBottomTop+"px",this.ePinnedLeftColsViewport.style.height=heightOfCentreRows+"px",this.ePinnedRightColsViewport.style.height=heightOfCentreRows+"px"}}},GridPanel.prototype.setHorizontalScrollPosition=function(hScrollPosition){this.eBodyViewport.scrollLeft=hScrollPosition},GridPanel.prototype.scrollHorizontally=function(pixels){var oldScrollPosition=this.eBodyViewport.scrollLeft;this.setHorizontalScrollPosition(oldScrollPosition+pixels);var newScrollPosition=this.eBodyViewport.scrollLeft;return newScrollPosition-oldScrollPosition},GridPanel.prototype.getHorizontalScrollPosition=function(){return this.forPrint?0:this.eBodyViewport.scrollLeft},GridPanel.prototype.turnOnAnimationForABit=function(){var _this=this;if(!this.gridOptionsWrapper.isSuppressColumnMoveAnimation()){this.animationThreadCount++;var animationThreadCountCopy=this.animationThreadCount;utils_1.Utils.addCssClass(this.eRoot,"ag-column-moving"),setTimeout(function(){_this.animationThreadCount===animationThreadCountCopy&&utils_1.Utils.removeCssClass(_this.eRoot,"ag-column-moving")},300)}},GridPanel.prototype.addScrollListener=function(){var _this=this;this.forPrint||(this.eBodyViewport.addEventListener("scroll",function(){var newLeftPosition=_this.eBodyViewport.scrollLeft;if(newLeftPosition!==_this.lastLeftPosition&&(_this.lastLeftPosition=newLeftPosition,_this.horizontallyScrollHeaderCenterAndFloatingCenter(),_this.masterSlaveService.fireHorizontalScrollEvent(newLeftPosition)),!_this.columnController.isPinningRight()){var newTopPosition=_this.eBodyViewport.scrollTop;newTopPosition!==_this.lastTopPosition&&(_this.lastTopPosition=newTopPosition,_this.verticallyScrollLeftPinned(newTopPosition),_this.requestDrawVirtualRows())}}),this.ePinnedRightColsViewport.addEventListener("scroll",function(){var newTopPosition=_this.ePinnedRightColsViewport.scrollTop;newTopPosition!==_this.lastTopPosition&&(_this.lastTopPosition=newTopPosition,_this.verticallyScrollLeftPinned(newTopPosition),_this.verticallyScrollBody(newTopPosition),_this.requestDrawVirtualRows())}),this.ePinnedLeftColsViewport.addEventListener("scroll",function(){_this.ePinnedLeftColsViewport.scrollTop=0}))},GridPanel.prototype.requestDrawVirtualRows=function(){var useScrollLag,_this=this;if(useScrollLag=!this.gridOptionsWrapper.isSuppressScrollLag()&&(this.gridOptionsWrapper.getIsScrollLag()?this.gridOptionsWrapper.getIsScrollLag()():utils_1.Utils.isBrowserIE()||utils_1.Utils.isBrowserSafari())){this.scrollLagCounter++;var scrollLagCounterCopy=this.scrollLagCounter;setTimeout(function(){_this.scrollLagCounter===scrollLagCounterCopy&&_this.rowRenderer.drawVirtualRows();
},50)}else this.rowRenderer.drawVirtualRows()},GridPanel.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(){var bodyLeftPosition=this.eBodyViewport.scrollLeft;this.eHeaderContainer.style.left=-bodyLeftPosition+"px",this.eFloatingBottomContainer.style.left=-bodyLeftPosition+"px",this.eFloatingTopContainer.style.left=-bodyLeftPosition+"px"},GridPanel.prototype.verticallyScrollLeftPinned=function(bodyTopPosition){this.ePinnedLeftColsContainer.style.top=-bodyTopPosition+"px"},GridPanel.prototype.verticallyScrollBody=function(position){this.eBodyViewport.scrollTop=position},GridPanel.prototype.getVerticalScrollPosition=function(){return this.forPrint?0:this.eBodyViewport.scrollTop},GridPanel.prototype.getBodyViewportClientRect=function(){return this.forPrint?this.eBodyContainer.getBoundingClientRect():this.eBodyViewport.getBoundingClientRect()},GridPanel.prototype.getFloatingTopClientRect=function(){return this.forPrint?this.eFloatingTopContainer.getBoundingClientRect():this.eFloatingTop.getBoundingClientRect()},GridPanel.prototype.getFloatingBottomClientRect=function(){return this.forPrint?this.eFloatingBottomContainer.getBoundingClientRect():this.eFloatingBottom.getBoundingClientRect()},GridPanel.prototype.getPinnedLeftColsViewportClientRect=function(){return this.ePinnedLeftColsViewport.getBoundingClientRect()},GridPanel.prototype.getPinnedRightColsViewportClientRect=function(){return this.ePinnedRightColsViewport.getBoundingClientRect()},GridPanel.prototype.addScrollEventListener=function(listener){this.eBodyViewport.addEventListener("scroll",listener)},GridPanel.prototype.removeScrollEventListener=function(listener){this.eBodyViewport.removeEventListener("scroll",listener)},__decorate([context_1.Autowired("masterSlaveService"),__metadata("design:type",masterSlaveService_1.MasterSlaveService)],GridPanel.prototype,"masterSlaveService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],GridPanel.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GridPanel.prototype,"columnController",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],GridPanel.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],GridPanel.prototype,"floatingRowModel",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GridPanel.prototype,"eventService",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],GridPanel.prototype,"rowModel",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],GridPanel.prototype,"rangeController",void 0),__decorate([context_1.Autowired("dragService"),__metadata("design:type",dragService_1.DragService)],GridPanel.prototype,"dragService",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],GridPanel.prototype,"selectionController",void 0),__decorate([context_1.Optional("clipboardService"),__metadata("design:type",Object)],GridPanel.prototype,"clipboardService",void 0),__decorate([context_1.Autowired("csvCreator"),__metadata("design:type",csvCreator_1.CsvCreator)],GridPanel.prototype,"csvCreator",void 0),__decorate([context_1.Autowired("mouseEventService"),__metadata("design:type",mouseEventService_1.MouseEventService)],GridPanel.prototype,"mouseEventService",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],GridPanel.prototype,"focusedCellController",void 0),__decorate([__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],GridPanel.prototype,"agWire",null),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridPanel.prototype,"init",null),GridPanel=__decorate([context_1.Bean("gridPanel"),__metadata("design:paramtypes",[])],GridPanel)}();exports.GridPanel=GridPanel},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},gridOptionsWrapper_1=__webpack_require__(3),columnController_1=__webpack_require__(13),gridPanel_1=__webpack_require__(24),eventService_1=__webpack_require__(4),logger_1=__webpack_require__(5),events_1=__webpack_require__(10),context_1=__webpack_require__(6),context_2=__webpack_require__(6),context_3=__webpack_require__(6),context_4=__webpack_require__(6),MasterSlaveService=function(){function MasterSlaveService(){this.consuming=!1}return MasterSlaveService.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("MasterSlaveService")},MasterSlaveService.prototype.init=function(){this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this))},MasterSlaveService.prototype.fireEvent=function(callback){if(!this.consuming){var slaveGrids=this.gridOptionsWrapper.getSlaveGrids();slaveGrids&&slaveGrids.forEach(function(slaveGridOptions){if(slaveGridOptions.api){var slaveService=slaveGridOptions.api.__getMasterSlaveService();callback(slaveService)}})}},MasterSlaveService.prototype.onEvent=function(callback){this.consuming=!0,callback(),this.consuming=!1},MasterSlaveService.prototype.fireColumnEvent=function(event){this.fireEvent(function(slaveService){slaveService.onColumnEvent(event)})},MasterSlaveService.prototype.fireHorizontalScrollEvent=function(horizontalScroll){this.fireEvent(function(slaveService){slaveService.onScrollEvent(horizontalScroll)})},MasterSlaveService.prototype.onScrollEvent=function(horizontalScroll){var _this=this;this.onEvent(function(){_this.gridPanel.setHorizontalScrollPosition(horizontalScroll)})},MasterSlaveService.prototype.getMasterColumns=function(event){var result=[];return event.getColumn()&&result.push(event.getColumn()),event.getColumns()&&event.getColumns().forEach(function(column){result.push(column)}),result},MasterSlaveService.prototype.getColumnIds=function(event){var result=[];return event.getColumn()?result.push(event.getColumn().getColId()):event.getColumns()&&event.getColumns().forEach(function(column){result.push(column.getColId())}),result},MasterSlaveService.prototype.onColumnEvent=function(event){var _this=this;this.onEvent(function(){var slaveColumn,masterColumn=event.getColumn();if(masterColumn&&(slaveColumn=_this.columnController.getOriginalColumn(masterColumn.getColId())),!masterColumn||slaveColumn){var slaveColumnGroup,masterColumnGroup=event.getColumnGroup();if(masterColumnGroup){var colId=masterColumnGroup.getGroupId(),instanceId=masterColumnGroup.getInstanceId();slaveColumnGroup=_this.columnController.getColumnGroup(colId,instanceId)}if(!masterColumnGroup||slaveColumnGroup){var columnIds=_this.getColumnIds(event),masterColumns=_this.getMasterColumns(event);switch(event.getType()){case events_1.Events.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with Master / Slave grids. You can only use one of these features at a time in a grid.");break;case events_1.Events.EVENT_COLUMN_MOVED:_this.logger.log("onColumnEvent-> processing "+event+" toIndex = "+event.getToIndex()),_this.columnController.moveColumns(columnIds,event.getToIndex());break;case events_1.Events.EVENT_COLUMN_VISIBLE:_this.logger.log("onColumnEvent-> processing "+event+" visible = "+event.isVisible()),_this.columnController.setColumnsVisible(columnIds,event.isVisible());break;case events_1.Events.EVENT_COLUMN_PINNED:_this.logger.log("onColumnEvent-> processing "+event+" pinned = "+event.getPinned()),_this.columnController.setColumnsPinned(columnIds,event.getPinned());break;case events_1.Events.EVENT_COLUMN_GROUP_OPENED:_this.logger.log("onColumnEvent-> processing "+event+" expanded = "+masterColumnGroup.isExpanded()),_this.columnController.setColumnGroupOpened(slaveColumnGroup,masterColumnGroup.isExpanded());break;case events_1.Events.EVENT_COLUMN_RESIZED:masterColumns.forEach(function(masterColumn){_this.logger.log("onColumnEvent-> processing "+event+" actualWidth = "+masterColumn.getActualWidth()),_this.columnController.setColumnWidth(masterColumn.getColId(),masterColumn.getActualWidth(),event.isFinished())})}}}})},__decorate([context_3.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],MasterSlaveService.prototype,"gridOptionsWrapper",void 0),__decorate([context_3.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],MasterSlaveService.prototype,"columnController",void 0),__decorate([context_3.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],MasterSlaveService.prototype,"gridPanel",void 0),__decorate([context_3.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],MasterSlaveService.prototype,"eventService",void 0),__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],MasterSlaveService.prototype,"setBeans",null),__decorate([context_4.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],MasterSlaveService.prototype,"init",null),MasterSlaveService=__decorate([context_1.Bean("masterSlaveService"),__metadata("design:paramtypes",[])],MasterSlaveService)}();exports.MasterSlaveService=MasterSlaveService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},gridOptionsWrapper_1=__webpack_require__(3),rowNode_1=__webpack_require__(27),context_1=__webpack_require__(6),eventService_1=__webpack_require__(4),context_2=__webpack_require__(6),events_1=__webpack_require__(10),context_3=__webpack_require__(6),constants_1=__webpack_require__(8),utils_1=__webpack_require__(7),FloatingRowModel=function(){function FloatingRowModel(){}return FloatingRowModel.prototype.init=function(){this.setFloatingTopRowData(this.gridOptionsWrapper.getFloatingTopRowData()),this.setFloatingBottomRowData(this.gridOptionsWrapper.getFloatingBottomRowData())},FloatingRowModel.prototype.isEmpty=function(floating){var rows=floating===constants_1.Constants.FLOATING_TOP?this.floatingTopRows:this.floatingBottomRows;return utils_1.Utils.missingOrEmpty(rows)},FloatingRowModel.prototype.isRowsToRender=function(floating){return!this.isEmpty(floating)},FloatingRowModel.prototype.getRowAtPixel=function(pixel,floating){var rows=floating===constants_1.Constants.FLOATING_TOP?this.floatingTopRows:this.floatingBottomRows;if(utils_1.Utils.missingOrEmpty(rows))return 0;for(var i=0;i<rows.length;i++){var rowNode=rows[i],rowTopPixel=rowNode.rowTop+rowNode.rowHeight-1;if(rowTopPixel>=pixel)return i}return rows.length-1},FloatingRowModel.prototype.setFloatingTopRowData=function(rowData){this.floatingTopRows=this.createNodesFromData(rowData,!0),this.eventService.dispatchEvent(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED)},FloatingRowModel.prototype.setFloatingBottomRowData=function(rowData){this.floatingBottomRows=this.createNodesFromData(rowData,!1),this.eventService.dispatchEvent(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED)},FloatingRowModel.prototype.createNodesFromData=function(allData,isTop){var _this=this,rowNodes=[];if(allData){var nextRowTop=0;allData.forEach(function(dataItem){var rowNode=new rowNode_1.RowNode;_this.context.wireBean(rowNode),rowNode.data=dataItem,rowNode.floating=isTop?constants_1.Constants.FLOATING_TOP:constants_1.Constants.FLOATING_BOTTOM,rowNode.rowTop=nextRowTop,rowNode.rowHeight=_this.gridOptionsWrapper.getRowHeightForNode(rowNode),nextRowTop+=rowNode.rowHeight,rowNodes.push(rowNode)})}return rowNodes},FloatingRowModel.prototype.getFloatingTopRowData=function(){return this.floatingTopRows},FloatingRowModel.prototype.getFloatingBottomRowData=function(){return this.floatingBottomRows},FloatingRowModel.prototype.getFloatingTopTotalHeight=function(){return this.getTotalHeight(this.floatingTopRows)},FloatingRowModel.prototype.getFloatingBottomTotalHeight=function(){return this.getTotalHeight(this.floatingBottomRows)},FloatingRowModel.prototype.getTotalHeight=function(rowNodes){if(rowNodes&&0!==rowNodes.length){var lastNode=rowNodes[rowNodes.length-1];return lastNode.rowTop+lastNode.rowHeight}return 0},__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FloatingRowModel.prototype,"gridOptionsWrapper",void 0),__decorate([context_2.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],FloatingRowModel.prototype,"eventService",void 0),__decorate([context_2.Autowired("context"),__metadata("design:type",context_1.Context)],FloatingRowModel.prototype,"context",void 0),__decorate([context_3.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FloatingRowModel.prototype,"init",null),FloatingRowModel=__decorate([context_1.Bean("floatingRowModel"),__metadata("design:paramtypes",[])],FloatingRowModel)}();exports.FloatingRowModel=FloatingRowModel},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},eventService_1=__webpack_require__(4),events_1=__webpack_require__(10),gridOptionsWrapper_1=__webpack_require__(3),selectionController_1=__webpack_require__(28),valueService_1=__webpack_require__(29),columnController_1=__webpack_require__(13),context_1=__webpack_require__(6),constants_1=__webpack_require__(8),RowNode=function(){function RowNode(){this.childrenMapped={},this.selected=!1}return RowNode.prototype.setData=function(data){var oldData=this.data;this.data=data;var event={oldData:oldData,newData:data};this.dispatchLocalEvent(RowNode.EVENT_DATA_CHANGED,event)},RowNode.prototype.dispatchLocalEvent=function(eventName,event){this.eventService&&this.eventService.dispatchEvent(eventName,event)},RowNode.prototype.setDataValue=function(colKey,newValue){var column=this.columnController.getOriginalColumn(colKey);this.valueService.setValue(this,column,newValue);var event={column:column,newValue:newValue};this.dispatchLocalEvent(RowNode.EVENT_CELL_CHANGED,event)},RowNode.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},RowNode.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},RowNode.prototype.deptFirstSearch=function(callback){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(child){return child.deptFirstSearch(callback)}),callback(this)},RowNode.prototype.calculateSelectedFromChildren=function(){var newSelectedValue,atLeastOneSelected=!1,atLeastOneDeSelected=!1,atLeastOneMixed=!1;if(this.childrenAfterGroup)for(var i=0;i<this.childrenAfterGroup.length;i++){var childState=this.childrenAfterGroup[i].isSelected();switch(childState){case!0:atLeastOneSelected=!0;break;case!1:atLeastOneDeSelected=!0;break;default:atLeastOneMixed=!0}}newSelectedValue=atLeastOneMixed?void 0:!(!atLeastOneSelected||atLeastOneDeSelected)||!(!atLeastOneSelected&&atLeastOneDeSelected)&&void 0,this.selectThisNode(newSelectedValue)},RowNode.prototype.calculateSelectedFromChildrenBubbleUp=function(){this.calculateSelectedFromChildren(),this.parent&&this.parent.calculateSelectedFromChildren()},RowNode.prototype.setSelectedInitialValue=function(selected){this.selected=selected},RowNode.prototype.setSelected=function(newValue,clearSelection,tailingNodeInSequence){void 0===clearSelection&&(clearSelection=!1),void 0===tailingNodeInSequence&&(tailingNodeInSequence=!1),this.setSelectedParams({newValue:newValue,clearSelection:clearSelection,tailingNodeInSequence:tailingNodeInSequence,rangeSelect:!1})},RowNode.prototype.setSelectedParams=function(params){var newValue=params.newValue===!0,clearSelection=params.clearSelection===!0,tailingNodeInSequence=params.tailingNodeInSequence===!0,rangeSelect=params.rangeSelect===!0;if(this.floating)return void console.log("ag-Grid: cannot select floating rows");if(this.footer)return void this.sibling.setSelectedParams(params);if(rangeSelect){var rowModelNormal=this.rowModel.getType()===constants_1.Constants.ROW_MODEL_TYPE_NORMAL,newRowClicked=this.selectionController.getLastSelectedNode()!==this,allowMultiSelect=this.gridOptionsWrapper.isRowSelectionMulti();if(rowModelNormal&&newRowClicked&&allowMultiSelect)return void this.doRowRangeSelection()}this.selectThisNode(newValue);var groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren();groupSelectsChildren&&this.group&&this.selectChildNodes(newValue);var actionWasOnThisNode=!tailingNodeInSequence;actionWasOnThisNode&&(!newValue||!clearSelection&&this.gridOptionsWrapper.isRowSelectionMulti()||this.selectionController.clearOtherNodes(this),groupSelectsChildren&&this.parent&&this.parent.calculateSelectedFromChildrenBubbleUp(),this.mainEventService.dispatchEvent(events_1.Events.EVENT_SELECTION_CHANGED),newValue&&this.selectionController.setLastSelectedNode(this))},RowNode.prototype.doRowRangeSelection=function(){var lastRow,_this=this,lastSelectedNode=this.selectionController.getLastSelectedNode(),firstRowHit=!lastSelectedNode,lastRowHit=!1,groupsSelectChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),inMemoryRowModel=this.rowModel;inMemoryRowModel.forEachNodeAfterFilterAndSort(function(rowNode){var lookingForLastRow=firstRowHit&&!lastRowHit;firstRowHit||rowNode!==lastSelectedNode&&rowNode!==_this||(firstRowHit=!0);var skipThisGroupNode=rowNode.group&&groupsSelectChildren;if(!skipThisGroupNode){var inRange=firstRowHit&&!lastRowHit,childOfLastRow=rowNode.isParentOfNode(lastRow);rowNode.selectThisNode(inRange||childOfLastRow)}lookingForLastRow&&(rowNode!==lastSelectedNode&&rowNode!==_this||(lastRowHit=!0,lastRow=rowNode===lastSelectedNode?lastSelectedNode:_this))}),groupsSelectChildren&&this.calculatedSelectedForAllGroupNodes()},RowNode.prototype.isParentOfNode=function(potentialParent){for(var parentNode=this.parent;parentNode;){if(parentNode===potentialParent)return!0;parentNode=parentNode.parent}return!1},RowNode.prototype.calculatedSelectedForAllGroupNodes=function(){var inMemoryRowModel=this.rowModel;inMemoryRowModel.getTopLevelNodes().forEach(function(topLevelNode){topLevelNode.group&&(topLevelNode.deptFirstSearch(function(childNode){childNode.group&&childNode.calculateSelectedFromChildren()}),topLevelNode.calculateSelectedFromChildren())})},RowNode.prototype.selectThisNode=function(newValue){if(this.selected!==newValue){this.selected=newValue,this.eventService&&this.dispatchLocalEvent(RowNode.EVENT_ROW_SELECTED);var event={node:this};this.mainEventService.dispatchEvent(events_1.Events.EVENT_ROW_SELECTED,event)}},RowNode.prototype.selectChildNodes=function(newValue){for(var i=0;i<this.childrenAfterGroup.length;i++)this.childrenAfterGroup[i].setSelectedParams({newValue:newValue,clearSelection:!1,tailingNodeInSequence:!0})},RowNode.prototype.addEventListener=function(eventType,listener){this.eventService||(this.eventService=new eventService_1.EventService),this.eventService.addEventListener(eventType,listener)},RowNode.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},RowNode.prototype.onMouseEnter=function(){this.dispatchLocalEvent(RowNode.EVENT_MOUSE_ENTER)},RowNode.prototype.onMouseLeave=function(){this.dispatchLocalEvent(RowNode.EVENT_MOUSE_LEAVE)},RowNode.EVENT_ROW_SELECTED="rowSelected",RowNode.EVENT_DATA_CHANGED="dataChanged",RowNode.EVENT_CELL_CHANGED="cellChanged",RowNode.EVENT_MOUSE_ENTER="mouseEnter",RowNode.EVENT_MOUSE_LEAVE="mouseLeave",__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RowNode.prototype,"mainEventService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RowNode.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],RowNode.prototype,"selectionController",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RowNode.prototype,"columnController",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],RowNode.prototype,"valueService",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],RowNode.prototype,"rowModel",void 0),RowNode}();exports.RowNode=RowNode},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(7),context_1=__webpack_require__(6),context_2=__webpack_require__(6),logger_1=__webpack_require__(5),eventService_1=__webpack_require__(4),events_1=__webpack_require__(10),context_3=__webpack_require__(6),gridOptionsWrapper_1=__webpack_require__(3),context_4=__webpack_require__(6),constants_1=__webpack_require__(8),SelectionController=function(){function SelectionController(){}return SelectionController.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()?this.eventService.addEventListener(events_1.Events.EVENT_ROW_DATA_CHANGED,this.reset.bind(this)):this.logger.log("dont know what to do here")},SelectionController.prototype.init=function(){this.eventService.addEventListener(events_1.Events.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},SelectionController.prototype.setLastSelectedNode=function(rowNode){this.lastSelectedNode=rowNode},SelectionController.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},SelectionController.prototype.getSelectedNodes=function(){var selectedNodes=[];return utils_1.Utils.iterateObject(this.selectedNodes,function(key,rowNode){rowNode&&selectedNodes.push(rowNode)}),selectedNodes},SelectionController.prototype.getSelectedRows=function(){var selectedRows=[];return utils_1.Utils.iterateObject(this.selectedNodes,function(key,rowNode){rowNode&&selectedRows.push(rowNode.data)}),selectedRows},SelectionController.prototype.removeGroupsFromSelection=function(){var _this=this;utils_1.Utils.iterateObject(this.selectedNodes,function(key,rowNode){rowNode&&rowNode.group&&(_this.selectedNodes[rowNode.id]=void 0)})},SelectionController.prototype.updateGroupsFromChildrenSelections=function(){this.rowModel.getType()!==constants_1.Constants.ROW_MODEL_TYPE_NORMAL&&console.warn("updateGroupsFromChildrenSelections not available when rowModel is not normal");var inMemoryRowModel=this.rowModel;inMemoryRowModel.getTopLevelNodes().forEach(function(rowNode){rowNode.deptFirstSearch(function(rowNode){rowNode.group&&rowNode.calculateSelectedFromChildren()})})},SelectionController.prototype.getNodeForIdIfSelected=function(id){return this.selectedNodes[id]},SelectionController.prototype.clearOtherNodes=function(rowNodeToKeepSelected){var _this=this;utils_1.Utils.iterateObject(this.selectedNodes,function(key,otherRowNode){otherRowNode&&otherRowNode.id!==rowNodeToKeepSelected.id&&_this.selectedNodes[otherRowNode.id].setSelectedParams({newValue:!1,clearSelection:!1,tailingNodeInSequence:!0})})},SelectionController.prototype.onRowSelected=function(event){var rowNode=event.node;rowNode.isSelected()?this.selectedNodes[rowNode.id]=rowNode:this.selectedNodes[rowNode.id]=void 0},SelectionController.prototype.syncInRowNode=function(rowNode){void 0!==this.selectedNodes[rowNode.id]&&(rowNode.setSelectedInitialValue(!0),this.selectedNodes[rowNode.id]=rowNode)},SelectionController.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},SelectionController.prototype.getBestCostNodeSelection=function(){function traverse(nodes){for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];node.isSelected()?result.push(node):node.group&&node.children&&traverse(node.children)}}this.rowModel.getType()!==constants_1.Constants.ROW_MODEL_TYPE_NORMAL&&console.warn("getBestCostNodeSelection is only avilable when using normal row model");var inMemoryRowModel=this.rowModel,topLevelNodes=inMemoryRowModel.getTopLevelNodes();if(null===topLevelNodes)return void console.warn("selectAll not available doing rowModel=virtual");var result=[];return traverse(topLevelNodes),result},SelectionController.prototype.setRowModel=function(rowModel){this.rowModel=rowModel},SelectionController.prototype.isEmpty=function(){var count=0;return utils_1.Utils.iterateObject(this.selectedNodes,function(nodeId,rowNode){rowNode&&count++}),0===count},SelectionController.prototype.deselectAllRowNodes=function(){utils_1.Utils.iterateObject(this.selectedNodes,function(nodeId,rowNode){rowNode&&rowNode.selectThisNode(!1)}),this.selectedNodes={},this.eventService.dispatchEvent(events_1.Events.EVENT_SELECTION_CHANGED)},SelectionController.prototype.selectAllRowNodes=function(){if(this.rowModel.getType()!==constants_1.Constants.ROW_MODEL_TYPE_NORMAL)throw"selectAll only available with norma row model, ie not virtual pagination";this.rowModel.forEachNode(function(rowNode){rowNode.setSelectedParams({newValue:!0,clearSelection:!1,tailingNodeInSequence:!0})}),this.eventService.dispatchEvent(events_1.Events.EVENT_SELECTION_CHANGED)},SelectionController.prototype.selectNode=function(rowNode,tryMulti){rowNode.setSelectedParams({newValue:!0,clearSelection:!tryMulti})},SelectionController.prototype.deselectIndex=function(rowIndex){var node=this.rowModel.getRow(rowIndex);this.deselectNode(node)},SelectionController.prototype.deselectNode=function(rowNode){rowNode.setSelectedParams({newValue:!1,clearSelection:!1})},SelectionController.prototype.selectIndex=function(index,tryMulti){var node=this.rowModel.getRow(index);this.selectNode(node,tryMulti)},__decorate([context_3.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],SelectionController.prototype,"eventService",void 0),__decorate([context_3.Autowired("rowModel"),__metadata("design:type",Object)],SelectionController.prototype,"rowModel",void 0),__decorate([context_3.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],SelectionController.prototype,"gridOptionsWrapper",void 0),__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],SelectionController.prototype,"setBeans",null),__decorate([context_4.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],SelectionController.prototype,"init",null),SelectionController=__decorate([context_1.Bean("selectionController"),__metadata("design:paramtypes",[])],SelectionController)}();exports.SelectionController=SelectionController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},gridOptionsWrapper_1=__webpack_require__(3),expressionService_1=__webpack_require__(18),columnController_1=__webpack_require__(13),context_1=__webpack_require__(6),context_2=__webpack_require__(6),context_3=__webpack_require__(6),utils_1=__webpack_require__(7),events_1=__webpack_require__(10),eventService_1=__webpack_require__(4),ValueService=function(){function ValueService(){}return ValueService.prototype.init=function(){this.suppressDotNotation=this.gridOptionsWrapper.isSuppressFieldDotNotation()},ValueService.prototype.getValue=function(column,node){return this.getValueUsingSpecificData(column,node.data,node)},ValueService.prototype.getValueUsingSpecificData=function(column,data,node){var result,cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),userProvidedTheGroups=utils_1.Utils.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc()),colDef=column.getColDef(),field=colDef.field;if(result=data&&node.group&&!userProvidedTheGroups?node.data?node.data[column.getId()]:void 0:colDef.valueGetter?this.executeValueGetter(colDef.valueGetter,data,column,node):field&&data?this.getValueUsingField(data,field):void 0,cellExpressions&&"string"==typeof result&&0===result.indexOf("=")){var cellValueGetter=result.substring(1);
result=this.executeValueGetter(cellValueGetter,data,column,node)}return result},ValueService.prototype.getValueUsingField=function(data,field){if(field&&data){if(this.suppressDotNotation||field.indexOf(".")<0)return data[field];for(var fields=field.split("."),currentObject=data,i=0;i<fields.length;i++)if(currentObject=currentObject[fields[i]],utils_1.Utils.missing(currentObject))return null;return currentObject}},ValueService.prototype.setValue=function(rowNode,colKey,newValue){var column=this.columnController.getOriginalColumn(colKey);if(rowNode&&column){var data=rowNode.data;if(!utils_1.Utils.missing(data)){var field=column.getColDef().field,newValueHandler=column.getColDef().newValueHandler;if(!utils_1.Utils.missing(field)||!utils_1.Utils.missing(newValueHandler)){var paramsForCallbacks={node:rowNode,data:rowNode.data,oldValue:this.getValue(column,rowNode),newValue:newValue,colDef:column.getColDef(),api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};newValueHandler?newValueHandler(paramsForCallbacks):this.setValueUsingField(data,field,newValue),rowNode.resetQuickFilterAggregateText(),paramsForCallbacks.newValue=this.getValue(column,rowNode),"function"==typeof column.getColDef().onCellValueChanged&&column.getColDef().onCellValueChanged(paramsForCallbacks),this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_VALUE_CHANGED,paramsForCallbacks)}}}},ValueService.prototype.setValueUsingField=function(data,field,newValue){if(this.suppressDotNotation||field.indexOf(".")<0)data[field]=newValue;else for(var fieldPieces=field.split("."),currentObject=data;fieldPieces.length>0&&currentObject;){var fieldPiece=fieldPieces.shift();0===fieldPieces.length?currentObject[fieldPiece]=newValue:currentObject=currentObject[fieldPiece]}},ValueService.prototype.executeValueGetter=function(valueGetter,data,column,node){var context=this.gridOptionsWrapper.getContext(),api=this.gridOptionsWrapper.getApi(),params={data:data,node:node,colDef:column.getColDef(),api:api,context:context,getValue:this.getValueCallback.bind(this,data,node)};return"function"==typeof valueGetter?valueGetter(params):"string"==typeof valueGetter?this.expressionService.evaluate(valueGetter,params):void 0},ValueService.prototype.getValueCallback=function(data,node,field){var otherColumn=this.columnController.getOriginalColumn(field);return otherColumn?this.getValueUsingSpecificData(otherColumn,data,node):null},__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],ValueService.prototype,"gridOptionsWrapper",void 0),__decorate([context_2.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],ValueService.prototype,"expressionService",void 0),__decorate([context_2.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],ValueService.prototype,"columnController",void 0),__decorate([context_2.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],ValueService.prototype,"eventService",void 0),__decorate([context_3.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ValueService.prototype,"init",null),ValueService=__decorate([context_1.Bean("valueService"),__metadata("design:paramtypes",[])],ValueService)}();exports.ValueService=ValueService},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(7),BorderLayout=function(){function BorderLayout(params){this.sizeChangeListeners=[],this.isLayoutPanel=!0,this.fullHeight=!params.north&&!params.south;var template;params.dontFill?(template='<div style="position: relative;"><div id="north"></div><div id="centerRow"><div id="west"></div><div id="east"></div><div id="center"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!1):(template=this.fullHeight?'<div style="height: 100%; overflow: auto; position: relative;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>':'<div style="height: 100%; position: relative;"><div id="north"></div><div id="centerRow" style="height: 100%; overflow: hidden;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!0),this.eGui=utils_1.Utils.loadTemplate(template),this.id="borderLayout",params.name&&(this.id+="_"+params.name),this.eGui.setAttribute("id",this.id),this.childPanels=[],params&&this.setupPanels(params),this.overlays=params.overlays,this.setupOverlays()}return BorderLayout.prototype.addSizeChangeListener=function(listener){this.sizeChangeListeners.push(listener)},BorderLayout.prototype.fireSizeChanged=function(){this.sizeChangeListeners.forEach(function(listener){listener()})},BorderLayout.prototype.setupPanels=function(params){this.eNorthWrapper=this.eGui.querySelector("#north"),this.eSouthWrapper=this.eGui.querySelector("#south"),this.eEastWrapper=this.eGui.querySelector("#east"),this.eWestWrapper=this.eGui.querySelector("#west"),this.eCenterWrapper=this.eGui.querySelector("#center"),this.eOverlayWrapper=this.eGui.querySelector("#overlay"),this.eCenterRow=this.eGui.querySelector("#centerRow"),this.eNorthChildLayout=this.setupPanel(params.north,this.eNorthWrapper),this.eSouthChildLayout=this.setupPanel(params.south,this.eSouthWrapper),this.eEastChildLayout=this.setupPanel(params.east,this.eEastWrapper),this.eWestChildLayout=this.setupPanel(params.west,this.eWestWrapper),this.eCenterChildLayout=this.setupPanel(params.center,this.eCenterWrapper)},BorderLayout.prototype.setupPanel=function(content,ePanel){if(ePanel)return content?content.isLayoutPanel?(this.childPanels.push(content),ePanel.appendChild(content.getGui()),content):(ePanel.appendChild(content),null):(ePanel.parentNode.removeChild(ePanel),null)},BorderLayout.prototype.getGui=function(){return this.eGui},BorderLayout.prototype.doLayout=function(){if(!utils_1.Utils.isVisible(this.eGui))return!1;var atLeastOneChanged=!1,childLayouts=[this.eNorthChildLayout,this.eSouthChildLayout,this.eEastChildLayout,this.eWestChildLayout],that=this;if(utils_1.Utils.forEach(childLayouts,function(childLayout){var childChangedSize=that.layoutChild(childLayout);childChangedSize&&(atLeastOneChanged=!0)}),this.layoutActive){var ourHeightChanged=this.layoutHeight(),ourWidthChanged=this.layoutWidth();(ourHeightChanged||ourWidthChanged)&&(atLeastOneChanged=!0)}var centerChanged=this.layoutChild(this.eCenterChildLayout);return centerChanged&&(atLeastOneChanged=!0),atLeastOneChanged&&this.fireSizeChanged(),atLeastOneChanged},BorderLayout.prototype.layoutChild=function(childPanel){return!!childPanel&&childPanel.doLayout()},BorderLayout.prototype.layoutHeight=function(){return this.fullHeight?this.layoutHeightFullHeight():this.layoutHeightNormal()},BorderLayout.prototype.layoutHeightFullHeight=function(){var centerHeight=utils_1.Utils.offsetHeight(this.eGui);return centerHeight<0&&(centerHeight=0),this.centerHeightLastTime!==centerHeight&&(this.centerHeightLastTime=centerHeight,!0)},BorderLayout.prototype.layoutHeightNormal=function(){var totalHeight=utils_1.Utils.offsetHeight(this.eGui),northHeight=utils_1.Utils.offsetHeight(this.eNorthWrapper),southHeight=utils_1.Utils.offsetHeight(this.eSouthWrapper),centerHeight=totalHeight-northHeight-southHeight;return centerHeight<0&&(centerHeight=0),this.centerHeightLastTime!==centerHeight&&(this.eCenterRow.style.height=centerHeight+"px",this.centerHeightLastTime=centerHeight,!0)},BorderLayout.prototype.getCentreHeight=function(){return this.centerHeightLastTime},BorderLayout.prototype.layoutWidth=function(){var totalWidth=utils_1.Utils.offsetWidth(this.eGui),eastWidth=utils_1.Utils.offsetWidth(this.eEastWrapper),westWidth=utils_1.Utils.offsetWidth(this.eWestWrapper),centerWidth=totalWidth-eastWidth-westWidth;return centerWidth<0&&(centerWidth=0),this.centerWidthLastTime!==centerWidth&&(this.centerWidthLastTime=centerWidth,this.eCenterWrapper.style.width=centerWidth+"px",!0)},BorderLayout.prototype.setEastVisible=function(visible){this.eEastWrapper&&(this.eEastWrapper.style.display=visible?"":"none"),this.doLayout()},BorderLayout.prototype.setNorthVisible=function(visible){this.eNorthWrapper&&(this.eNorthWrapper.style.display=visible?"":"none"),this.doLayout()},BorderLayout.prototype.setupOverlays=function(){return this.overlays?void this.hideOverlay():void this.eOverlayWrapper.parentNode.removeChild(this.eOverlayWrapper)},BorderLayout.prototype.hideOverlay=function(){utils_1.Utils.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="none"},BorderLayout.prototype.showOverlay=function(key){var overlay=this.overlays?this.overlays[key]:null;overlay?(utils_1.Utils.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="",this.eOverlayWrapper.appendChild(overlay)):(console.log("ag-Grid: unknown overlay"),this.hideOverlay())},BorderLayout.prototype.setSouthVisible=function(visible){this.eSouthWrapper&&(this.eSouthWrapper.style.display=visible?"":"none"),this.doLayout()},BorderLayout}();exports.BorderLayout=BorderLayout},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),context_2=__webpack_require__(6),logger_1=__webpack_require__(5),context_3=__webpack_require__(6),utils_1=__webpack_require__(7),DragService=function(){function DragService(){this.onMouseUpListener=this.onMouseUp.bind(this),this.onMouseMoveListener=this.onMouseMove.bind(this),this.destroyFunctions=[]}return DragService.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},DragService.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){return func()})},DragService.prototype.addDragSource=function(params){var listener=this.onMouseDown.bind(this,params);params.eElement.addEventListener("mousedown",listener),this.destroyFunctions.push(function(){return params.eElement.removeEventListener("mousedown",listener)})},DragService.prototype.onMouseDown=function(params,mouseEvent){0===mouseEvent.button&&(this.currentDragParams=params,this.dragging=!1,this.eventLastTime=mouseEvent,this.dragStartEvent=mouseEvent,document.addEventListener("mousemove",this.onMouseMoveListener),document.addEventListener("mouseup",this.onMouseUpListener),0===params.dragStartPixels&&this.onMouseMove(mouseEvent))},DragService.prototype.isEventNearStartEvent=function(event){var requiredPixelDiff=utils_1.Utils.exists(this.currentDragParams.dragStartPixels)?this.currentDragParams.dragStartPixels:4;if(0===requiredPixelDiff)return!1;var diffX=Math.abs(event.clientX-this.dragStartEvent.clientX),diffY=Math.abs(event.clientY-this.dragStartEvent.clientY);return Math.max(diffX,diffY)<=requiredPixelDiff},DragService.prototype.onMouseMove=function(mouseEvent){if(!this.dragging){var toEarlyToDrag=!this.dragging&&this.isEventNearStartEvent(mouseEvent);if(toEarlyToDrag)return;this.dragging=!0,this.currentDragParams.onDragStart(this.dragStartEvent)}this.currentDragParams.onDragging(mouseEvent)},DragService.prototype.onMouseUp=function(mouseEvent){document.removeEventListener("mouseup",this.onMouseUpListener),document.removeEventListener("mousemove",this.onMouseMoveListener),this.dragging&&this.currentDragParams.onDragStop(mouseEvent),this.dragStartEvent=null,this.eventLastTime=null,this.dragging=!1},__decorate([context_2.Autowired("loggerFactory"),__metadata("design:type",logger_1.LoggerFactory)],DragService.prototype,"loggerFactory",void 0),__decorate([context_3.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],DragService.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],DragService.prototype,"destroy",null),DragService=__decorate([context_1.Bean("dragService"),__metadata("design:paramtypes",[])],DragService)}();exports.DragService=DragService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),context_2=__webpack_require__(6),gridPanel_1=__webpack_require__(24),columnController_1=__webpack_require__(13),column_1=__webpack_require__(15),constants_1=__webpack_require__(8),floatingRowModel_1=__webpack_require__(26),utils_1=__webpack_require__(7),gridCell_1=__webpack_require__(33),gridOptionsWrapper_1=__webpack_require__(3),MouseEventService=function(){function MouseEventService(){}return MouseEventService.prototype.getCellForMouseEvent=function(mouseEvent){var floating=this.getFloating(mouseEvent),rowIndex=this.getRowIndex(mouseEvent,floating),column=this.getColumn(mouseEvent);return rowIndex>=0&&utils_1.Utils.exists(column)?new gridCell_1.GridCell(rowIndex,floating,column):null},MouseEventService.prototype.getFloating=function(mouseEvent){var floatingTopRect=this.gridPanel.getFloatingTopClientRect(),floatingBottomRect=this.gridPanel.getFloatingBottomClientRect(),floatingTopRowsExist=!this.floatingRowModel.isEmpty(constants_1.Constants.FLOATING_TOP),floatingBottomRowsExist=!this.floatingRowModel.isEmpty(constants_1.Constants.FLOATING_BOTTOM);return floatingTopRowsExist&&floatingTopRect.bottom>=mouseEvent.clientY?constants_1.Constants.FLOATING_TOP:floatingBottomRowsExist&&floatingBottomRect.top<=mouseEvent.clientY?constants_1.Constants.FLOATING_BOTTOM:null},MouseEventService.prototype.getFloatingRowIndex=function(mouseEvent,floating){var clientRect;switch(floating){case constants_1.Constants.FLOATING_TOP:clientRect=this.gridPanel.getFloatingTopClientRect();break;case constants_1.Constants.FLOATING_BOTTOM:clientRect=this.gridPanel.getFloatingBottomClientRect()}var bodyY=mouseEvent.clientY-clientRect.top,rowIndex=this.floatingRowModel.getRowAtPixel(bodyY,floating);return rowIndex},MouseEventService.prototype.getRowIndex=function(mouseEvent,floating){switch(floating){case constants_1.Constants.FLOATING_TOP:case constants_1.Constants.FLOATING_BOTTOM:return this.getFloatingRowIndex(mouseEvent,floating);default:return this.getBodyRowIndex(mouseEvent)}},MouseEventService.prototype.getBodyRowIndex=function(mouseEvent){var clientRect=this.gridPanel.getBodyViewportClientRect(),scrollY=this.gridPanel.getVerticalScrollPosition(),bodyY=mouseEvent.clientY-clientRect.top+scrollY,rowIndex=this.rowModel.getRowIndexAtPixel(bodyY);return rowIndex},MouseEventService.prototype.getContainer=function(mouseEvent){var centerRect=this.gridPanel.getBodyViewportClientRect(),mouseX=mouseEvent.clientX;return mouseX<centerRect.left&&this.columnController.isPinningLeft()?column_1.Column.PINNED_LEFT:mouseX>centerRect.right&&this.columnController.isPinningRight()?column_1.Column.PINNED_RIGHT:null},MouseEventService.prototype.getColumn=function(mouseEvent){if(this.columnController.isEmpty())return null;var hoveringColumn,container=this.getContainer(mouseEvent),columns=this.getColumnsForContainer(container),containerX=this.getXForContainer(container,mouseEvent);return containerX<0&&(hoveringColumn=columns[0]),columns.forEach(function(column){var afterLeft=containerX>=column.getLeft(),beforeRight=containerX<=column.getRight();afterLeft&&beforeRight&&(hoveringColumn=column)}),hoveringColumn||(hoveringColumn=columns[columns.length-1]),hoveringColumn},MouseEventService.prototype.getColumnsForContainer=function(container){switch(container){case column_1.Column.PINNED_LEFT:return this.columnController.getDisplayedLeftColumns();case column_1.Column.PINNED_RIGHT:return this.columnController.getDisplayedRightColumns();default:return this.columnController.getDisplayedCenterColumns()}},MouseEventService.prototype.getXForContainer=function(container,mouseEvent){var containerX;switch(container){case column_1.Column.PINNED_LEFT:containerX=this.gridPanel.getPinnedLeftColsViewportClientRect().left;break;case column_1.Column.PINNED_RIGHT:containerX=this.gridPanel.getPinnedRightColsViewportClientRect().left;break;default:var centerRect=this.gridPanel.getBodyViewportClientRect(),centerScroll=this.gridPanel.getHorizontalScrollPosition();containerX=centerRect.left-centerScroll}var result=mouseEvent.clientX-containerX;return result},__decorate([context_2.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],MouseEventService.prototype,"gridPanel",void 0),__decorate([context_2.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],MouseEventService.prototype,"columnController",void 0),__decorate([context_2.Autowired("rowModel"),__metadata("design:type",Object)],MouseEventService.prototype,"rowModel",void 0),__decorate([context_2.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],MouseEventService.prototype,"floatingRowModel",void 0),__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],MouseEventService.prototype,"gridOptionsWrapper",void 0),MouseEventService=__decorate([context_1.Bean("mouseEventService"),__metadata("design:paramtypes",[])],MouseEventService)}();exports.MouseEventService=MouseEventService},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(7),gridRow_1=__webpack_require__(34),GridCell=function(){function GridCell(rowIndex,floating,column){this.rowIndex=rowIndex,this.column=column,this.floating=utils_1.Utils.makeNull(floating)}return GridCell.prototype.getGridRow=function(){return new gridRow_1.GridRow(this.rowIndex,this.floating)},GridCell.prototype.toString=function(){return"rowIndex = "+this.rowIndex+", floating = "+this.floating+", column = "+(this.column?this.column.getId():null)},GridCell.prototype.createId=function(){return this.rowIndex+"."+this.floating+"."+this.column.getId()},GridCell}();exports.GridCell=GridCell},function(module,exports,__webpack_require__){var constants_1=__webpack_require__(8),utils_1=__webpack_require__(7),gridCell_1=__webpack_require__(33),GridRow=function(){function GridRow(rowIndex,floating){this.rowIndex=rowIndex,this.floating=utils_1.Utils.makeNull(floating)}return GridRow.prototype.isFloatingTop=function(){return this.floating===constants_1.Constants.FLOATING_TOP},GridRow.prototype.isFloatingBottom=function(){return this.floating===constants_1.Constants.FLOATING_BOTTOM},GridRow.prototype.isNotFloating=function(){return!this.isFloatingBottom()&&!this.isFloatingTop()},GridRow.prototype.equals=function(otherSelection){return this.rowIndex===otherSelection.rowIndex&&this.floating===otherSelection.floating},GridRow.prototype.toString=function(){return"rowIndex = "+this.rowIndex+", floating = "+this.floating},GridRow.prototype.getGridCell=function(column){return new gridCell_1.GridCell(this.rowIndex,this.floating,column)},GridRow.prototype.before=function(otherSelection){var otherFloating=otherSelection.floating;switch(this.floating){case constants_1.Constants.FLOATING_TOP:if(otherFloating!==constants_1.Constants.FLOATING_TOP)return!0;break;case constants_1.Constants.FLOATING_BOTTOM:if(otherFloating!==constants_1.Constants.FLOATING_BOTTOM)return!1;break;default:if(utils_1.Utils.exists(otherFloating))return otherFloating!==constants_1.Constants.FLOATING_TOP}return this.rowIndex<=otherSelection.rowIndex},GridRow}();exports.GridRow=GridRow},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),eventService_1=__webpack_require__(4),events_1=__webpack_require__(10),gridOptionsWrapper_1=__webpack_require__(3),columnController_1=__webpack_require__(13),utils_1=__webpack_require__(7),gridCell_1=__webpack_require__(33),constants_1=__webpack_require__(8),FocusedCellController=function(){function FocusedCellController(){}return FocusedCellController.prototype.init=function(){this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_GROUP_OPENED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_MOVED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_PINNED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VISIBLE,this.clearFocusedCell.bind(this))},FocusedCellController.prototype.clearFocusedCell=function(){this.focusedCell=null,this.onCellFocused(!1)},FocusedCellController.prototype.getFocusedCell=function(){return this.focusedCell},FocusedCellController.prototype.getFocusCellIfBrowserFocused=function(){if(!this.focusedCell)return null;var browserFocusedCell=this.getGridCellForDomElement(document.activeElement);if(!browserFocusedCell)return null;var gridFocusId=this.focusedCell.createId(),browserFocusId=browserFocusedCell.createId();return gridFocusId===browserFocusId?this.focusedCell:null},FocusedCellController.prototype.getGridCellForDomElement=function(eBrowserCell){function checkRow(eTarget){var rowId=utils_1.Utils.getElementAttribute(eTarget,"row");utils_1.Utils.exists(rowId)&&utils_1.Utils.containsClass(eTarget,"ag-row")&&(0===rowId.indexOf("ft")?(floating=constants_1.Constants.FLOATING_TOP,rowId=rowId.substr(3)):0===rowId.indexOf("fb")?(floating=constants_1.Constants.FLOATING_BOTTOM,rowId=rowId.substr(3)):floating=null,row=parseInt(rowId))}function checkColumn(eTarget){var colId=utils_1.Utils.getElementAttribute(eTarget,"colid");if(utils_1.Utils.exists(colId)&&utils_1.Utils.containsClass(eTarget,"ag-cell")){var foundColumn=that.columnController.getOriginalColumn(colId);foundColumn&&(column=foundColumn)}}if(!eBrowserCell)return null;for(var column=null,row=null,floating=null,that=this;eBrowserCell;)checkRow(eBrowserCell),checkColumn(eBrowserCell),eBrowserCell=eBrowserCell.parentNode;if(utils_1.Utils.exists(column)&&utils_1.Utils.exists(row)){var gridCell=new gridCell_1.GridCell(row,floating,column);return gridCell}return null},FocusedCellController.prototype.setFocusedCell=function(rowIndex,colKey,floating,forceBrowserFocus){if(void 0===forceBrowserFocus&&(forceBrowserFocus=!1),!this.gridOptionsWrapper.isSuppressCellSelection()){var column=utils_1.Utils.makeNull(this.columnController.getOriginalColumn(colKey));this.focusedCell=new gridCell_1.GridCell(rowIndex,utils_1.Utils.makeNull(floating),column),this.onCellFocused(forceBrowserFocus)}},FocusedCellController.prototype.isCellFocused=function(gridCell){return!utils_1.Utils.missing(this.focusedCell)&&(this.focusedCell.column===gridCell.column&&this.isRowFocused(gridCell.rowIndex,gridCell.floating))},FocusedCellController.prototype.isRowFocused=function(rowIndex,floating){if(utils_1.Utils.missing(this.focusedCell))return!1;var floatingOrNull=utils_1.Utils.makeNull(floating);return this.focusedCell.rowIndex===rowIndex&&this.focusedCell.floating===floatingOrNull},FocusedCellController.prototype.onCellFocused=function(forceBrowserFocus){var event={rowIndex:null,column:null,floating:null,forceBrowserFocus:forceBrowserFocus};this.focusedCell&&(event.rowIndex=this.focusedCell.rowIndex,event.column=this.focusedCell.column,event.floating=this.focusedCell.floating),this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_FOCUSED,event)},__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],FocusedCellController.prototype,"eventService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FocusedCellController.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],FocusedCellController.prototype,"columnController",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FocusedCellController.prototype,"init",null),FocusedCellController=__decorate([context_1.Bean("focusedCellController"),__metadata("design:paramtypes",[])],FocusedCellController)}();exports.FocusedCellController=FocusedCellController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),context_2=__webpack_require__(6),TemplateService=function(){function TemplateService(){this.templateCache={},this.waitingCallbacks={}}return TemplateService.prototype.getTemplate=function(url,callback){var templateFromCache=this.templateCache[url];if(templateFromCache)return templateFromCache;var callbackList=this.waitingCallbacks[url],that=this;if(!callbackList){callbackList=[],this.waitingCallbacks[url]=callbackList;var client=new XMLHttpRequest;client.onload=function(){that.handleHttpResult(this,url)},client.open("GET",url),client.send()}return callback&&callbackList.push(callback),null},TemplateService.prototype.handleHttpResult=function(httpResult,url){if(200!==httpResult.status||null===httpResult.response)return void console.warn("Unable to get template error "+httpResult.status+" - "+url);this.templateCache[url]=httpResult.response||httpResult.responseText;for(var callbacks=this.waitingCallbacks[url],i=0;i<callbacks.length;i++){var callback=callbacks[i];callback()}if(this.$scope){var that=this;setTimeout(function(){that.$scope.$apply()},0)}},__decorate([context_2.Autowired("$scope"),__metadata("design:type",Object)],TemplateService.prototype,"$scope",void 0),TemplateService=__decorate([context_1.Bean("templateService"),__metadata("design:paramtypes",[])],TemplateService)}();exports.TemplateService=TemplateService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),renderedCell_1=__webpack_require__(38),rowNode_1=__webpack_require__(27),gridOptionsWrapper_1=__webpack_require__(3),columnController_1=__webpack_require__(13),column_1=__webpack_require__(15),events_1=__webpack_require__(10),eventService_1=__webpack_require__(4),context_1=__webpack_require__(6),focusedCellController_1=__webpack_require__(35),constants_1=__webpack_require__(8),cellRendererService_1=__webpack_require__(60),cellRendererFactory_1=__webpack_require__(55),RenderedRow=function(){function RenderedRow(parentScope,rowRenderer,eBodyContainer,ePinnedLeftContainer,ePinnedRightContainer,node,rowIndex){this.renderedCells={},this.destroyFunctions=[],this.parentScope=parentScope,this.rowRenderer=rowRenderer,this.eBodyContainer=eBodyContainer,this.ePinnedLeftContainer=ePinnedLeftContainer,this.ePinnedRightContainer=ePinnedRightContainer,this.rowIndex=rowIndex,this.rowNode=node}return RenderedRow.prototype.init=function(){var _this=this;this.pinningLeft=this.columnController.isPinningLeft(),this.pinningRight=this.columnController.isPinningRight(),this.createContainers();var groupHeaderTakesEntireRow=this.gridOptionsWrapper.isGroupUseEntireRow();this.rowIsHeaderThatSpans=this.rowNode.group&&groupHeaderTakesEntireRow,this.scope=this.createChildScopeOrNull(this.rowNode.data),this.rowIsHeaderThatSpans?this.createGroupRow():this.refreshCellsIntoRow(),this.addDynamicStyles(),this.addDynamicClasses(),this.addRowIds(),this.setTopAndHeightCss(),this.addRowSelectedListener(),this.addCellFocusedListener(),this.addNodeDataChangedListener(),this.addColumnListener(),this.addHoverFunctionality(),this.attachContainers(),this.gridOptionsWrapper.executeProcessRowPostCreateFunc({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.gridOptionsWrapper.getApi(),rowIndex:this.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}),this.scope&&this.eLeftCenterAndRightRows.forEach(function(row){return _this.$compile(row)(_this.scope)})},RenderedRow.prototype.addColumnListener=function(){var _this=this,columnListener=this.onColumnChanged.bind(this);this.mainEventService.addEventListener(events_1.Events.EVENT_COLUMN_GROUP_OPENED,columnListener),this.mainEventService.addEventListener(events_1.Events.EVENT_COLUMN_VISIBLE,columnListener),this.mainEventService.addEventListener(events_1.Events.EVENT_COLUMN_PINNED,columnListener),this.destroyFunctions.push(function(){_this.mainEventService.removeEventListener(events_1.Events.EVENT_COLUMN_GROUP_OPENED,columnListener),_this.mainEventService.removeEventListener(events_1.Events.EVENT_COLUMN_VISIBLE,columnListener),_this.mainEventService.removeEventListener(events_1.Events.EVENT_COLUMN_PINNED,columnListener);
})},RenderedRow.prototype.onColumnChanged=function(event){this.rowIsHeaderThatSpans||this.refreshCellsIntoRow()},RenderedRow.prototype.refreshCellsIntoRow=function(){var _this=this,columns=this.columnController.getAllDisplayedColumns(),renderedCellKeys=Object.keys(this.renderedCells);columns.forEach(function(column){var renderedCell=_this.getOrCreateCell(column);_this.ensureCellInCorrectRow(renderedCell),utils_1.Utils.removeFromArray(renderedCellKeys,column.getColId())}),renderedCellKeys.forEach(function(key){var renderedCell=_this.renderedCells[key];renderedCell&&(renderedCell.getParentRow()&&(renderedCell.getParentRow().removeChild(renderedCell.getGui()),renderedCell.setParentRow(null)),renderedCell.destroy(),_this.renderedCells[key]=null)})},RenderedRow.prototype.ensureCellInCorrectRow=function(renderedCell){var rowWeWant,eRowGui=renderedCell.getGui(),column=renderedCell.getColumn();switch(column.getPinned()){case column_1.Column.PINNED_LEFT:rowWeWant=this.ePinnedLeftRow;break;case column_1.Column.PINNED_RIGHT:rowWeWant=this.ePinnedRightRow;break;default:rowWeWant=this.eBodyRow}var oldRow=renderedCell.getParentRow(),inWrongRow=oldRow!==rowWeWant;inWrongRow&&(oldRow&&oldRow.removeChild(eRowGui),rowWeWant.appendChild(eRowGui),renderedCell.setParentRow(rowWeWant))},RenderedRow.prototype.getOrCreateCell=function(column){var colId=column.getColId();if(this.renderedCells[colId])return this.renderedCells[colId];var renderedCell=new renderedCell_1.RenderedCell(column,this.rowNode,this.rowIndex,this.scope,this);return this.context.wireBean(renderedCell),this.renderedCells[colId]=renderedCell,renderedCell},RenderedRow.prototype.addRowSelectedListener=function(){var _this=this,rowSelectedListener=function(){var selected=_this.rowNode.isSelected();_this.eLeftCenterAndRightRows.forEach(function(row){return utils_1.Utils.addOrRemoveCssClass(row,"ag-row-selected",selected)})};this.rowNode.addEventListener(rowNode_1.RowNode.EVENT_ROW_SELECTED,rowSelectedListener),this.destroyFunctions.push(function(){_this.rowNode.removeEventListener(rowNode_1.RowNode.EVENT_ROW_SELECTED,rowSelectedListener)})},RenderedRow.prototype.addHoverFunctionality=function(){var _this=this,onGuiMouseEnter=this.rowNode.onMouseEnter.bind(this.rowNode),onGuiMouseLeave=this.rowNode.onMouseLeave.bind(this.rowNode);this.eLeftCenterAndRightRows.forEach(function(eRow){eRow.addEventListener("mouseenter",onGuiMouseEnter),eRow.addEventListener("mouseleave",onGuiMouseLeave)});var onNodeMouseEnter=this.addHoverClass.bind(this,!0),onNodeMouseLeave=this.addHoverClass.bind(this,!1);this.rowNode.addEventListener(rowNode_1.RowNode.EVENT_MOUSE_ENTER,onNodeMouseEnter),this.rowNode.addEventListener(rowNode_1.RowNode.EVENT_MOUSE_LEAVE,onNodeMouseLeave),this.destroyFunctions.push(function(){_this.eLeftCenterAndRightRows.forEach(function(eRow){eRow.removeEventListener("mouseenter",onGuiMouseEnter),eRow.removeEventListener("mouseleave",onGuiMouseLeave)}),_this.rowNode.removeEventListener(rowNode_1.RowNode.EVENT_MOUSE_ENTER,onNodeMouseEnter),_this.rowNode.removeEventListener(rowNode_1.RowNode.EVENT_MOUSE_LEAVE,onNodeMouseLeave)})},RenderedRow.prototype.addHoverClass=function(hover){this.eLeftCenterAndRightRows.forEach(function(eRow){return utils_1.Utils.addOrRemoveCssClass(eRow,"ag-row-hover",hover)})},RenderedRow.prototype.addCellFocusedListener=function(){var _this=this,rowFocusedLastTime=null,rowFocusedListener=function(){var rowFocused=_this.focusedCellController.isRowFocused(_this.rowIndex,_this.rowNode.floating);rowFocused!==rowFocusedLastTime&&(_this.eLeftCenterAndRightRows.forEach(function(row){return utils_1.Utils.addOrRemoveCssClass(row,"ag-row-focus",rowFocused)}),_this.eLeftCenterAndRightRows.forEach(function(row){return utils_1.Utils.addOrRemoveCssClass(row,"ag-row-no-focus",!rowFocused)}),rowFocusedLastTime=rowFocused)};this.mainEventService.addEventListener(events_1.Events.EVENT_CELL_FOCUSED,rowFocusedListener),this.destroyFunctions.push(function(){_this.mainEventService.removeEventListener(events_1.Events.EVENT_CELL_FOCUSED,rowFocusedListener)}),rowFocusedListener()},RenderedRow.prototype.forEachRenderedCell=function(callback){utils_1.Utils.iterateObject(this.renderedCells,function(key,renderedCell){renderedCell&&callback(renderedCell)})},RenderedRow.prototype.addNodeDataChangedListener=function(){var _this=this,nodeDataChangedListener=function(){var animate=!1,newData=!0;_this.forEachRenderedCell(function(renderedCell){return renderedCell.refreshCell(animate,newData)})};this.rowNode.addEventListener(rowNode_1.RowNode.EVENT_DATA_CHANGED,nodeDataChangedListener),this.destroyFunctions.push(function(){_this.rowNode.removeEventListener(rowNode_1.RowNode.EVENT_DATA_CHANGED,nodeDataChangedListener)})},RenderedRow.prototype.createContainers=function(){this.eBodyRow=this.createRowContainer(),this.eLeftCenterAndRightRows=[this.eBodyRow],this.gridOptionsWrapper.isForPrint()||(this.ePinnedLeftRow=this.createRowContainer(),this.ePinnedRightRow=this.createRowContainer(),this.eLeftCenterAndRightRows.push(this.ePinnedLeftRow),this.eLeftCenterAndRightRows.push(this.ePinnedRightRow))},RenderedRow.prototype.attachContainers=function(){this.eBodyContainer.appendChild(this.eBodyRow),this.gridOptionsWrapper.isForPrint()||(this.ePinnedLeftContainer.appendChild(this.ePinnedLeftRow),this.ePinnedRightContainer.appendChild(this.ePinnedRightRow))},RenderedRow.prototype.onMouseEvent=function(eventName,mouseEvent,eventSource,cell){var renderedCell=this.renderedCells[cell.column.getId()];renderedCell&&renderedCell.onMouseEvent(eventName,mouseEvent,eventSource)},RenderedRow.prototype.setTopAndHeightCss=function(){if(!this.gridOptionsWrapper.isForPrint()){var topPx=this.rowNode.rowTop+"px";this.eLeftCenterAndRightRows.forEach(function(row){return row.style.top=topPx})}var heightPx=this.rowNode.rowHeight+"px";this.eLeftCenterAndRightRows.forEach(function(row){return row.style.height=heightPx})},RenderedRow.prototype.addRowIds=function(){var rowStr=this.rowIndex.toString();if(this.rowNode.floating===constants_1.Constants.FLOATING_BOTTOM?rowStr="fb-"+rowStr:this.rowNode.floating===constants_1.Constants.FLOATING_TOP&&(rowStr="ft-"+rowStr),this.eLeftCenterAndRightRows.forEach(function(row){return row.setAttribute("row",rowStr)}),"function"==typeof this.gridOptionsWrapper.getBusinessKeyForNodeFunc()){var businessKey=this.gridOptionsWrapper.getBusinessKeyForNodeFunc()(this.rowNode);"string"!=typeof businessKey&&"number"!=typeof businessKey||this.eLeftCenterAndRightRows.forEach(function(row){return row.setAttribute("row-id",businessKey)})}},RenderedRow.prototype.addEventListener=function(eventType,listener){this.renderedRowEventService||(this.renderedRowEventService=new eventService_1.EventService),this.renderedRowEventService.addEventListener(eventType,listener)},RenderedRow.prototype.removeEventListener=function(eventType,listener){this.renderedRowEventService.removeEventListener(eventType,listener)},RenderedRow.prototype.softRefresh=function(){this.forEachRenderedCell(function(renderedCell){renderedCell.isVolatile()&&renderedCell.refreshCell()})},RenderedRow.prototype.getRenderedCellForColumn=function(column){return this.renderedCells[column.getColId()]},RenderedRow.prototype.getCellForCol=function(column){var renderedCell=this.renderedCells[column.getColId()];return renderedCell?renderedCell.getGui():null},RenderedRow.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){return func()}),this.destroyScope(),this.eBodyContainer.removeChild(this.eBodyRow),this.gridOptionsWrapper.isForPrint()||(this.ePinnedLeftContainer.removeChild(this.ePinnedLeftRow),this.ePinnedRightContainer.removeChild(this.ePinnedRightRow)),this.forEachRenderedCell(function(renderedCell){return renderedCell.destroy()}),this.renderedRowEventService&&this.renderedRowEventService.dispatchEvent(RenderedRow.EVENT_RENDERED_ROW_REMOVED,{node:this.rowNode})},RenderedRow.prototype.destroyScope=function(){this.scope&&(this.scope.$destroy(),this.scope=null)},RenderedRow.prototype.isDataInList=function(rows){return rows.indexOf(this.rowNode.data)>=0},RenderedRow.prototype.isGroup=function(){return this.rowNode.group===!0},RenderedRow.prototype.createGroupRow=function(){var eGroupRow=this.createGroupSpanningEntireRowCell(!1);if(this.pinningLeft){this.ePinnedLeftRow.appendChild(eGroupRow);var eGroupRowPadding=this.createGroupSpanningEntireRowCell(!0);this.eBodyRow.appendChild(eGroupRowPadding)}else this.eBodyRow.appendChild(eGroupRow);if(this.pinningRight){var ePinnedRightPadding=this.createGroupSpanningEntireRowCell(!0);this.ePinnedRightRow.appendChild(ePinnedRightPadding)}},RenderedRow.prototype.createGroupSpanningEntireRowCell=function(padding){var eRow;if(eRow=document.createElement("span"),!padding){var cellRenderer=this.gridOptionsWrapper.getGroupRowRenderer(),cellRendererParams=this.gridOptionsWrapper.getGroupRowRendererParams();cellRenderer||(cellRenderer=cellRendererFactory_1.CellRendererFactory.GROUP,cellRendererParams={innerRenderer:this.gridOptionsWrapper.getGroupRowInnerRenderer()});var params={data:this.rowNode.data,node:this.rowNode,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),eGridCell:eRow,eParentOfValue:eRow,addRenderedRowListener:this.addEventListener.bind(this),colDef:{cellRenderer:cellRenderer,cellRendererParams:cellRendererParams}};cellRendererParams&&utils_1.Utils.assign(params,cellRendererParams),this.cellRendererService.useCellRenderer(cellRenderer,eRow,params)}return this.rowNode.footer?utils_1.Utils.addCssClass(eRow,"ag-footer-cell-entire-row"):utils_1.Utils.addCssClass(eRow,"ag-group-cell-entire-row"),eRow},RenderedRow.prototype.createChildScopeOrNull=function(data){if(this.gridOptionsWrapper.isAngularCompileRows()){var newChildScope=this.parentScope.$new();return newChildScope.data=data,newChildScope.context=this.gridOptionsWrapper.getContext(),newChildScope}return null},RenderedRow.prototype.addDynamicStyles=function(){var rowStyle=this.gridOptionsWrapper.getRowStyle();rowStyle&&("function"==typeof rowStyle?console.log("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead"):this.eLeftCenterAndRightRows.forEach(function(row){return utils_1.Utils.addStylesToElement(row,rowStyle)}));var rowStyleFunc=this.gridOptionsWrapper.getRowStyleFunc();if(rowStyleFunc){var params={data:this.rowNode.data,node:this.rowNode,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),$scope:this.scope},cssToUseFromFunc=rowStyleFunc(params);this.eLeftCenterAndRightRows.forEach(function(row){return utils_1.Utils.addStylesToElement(row,cssToUseFromFunc)})}},RenderedRow.prototype.createParams=function(){var params={node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowIndex,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};return params},RenderedRow.prototype.createEvent=function(event,eventSource){var agEvent=this.createParams();return agEvent.event=event,agEvent.eventSource=eventSource,agEvent},RenderedRow.prototype.createRowContainer=function(){var _this=this,eRow=document.createElement("div");return eRow.addEventListener("click",this.onRowClicked.bind(this)),eRow.addEventListener("dblclick",function(event){var agEvent=_this.createEvent(event,_this);_this.mainEventService.dispatchEvent(events_1.Events.EVENT_ROW_DOUBLE_CLICKED,agEvent)}),eRow},RenderedRow.prototype.onRowClicked=function(event){var agEvent=this.createEvent(event,this);this.mainEventService.dispatchEvent(events_1.Events.EVENT_ROW_CLICKED,agEvent);var multiSelectKeyPressed=event.ctrlKey||event.metaKey,shiftKeyPressed=event.shiftKey;if(!this.rowNode.group&&!this.rowNode.floating){var gridOptionsWrapper=this.gridOptionsWrapper;gridOptionsWrapper.isRowSelection()&&(gridOptionsWrapper.isSuppressRowClickSelection()||(this.rowNode.isSelected()?multiSelectKeyPressed?gridOptionsWrapper.isRowDeselection()&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!multiSelectKeyPressed,rangeSelect:shiftKeyPressed})))}},RenderedRow.prototype.getRowNode=function(){return this.rowNode},RenderedRow.prototype.getRowIndex=function(){return this.rowIndex},RenderedRow.prototype.refreshCells=function(colIds,animate){if(colIds){var columnsToRefresh=this.columnController.getGridColumns(colIds);this.forEachRenderedCell(function(renderedCell){var colForCel=renderedCell.getColumn();columnsToRefresh.indexOf(colForCel)>=0&&renderedCell.refreshCell(animate)})}},RenderedRow.prototype.addDynamicClasses=function(){var _this=this,classes=[];classes.push("ag-row"),classes.push("ag-row-no-focus"),classes.push(this.rowIndex%2==0?"ag-row-even":"ag-row-odd"),this.rowNode.isSelected()&&classes.push("ag-row-selected"),this.rowNode.group?(classes.push("ag-row-group"),classes.push("ag-row-level-"+this.rowNode.level),!this.rowNode.footer&&this.rowNode.expanded&&classes.push("ag-row-group-expanded"),this.rowNode.footer||this.rowNode.expanded||classes.push("ag-row-group-contracted"),this.rowNode.footer&&classes.push("ag-row-footer")):this.rowNode.parent?classes.push("ag-row-level-"+(this.rowNode.parent.level+1)):classes.push("ag-row-level-0");var gridOptionsRowClass=this.gridOptionsWrapper.getRowClass();gridOptionsRowClass&&("function"==typeof gridOptionsRowClass?console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead"):"string"==typeof gridOptionsRowClass?classes.push(gridOptionsRowClass):Array.isArray(gridOptionsRowClass)&&gridOptionsRowClass.forEach(function(classItem){classes.push(classItem)}));var gridOptionsRowClassFunc=this.gridOptionsWrapper.getRowClassFunc();if(gridOptionsRowClassFunc){var params={node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},classToUseFromFunc=gridOptionsRowClassFunc(params);classToUseFromFunc&&("string"==typeof classToUseFromFunc?classes.push(classToUseFromFunc):Array.isArray(classToUseFromFunc)&&classToUseFromFunc.forEach(function(classItem){classes.push(classItem)}))}classes.forEach(function(classStr){_this.eLeftCenterAndRightRows.forEach(function(row){return utils_1.Utils.addCssClass(row,classStr)})})},RenderedRow.EVENT_RENDERED_ROW_REMOVED="renderedRowRemoved",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RenderedRow.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RenderedRow.prototype,"columnController",void 0),__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],RenderedRow.prototype,"$compile",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RenderedRow.prototype,"mainEventService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],RenderedRow.prototype,"context",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],RenderedRow.prototype,"focusedCellController",void 0),__decorate([context_1.Autowired("cellRendererService"),__metadata("design:type",cellRendererService_1.CellRendererService)],RenderedRow.prototype,"cellRendererService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedRow.prototype,"init",null),RenderedRow}();exports.RenderedRow=RenderedRow},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),column_1=__webpack_require__(15),rowNode_1=__webpack_require__(27),gridOptionsWrapper_1=__webpack_require__(3),expressionService_1=__webpack_require__(18),rowRenderer_1=__webpack_require__(23),templateService_1=__webpack_require__(36),columnController_1=__webpack_require__(13),valueService_1=__webpack_require__(29),eventService_1=__webpack_require__(4),constants_1=__webpack_require__(8),events_1=__webpack_require__(10),context_1=__webpack_require__(6),gridApi_1=__webpack_require__(11),focusedCellController_1=__webpack_require__(35),gridCell_1=__webpack_require__(33),focusService_1=__webpack_require__(39),cellEditorFactory_1=__webpack_require__(48),component_1=__webpack_require__(47),popupService_1=__webpack_require__(44),cellRendererFactory_1=__webpack_require__(55),cellRendererService_1=__webpack_require__(60),valueFormatterService_1=__webpack_require__(61),checkboxSelectionComponent_1=__webpack_require__(62),RenderedCell=function(_super){function RenderedCell(column,node,rowIndex,scope,renderedRow){_super.call(this,"<div/>"),this.firstRightPinned=!1,this.lastLeftPinned=!1,this.eGridCell=this.getGui(),this.column=column,this.node=node,this.rowIndex=rowIndex,this.scope=scope,this.renderedRow=renderedRow,this.gridCell=new gridCell_1.GridCell(rowIndex,node.floating,column)}return __extends(RenderedCell,_super),RenderedCell.prototype.destroy=function(){_super.prototype.destroy.call(this),this.cellEditor&&this.cellEditor.destroy&&this.cellEditor.destroy(),this.cellRenderer&&this.cellRenderer.destroy&&this.cellRenderer.destroy()},RenderedCell.prototype.setPinnedClasses=function(){var _this=this,firstPinnedChangedListener=function(){_this.firstRightPinned!==_this.column.isFirstRightPinned()&&(_this.firstRightPinned=_this.column.isFirstRightPinned(),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-first-right-pinned",_this.firstRightPinned)),_this.lastLeftPinned!==_this.column.isLastLeftPinned()&&(_this.lastLeftPinned=_this.column.isLastLeftPinned(),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-last-left-pinned",_this.lastLeftPinned))};this.column.addEventListener(column_1.Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,firstPinnedChangedListener),this.column.addEventListener(column_1.Column.EVENT_LAST_LEFT_PINNED_CHANGED,firstPinnedChangedListener),this.addDestroyFunc(function(){_this.column.removeEventListener(column_1.Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,firstPinnedChangedListener),_this.column.removeEventListener(column_1.Column.EVENT_LAST_LEFT_PINNED_CHANGED,firstPinnedChangedListener)}),firstPinnedChangedListener()},RenderedCell.prototype.getParentRow=function(){return this.eParentRow},RenderedCell.prototype.setParentRow=function(eParentRow){this.eParentRow=eParentRow},RenderedCell.prototype.calculateCheckboxSelection=function(){if(this.node.floating)return!1;var colDef=this.column.getColDef();if("boolean"==typeof colDef.checkboxSelection)return colDef.checkboxSelection;var selectionFunc;if("function"==typeof colDef.checkboxSelection&&(selectionFunc=colDef.checkboxSelection),!selectionFunc&&this.gridOptionsWrapper.getCheckboxSelection()&&(selectionFunc=this.gridOptionsWrapper.getCheckboxSelection()),selectionFunc){var params=this.createParams();return selectionFunc(params)}return!1},RenderedCell.prototype.getColumn=function(){return this.column},RenderedCell.prototype.getValue=function(){var data=this.getDataForRow();return this.valueService.getValueUsingSpecificData(this.column,data,this.node)},RenderedCell.prototype.getDataForRow=function(){if(this.node.footer)return this.node.data;if(this.node.group){var footersEnabled=this.gridOptionsWrapper.isGroupIncludeFooter(),suppressHideHeader=this.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.node.expanded&&footersEnabled&&!suppressHideHeader?void 0:this.node.data}return this.node.data},RenderedCell.prototype.setLeftOnCell=function(){var _this=this,leftChangedListener=function(){var newLeft=_this.column.getLeft();utils_1.Utils.exists(newLeft)?_this.eGridCell.style.left=_this.column.getLeft()+"px":_this.eGridCell.style.left=""};this.column.addEventListener(column_1.Column.EVENT_LEFT_CHANGED,leftChangedListener),this.addDestroyFunc(function(){_this.column.removeEventListener(column_1.Column.EVENT_LEFT_CHANGED,leftChangedListener)}),leftChangedListener()},RenderedCell.prototype.addRangeSelectedListener=function(){var _this=this;if(this.rangeController){var rangeCountLastTime=0,rangeSelectedListener=function(){var rangeCount=_this.rangeController.getCellRangeCount(_this.gridCell);rangeCountLastTime!==rangeCount&&(utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected",0!==rangeCount),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected-1",1===rangeCount),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected-2",2===rangeCount),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected-3",3===rangeCount),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected-4",rangeCount>=4),rangeCountLastTime=rangeCount)};this.eventService.addEventListener(events_1.Events.EVENT_RANGE_SELECTION_CHANGED,rangeSelectedListener),this.addDestroyFunc(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_RANGE_SELECTION_CHANGED,rangeSelectedListener)}),rangeSelectedListener()}},RenderedCell.prototype.addHighlightListener=function(){var _this=this;if(this.rangeController){var clipboardListener=function(event){var cellId=_this.gridCell.createId(),shouldFlash=event.cells[cellId];shouldFlash&&_this.animateCellWithHighlight()};this.eventService.addEventListener(events_1.Events.EVENT_FLASH_CELLS,clipboardListener),this.addDestroyFunc(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_FLASH_CELLS,clipboardListener)})}},RenderedCell.prototype.addChangeListener=function(){var _this=this,cellChangeListener=function(event){event.column===_this.column&&(_this.refreshCell(),_this.animateCellWithDataChanged())};this.addDestroyableEventListener(this.node,rowNode_1.RowNode.EVENT_CELL_CHANGED,cellChangeListener)},RenderedCell.prototype.animateCellWithDataChanged=function(){(this.gridOptionsWrapper.isEnableCellChangeFlash()||this.column.getColDef().enableCellChangeFlash)&&this.animateCell("data-changed")},RenderedCell.prototype.animateCellWithHighlight=function(){this.animateCell("highlight")},RenderedCell.prototype.animateCell=function(cssName){var _this=this,fullName="ag-cell-"+cssName,animationFullName="ag-cell-"+cssName+"-animation";utils_1.Utils.addCssClass(this.eGridCell,fullName),utils_1.Utils.removeCssClass(this.eGridCell,animationFullName),setTimeout(function(){utils_1.Utils.removeCssClass(_this.eGridCell,fullName),utils_1.Utils.addCssClass(_this.eGridCell,animationFullName),setTimeout(function(){utils_1.Utils.removeCssClass(_this.eGridCell,animationFullName)},1e3)},500)},RenderedCell.prototype.addCellFocusedListener=function(){var _this=this,cellFocusedLastTime=null,cellFocusedListener=function(event){var cellFocused=_this.focusedCellController.isCellFocused(_this.gridCell);cellFocused!==cellFocusedLastTime&&(utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-focus",cellFocused),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-no-focus",!cellFocused),cellFocusedLastTime=cellFocused),cellFocused&&event&&event.forceBrowserFocus&&_this.eGridCell.focus(),_this.editingCell&&!cellFocused&&_this.stopEditing()};this.eventService.addEventListener(events_1.Events.EVENT_CELL_FOCUSED,cellFocusedListener),this.addDestroyFunc(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_CELL_FOCUSED,cellFocusedListener)}),cellFocusedListener()},RenderedCell.prototype.setWidthOnCell=function(){var _this=this,widthChangedListener=function(){_this.eGridCell.style.width=_this.column.getActualWidth()+"px"};this.column.addEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener),this.addDestroyFunc(function(){_this.column.removeEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener)}),widthChangedListener()},RenderedCell.prototype.init=function(){this.value=this.getValue(),this.checkboxSelection=this.calculateCheckboxSelection(),this.setLeftOnCell(),this.setWidthOnCell(),this.setPinnedClasses(),this.addRangeSelectedListener(),this.addHighlightListener(),this.addChangeListener(),this.addCellFocusedListener(),this.addKeyDownListener(),this.addKeyPressListener(),this.gridOptionsWrapper.isSuppressCellSelection()||this.eGridCell.setAttribute("tabindex","-1"),this.addClasses(),this.setInlineEditingClass(),this.createParentOfValue(),this.populateCell()},RenderedCell.prototype.onEnterKeyDown=function(){this.editingCell?(this.stopEditing(),this.focusCell(!0)):this.startEditingIfEnabled(constants_1.Constants.KEY_ENTER)},RenderedCell.prototype.onF2KeyDown=function(){this.editingCell||this.startEditingIfEnabled(constants_1.Constants.KEY_F2)},RenderedCell.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopEditing(!0),this.focusCell(!0))},RenderedCell.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopEditing(!0),this.focusedCellController.isCellFocused(this.gridCell)&&this.focusCell(!0))},RenderedCell.prototype.onTabKeyDown=function(event){var editNextCell;this.editingCell?(this.stopEditing(),editNextCell=!0):editNextCell=!1;var foundCell=this.rowRenderer.moveFocusToNextCell(this.rowIndex,this.column,this.node.floating,event.shiftKey,editNextCell);foundCell&&event.preventDefault()},RenderedCell.prototype.onBackspaceOrDeleteKeyPressed=function(key){this.editingCell||this.startEditingIfEnabled(key)},RenderedCell.prototype.onSpaceKeyPressed=function(){if(!this.editingCell&&this.gridOptionsWrapper.isRowSelection()){var selected=this.node.isSelected();this.node.setSelected(!selected)}event.preventDefault()},RenderedCell.prototype.onNavigationKeyPressed=function(event,key){this.editingCell&&this.stopEditing(),this.rowRenderer.navigateToNextCell(key,this.rowIndex,this.column,this.node.floating),event.preventDefault()},RenderedCell.prototype.addKeyPressListener=function(){var _this=this,that=this,keyPressListener=function(event){if(that.isCellEditable()){var pressedChar=String.fromCharCode(event.charCode);" "===pressedChar?that.onSpaceKeyPressed():RenderedCell.PRINTABLE_CHARACTERS.indexOf(pressedChar)>=0&&(that.startEditingIfEnabled(null,pressedChar),event.preventDefault())}};this.eGridCell.addEventListener("keypress",keyPressListener),this.addDestroyFunc(function(){_this.eGridCell.removeEventListener("keypress",keyPressListener)})},RenderedCell.prototype.onKeyDown=function(event){var key=event.which||event.keyCode;switch(key){case constants_1.Constants.KEY_ENTER:this.onEnterKeyDown();break;case constants_1.Constants.KEY_F2:this.onF2KeyDown();break;case constants_1.Constants.KEY_ESCAPE:this.onEscapeKeyDown();break;case constants_1.Constants.KEY_TAB:this.onTabKeyDown(event);break;case constants_1.Constants.KEY_BACKSPACE:case constants_1.Constants.KEY_DELETE:this.onBackspaceOrDeleteKeyPressed(key);break;case constants_1.Constants.KEY_DOWN:case constants_1.Constants.KEY_UP:case constants_1.Constants.KEY_RIGHT:case constants_1.Constants.KEY_LEFT:this.onNavigationKeyPressed(event,key)}},RenderedCell.prototype.addKeyDownListener=function(){var _this=this,editingKeyListener=this.onKeyDown.bind(this);this.eGridCell.addEventListener("keydown",editingKeyListener),this.addDestroyFunc(function(){_this.eGridCell.removeEventListener("keydown",editingKeyListener)})},RenderedCell.prototype.createCellEditor=function(keyPress,charPress){var colDef=this.column.getColDef(),cellEditor=this.cellEditorFactory.createCellEditor(colDef.cellEditor);if(cellEditor.init){var params={value:this.getValue(),keyPress:keyPress,charPress:charPress,column:this.column,node:this.node,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this)};colDef.cellEditorParams&&utils_1.Utils.assign(params,colDef.cellEditorParams),cellEditor.init&&cellEditor.init(params)}return cellEditor},RenderedCell.prototype.stopEditingAndFocus=function(){this.stopEditing(),this.focusCell(!0)},RenderedCell.prototype.startEditingIfEnabled=function(keyPress,charPress){if(this.isCellEditable()){var cellEditor=this.createCellEditor(keyPress,charPress);if(cellEditor.isCancelBeforeStart&&cellEditor.isCancelBeforeStart())return void(cellEditor.destroy&&cellEditor.destroy());if(!cellEditor.getGui)return void console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method");this.cellEditor=cellEditor,this.editingCell=!0,this.cellEditorInPopup=this.cellEditor.isPopup&&this.cellEditor.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),cellEditor.afterGuiAttached&&cellEditor.afterGuiAttached()}},RenderedCell.prototype.addInCellEditor=function(){utils_1.Utils.removeAllChildren(this.eGridCell),this.eGridCell.appendChild(this.cellEditor.getGui()),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.eGridCell)(this.scope)},RenderedCell.prototype.addPopupCellEditor=function(){var _this=this,ePopupGui=this.cellEditor.getGui();this.hideEditorPopup=this.popupService.addAsModalPopup(ePopupGui,!0,function(){_this.editingCell&&_this.onPopupEditorClosed()}),this.popupService.positionPopupOverComponent({eventSource:this.eGridCell,ePopup:ePopupGui,keepWithinBounds:!0}),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(ePopupGui)(this.scope)},RenderedCell.prototype.focusCell=function(forceBrowserFocus){this.focusedCellController.setFocusedCell(this.rowIndex,this.column,this.node.floating,forceBrowserFocus)},RenderedCell.prototype.stopEditing=function(cancel){void 0===cancel&&(cancel=!1),this.editingCell=!1;var cancelAfterEnd=this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd(),acceptNewValue=!cancel&&!cancelAfterEnd;if(acceptNewValue){var newValue=this.cellEditor.getValue();this.valueService.setValue(this.node,this.column,newValue),this.value=this.getValue()}this.cellEditor.destroy&&this.cellEditor.destroy(),this.cellEditorInPopup?(this.hideEditorPopup(),this.hideEditorPopup=null):(utils_1.Utils.removeAllChildren(this.eGridCell),this.checkboxSelection?this.eGridCell.appendChild(this.eCellWrapper):this.cellRenderer&&this.eGridCell.appendChild(this.cellRenderer.getGui())),this.setInlineEditingClass(),this.refreshCell()},RenderedCell.prototype.createParams=function(){var params={node:this.node,data:this.node.data,value:this.value,rowIndex:this.rowIndex,colDef:this.column.getColDef(),$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridApi,columnApi:this.columnApi};return params},RenderedCell.prototype.createEvent=function(event,eventSource){var agEvent=this.createParams();return agEvent.event=event,agEvent},RenderedCell.prototype.isCellEditable=function(){return!this.editingCell&&(!this.node.group&&this.column.isCellEditable(this.node))},RenderedCell.prototype.onMouseEvent=function(eventName,mouseEvent,eventSource){switch(eventName){case"click":this.onCellClicked(mouseEvent);break;case"mousedown":this.onMouseDown();break;case"dblclick":this.onCellDoubleClicked(mouseEvent,eventSource);break;
case"contextmenu":this.onContextMenu(mouseEvent)}},RenderedCell.prototype.onContextMenu=function(mouseEvent){if(!mouseEvent.ctrlKey&&!mouseEvent.metaKey){var colDef=this.column.getColDef(),agEvent=this.createEvent(mouseEvent);this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_CONTEXT_MENU,agEvent),colDef.onCellContextMenu&&colDef.onCellContextMenu(agEvent),this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()&&(this.contextMenuFactory.showMenu(this.node,this.column,this.value,mouseEvent),mouseEvent.preventDefault())}},RenderedCell.prototype.onCellDoubleClicked=function(mouseEvent,eventSource){var colDef=this.column.getColDef(),agEvent=this.createEvent(mouseEvent,eventSource);this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_DOUBLE_CLICKED,agEvent),"function"==typeof colDef.onCellDoubleClicked&&colDef.onCellDoubleClicked(agEvent),this.gridOptionsWrapper.isSingleClickEdit()||this.startEditingIfEnabled()},RenderedCell.prototype.onMouseDown=function(){if(this.focusCell(!1),this.rangeController){var thisCell=this.gridCell,cellAlreadyInRange=this.rangeController.isCellInAnyRange(thisCell);cellAlreadyInRange||this.rangeController.setRangeToCell(thisCell)}},RenderedCell.prototype.onCellClicked=function(mouseEvent){var agEvent=this.createEvent(mouseEvent,this);this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_CLICKED,agEvent);var colDef=this.column.getColDef();colDef.onCellClicked&&colDef.onCellClicked(agEvent),this.gridOptionsWrapper.isSingleClickEdit()&&this.startEditingIfEnabled()},RenderedCell.prototype.setInlineEditingClass=function(){var editingInline=this.editingCell&&!this.cellEditorInPopup;utils_1.Utils.addOrRemoveCssClass(this.eGridCell,"ag-cell-inline-editing",editingInline),utils_1.Utils.addOrRemoveCssClass(this.eGridCell,"ag-cell-not-inline-editing",!editingInline)},RenderedCell.prototype.populateCell=function(){this.putDataIntoCell(),this.addStylesFromColDef(),this.addClassesFromColDef(),this.addClassesFromRules()},RenderedCell.prototype.addStylesFromColDef=function(){var colDef=this.column.getColDef();if(colDef.cellStyle){var cssToUse;if("function"==typeof colDef.cellStyle){var cellStyleParams={value:this.value,data:this.node.data,node:this.node,colDef:colDef,column:this.column,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},cellStyleFunc=colDef.cellStyle;cssToUse=cellStyleFunc(cellStyleParams)}else cssToUse=colDef.cellStyle;cssToUse&&utils_1.Utils.addStylesToElement(this.eGridCell,cssToUse)}},RenderedCell.prototype.addClassesFromColDef=function(){var _this=this,colDef=this.column.getColDef();if(colDef.cellClass){var classToUse;if("function"==typeof colDef.cellClass){var cellClassParams={value:this.value,data:this.node.data,node:this.node,colDef:colDef,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},cellClassFunc=colDef.cellClass;classToUse=cellClassFunc(cellClassParams)}else classToUse=colDef.cellClass;"string"==typeof classToUse?utils_1.Utils.addCssClass(this.eGridCell,classToUse):Array.isArray(classToUse)&&classToUse.forEach(function(cssClassItem){utils_1.Utils.addCssClass(_this.eGridCell,cssClassItem)})}},RenderedCell.prototype.addClassesFromRules=function(){var colDef=this.column.getColDef(),classRules=colDef.cellClassRules;if("object"==typeof classRules&&null!==classRules)for(var params={value:this.value,data:this.node.data,node:this.node,colDef:colDef,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},classNames=Object.keys(classRules),i=0;i<classNames.length;i++){var resultOfRule,className=classNames[i],rule=classRules[className];"string"==typeof rule?resultOfRule=this.expressionService.evaluate(rule,params):"function"==typeof rule&&(resultOfRule=rule(params)),resultOfRule?utils_1.Utils.addCssClass(this.eGridCell,className):utils_1.Utils.removeCssClass(this.eGridCell,className)}},RenderedCell.prototype.createParentOfValue=function(){if(this.checkboxSelection){this.eCellWrapper=document.createElement("span"),utils_1.Utils.addCssClass(this.eCellWrapper,"ag-cell-wrapper"),this.eGridCell.appendChild(this.eCellWrapper);var cbSelectionComponent=new checkboxSelectionComponent_1.CheckboxSelectionComponent;this.context.wireBean(cbSelectionComponent),cbSelectionComponent.init({rowNode:this.node}),this.eCellWrapper.appendChild(cbSelectionComponent.getGui()),this.addDestroyFunc(function(){return cbSelectionComponent.destroy()}),this.eSpanWithValue=document.createElement("span"),utils_1.Utils.addCssClass(this.eSpanWithValue,"ag-cell-value"),this.eCellWrapper.appendChild(this.eSpanWithValue),this.eParentOfValue=this.eSpanWithValue}else utils_1.Utils.addCssClass(this.eGridCell,"ag-cell-value"),this.eParentOfValue=this.eGridCell},RenderedCell.prototype.isVolatile=function(){return this.column.getColDef()["volatile"]},RenderedCell.prototype.refreshCell=function(animate,newData){if(void 0===animate&&(animate=!1),void 0===newData&&(newData=!1),this.value=this.getValue(),!newData&&this.cellRenderer&&this.cellRenderer.refresh){var valueFormatted=this.formatValue(this.value),cellRendererParams=this.column.getColDef().cellRendererParams,params=this.createRendererAndRefreshParams(valueFormatted,cellRendererParams);this.cellRenderer.refresh(params),this.addClassesFromRules()}else utils_1.Utils.removeAllChildren(this.eParentOfValue),this.cellRenderer&&this.cellRenderer.destroy&&this.cellRenderer.destroy(),this.cellRenderer=null,this.populateCell(),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.eGridCell)(this.scope);animate&&this.animateCellWithDataChanged()},RenderedCell.prototype.putDataIntoCell=function(){var colDef=this.column.getColDef(),valueFormatted=this.valueFormatterService.formatValue(this.column,this.node,this.scope,this.rowIndex,this.value);if(colDef.template)this.eParentOfValue.innerHTML=colDef.template;else if(colDef.templateUrl){var template=this.templateService.getTemplate(colDef.templateUrl,this.refreshCell.bind(this,!0));template&&(this.eParentOfValue.innerHTML=template)}else if(colDef.floatingCellRenderer&&this.node.floating)this.useCellRenderer(colDef.floatingCellRenderer,colDef.floatingCellRendererParams,valueFormatted);else if(colDef.cellRenderer)this.useCellRenderer(colDef.cellRenderer,colDef.cellRendererParams,valueFormatted);else{var valueToRender=utils_1.Utils.exists(valueFormatted)?valueFormatted:this.value;utils_1.Utils.exists(valueToRender)&&""!==valueToRender&&(this.eParentOfValue.innerHTML=valueToRender.toString())}},RenderedCell.prototype.formatValue=function(value){return this.valueFormatterService.formatValue(this.column,this.node,this.scope,this.rowIndex,value)},RenderedCell.prototype.createRendererAndRefreshParams=function(valueFormatted,cellRendererParams){var params={value:this.value,valueFormatted:valueFormatted,valueGetter:this.getValue,formatValue:this.formatValue.bind(this),data:this.node.data,node:this.node,colDef:this.column.getColDef(),column:this.column,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.eGridCell,eParentOfValue:this.eParentOfValue,addRenderedRowListener:this.renderedRow.addEventListener.bind(this.renderedRow)};return cellRendererParams&&utils_1.Utils.assign(params,cellRendererParams),params},RenderedCell.prototype.useCellRenderer=function(cellRendererKey,cellRendererParams,valueFormatted){var params=this.createRendererAndRefreshParams(valueFormatted,cellRendererParams);this.cellRenderer=this.cellRendererService.useCellRenderer(cellRendererKey,this.eParentOfValue,params)},RenderedCell.prototype.addClasses=function(){utils_1.Utils.addCssClass(this.eGridCell,"ag-cell"),this.eGridCell.setAttribute("colId",this.column.getColId()),this.node.group&&this.node.footer&&utils_1.Utils.addCssClass(this.eGridCell,"ag-footer-cell"),this.node.group&&!this.node.footer&&utils_1.Utils.addCssClass(this.eGridCell,"ag-group-cell")},RenderedCell.PRINTABLE_CHARACTERS="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"£$%^&*()_+-=[];'#,./|<>?:@~{}",__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],RenderedCell.prototype,"context",void 0),__decorate([context_1.Autowired("columnApi"),__metadata("design:type",columnController_1.ColumnApi)],RenderedCell.prototype,"columnApi",void 0),__decorate([context_1.Autowired("gridApi"),__metadata("design:type",gridApi_1.GridApi)],RenderedCell.prototype,"gridApi",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RenderedCell.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],RenderedCell.prototype,"expressionService",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],RenderedCell.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],RenderedCell.prototype,"$compile",void 0),__decorate([context_1.Autowired("templateService"),__metadata("design:type",templateService_1.TemplateService)],RenderedCell.prototype,"templateService",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],RenderedCell.prototype,"valueService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RenderedCell.prototype,"eventService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RenderedCell.prototype,"columnController",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],RenderedCell.prototype,"rangeController",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],RenderedCell.prototype,"focusedCellController",void 0),__decorate([context_1.Optional("contextMenuFactory"),__metadata("design:type",Object)],RenderedCell.prototype,"contextMenuFactory",void 0),__decorate([context_1.Autowired("focusService"),__metadata("design:type",focusService_1.FocusService)],RenderedCell.prototype,"focusService",void 0),__decorate([context_1.Autowired("cellEditorFactory"),__metadata("design:type",cellEditorFactory_1.CellEditorFactory)],RenderedCell.prototype,"cellEditorFactory",void 0),__decorate([context_1.Autowired("cellRendererFactory"),__metadata("design:type",cellRendererFactory_1.CellRendererFactory)],RenderedCell.prototype,"cellRendererFactory",void 0),__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],RenderedCell.prototype,"popupService",void 0),__decorate([context_1.Autowired("cellRendererService"),__metadata("design:type",cellRendererService_1.CellRendererService)],RenderedCell.prototype,"cellRendererService",void 0),__decorate([context_1.Autowired("valueFormatterService"),__metadata("design:type",valueFormatterService_1.ValueFormatterService)],RenderedCell.prototype,"valueFormatterService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedCell.prototype,"init",null),RenderedCell}(component_1.Component);exports.RenderedCell=RenderedCell},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),utils_1=__webpack_require__(7),gridCore_1=__webpack_require__(40),columnController_1=__webpack_require__(13),constants_1=__webpack_require__(8),gridCell_1=__webpack_require__(33),FocusService=function(){function FocusService(){this.destroyMethods=[],this.listeners=[]}return FocusService.prototype.addListener=function(listener){this.listeners.push(listener)},FocusService.prototype.removeListener=function(listener){utils_1.Utils.removeFromArray(this.listeners,listener)},FocusService.prototype.init=function(){var _this=this,focusListener=function(focusEvent){var gridCell=_this.getCellForFocus(focusEvent);gridCell&&_this.informListeners({gridCell:gridCell})},eRootGui=this.gridCore.getRootGui();eRootGui.addEventListener("focus",focusListener,!0),this.destroyMethods.push(function(){eRootGui.removeEventListener("focus",focusListener)})},FocusService.prototype.getCellForFocus=function(focusEvent){function checkRow(eTarget){var rowId=utils_1.Utils.getElementAttribute(eTarget,"row");utils_1.Utils.exists(rowId)&&utils_1.Utils.containsClass(eTarget,"ag-row")&&(0===rowId.indexOf("ft")?(floating=constants_1.Constants.FLOATING_TOP,rowId=rowId.substr(3)):0===rowId.indexOf("fb")?(floating=constants_1.Constants.FLOATING_BOTTOM,rowId=rowId.substr(3)):floating=null,row=parseInt(rowId))}function checkColumn(eTarget){var colId=utils_1.Utils.getElementAttribute(eTarget,"colid");if(utils_1.Utils.exists(colId)&&utils_1.Utils.containsClass(eTarget,"ag-cell")){var foundColumn=that.columnController.getOriginalColumn(colId);foundColumn&&(column=foundColumn)}}for(var column=null,row=null,floating=null,that=this,eTarget=focusEvent.target;eTarget;)checkRow(eTarget),checkColumn(eTarget),eTarget=eTarget.parentNode;if(utils_1.Utils.exists(column)&&utils_1.Utils.exists(row)){var gridCell=new gridCell_1.GridCell(row,floating,column);return gridCell}return null},FocusService.prototype.informListeners=function(event){this.listeners.forEach(function(listener){return listener(event)})},FocusService.prototype.destroy=function(){this.destroyMethods.forEach(function(destroyMethod){return destroyMethod()})},__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],FocusService.prototype,"gridCore",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],FocusService.prototype,"columnController",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FocusService.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FocusService.prototype,"destroy",null),FocusService=__decorate([context_1.Bean("focusService"),__metadata("design:paramtypes",[])],FocusService)}();exports.FocusService=FocusService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},gridOptionsWrapper_1=__webpack_require__(3),paginationController_1=__webpack_require__(41),columnController_1=__webpack_require__(13),rowRenderer_1=__webpack_require__(23),filterManager_1=__webpack_require__(43),eventService_1=__webpack_require__(4),gridPanel_1=__webpack_require__(24),logger_1=__webpack_require__(5),constants_1=__webpack_require__(8),popupService_1=__webpack_require__(44),events_1=__webpack_require__(10),borderLayout_1=__webpack_require__(30),context_1=__webpack_require__(6),focusedCellController_1=__webpack_require__(35),component_1=__webpack_require__(47),GridCore=function(){function GridCore(loggerFactory){this.logger=loggerFactory.create("GridCore")}return GridCore.prototype.init=function(){var toolPanelGui,_this=this,eSouthPanel=this.createSouthPanel();this.toolPanel&&!this.gridOptionsWrapper.isForPrint()&&(toolPanelGui=this.toolPanel.getGui());var rowGroupGui;this.rowGroupCompFactory&&(this.rowGroupComp=this.rowGroupCompFactory.create(),rowGroupGui=this.rowGroupComp.getGui()),this.eRootPanel=new borderLayout_1.BorderLayout({center:this.gridPanel.getLayout(),east:toolPanelGui,north:rowGroupGui,south:eSouthPanel,dontFill:this.gridOptionsWrapper.isForPrint(),name:"eRootPanel"}),this.showToolPanel(this.gridOptionsWrapper.isShowToolPanel()),this.eGridDiv.appendChild(this.eRootPanel.getGui()),this.$scope&&this.$scope.$watch(this.quickFilterOnScope,function(newFilter){return _this.filterManager.setQuickFilter(newFilter)}),this.gridOptionsWrapper.isForPrint()||this.addWindowResizeListener(),this.doLayout(),this.finished=!1,this.periodicallyDoLayout(),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged(),this.logger.log("ready")},GridCore.prototype.getRootGui=function(){return this.eRootPanel.getGui()},GridCore.prototype.createSouthPanel=function(){!this.statusBar&&this.gridOptionsWrapper.isEnableStatusBar()&&console.warn("ag-Grid: status bar is only available in ag-Grid-Enterprise");var statusBarEnabled=this.statusBar&&this.gridOptionsWrapper.isEnableStatusBar(),paginationPanelEnabled=this.gridOptionsWrapper.isRowModelPagination()&&!this.gridOptionsWrapper.isForPrint();if(!statusBarEnabled&&!paginationPanelEnabled)return null;var eSouthPanel=document.createElement("div");return statusBarEnabled&&eSouthPanel.appendChild(this.statusBar.getGui()),paginationPanelEnabled&&eSouthPanel.appendChild(this.paginationController.getGui()),eSouthPanel},GridCore.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var rowGroupPanelShow=this.gridOptionsWrapper.getRowGroupPanelShow();if(rowGroupPanelShow===constants_1.Constants.ALWAYS)this.eRootPanel.setNorthVisible(!0);else if(rowGroupPanelShow===constants_1.Constants.ONLY_WHEN_GROUPING){var grouping=!this.columnController.isRowGroupEmpty();this.eRootPanel.setNorthVisible(grouping)}else this.eRootPanel.setNorthVisible(!1)}},GridCore.prototype.addWindowResizeListener=function(){var that=this;this.windowResizeListener=function(){that.doLayout()},window.addEventListener("resize",this.windowResizeListener)},GridCore.prototype.periodicallyDoLayout=function(){if(!this.finished){var that=this;setTimeout(function(){that.doLayout(),that.gridPanel.periodicallyCheck(),that.periodicallyDoLayout()},500)}},GridCore.prototype.showToolPanel=function(show){return show&&!this.toolPanel?(console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise"),void(this.toolPanelShowing=!1)):(this.toolPanelShowing=show,void this.eRootPanel.setEastVisible(show))},GridCore.prototype.isToolPanelShowing=function(){return this.toolPanelShowing},GridCore.prototype.destroy=function(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.logger.log("Removing windowResizeListener")),this.finished=!0,this.eGridDiv.removeChild(this.eRootPanel.getGui()),this.logger.log("Grid DOM removed")},GridCore.prototype.ensureNodeVisible=function(comparator){if(this.doingVirtualPaging)throw"Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory";for(var rowCount=this.rowModel.getRowCount(),comparatorIsAFunction="function"==typeof comparator,indexToSelect=-1,i=0;i<rowCount;i++){var node=this.rowModel.getRow(i);if(comparatorIsAFunction){if(comparator(node)){indexToSelect=i;break}}else if(comparator===node||comparator===node.data){indexToSelect=i;break}}indexToSelect>=0&&this.gridPanel.ensureIndexVisible(indexToSelect)},GridCore.prototype.doLayout=function(){var sizeChanged=this.eRootPanel.doLayout();if(sizeChanged){this.rowRenderer.drawVirtualRows();var event={clientWidth:this.eRootPanel.getGui().clientWidth,clientHeight:this.eRootPanel.getGui().clientHeight};this.eventService.dispatchEvent(events_1.Events.EVENT_GRID_SIZE_CHANGED,event)}},__decorate([context_1.Autowired("gridOptions"),__metadata("design:type",Object)],GridCore.prototype,"gridOptions",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],GridCore.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("paginationController"),__metadata("design:type",paginationController_1.PaginationController)],GridCore.prototype,"paginationController",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],GridCore.prototype,"rowModel",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GridCore.prototype,"columnController",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],GridCore.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],GridCore.prototype,"filterManager",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GridCore.prototype,"eventService",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],GridCore.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("eGridDiv"),__metadata("design:type",HTMLElement)],GridCore.prototype,"eGridDiv",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],GridCore.prototype,"$scope",void 0),__decorate([context_1.Autowired("quickFilterOnScope"),__metadata("design:type",String)],GridCore.prototype,"quickFilterOnScope",void 0),__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],GridCore.prototype,"popupService",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],GridCore.prototype,"focusedCellController",void 0),__decorate([context_1.Optional("rowGroupCompFactory"),__metadata("design:type",Object)],GridCore.prototype,"rowGroupCompFactory",void 0),__decorate([context_1.Optional("toolPanel"),__metadata("design:type",component_1.Component)],GridCore.prototype,"toolPanel",void 0),__decorate([context_1.Optional("statusBar"),__metadata("design:type",component_1.Component)],GridCore.prototype,"statusBar",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridCore.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridCore.prototype,"destroy",null),GridCore=__decorate([context_1.Bean("gridCore"),__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:paramtypes",[logger_1.LoggerFactory])],GridCore)}();exports.GridCore=GridCore},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),gridOptionsWrapper_1=__webpack_require__(3),context_1=__webpack_require__(6),gridPanel_1=__webpack_require__(24),selectionController_1=__webpack_require__(28),context_2=__webpack_require__(6),sortController_1=__webpack_require__(42),context_3=__webpack_require__(6),eventService_1=__webpack_require__(4),events_1=__webpack_require__(10),filterManager_1=__webpack_require__(43),constants_1=__webpack_require__(8),template='<div class="ag-paging-panel ag-font-style"><span id="pageRowSummaryPanel" class="ag-paging-row-summary-panel"><span id="firstRowOnPage"></span> [TO] <span id="lastRowOnPage"></span> [OF] <span id="recordCount"></span></span><span class="ag-paging-page-summary-panel"><button type="button" class="ag-paging-button" id="btFirst">[FIRST]</button><button type="button" class="ag-paging-button" id="btPrevious">[PREVIOUS]</button>[PAGE] <span id="current"></span> [OF] <span id="total"></span><button type="button" class="ag-paging-button" id="btNext">[NEXT]</button><button type="button" class="ag-paging-button" id="btLast">[LAST]</button></span></div>',PaginationController=function(){function PaginationController(){}return PaginationController.prototype.init=function(){var _this=this;this.rowModel.getType()===constants_1.Constants.ROW_MODEL_TYPE_NORMAL&&(this.inMemoryRowModel=this.rowModel),this.setupComponents(),this.callVersion=0;var paginationEnabled=this.gridOptionsWrapper.isRowModelPagination();this.eventService.addEventListener(events_1.Events.EVENT_FILTER_CHANGED,function(){paginationEnabled&&_this.gridOptionsWrapper.isEnableServerSideFilter()&&_this.reset()}),this.eventService.addEventListener(events_1.Events.EVENT_SORT_CHANGED,function(){paginationEnabled&&_this.gridOptionsWrapper.isEnableServerSideSorting()&&_this.reset()}),paginationEnabled&&this.gridOptionsWrapper.getDatasource()&&this.setDatasource(this.gridOptionsWrapper.getDatasource())},PaginationController.prototype.setDatasource=function(datasource){this.datasource=datasource,datasource&&this.reset()},PaginationController.prototype.reset=function(){utils_1.Utils.missing(this.datasource)||(this.selectionController.reset(),this.datasource.pageSize&&"number"!=typeof this.datasource.pageSize&&console.warn("datasource.pageSize should be a number"),this.pageSize=this.datasource.pageSize,"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null),this.currentPage=0,this.ePageRowSummaryPanel.style.visibility="hidden",this.setTotalLabels(),this.loadPage())},PaginationController.prototype.myToLocaleString=function(input){return"number"!=typeof input?"":input.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},PaginationController.prototype.setTotalLabels=function(){if(this.foundMaxRow)this.lbTotal.innerHTML=this.myToLocaleString(this.totalPages),this.lbRecordCount.innerHTML=this.myToLocaleString(this.rowCount);else{var moreText=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=moreText,this.lbRecordCount.innerHTML=moreText}},PaginationController.prototype.calculateTotalPages=function(){this.totalPages=Math.floor((this.rowCount-1)/this.pageSize)+1},PaginationController.prototype.pageLoaded=function(rows,lastRowIndex){var firstId=this.currentPage*this.pageSize;this.inMemoryRowModel.setRowData(rows,!0,firstId),!this.foundMaxRow&&"number"==typeof lastRowIndex&&lastRowIndex>=0&&(this.foundMaxRow=!0,this.rowCount=lastRowIndex,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage())),this.enableOrDisableButtons(),this.updateRowLabels()},PaginationController.prototype.updateRowLabels=function(){var startRow,endRow;this.isZeroPagesToDisplay()?(startRow=0,endRow=0):(startRow=this.pageSize*this.currentPage+1,endRow=startRow+this.pageSize-1,this.foundMaxRow&&endRow>this.rowCount&&(endRow=this.rowCount)),this.lbFirstRowOnPage.innerHTML=this.myToLocaleString(startRow),this.lbLastRowOnPage.innerHTML=this.myToLocaleString(endRow),this.ePageRowSummaryPanel.style.visibility=""},PaginationController.prototype.loadPage=function(){function successCallback(rows,lastRowIndex){that.isCallDaemon(callVersionCopy)||that.pageLoaded(rows,lastRowIndex)}function failCallback(){that.isCallDaemon(callVersionCopy)||that.inMemoryRowModel.setRowData([],!0)}this.enableOrDisableButtons();var startRow=this.currentPage*this.datasource.pageSize,endRow=(this.currentPage+1)*this.datasource.pageSize;this.lbCurrent.innerHTML=this.myToLocaleString(this.currentPage+1),this.callVersion++;var callVersionCopy=this.callVersion,that=this;this.gridPanel.showLoadingOverlay();var sortModel;this.gridOptionsWrapper.isEnableServerSideSorting()&&(sortModel=this.sortController.getSortModel());var filterModel;this.gridOptionsWrapper.isEnableServerSideFilter()&&(filterModel=this.filterManager.getFilterModel());var params={startRow:startRow,endRow:endRow,successCallback:successCallback,failCallback:failCallback,sortModel:sortModel,filterModel:filterModel},getRowsParams=utils_1.Utils.getFunctionParameters(this.datasource.getRows);getRowsParams.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(params)},PaginationController.prototype.isCallDaemon=function(versionCopy){return versionCopy!==this.callVersion},PaginationController.prototype.onBtNext=function(){this.currentPage++,this.loadPage()},PaginationController.prototype.onBtPrevious=function(){this.currentPage--,this.loadPage()},PaginationController.prototype.onBtFirst=function(){this.currentPage=0,this.loadPage()},PaginationController.prototype.onBtLast=function(){this.currentPage=this.totalPages-1,this.loadPage()},PaginationController.prototype.isZeroPagesToDisplay=function(){return this.foundMaxRow&&0===this.totalPages},PaginationController.prototype.enableOrDisableButtons=function(){var disablePreviousAndFirst=0===this.currentPage;this.btPrevious.disabled=disablePreviousAndFirst,this.btFirst.disabled=disablePreviousAndFirst;var zeroPagesToDisplay=this.isZeroPagesToDisplay(),onLastPage=this.foundMaxRow&&this.currentPage===this.totalPages-1,disableNext=onLastPage||zeroPagesToDisplay;this.btNext.disabled=disableNext;var disableLast=!this.foundMaxRow||zeroPagesToDisplay||this.currentPage===this.totalPages-1;this.btLast.disabled=disableLast},PaginationController.prototype.createTemplate=function(){var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc();return template.replace("[PAGE]",localeTextFunc("page","Page")).replace("[TO]",localeTextFunc("to","to")).replace("[OF]",localeTextFunc("of","of")).replace("[OF]",localeTextFunc("of","of")).replace("[FIRST]",localeTextFunc("first","First")).replace("[PREVIOUS]",localeTextFunc("previous","Previous")).replace("[NEXT]",localeTextFunc("next","Next")).replace("[LAST]",localeTextFunc("last","Last"))},PaginationController.prototype.getGui=function(){return this.eGui},PaginationController.prototype.setupComponents=function(){this.eGui=utils_1.Utils.loadTemplate(this.createTemplate()),this.btNext=this.eGui.querySelector("#btNext"),this.btPrevious=this.eGui.querySelector("#btPrevious"),this.btFirst=this.eGui.querySelector("#btFirst"),this.btLast=this.eGui.querySelector("#btLast"),
this.lbCurrent=this.eGui.querySelector("#current"),this.lbTotal=this.eGui.querySelector("#total"),this.lbRecordCount=this.eGui.querySelector("#recordCount"),this.lbFirstRowOnPage=this.eGui.querySelector("#firstRowOnPage"),this.lbLastRowOnPage=this.eGui.querySelector("#lastRowOnPage"),this.ePageRowSummaryPanel=this.eGui.querySelector("#pageRowSummaryPanel");var that=this;this.btNext.addEventListener("click",function(){that.onBtNext()}),this.btPrevious.addEventListener("click",function(){that.onBtPrevious()}),this.btFirst.addEventListener("click",function(){that.onBtFirst()}),this.btLast.addEventListener("click",function(){that.onBtLast()})},__decorate([context_2.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],PaginationController.prototype,"filterManager",void 0),__decorate([context_2.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],PaginationController.prototype,"gridPanel",void 0),__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],PaginationController.prototype,"gridOptionsWrapper",void 0),__decorate([context_2.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],PaginationController.prototype,"selectionController",void 0),__decorate([context_2.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],PaginationController.prototype,"sortController",void 0),__decorate([context_2.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],PaginationController.prototype,"eventService",void 0),__decorate([context_2.Autowired("rowModel"),__metadata("design:type",Object)],PaginationController.prototype,"rowModel",void 0),__decorate([context_3.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],PaginationController.prototype,"init",null),PaginationController=__decorate([context_1.Bean("paginationController"),__metadata("design:paramtypes",[])],PaginationController)}();exports.PaginationController=PaginationController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},column_1=__webpack_require__(15),context_1=__webpack_require__(6),gridOptionsWrapper_1=__webpack_require__(3),columnController_1=__webpack_require__(13),eventService_1=__webpack_require__(4),events_1=__webpack_require__(10),context_2=__webpack_require__(6),utils_1=__webpack_require__(7),SortController=function(){function SortController(){}return SortController.prototype.progressSort=function(column,multiSort){column.setSort(this.getNextSortDirection(column)),column.getSort()?column.setSortedAt((new Date).valueOf()):column.setSortedAt(null);var doingMultiSort=multiSort&&!this.gridOptionsWrapper.isSuppressMultiSort();doingMultiSort||this.clearSortBarThisColumn(column),this.dispatchSortChangedEvents()},SortController.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_BEFORE_SORT_CHANGED),this.eventService.dispatchEvent(events_1.Events.EVENT_SORT_CHANGED),this.eventService.dispatchEvent(events_1.Events.EVENT_AFTER_SORT_CHANGED)},SortController.prototype.clearSortBarThisColumn=function(columnToSkip){this.columnController.getAllColumnsIncludingAuto().forEach(function(columnToClear){columnToClear!==columnToSkip&&columnToClear.setSort(null)})},SortController.prototype.getNextSortDirection=function(column){var sortingOrder;if(sortingOrder=column.getColDef().sortingOrder?column.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():SortController.DEFAULT_SORTING_ORDER,!Array.isArray(sortingOrder)||sortingOrder.length<=0)return void console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+sortingOrder);var result,currentIndex=sortingOrder.indexOf(column.getSort()),notInArray=currentIndex<0,lastItemInArray=currentIndex==sortingOrder.length-1;return result=notInArray||lastItemInArray?sortingOrder[0]:sortingOrder[currentIndex+1],SortController.DEFAULT_SORTING_ORDER.indexOf(result)<0?(console.warn("ag-grid: invalid sort type "+result),null):result},SortController.prototype.getSortModel=function(){var columnsWithSorting=this.getColumnsWithSortingOrdered();return utils_1.Utils.map(columnsWithSorting,function(column){return{colId:column.getColId(),sort:column.getSort()}})},SortController.prototype.setSortModel=function(sortModel){if(!this.gridOptionsWrapper.isEnableSorting())return void console.warn("ag-grid: You are setting the sort model on a grid that does not have sorting enabled");var sortModelProvided=sortModel&&sortModel.length>0,allColumnsIncludingAuto=this.columnController.getAllColumnsIncludingAuto();allColumnsIncludingAuto.forEach(function(column){var sortForCol=null,sortedAt=-1;if(sortModelProvided&&!column.getColDef().suppressSorting)for(var j=0;j<sortModel.length;j++){var sortModelEntry=sortModel[j];"string"==typeof sortModelEntry.colId&&"string"==typeof column.getColId()&&sortModelEntry.colId===column.getColId()&&(sortForCol=sortModelEntry.sort,sortedAt=j)}sortForCol?(column.setSort(sortForCol),column.setSortedAt(sortedAt)):(column.setSort(null),column.setSortedAt(null))}),this.dispatchSortChangedEvents()},SortController.prototype.getColumnsWithSortingOrdered=function(){var allColumnsIncludingAuto=this.columnController.getAllColumnsIncludingAuto(),columnsWithSorting=utils_1.Utils.filter(allColumnsIncludingAuto,function(column){return!!column.getSort()});return columnsWithSorting.sort(function(a,b){return a.sortedAt-b.sortedAt}),columnsWithSorting},SortController.prototype.getSortForRowController=function(){var columnsWithSorting=this.getColumnsWithSortingOrdered();return utils_1.Utils.map(columnsWithSorting,function(column){var ascending=column.getSort()===column_1.Column.SORT_ASC;return{inverter:ascending?1:-1,column:column}})},SortController.DEFAULT_SORTING_ORDER=[column_1.Column.SORT_ASC,column_1.Column.SORT_DESC,null],__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],SortController.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],SortController.prototype,"columnController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],SortController.prototype,"eventService",void 0),SortController=__decorate([context_2.Bean("sortController"),__metadata("design:paramtypes",[])],SortController)}();exports.SortController=SortController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),gridOptionsWrapper_1=__webpack_require__(3),popupService_1=__webpack_require__(44),valueService_1=__webpack_require__(29),columnController_1=__webpack_require__(13),textFilter_1=__webpack_require__(45),numberFilter_1=__webpack_require__(46),context_1=__webpack_require__(6),eventService_1=__webpack_require__(4),events_1=__webpack_require__(10),FilterManager=function(){function FilterManager(){this.allFilters={},this.quickFilter=null,this.availableFilters={text:textFilter_1.TextFilter,number:numberFilter_1.NumberFilter}}return FilterManager.prototype.init=function(){this.eventService.addEventListener(events_1.Events.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this))},FilterManager.prototype.registerFilter=function(key,Filter){this.availableFilters[key]=Filter},FilterManager.prototype.setFilterModel=function(model){var _this=this;if(model){var modelKeys=Object.keys(model);utils_1.Utils.iterateObject(this.allFilters,function(colId,filterWrapper){utils_1.Utils.removeFromArray(modelKeys,colId);var newModel=model[colId];_this.setModelOnFilterWrapper(filterWrapper.filter,newModel)}),utils_1.Utils.iterateArray(modelKeys,function(colId){var column=_this.columnController.getOriginalColumn(colId);if(!column)return void console.warn("Warning ag-grid setFilterModel - no column found for colId "+colId);var filterWrapper=_this.getOrCreateFilterWrapper(column);_this.setModelOnFilterWrapper(filterWrapper.filter,model[colId])})}else utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){_this.setModelOnFilterWrapper(filterWrapper.filter,null)});this.onFilterChanged()},FilterManager.prototype.setModelOnFilterWrapper=function(filter,newModel){if("function"!=typeof filter.getApi)return void console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");var filterApi=filter.getApi();return"function"!=typeof filterApi.setModel?void console.warn("Warning ag-grid - filter API missing setModel method, which is needed for setFilterModel"):void filterApi.setModel(newModel)},FilterManager.prototype.getFilterModel=function(){var result={};return utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){if("function"!=typeof filterWrapper.filter.getApi)return void console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");var filterApi=filterWrapper.filter.getApi();if("function"!=typeof filterApi.getModel)return void console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel");var model=filterApi.getModel();utils_1.Utils.exists(model)&&(result[key]=model)}),result},FilterManager.prototype.isAdvancedFilterPresent=function(){var atLeastOneActive=!1;return utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){filterWrapper.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),filterWrapper.filter.isFilterActive()?(atLeastOneActive=!0,filterWrapper.column.setFilterActive(!0)):filterWrapper.column.setFilterActive(!1)}),atLeastOneActive},FilterManager.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},FilterManager.prototype.doesFilterPass=function(node,filterToSkip){for(var data=node.data,colKeys=Object.keys(this.allFilters),i=0,l=colKeys.length;i<l;i++){var colId=colKeys[i],filterWrapper=this.allFilters[colId];if(void 0!==filterWrapper&&filterWrapper.filter!==filterToSkip&&filterWrapper.filter.isFilterActive()){filterWrapper.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass");var params={node:node,data:data};if(!filterWrapper.filter.doesFilterPass(params))return!1}}return!0},FilterManager.prototype.setQuickFilter=function(newFilter){if(void 0!==newFilter&&""!==newFilter||(newFilter=null),this.quickFilter!==newFilter){if(this.gridOptionsWrapper.isRowModelVirtual())return void console.warn("ag-grid: cannot do quick filtering when doing virtual paging");void 0!==newFilter&&""!==newFilter||(newFilter=null),null!==newFilter&&(newFilter=newFilter.toUpperCase()),this.quickFilter=newFilter,this.onFilterChanged()}},FilterManager.prototype.onFilterChanged=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_BEFORE_FILTER_CHANGED),this.advancedFilterPresent=this.isAdvancedFilterPresent(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){filterWrapper.filter.onAnyFilterChanged&&filterWrapper.filter.onAnyFilterChanged()}),this.eventService.dispatchEvent(events_1.Events.EVENT_FILTER_CHANGED),this.eventService.dispatchEvent(events_1.Events.EVENT_AFTER_FILTER_CHANGED)},FilterManager.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},FilterManager.prototype.doesRowPassOtherFilters=function(filterToSkip,node){return this.doesRowPassFilter(node,filterToSkip)},FilterManager.prototype.doesRowPassFilter=function(node,filterToSkip){return!(this.isQuickFilterPresent()&&(node.quickFilterAggregateText||this.aggregateRowForQuickFilter(node),node.quickFilterAggregateText.indexOf(this.quickFilter)<0))&&(!(this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(node))&&!(this.advancedFilterPresent&&!this.doesFilterPass(node,filterToSkip)))},FilterManager.prototype.aggregateRowForQuickFilter=function(node){var aggregatedText="",that=this;this.columnController.getAllOriginalColumns().forEach(function(column){var value=that.valueService.getValue(column,node);value&&""!==value&&(aggregatedText=aggregatedText+value.toString().toUpperCase()+"_")}),node.quickFilterAggregateText=aggregatedText},FilterManager.prototype.onNewRowsLoaded=function(){var that=this;Object.keys(this.allFilters).forEach(function(field){var filter=that.allFilters[field].filter;filter.onNewRowsLoaded&&filter.onNewRowsLoaded()})},FilterManager.prototype.createValueGetter=function(column){var that=this;return function(node){return that.valueService.getValue(column,node)}},FilterManager.prototype.getFilterApi=function(column){var filterWrapper=this.getOrCreateFilterWrapper(column);if(filterWrapper&&"function"==typeof filterWrapper.filter.getApi)return filterWrapper.filter.getApi()},FilterManager.prototype.getOrCreateFilterWrapper=function(column){var filterWrapper=this.allFilters[column.getColId()];return filterWrapper||(filterWrapper=this.createFilterWrapper(column),this.allFilters[column.getColId()]=filterWrapper),filterWrapper},FilterManager.prototype.destroyFilter=function(column){var filterWrapper=this.allFilters[column.getColId()];filterWrapper&&(filterWrapper.destroy&&filterWrapper.destroy(),delete this.allFilters[column.getColId()],this.onFilterChanged(),filterWrapper.column.setFilterActive(!1))},FilterManager.prototype.createFilterWrapper=function(column){var _this=this,colDef=column.getColDef(),filterWrapper={column:column,filter:null,scope:null,gui:null};if("function"==typeof colDef.filter)this.gridOptionsWrapper.isAngularCompileFilters()&&(filterWrapper.scope=this.$scope.$new(),filterWrapper.scope.context=this.gridOptionsWrapper.getContext()),this.assertMethodHasNoParameters(colDef.filter),filterWrapper.filter=new colDef.filter;else if(utils_1.Utils.missing(colDef.filter)||"string"==typeof colDef.filter){var Filter=this.getFilterFromCache(colDef.filter);filterWrapper.filter=new Filter}else console.error("ag-Grid: colDef.filter should be function or a string");this.context.wireBean(filterWrapper.filter);var filterChangedCallback=this.onFilterChanged.bind(this),filterModifiedCallback=function(){return _this.eventService.dispatchEvent(events_1.Events.EVENT_FILTER_MODIFIED)},doesRowPassOtherFilters=this.doesRowPassOtherFilters.bind(this,filterWrapper.filter),filterParams=colDef.filterParams,params={column:column,colDef:colDef,rowModel:this.rowModel,filterChangedCallback:filterChangedCallback,filterModifiedCallback:filterModifiedCallback,filterParams:filterParams,localeTextFunc:this.gridOptionsWrapper.getLocaleTextFunc(),valueGetter:this.createValueGetter(column),doesRowPassOtherFilter:doesRowPassOtherFilters,context:this.gridOptionsWrapper.getContext(),$scope:filterWrapper.scope};if(!filterWrapper.filter.init)throw"Filter is missing method init";if(filterWrapper.filter.init(params),!filterWrapper.filter.getGui)throw"Filter is missing method getGui";var eFilterGui=document.createElement("div");eFilterGui.className="ag-filter";var guiFromFilter=filterWrapper.filter.getGui();if(utils_1.Utils.isNodeOrElement(guiFromFilter))eFilterGui.appendChild(guiFromFilter);else{var eTextSpan=document.createElement("span");eTextSpan.innerHTML=guiFromFilter,eFilterGui.appendChild(eTextSpan)}return filterWrapper.scope?filterWrapper.gui=this.$compile(eFilterGui)(filterWrapper.scope)[0]:filterWrapper.gui=eFilterGui,filterWrapper},FilterManager.prototype.getFilterFromCache=function(filterType){var defaultFilterType=this.enterprise?"set":"text",defaultFilter=this.availableFilters[defaultFilterType];return utils_1.Utils.missing(filterType)?defaultFilter:(this.enterprise||"set"!==filterType||(console.warn("ag-Grid: Set filter is only available in Enterprise ag-Grid"),filterType="text"),this.availableFilters[filterType]?this.availableFilters[filterType]:(console.error("ag-Grid: Could not find filter type "+filterType),this.availableFilters[defaultFilter]))},FilterManager.prototype.onNewColumnsLoaded=function(){this.destroy()},FilterManager.prototype.destroy=function(){utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){filterWrapper.filter.destroy&&(filterWrapper.filter.destroy(),filterWrapper.column.setFilterActive(!1))}),this.allFilters={}},FilterManager.prototype.assertMethodHasNoParameters=function(theMethod){var getRowsParams=utils_1.Utils.getFunctionParameters(theMethod);getRowsParams.length>0&&(console.warn("ag-grid: It looks like your filter is of the old type and expecting parameters in the constructor."),console.warn("ag-grid: From ag-grid 1.14, the constructor should take no parameters and init() used instead."))},__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],FilterManager.prototype,"$compile",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],FilterManager.prototype,"$scope",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FilterManager.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("gridCore"),__metadata("design:type",Object)],FilterManager.prototype,"gridCore",void 0),__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],FilterManager.prototype,"popupService",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],FilterManager.prototype,"valueService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],FilterManager.prototype,"columnController",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],FilterManager.prototype,"rowModel",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],FilterManager.prototype,"eventService",void 0),__decorate([context_1.Autowired("enterprise"),__metadata("design:type",Boolean)],FilterManager.prototype,"enterprise",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],FilterManager.prototype,"context",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FilterManager.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FilterManager.prototype,"destroy",null),FilterManager=__decorate([context_1.Bean("filterManager"),__metadata("design:paramtypes",[])],FilterManager)}();exports.FilterManager=FilterManager},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),constants_1=__webpack_require__(8),context_1=__webpack_require__(6),gridCore_1=__webpack_require__(40),PopupService=function(){function PopupService(){}return PopupService.prototype.getPopupParent=function(){return this.gridCore.getRootGui()},PopupService.prototype.positionPopupForMenu=function(params){var minWidth,sourceRect=params.eventSource.getBoundingClientRect(),parentRect=this.getPopupParent().getBoundingClientRect(),x=sourceRect.right-parentRect.left-2,y=sourceRect.top-parentRect.top;minWidth=params.ePopup.clientWidth>0?params.ePopup.clientWidth:200;var widthOfParent=parentRect.right-parentRect.left,maxX=widthOfParent-minWidth;x>maxX&&(x=sourceRect.left-minWidth),x<0&&(x=0),params.ePopup.style.left=x+"px",params.ePopup.style.top=y+"px"},PopupService.prototype.positionPopupUnderMouseEvent=function(params){var parentRect=this.getPopupParent().getBoundingClientRect();this.positionPopup({ePopup:params.ePopup,x:params.mouseEvent.clientX-parentRect.left,y:params.mouseEvent.clientY-parentRect.top,keepWithinBounds:!0})},PopupService.prototype.positionPopupUnderComponent=function(params){var sourceRect=params.eventSource.getBoundingClientRect(),parentRect=this.getPopupParent().getBoundingClientRect();this.positionPopup({ePopup:params.ePopup,minWidth:params.minWidth,nudgeX:params.nudgeX,nudgeY:params.nudgeY,x:sourceRect.left-parentRect.left,y:sourceRect.top-parentRect.top+sourceRect.height,keepWithinBounds:params.keepWithinBounds})},PopupService.prototype.positionPopupOverComponent=function(params){var sourceRect=params.eventSource.getBoundingClientRect(),parentRect=this.getPopupParent().getBoundingClientRect();this.positionPopup({ePopup:params.ePopup,minWidth:params.minWidth,nudgeX:params.nudgeX,nudgeY:params.nudgeY,x:sourceRect.left-parentRect.left,y:sourceRect.top-parentRect.top,keepWithinBounds:params.keepWithinBounds})},PopupService.prototype.positionPopup=function(params){var parentRect=this.getPopupParent().getBoundingClientRect(),x=params.x,y=params.y;if(params.nudgeX&&(x+=params.nudgeX),params.nudgeY&&(y+=params.nudgeY),params.keepWithinBounds){var minWidth;minWidth=params.minWidth>0?params.minWidth:params.ePopup.clientWidth>0?params.ePopup.clientWidth:200;var widthOfParent=parentRect.right-parentRect.left,maxX=widthOfParent-minWidth;x>maxX&&(x=maxX),x<0&&(x=0)}params.ePopup.style.left=x+"px",params.ePopup.style.top=y+"px"},PopupService.prototype.addAsModalPopup=function(eChild,closeOnEsc,closedCallback){function hidePopupOnEsc(event){var key=event.which||event.keyCode;key===constants_1.Constants.KEY_ESCAPE&&hidePopup(null)}function hidePopup(event){event&&event===eventFromChild||popupHidden||(popupHidden=!0,that.getPopupParent().removeChild(eChild),eBody.removeEventListener("keydown",hidePopupOnEsc),eBody.removeEventListener("click",hidePopup),eBody.removeEventListener("contextmenu",hidePopup),eChild.removeEventListener("click",consumeClick),closedCallback&&closedCallback())}function consumeClick(event){eventFromChild=event}var eBody=document.body;if(!eBody)return void console.warn("ag-grid: could not find the body of the document, document.body is empty");var popupAlreadyShown=utils_1.Utils.isVisible(eChild);if(!popupAlreadyShown){this.getPopupParent().appendChild(eChild);var that=this,popupHidden=!1;setTimeout(function(){closeOnEsc&&eBody.addEventListener("keydown",hidePopupOnEsc),eBody.addEventListener("click",hidePopup),eBody.addEventListener("contextmenu",hidePopup),eChild.addEventListener("click",consumeClick)},0);var eventFromChild=null;return hidePopup}},__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],PopupService.prototype,"gridCore",void 0),PopupService=__decorate([context_1.Bean("popupService"),__metadata("design:paramtypes",[])],PopupService)}();exports.PopupService=PopupService},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(7),template='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[CONTAINS]</option><option value="2">[EQUALS]</option><option value="3">[NOT EQUALS]</option><option value="4">[STARTS WITH]</option><option value="5">[ENDS WITH]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',CONTAINS=1,EQUALS=2,NOT_EQUALS=3,STARTS_WITH=4,ENDS_WITH=5,TextFilter=function(){function TextFilter(){}return TextFilter.prototype.init=function(params){this.filterParams=params.filterParams,this.applyActive=this.filterParams&&this.filterParams.apply===!0,this.filterChangedCallback=params.filterChangedCallback,this.filterModifiedCallback=params.filterModifiedCallback,this.localeTextFunc=params.localeTextFunc,this.valueGetter=params.valueGetter,this.createGui(),this.filterText=null,this.filterType=CONTAINS,this.createApi()},TextFilter.prototype.onNewRowsLoaded=function(){var keepSelection=this.filterParams&&"keep"===this.filterParams.newRowsAction;keepSelection||(this.api.setType(CONTAINS),this.api.setFilter(null))},TextFilter.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},TextFilter.prototype.doesFilterPass=function(node){if(!this.filterText)return!0;var value=this.valueGetter(node);if(!value)return!1;var valueLowerCase=value.toString().toLowerCase();switch(this.filterType){case CONTAINS:return valueLowerCase.indexOf(this.filterText)>=0;case EQUALS:return valueLowerCase===this.filterText;case NOT_EQUALS:return valueLowerCase!=this.filterText;case STARTS_WITH:return 0===valueLowerCase.indexOf(this.filterText);case ENDS_WITH:var index=valueLowerCase.lastIndexOf(this.filterText);return index>=0&&index===valueLowerCase.length-this.filterText.length;default:return console.warn("invalid filter type "+this.filterType),!1}},TextFilter.prototype.getGui=function(){return this.eGui},TextFilter.prototype.isFilterActive=function(){return null!==this.filterText},TextFilter.prototype.createTemplate=function(){return template.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[NOT EQUALS]",this.localeTextFunc("notEquals","Not equals")).replace("[CONTAINS]",this.localeTextFunc("contains","Contains")).replace("[STARTS WITH]",this.localeTextFunc("startsWith","Starts with")).replace("[ENDS WITH]",this.localeTextFunc("endsWith","Ends with")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},TextFilter.prototype.createGui=function(){this.eGui=utils_1.Utils.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),utils_1.Utils.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},TextFilter.prototype.setupApply=function(){var _this=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){_this.filterChangedCallback()})):utils_1.Utils.removeElement(this.eGui,"#applyPanel")},TextFilter.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},TextFilter.prototype.onFilterChanged=function(){var filterText=utils_1.Utils.makeNull(this.eFilterTextField.value);filterText&&""===filterText.trim()&&(filterText=null);var newFilterText;newFilterText=null!==filterText&&void 0!==filterText?filterText.toLowerCase():null,this.filterText!==newFilterText&&(this.filterText=newFilterText,this.filterChanged())},TextFilter.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},TextFilter.prototype.createApi=function(){var that=this;this.api={EQUALS:EQUALS,NOT_EQUALS:NOT_EQUALS,CONTAINS:CONTAINS,STARTS_WITH:STARTS_WITH,ENDS_WITH:ENDS_WITH,setType:function(type){that.filterType=type,that.eTypeSelect.value=type},setFilter:function(filter){filter=utils_1.Utils.makeNull(filter),filter?(that.filterText=filter.toLowerCase(),that.eFilterTextField.value=filter):(that.filterText=null,that.eFilterTextField.value=null)},getType:function(){return that.filterType},getFilter:function(){return that.filterText},getModel:function(){return that.isFilterActive()?{type:that.filterType,filter:that.filterText}:null},setModel:function(dataModel){dataModel?(this.setType(dataModel.type),this.setFilter(dataModel.filter)):this.setFilter(null)}}},TextFilter.prototype.getApi=function(){return this.api},TextFilter}();exports.TextFilter=TextFilter},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(7),template='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[EQUALS]</option><option value="2">[NOT EQUAL]</option><option value="3">[LESS THAN]</option><option value="4">[LESS THAN OR EQUAL]</option><option value="5">[GREATER THAN]</option><option value="6">[GREATER THAN OR EQUAL]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',EQUALS=1,NOT_EQUAL=2,LESS_THAN=3,LESS_THAN_OR_EQUAL=4,GREATER_THAN=5,GREATER_THAN_OR_EQUAL=6,NumberFilter=function(){function NumberFilter(){}return NumberFilter.prototype.init=function(params){this.filterParams=params.filterParams,this.applyActive=this.filterParams&&this.filterParams.apply===!0,this.filterChangedCallback=params.filterChangedCallback,this.filterModifiedCallback=params.filterModifiedCallback,this.localeTextFunc=params.localeTextFunc,this.valueGetter=params.valueGetter,this.createGui(),this.filterNumber=null,this.filterType=EQUALS,this.createApi()},NumberFilter.prototype.onNewRowsLoaded=function(){var keepSelection=this.filterParams&&"keep"===this.filterParams.newRowsAction;keepSelection||(this.api.setType(EQUALS),this.api.setFilter(null))},NumberFilter.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},NumberFilter.prototype.doesFilterPass=function(node){if(null===this.filterNumber)return!0;var value=this.valueGetter(node);if(!value&&0!==value)return!1;var valueAsNumber;switch(valueAsNumber="number"==typeof value?value:parseFloat(value),this.filterType){case EQUALS:return valueAsNumber===this.filterNumber;case LESS_THAN:return valueAsNumber<this.filterNumber;case GREATER_THAN:return valueAsNumber>this.filterNumber;case LESS_THAN_OR_EQUAL:return valueAsNumber<=this.filterNumber;case GREATER_THAN_OR_EQUAL:return valueAsNumber>=this.filterNumber;case NOT_EQUAL:return valueAsNumber!=this.filterNumber;default:return console.warn("invalid filter type "+this.filterType),!1}},NumberFilter.prototype.getGui=function(){return this.eGui},NumberFilter.prototype.isFilterActive=function(){return null!==this.filterNumber},NumberFilter.prototype.createTemplate=function(){return template.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[LESS THAN]",this.localeTextFunc("lessThan","Less than")).replace("[GREATER THAN]",this.localeTextFunc("greaterThan","Greater than")).replace("[LESS THAN OR EQUAL]",this.localeTextFunc("lessThanOrEqual","Less than or equal")).replace("[GREATER THAN OR EQUAL]",this.localeTextFunc("greaterThanOrEqual","Greater than or equal")).replace("[NOT EQUAL]",this.localeTextFunc("notEqual","Not equal")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"));
},NumberFilter.prototype.createGui=function(){this.eGui=utils_1.Utils.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),utils_1.Utils.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},NumberFilter.prototype.setupApply=function(){var _this=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){_this.filterChangedCallback()})):utils_1.Utils.removeElement(this.eGui,"#applyPanel")},NumberFilter.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},NumberFilter.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},NumberFilter.prototype.onFilterChanged=function(){var filterText=utils_1.Utils.makeNull(this.eFilterTextField.value);filterText&&""===filterText.trim()&&(filterText=null);var newFilter;newFilter=null!==filterText&&void 0!==filterText?parseFloat(filterText):null,this.filterNumber!==newFilter&&(this.filterNumber=newFilter,this.filterChanged())},NumberFilter.prototype.createApi=function(){var that=this;this.api={EQUALS:EQUALS,NOT_EQUAL:NOT_EQUAL,LESS_THAN:LESS_THAN,GREATER_THAN:GREATER_THAN,LESS_THAN_OR_EQUAL:LESS_THAN_OR_EQUAL,GREATER_THAN_OR_EQUAL:GREATER_THAN_OR_EQUAL,setType:function(type){that.filterType=type,that.eTypeSelect.value=type},setFilter:function(filter){filter=utils_1.Utils.makeNull(filter),null!==filter&&"number"!=typeof filter&&(filter=parseFloat(filter)),that.filterNumber=filter,that.eFilterTextField.value=filter},getType:function(){return that.filterType},getFilter:function(){return that.filterNumber},getModel:function(){return that.isFilterActive()?{type:that.filterType,filter:that.filterNumber}:null},setModel:function(dataModel){dataModel?(this.setType(dataModel.type),this.setFilter(dataModel.filter)):this.setFilter(null)}}},NumberFilter.prototype.getApi=function(){return this.api},NumberFilter}();exports.NumberFilter=NumberFilter},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(7),eventService_1=__webpack_require__(4),Component=function(){function Component(template){this.destroyFunctions=[],this.childComponents=[],template&&(this.eGui=utils_1.Utils.loadTemplate(template))}return Component.prototype.setTemplate=function(template){this.eGui=utils_1.Utils.loadTemplate(template)},Component.prototype.addEventListener=function(eventType,listener){this.localEventService||(this.localEventService=new eventService_1.EventService),this.localEventService.addEventListener(eventType,listener)},Component.prototype.removeEventListener=function(eventType,listener){this.localEventService&&this.localEventService.removeEventListener(eventType,listener)},Component.prototype.dispatchEvent=function(eventType,event){this.localEventService&&this.localEventService.dispatchEvent(eventType,event)},Component.prototype.getGui=function(){return this.eGui},Component.prototype.queryForHtmlElement=function(cssSelector){return this.eGui.querySelector(cssSelector)},Component.prototype.queryForHtmlInputElement=function(cssSelector){return this.eGui.querySelector(cssSelector)},Component.prototype.appendChild=function(newChild){if(utils_1.Utils.isNodeOrElement(newChild))this.eGui.appendChild(newChild);else{var childComponent=newChild;this.eGui.appendChild(childComponent.getGui()),this.childComponents.push(childComponent)}},Component.prototype.setVisible=function(visible){utils_1.Utils.addOrRemoveCssClass(this.eGui,"ag-hidden",!visible)},Component.prototype.destroy=function(){this.childComponents.forEach(function(childComponent){return childComponent.destroy()}),this.destroyFunctions.forEach(function(func){return func()})},Component.prototype.addGuiEventListener=function(event,listener){var _this=this;this.getGui().addEventListener(event,listener),this.destroyFunctions.push(function(){return _this.getGui().removeEventListener(event,listener)})},Component.prototype.addDestroyableEventListener=function(eElement,event,listener){eElement instanceof HTMLElement?eElement.addEventListener(event,listener):eElement.addEventListener(event,listener),this.destroyFunctions.push(function(){eElement instanceof HTMLElement?eElement.removeEventListener(event,listener):eElement.removeEventListener(event,listener)})},Component.prototype.addDestroyFunc=function(func){this.destroyFunctions.push(func)},Component}();exports.Component=Component},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),utils_1=__webpack_require__(7),textCellEditor_1=__webpack_require__(49),selectCellEditor_1=__webpack_require__(50),popupEditorWrapper_1=__webpack_require__(51),popupTextCellEditor_1=__webpack_require__(52),popupSelectCellEditor_1=__webpack_require__(53),dateCellEditor_1=__webpack_require__(54),gridOptionsWrapper_1=__webpack_require__(3),CellEditorFactory=function(){function CellEditorFactory(){this.cellEditorMap={}}return CellEditorFactory.prototype.init=function(){this.cellEditorMap[CellEditorFactory.TEXT]=textCellEditor_1.TextCellEditor,this.cellEditorMap[CellEditorFactory.SELECT]=selectCellEditor_1.SelectCellEditor,this.cellEditorMap[CellEditorFactory.POPUP_TEXT]=popupTextCellEditor_1.PopupTextCellEditor,this.cellEditorMap[CellEditorFactory.POPUP_SELECT]=popupSelectCellEditor_1.PopupSelectCellEditor,this.cellEditorMap[CellEditorFactory.DATE]=dateCellEditor_1.DateCellEditor},CellEditorFactory.prototype.addCellEditor=function(key,cellEditor){this.cellEditorMap[key]=cellEditor},CellEditorFactory.prototype.createCellEditor=function(key){var CellEditorClass;utils_1.Utils.missing(key)?CellEditorClass=this.cellEditorMap[CellEditorFactory.TEXT]:"string"==typeof key?(CellEditorClass=this.cellEditorMap[key],utils_1.Utils.missing(CellEditorClass)&&(console.warn("ag-Grid: unable to find cellEditor for key "+key),CellEditorClass=this.cellEditorMap[CellEditorFactory.TEXT])):CellEditorClass=key;var cellEditor=new CellEditorClass;return this.context.wireBean(cellEditor),cellEditor.isPopup&&cellEditor.isPopup()&&(cellEditor=new popupEditorWrapper_1.PopupEditorWrapper(cellEditor)),cellEditor},CellEditorFactory.TEXT="text",CellEditorFactory.SELECT="select",CellEditorFactory.DATE="date",CellEditorFactory.POPUP_TEXT="popupText",CellEditorFactory.POPUP_SELECT="popupSelect",__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],CellEditorFactory.prototype,"context",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],CellEditorFactory.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],CellEditorFactory.prototype,"init",null),CellEditorFactory=__decorate([context_1.Bean("cellEditorFactory"),__metadata("design:paramtypes",[])],CellEditorFactory)}();exports.CellEditorFactory=CellEditorFactory},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},constants_1=__webpack_require__(8),component_1=__webpack_require__(47),utils_1=__webpack_require__(7),TextCellEditor=function(_super){function TextCellEditor(){_super.call(this,TextCellEditor.TEMPLATE)}return __extends(TextCellEditor,_super),TextCellEditor.prototype.init=function(params){var startValue,eInput=this.getGui(),keyPressBackspaceOrDelete=params.keyPress===constants_1.Constants.KEY_BACKSPACE||params.keyPress===constants_1.Constants.KEY_DELETE;keyPressBackspaceOrDelete?startValue="":params.charPress?startValue=params.charPress:(startValue=params.value,params.keyPress===constants_1.Constants.KEY_F2?this.putCursorAtEndOnFocus=!0:this.highlightAllOnFocus=!0),utils_1.Utils.exists(startValue)&&(eInput.value=startValue),this.addDestroyableEventListener(eInput,"keydown",function(event){var isNavigationKey=event.keyCode===constants_1.Constants.KEY_LEFT||event.keyCode===constants_1.Constants.KEY_RIGHT;isNavigationKey&&event.stopPropagation()})},TextCellEditor.prototype.afterGuiAttached=function(){var eInput=this.getGui();if(eInput.focus(),this.highlightAllOnFocus)eInput.select();else{var length=eInput.value?eInput.value.length:0;length>0&&eInput.setSelectionRange(length,length)}},TextCellEditor.prototype.getValue=function(){var eInput=this.getGui();return eInput.value},TextCellEditor.TEMPLATE='<input class="ag-cell-edit-input" type="text"/>',TextCellEditor}(component_1.Component);exports.TextCellEditor=TextCellEditor},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},component_1=__webpack_require__(47),utils_1=__webpack_require__(7),SelectCellEditor=function(_super){function SelectCellEditor(){_super.call(this,'<div class="ag-cell-edit-input"><select class="ag-cell-edit-input"/></div>')}return __extends(SelectCellEditor,_super),SelectCellEditor.prototype.init=function(params){var eSelect=this.getGui().querySelector("select");return utils_1.Utils.missing(params.values)?void console.log("ag-Grid: no values found for select cellEditor"):(params.values.forEach(function(value){var option=document.createElement("option");option.value=value,option.text=value,params.value===value&&(option.selected=!0),eSelect.appendChild(option)}),void this.addDestroyableEventListener(eSelect,"change",function(){return params.stopEditing()}))},SelectCellEditor.prototype.afterGuiAttached=function(){var eSelect=this.getGui().querySelector("select");eSelect.focus()},SelectCellEditor.prototype.getValue=function(){var eSelect=this.getGui().querySelector("select");return eSelect.value},SelectCellEditor}(component_1.Component);exports.SelectCellEditor=SelectCellEditor},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},component_1=__webpack_require__(47),PopupEditorWrapper=function(_super){function PopupEditorWrapper(cellEditor){_super.call(this,'<div class="ag-popup-editor"/>'),this.getGuiCalledOnChild=!1,this.cellEditor=cellEditor,this.addDestroyFunc(function(){return cellEditor.destroy()}),this.addDestroyableEventListener(_super.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))}return __extends(PopupEditorWrapper,_super),PopupEditorWrapper.prototype.onKeyDown=function(event){this.params.onKeyDown(event)},PopupEditorWrapper.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),_super.prototype.getGui.call(this)},PopupEditorWrapper.prototype.init=function(params){this.params=params,this.cellEditor.init&&this.cellEditor.init(params)},PopupEditorWrapper.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},PopupEditorWrapper.prototype.getValue=function(){return this.cellEditor.getValue()},PopupEditorWrapper.prototype.isPopup=function(){return!0},PopupEditorWrapper}(component_1.Component);exports.PopupEditorWrapper=PopupEditorWrapper},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},textCellEditor_1=__webpack_require__(49),PopupTextCellEditor=function(_super){function PopupTextCellEditor(){_super.apply(this,arguments)}return __extends(PopupTextCellEditor,_super),PopupTextCellEditor.prototype.isPopup=function(){return!0},PopupTextCellEditor}(textCellEditor_1.TextCellEditor);exports.PopupTextCellEditor=PopupTextCellEditor},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},selectCellEditor_1=__webpack_require__(50),PopupSelectCellEditor=function(_super){function PopupSelectCellEditor(){_super.apply(this,arguments)}return __extends(PopupSelectCellEditor,_super),PopupSelectCellEditor.prototype.isPopup=function(){return!0},PopupSelectCellEditor}(selectCellEditor_1.SelectCellEditor);exports.PopupSelectCellEditor=PopupSelectCellEditor},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},component_1=__webpack_require__(47),context_1=__webpack_require__(6),popupService_1=__webpack_require__(44),utils_1=__webpack_require__(7),DateCellEditor=function(_super){function DateCellEditor(){_super.call(this,DateCellEditor.TEMPLATE),this.eText=this.queryForHtmlInputElement("input"),this.eButton=this.queryForHtmlElement("button"),this.eButton.addEventListener("click",this.onBtPush.bind(this))}return __extends(DateCellEditor,_super),DateCellEditor.prototype.getValue=function(){return this.eText.value},DateCellEditor.prototype.onBtPush=function(){var ePopup=utils_1.Utils.loadTemplate('<div style="position: absolute; border: 1px solid darkgreen; background: lightcyan"><div>This is the popup</div><div><input/></div><div>Under the input</div></div>');this.popupService.addAsModalPopup(ePopup,!0,function(){console.log("popup was closed")}),this.popupService.positionPopupUnderComponent({eventSource:this.getGui(),ePopup:ePopup});var eText=ePopup.querySelector("input");eText.focus()},DateCellEditor.prototype.afterGuiAttached=function(){this.eText.focus()},DateCellEditor.TEMPLATE='<span><input type="text" style="width: 80%"/><button style="width: 20%">+</button></span>',__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],DateCellEditor.prototype,"popupService",void 0),DateCellEditor}(component_1.Component);exports.DateCellEditor=DateCellEditor},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),utils_1=__webpack_require__(7),gridOptionsWrapper_1=__webpack_require__(3),eventService_1=__webpack_require__(4),expressionService_1=__webpack_require__(18),animateSlideCellRenderer_1=__webpack_require__(56),animateShowChangeCellRenderer_1=__webpack_require__(57),groupCellRenderer_1=__webpack_require__(58),CellRendererFactory=function(){function CellRendererFactory(){this.cellRendererMap={}}return CellRendererFactory.prototype.init=function(){this.cellRendererMap[CellRendererFactory.ANIMATE_SLIDE]=animateSlideCellRenderer_1.AnimateSlideCellRenderer,this.cellRendererMap[CellRendererFactory.ANIMATE_SHOW_CHANGE]=animateShowChangeCellRenderer_1.AnimateShowChangeCellRenderer,this.cellRendererMap[CellRendererFactory.GROUP]=groupCellRenderer_1.GroupCellRenderer},CellRendererFactory.prototype.addCellRenderer=function(key,cellRenderer){this.cellRendererMap[key]=cellRenderer},CellRendererFactory.prototype.getCellRenderer=function(key){var result=this.cellRendererMap[key];return utils_1.Utils.missing(result)?(console.warn("ag-Grid: unable to find cellRenderer for key "+key),null):result},CellRendererFactory.ANIMATE_SLIDE="animateSlide",CellRendererFactory.ANIMATE_SHOW_CHANGE="animateShowChange",CellRendererFactory.GROUP="group",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],CellRendererFactory.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],CellRendererFactory.prototype,"expressionService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],CellRendererFactory.prototype,"eventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],CellRendererFactory.prototype,"init",null),CellRendererFactory=__decorate([context_1.Bean("cellRendererFactory"),__metadata("design:paramtypes",[])],CellRendererFactory)}();exports.CellRendererFactory=CellRendererFactory},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},utils_1=__webpack_require__(7),component_1=__webpack_require__(47),AnimateSlideCellRenderer=function(_super){function AnimateSlideCellRenderer(){_super.call(this,AnimateSlideCellRenderer.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}return __extends(AnimateSlideCellRenderer,_super),AnimateSlideCellRenderer.prototype.init=function(params){this.params=params,this.refresh(params)},AnimateSlideCellRenderer.prototype.addSlideAnimation=function(){var _this=this;this.refreshCount++;var refreshCountCopy=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=utils_1.Utils.loadTemplate('<span class="ag-value-slide-previous ag-fade-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),setTimeout(function(){refreshCountCopy===_this.refreshCount&&utils_1.Utils.addCssClass(_this.ePrevious,"ag-fade-out-end")},50),setTimeout(function(){refreshCountCopy===_this.refreshCount&&(_this.getGui().removeChild(_this.ePrevious),_this.ePrevious=null)},3e3)},AnimateSlideCellRenderer.prototype.refresh=function(params){var value=params.value;utils_1.Utils.missing(value)&&(value=""),value!==this.lastValue&&(this.addSlideAnimation(),this.lastValue=value,utils_1.Utils.exists(params.valueFormatted)?this.eCurrent.innerHTML=params.valueFormatted:utils_1.Utils.exists(params.value)?this.eCurrent.innerHTML=value:this.eCurrent.innerHTML="")},AnimateSlideCellRenderer.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',AnimateSlideCellRenderer}(component_1.Component);exports.AnimateSlideCellRenderer=AnimateSlideCellRenderer},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},utils_1=__webpack_require__(7),component_1=__webpack_require__(47),ARROW_UP="&#65514;",ARROW_DOWN="&#65516;",AnimateShowChangeCellRenderer=function(_super){function AnimateShowChangeCellRenderer(){_super.call(this,AnimateShowChangeCellRenderer.TEMPLATE),this.refreshCount=0}return __extends(AnimateShowChangeCellRenderer,_super),AnimateShowChangeCellRenderer.prototype.init=function(params){this.params=params,this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(params)},AnimateShowChangeCellRenderer.prototype.showDelta=function(params,delta){var absDelta=Math.abs(delta),valueFormatted=params.formatValue(absDelta),valueToUse=utils_1.Utils.exists(valueFormatted)?valueFormatted:absDelta,deltaUp=delta>=0;deltaUp?this.eDelta.innerHTML=ARROW_UP+valueToUse:this.eDelta.innerHTML=ARROW_DOWN+valueToUse,utils_1.Utils.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-up",deltaUp),utils_1.Utils.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-down",!deltaUp)},AnimateShowChangeCellRenderer.prototype.setTimerToRemoveDelta=function(){var _this=this;this.refreshCount++;var refreshCountCopy=this.refreshCount;setTimeout(function(){refreshCountCopy===_this.refreshCount&&_this.hideDeltaValue()},2e3)},AnimateShowChangeCellRenderer.prototype.hideDeltaValue=function(){utils_1.Utils.removeCssClass(this.eValue,"ag-value-change-value-highlight"),this.eDelta.innerHTML=""},AnimateShowChangeCellRenderer.prototype.refresh=function(params){var value=params.value;if(value!==this.lastValue){if(utils_1.Utils.exists(params.valueFormatted)?this.eValue.innerHTML=params.valueFormatted:utils_1.Utils.exists(params.value)?this.eValue.innerHTML=value:this.eValue.innerHTML="","number"==typeof value&&"number"==typeof this.lastValue){var delta=value-this.lastValue;this.showDelta(params,delta)}this.lastValue&&utils_1.Utils.addCssClass(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=value}},AnimateShowChangeCellRenderer.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',AnimateShowChangeCellRenderer}(component_1.Component);exports.AnimateShowChangeCellRenderer=AnimateShowChangeCellRenderer},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},svgFactory_1=__webpack_require__(59),gridOptionsWrapper_1=__webpack_require__(3),expressionService_1=__webpack_require__(18),eventService_1=__webpack_require__(4),constants_1=__webpack_require__(8),utils_1=__webpack_require__(7),events_1=__webpack_require__(10),context_1=__webpack_require__(6),component_1=__webpack_require__(47),cellRendererService_1=__webpack_require__(60),valueFormatterService_1=__webpack_require__(61),checkboxSelectionComponent_1=__webpack_require__(62),columnController_1=__webpack_require__(13),svgFactory=svgFactory_1.SvgFactory.getInstance(),GroupCellRenderer=function(_super){function GroupCellRenderer(){_super.call(this,GroupCellRenderer.TEMPLATE),this.eExpanded=this.queryForHtmlElement(".ag-group-expanded"),this.eContracted=this.queryForHtmlElement(".ag-group-contracted"),this.eCheckbox=this.queryForHtmlElement(".ag-group-checkbox"),this.eValue=this.queryForHtmlElement(".ag-group-value"),this.eChildCount=this.queryForHtmlElement(".ag-group-child-count")}return __extends(GroupCellRenderer,_super),GroupCellRenderer.prototype.init=function(params){this.rowNode=params.node,this.rowIndex=params.rowIndex,this.gridApi=params.api,this.addExpandAndContract(params.eGridCell),this.addCheckboxIfNeeded(params),this.addValueElement(params),this.addPadding(params)},GroupCellRenderer.prototype.addPadding=function(params){var node=this.rowNode,suppressPadding=params.suppressPadding;if(!suppressPadding&&(node.footer||node.level>0)){var paddingFactor;paddingFactor=params.colDef&&params.padding>=0?params.padding:10;var paddingPx=node.level*paddingFactor,reducedLeafNode=this.columnController.isReduce()&&this.rowNode.leafGroup;node.footer?paddingPx+=15:node.group&&!reducedLeafNode||(paddingPx+=10),this.getGui().style.paddingLeft=paddingPx+"px"}},GroupCellRenderer.prototype.addValueElement=function(params){params.innerRenderer?this.createFromInnerRenderer(params):this.rowNode.footer?this.createFooterCell(params):this.rowNode.group?(this.createGroupCell(params),this.addChildCount(params)):this.createLeafCell(params)},GroupCellRenderer.prototype.createFromInnerRenderer=function(params){this.cellRendererService.useCellRenderer(params.innerRenderer,this.eValue,params)},GroupCellRenderer.prototype.createFooterCell=function(params){var footerValue,groupName=this.getGroupName(params);if(params.footerValueGetter){var footerValueGetter=params.footerValueGetter,paramsClone=utils_1.Utils.cloneObject(params);paramsClone.value=groupName,"function"==typeof footerValueGetter?footerValue=footerValueGetter(paramsClone):"string"==typeof footerValueGetter?footerValue=this.expressionService.evaluate(footerValueGetter,paramsClone):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else footerValue="Total "+groupName;this.eValue.innerHTML=footerValue},GroupCellRenderer.prototype.createGroupCell=function(params){var rowGroupColumns=params.columnApi.getRowGroupColumns(),columnOfGroupedCol=rowGroupColumns[params.node.level];utils_1.Utils.missing(columnOfGroupedCol)&&(columnOfGroupedCol=params.column);var colDefOfGroupedCol=columnOfGroupedCol.getColDef(),groupName=this.getGroupName(params),valueFormatted=this.valueFormatterService.formatValue(columnOfGroupedCol,params.node,params.scope,this.rowIndex,groupName);if(colDefOfGroupedCol&&"function"==typeof colDefOfGroupedCol.cellRenderer)params.value=groupName,params.valueFormatted=valueFormatted,colDefOfGroupedCol.cellRendererParams&&utils_1.Utils.assign(params,colDefOfGroupedCol.cellRendererParams),this.cellRendererService.useCellRenderer(colDefOfGroupedCol.cellRenderer,this.eValue,params);else{var valueToRender=utils_1.Utils.exists(valueFormatted)?valueFormatted:groupName;utils_1.Utils.exists(valueToRender)&&""!==valueToRender&&this.eValue.appendChild(document.createTextNode(valueToRender))}},GroupCellRenderer.prototype.addChildCount=function(params){var suppressCount=params.suppressCount;!suppressCount&&params.node.allChildrenCount>=0&&(this.eChildCount.innerHTML="("+params.node.allChildrenCount+")")},GroupCellRenderer.prototype.getGroupName=function(params){if(params.keyMap&&"object"==typeof params.keyMap){var valueFromMap=params.keyMap[params.node.key];return valueFromMap?valueFromMap:params.node.key}return params.node.key},GroupCellRenderer.prototype.createLeafCell=function(params){utils_1.Utils.exists(params.value)&&(this.eValue.innerHTML=params.value)},GroupCellRenderer.prototype.addCheckboxIfNeeded=function(params){var checkboxNeeded=params.checkbox&&!this.rowNode.footer&&!this.rowNode.floating;if(checkboxNeeded){var cbSelectionComponent=new checkboxSelectionComponent_1.CheckboxSelectionComponent;this.context.wireBean(cbSelectionComponent),cbSelectionComponent.init({rowNode:this.rowNode}),this.eCheckbox.appendChild(cbSelectionComponent.getGui()),this.addDestroyFunc(function(){return cbSelectionComponent.destroy()})}},GroupCellRenderer.prototype.addExpandAndContract=function(eGroupCell){var eExpandedIcon=utils_1.Utils.createIconNoSpan("groupExpanded",this.gridOptionsWrapper,null,svgFactory.createGroupContractedIcon),eContractedIcon=utils_1.Utils.createIconNoSpan("groupContracted",this.gridOptionsWrapper,null,svgFactory.createGroupExpandedIcon);this.eExpanded.appendChild(eExpandedIcon),this.eContracted.appendChild(eContractedIcon),this.addDestroyableEventListener(this.eExpanded,"click",this.onExpandOrContract.bind(this)),this.addDestroyableEventListener(this.eContracted,"click",this.onExpandOrContract.bind(this)),this.addDestroyableEventListener(eGroupCell,"dblclick",this.onExpandOrContract.bind(this)),this.addDestroyableEventListener(eGroupCell,"keydown",this.onKeyDown.bind(this)),this.showExpandAndContractIcons()},GroupCellRenderer.prototype.onKeyDown=function(event){utils_1.Utils.isKeyPressed(event,constants_1.Constants.KEY_ENTER)&&(this.onExpandOrContract(),event.preventDefault())},GroupCellRenderer.prototype.onExpandOrContract=function(){this.rowNode.expanded=!this.rowNode.expanded;var refreshIndex=this.getRefreshFromIndex();this.gridApi.onGroupExpandedOrCollapsed(refreshIndex),this.showExpandAndContractIcons();var event={node:this.rowNode};this.eventService.dispatchEvent(events_1.Events.EVENT_ROW_GROUP_OPENED,event)},GroupCellRenderer.prototype.showExpandAndContractIcons=function(){var reducedLeafNode=this.columnController.isReduce()&&this.rowNode.leafGroup,expandable=this.rowNode.group&&!this.rowNode.footer&&!reducedLeafNode;expandable?(utils_1.Utils.setVisible(this.eExpanded,this.rowNode.expanded),utils_1.Utils.setVisible(this.eContracted,!this.rowNode.expanded)):(utils_1.Utils.setVisible(this.eExpanded,!1),utils_1.Utils.setVisible(this.eContracted,!1))},GroupCellRenderer.prototype.getRefreshFromIndex=function(){return this.gridOptionsWrapper.isGroupIncludeFooter()?this.rowIndex:this.rowIndex+1},GroupCellRenderer.TEMPLATE='<span><span class="ag-group-expanded"></span><span class="ag-group-contracted"></span><span class="ag-group-checkbox"></span><span class="ag-group-value"></span><span class="ag-group-child-count"></span></span>',__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],GroupCellRenderer.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],GroupCellRenderer.prototype,"expressionService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GroupCellRenderer.prototype,"eventService",void 0),__decorate([context_1.Autowired("cellRendererService"),__metadata("design:type",cellRendererService_1.CellRendererService)],GroupCellRenderer.prototype,"cellRendererService",void 0),__decorate([context_1.Autowired("valueFormatterService"),__metadata("design:type",valueFormatterService_1.ValueFormatterService)],GroupCellRenderer.prototype,"valueFormatterService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],GroupCellRenderer.prototype,"context",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GroupCellRenderer.prototype,"columnController",void 0),
GroupCellRenderer}(component_1.Component);exports.GroupCellRenderer=GroupCellRenderer},function(module,exports){function createPolygonSvg(points,width){var eSvg=createIconSvg(width),eDescIcon=document.createElementNS(SVG_NS,"polygon");return eDescIcon.setAttribute("points",points),eSvg.appendChild(eDescIcon),eSvg}function createIconSvg(width){var eSvg=document.createElementNS(SVG_NS,"svg");return width>0?(eSvg.setAttribute("width",width),eSvg.setAttribute("height",width)):(eSvg.setAttribute("width","10"),eSvg.setAttribute("height","10")),eSvg}var SVG_NS="http://www.w3.org/2000/svg",SvgFactory=function(){function SvgFactory(){}return SvgFactory.getInstance=function(){return this.theInstance||(this.theInstance=new SvgFactory),this.theInstance},SvgFactory.prototype.createFilterSvg=function(){var eSvg=createIconSvg(),eFunnel=document.createElementNS(SVG_NS,"polygon");return eFunnel.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),eFunnel.setAttribute("class","ag-header-icon"),eSvg.appendChild(eFunnel),eSvg},SvgFactory.prototype.createFilterSvg12=function(){var eSvg=createIconSvg(12),eFunnel=document.createElementNS(SVG_NS,"polygon");return eFunnel.setAttribute("points","0,0 5,5 5,12 7,12 7,5 12,0"),eFunnel.setAttribute("class","ag-header-icon"),eSvg.appendChild(eFunnel),eSvg},SvgFactory.prototype.createMenuSvg=function(){var eSvg=document.createElementNS(SVG_NS,"svg"),size="12";return eSvg.setAttribute("width",size),eSvg.setAttribute("height",size),["0","5","10"].forEach(function(y){var eLine=document.createElementNS(SVG_NS,"rect");eLine.setAttribute("y",y),eLine.setAttribute("width",size),eLine.setAttribute("height","2"),eLine.setAttribute("class","ag-header-icon"),eSvg.appendChild(eLine)}),eSvg},SvgFactory.prototype.createColumnsSvg12=function(){var eSvg=createIconSvg(12);return[0,4,8].forEach(function(y){[0,7].forEach(function(x){var eBar=document.createElementNS(SVG_NS,"rect");eBar.setAttribute("y",y.toString()),eBar.setAttribute("x",x.toString()),eBar.setAttribute("width","5"),eBar.setAttribute("height","3"),eBar.setAttribute("class","ag-header-icon"),eSvg.appendChild(eBar)})}),eSvg},SvgFactory.prototype.createArrowUpSvg=function(){return createPolygonSvg("0,10 5,0 10,10")},SvgFactory.prototype.createArrowLeftSvg=function(){return createPolygonSvg("10,0 0,5 10,10")},SvgFactory.prototype.createArrowDownSvg=function(){return createPolygonSvg("0,0 5,10 10,0")},SvgFactory.prototype.createArrowRightSvg=function(){return createPolygonSvg("0,0 10,5 0,10")},SvgFactory.prototype.createSmallArrowRightSvg=function(){return createPolygonSvg("0,0 6,3 0,6",6)},SvgFactory.prototype.createSmallArrowDownSvg=function(){return createPolygonSvg("0,0 3,6 6,0",6)},SvgFactory.prototype.createArrowUpDownSvg=function(){var svg=createIconSvg(),eAscIcon=document.createElementNS(SVG_NS,"polygon");eAscIcon.setAttribute("points","0,4 5,0 10,4"),svg.appendChild(eAscIcon);var eDescIcon=document.createElementNS(SVG_NS,"polygon");return eDescIcon.setAttribute("points","0,6 5,10 10,6"),svg.appendChild(eDescIcon),svg},SvgFactory.prototype.createFolderOpen=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZpJREFUeNqkU0tLQkEUPjN3ShAzF66CaNGiaNEviFpLgbSpXf2ACIqgFkELaVFhtAratQ8qokU/oFVbMQtJvWpWGvYwtet9TWfu1QorvOGBb84M5/WdOTOEcw7tCKHBlT8sMIhr4BfLGXC4BrALM8QUoveHG9oPQ/NhwVCQbOjp0C5F6zDiwE7Aed/p5tKWruufTlY8bkqliqVN8wvH6wvhydWd5UYdkYCqqgaKotQTCEewnJuDBSqVmshOrWhKgCJVqeHcKtiGKdqTgGIOQmwGum7AxVUKinXKzX1/1y5Xp6g8gpe8iBxuGZhcKjyXQZIkmBkfczS62YnRQCKX75/b3t8QDNhD8QX83V5Ipe7Bybug2Pt5NJ7A4nEqGOQKT+Bzu0HTDNB1syUYYxCJy0kwzIRogb0rKjAiQVXXHLVQrqqvsZtsFu8hbyXwe73WeMQtO5GonJGxuiyeC+Oa4fF5PEirw9nbx9FdxtN5eMwkzcgRnoeCa9DVM/CvH/R2l+axkz3clQguOFjw1f+FUzEQCqJG2v3OHwIMAOW1JPnAAAJxAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createFolderClosed=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARlJREFUeNqsUz1PwzAUPDtOUASpYKkQVWcQA/+DhbLA32CoKAMSTAwgFsQfQWLoX4GRDFXGIiqiyk4e7wUWmg8phJPOtvzunc6WrYgIXaD06KKhij0eD2uqUxBeDC9OmcNKCYd7ujm7ryodXz5ong6UPpqcP9+O76y1vwS+7yOOY1jr0OttlQyiaB0n148TAyK9XFqkaboiSTEYDNnkDUkyKxkkiSQkzQbwsiyHcBXz+Tv6/W1m+QiSEDT1igTO5RBWYbH4rNwPw/AnQU5ek0EdCj33SgLjHEHYzoAkgfmHBDmZuktsQqHPvxN0MyCbbWjtIQjWWhlIj/QqtT+6QrSz+6ef9DF7VTwFzE2madnu5K2prt/5S4ABADcIlSf6Ag8YAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createColumnIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAOCAYAAAAMn20lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTcwQ0JFMzlENjZEMTFFNUFEQ0U5RDRCNjFFRENGMUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTcwQ0JFM0FENjZEMTFFNUFEQ0U5RDRCNjFFRENGMUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNzBDQkUzN0Q2NkQxMUU1QURDRTlENEI2MUVEQ0YxQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFNzBDQkUzOEQ2NkQxMUU1QURDRTlENEI2MUVEQ0YxQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqDOrJYAAABxSURBVHjalJBBDsAgCAQXxXvj2/o/X9Cvmd4lUpV4MXroJMTAuihQSklVMSCysxSBW4uWKzjG6zZLDxrlWis5EVEThoWmi3N+nxAYs2WnXQY34L3HisMWPQlHB+2FPtNW6D/8+ziBRcroOXc0B/wEGABY6TPS1FU0bwAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createColumnsIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENFQkI4NDhENzJDMTFFNUJDNEVFRjgwRDI3MkU1Q0EiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENFQkI4NDlENzJDMTFFNUJDNEVFRjgwRDI3MkU1Q0EiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0VCQjg0NkQ3MkMxMUU1QkM0RUVGODBEMjcyRTVDQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0VCQjg0N0Q3MkMxMUU1QkM0RUVGODBEMjcyRTVDQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj6ozGQAAAAuSURBVHjaYmRgYPjPgBswQml8anBK/idGDQsxNpCghnTAOBoGo2EwGgZgABBgAHbrH/l4grETAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createPinIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAedJREFUeNqkUktLG1EYPTN31CIN0oWbIAWhKJR0FXcG6gOqkKGKVvEXCKULC91YSBcK7jXgQoIbFxn3ErFgFlIfCxUsQsCoIJYEm9LWNsGmJjPTM+Oo44Aa6IUzd+bec77H+UYyTRP/s5SsLFfCCxEjOhD9CXw64ccXJj7nLleYaMSvaa/+Au9Y73P3RUUBDIuXyaAxGu35A7xnkM57A7icCZXIO8/nkVleRn1/f9cv0xzjfVclFdi9N8ZivfnDQxQKBTwoFvFicLCVQSesJIpHMEY8dSqQWa54Eov1fF9ZQVHXsZNMblhnNE/wPmJPIX1zjOG2+fkgslnozHR2eopLcSIe3yoD48y45FbIxoVJNjimyMehoW3T58PvdBq53V18zeWwFo+vUfyBlCVvj0Li4/M1DnaAUtXCQkNDR4f/294eaoTAwdHRCROMWlzJZfC+1cKcJF07b5o+btWvV1eDyVBouyUcDj5UFDg924tVYtERpz0mCkmSulOp1GQgEIj0yvKPYiKBlwMDQXfPU47walEEmb8z0a5p2qaiKMPEoz6ezQLdM8DWNDDzltym24YthHimquoshSoDicvzZkK9S+h48pjCN4ZhrBPHTptlD0qevezwdCtAHVHrMti4A7rr3eb+E2AAoGnGkgkzpg8AAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createPlusIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAatJREFUeNqkU71KA0EQ/vaiib+lWCiordidpSg+QHwDBSt7n8DGhwhYCPoEgqCCINomARuLVIqgYKFG5f6z68xOzrvzYuXA3P7MzLffN7unjDH4jw3xx91bQXuxU4woNDjUX7VgsFOIH3/BnHgC0J65AzwFjDpZgoG7vb7lMsPDq6MiuK+B+kjGwFpCUjwK1DIQ3/dl0ssVh5TTM0UJP8aBgBKGleSGIWyP0oKYRm3KPSgYJ0Q0EpEgCASA2WmWZQY3kazBmjP9UhBFEbTWAgA0f9W2yHeG+vrd+tqGy5r5xNTT9erSqpvfdxwHN7fXOQZ0QhzH1oWArLsfXXieJ/KTGEZLcbVaTVn9ALTOLk9L+mYX5lxd0Xh6eGyVgspK6APwI8n3x9hmNpORJOuBo5ah8GcTc7dAHmkhNpYQlpHr47Hq2NspA1yEwHkoO/MVYLMmWJNarjEUQBzQw7rPvardFC8tZuOEwwB4p9PHqXgCdm738sUDJPB8mnwKj7qCTtJ527+XyAs6tOf2Bb6SP0OeGxRTVMp2h9nweWMoKS20l3+QT/vwqfZbgAEAUCrnlLQ+w4QAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createMinusIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAKVJREFUeNpi/P//PwMlgImBQjBqAAMDy3JGRgZGBoaZQGxMikZg3J0F4nSWHxC+cUBamvHXr18Zfv36Bca/f/8G43///oExKLphmImJieHagQMQF7QDiSwg/vnzJ8P3799RDPj79y+KRhhmBLr6I1DPNJABtxkYZM4xMFx7uXAhSX5/CtQD0gv0OgMfyCAgZgViZiL1/wXi30D8h3E0KVNuAECAAQDr51qtGxzf1wAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createMoveIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAoZJREFUeNpsU81rE0EUf7uzu2lNVJL6Eb0IBWusepqcKm3wEFkvxqDgQbwUtYeeg5cccwj4F7QKChEPipRcdMGDiaAoJAexLYViwYsfbU1JYkx3Zz98b8220Wbg7ez7vXm/mffmN9Kh1G2QGQOmMDiRyYEkSaCoKjDGdAAooOUdxzFsIcDzPPhSvgeO7YDrOLBRmQdlJHULVE0DNRSCvqFjUuHqhWP8+etvhR5m0CeengVhmiAsywdl2Dt03K1wZSrO220XaCaf8AFrQel32s0mrDcaWfovrq3Vc9OTvHj/Tb0Xzh6JxQwNyxtIgPXpqqJk94fDM+1Oh6CaEF4QTiIOGJ/DdQtBObsEmGxbll/rkCyDPDwMzW4XhHD88EH0NcRxDUeX4/qdnsi0s8Aas+kEp8Zg82pMkmpDigKbjSbQTD7hFL94/jin9ZRHBNLo3Wrt+uUkbzQsiEZVMPGKfv76DaawodnahkhY86+PNnXxs77ZgVOjMahWVuufi1NJRZhWvvT0beHGtQn++Nm7en+DzqXO8vfVxX+wsYnT/JWxWEe95P0eILsvkkdPKn4PUEBJmunILab5992PLVU++skoNmOniT7JX2Fkt5GM1EjqbMohXzQmqo7KwCQ6zYKiabu30PpQAnZ0HKSRMcMRwnBddw4ZOO4GLRYKFFdDhrrteTMMdWB9/QTdH8sIp0EKmNT4GWDjGZAPJ3TcrbBv+ibfwtwDqBvzYck/truxYjjLZRDflwLt7JUmEoAymdPV7INa5IXn0Uw+4f8PIqATMLQIWpQ0E/RFTmQ4nLx0B1Zfzrsr5eAmbLQW2hYpHwkcqfegNBJhzwY9sGC4aCZaF81CAvePAAMAcwtApJX/Wo0AAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createLeftIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAe9JREFUeNqkUz1oE2EYfu7uuyRKLCFt6g+4VNQWWod+mQRRR1En0UFOHKoNCMKNju4SEQsOzsFNcRGl4CS42AzaKhKcsqhk0Etj7u+773y/6+USbOLSF5574b33eX+e906L4xh7MaYeC/c/IFcowMznEzDTBGPMoldnqEFtkPy708mIqvHHe0s7BcaYJYSwRwPu9vbYRH1XJI4tEYb2jYtHOHko9LvdxE9cYZQcBoF9+9oJ7jgRQt+HFAJSyv9rkO6UkGvXF3mr9QelkpkUINsYR6T8Jrkay8i+b9+5yfnmppMmSFw6e4yrIynBBsdS3jQ1PH/zeTiBIt+9dZpvbTlZh1+Oh/Z3F33XRUj7R1GUxA3DwMx0EYHnDUUMPe9Rfe1tc26uiL6M8aXno+UH6O7PIShPIapMQx6sQMxW4JbL+MkKCKhwNgGN2FD7Pnz82j63coF/aoc4ekDHtxfrzUniaZrW/FfEBomI9Scv7fnVq7zdBwIqajBWpeTd99d3vgBNCaQSzMOLyJ+6ApSPWxSzD61a/MfThupSjVuvxk2A3sazYYGBGbML0OcvW9rMyeRLFO8eVGXnKyacMiug5ikSplLs05dXzqNQWpbv6/URjpK+m6JH3GhQQI2QI+RTmBO0EwQ/RUBcqe31d/4rwAB0lPTXqN6HzgAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createRightIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAfBJREFUeNqkUz1s00AU/hwSh1SEhiFCYuhCVSExgHRiYKjEVCEyMMGAsjCxZunesWM7dIgEA8JISPyoUhFDFoZOSE2GgtrSIAYWSEPb1HUS23c+8+7iuE5/JKQ+6fOdz/e+970fG2EY4jyWVo9b819hGEZ8WCgW4z2dV2lZFUJYgnNwz9PwXRebc3cGBMfN6XSQy+eHryyCMuv43dRpBCpSz7b1qlB+cI3RWkEYlv+LQFkgBLxuV8s9OAhQLk0w7vsnSHQKVMhqQuYRSRBouK5AqyXwpHSdvfywUYkKb8UEFIU9fXybOY6A+jbszGAP7O/7RBKg2eR4dH+KvV5ej0k0gaqobXO0214c3acUDnt99Pp9cKqDUqLsx68LuHd3gtU+b1eOCOiSaaZQKJjgMsSOy7EnJcSYCZnLwKbojic1weTVMXz81KhTexeSKdSXqrUzh2X84Qxr9SQmx1P48q6mnTPZrJUs4jMp5QlHlSd1Y203fRGFK8DPV28HzqZpjXShW3+D00bamCrpNU9DuvvcGsjea1rO+nvw39+AxRCGckyO8ciQFG8gPT27ptX8/b4gt1asYGdzRGE6MVCXCJcj5NShbG9B/NnYhttpyMYL5XmTYEdw1KgMFSgJJiEbIXNGPQXBi+CTrzTO+zv/E2AA3Y8Nbp4Kn1sAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createColumnVisibleIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAdhJREFUeNrUk01LAlEUhu845QdRUxZBhIIWtFBso2AwRAVNLqKltHCb63b9A/9AixZCELhyYdAmEyYCBcOlNa1CSQoxog/DMY3x9p5B27Zw1YGH8XrO+55759wROOdsmLCwIWNoAwFh/ugfZQKsAQV4gbNf9woqIAeuQHOgGxgIMNix2Wx7iqIsxmKxWU3TxgqFgpWSsix3fT5fK5VKPedyuftOp5OE7oz60hHsYD8UCh3k83k5k8ksGYYx5XK5rK2WzgiIrPQf5aiGakljakVRjKDrZaPR6Oi6zglVVTlFMnnMZXmdK8o2x674IE+1pCHtCFx2w+GwE9u3drtd81yJRAKdDXZ4eGSuFxb87PHxjg3yVEsaNNolg5NSqTTVbDaX7Agq8Hg8TFWLbGVl0xTY7TY2Our5NfhCQPNAWtFisdSr1WqvWCwawWBwRpKkcZyXadoN83qXmSQ50V1jGxurpnGlUqnH4/FzvItTmoo5ApjQNMIOh2MrEon4o9Gov1arzZXL5XHKBwKBT7fbXU+n07fZbPa23W5f4BVd93o9TgYimATTMHHCbB5PN9ZSf0LmrsEHRDWInvB8w/oFvAv920iFDkBzF/64fHTjvoFOxsL//5h+BBgAwjbgRLl5ImwAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createColumnHiddenIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0ZGNDRBMkJENkU3MTFFNUIwOTBGRTc0MTA3OTI2OEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0ZGNDRBMkNENkU3MTFFNUIwOTBGRTc0MTA3OTI2OEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3RkY0NEEyOUQ2RTcxMUU1QjA5MEZFNzQxMDc5MjY4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RkY0NEEyQUQ2RTcxMUU1QjA5MEZFNzQxMDc5MjY4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjQ0mkwAAACISURBVHjaYvz//z8DJYCJgUIwDAxgKSwspMwAIOYDYlcgtgNiJSBWBGJhIGaHyoHAJyD+CcRvgfg+EN8D4kNAvBtkwGEg1iNgkSCUlgBibSg7D4gvgwywRXKBChArALEIELMCsQBU8Qcg/g3Eb4D4ARDfBeKDMBeAnLcWikkGjKMpcRAYABBgACqXGpPEq63VAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createColumnIndeterminateIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUY1QTkyNDUxRTkzMTFFNkFEQzVDNjE1NDE4RDlEQUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUY1QTkyNDYxRTkzMTFFNkFEQzVDNjE1NDE4RDlEQUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5RjVBOTI0MzFFOTMxMUU2QURDNUM2MTU0MThEOURBQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RjVBOTI0NDFFOTMxMUU2QURDNUM2MTU0MThEOURBQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Por9Q7gAAAGzSURBVHja1JOxSwJRHMffqXcqSoVBQ0FDNN7iIBxO5WA3NYoEjm0u/T2Bkw2ONZlgNEk4Bw6GiGiippmRnp76+n4PbWhpcOoHH57P+36/7/e8n4qUUmxSLrFhbRygoJwPq6tsgRMQB0cgtNINQA0UwCMYrX3rAAUB516v9zIejx+nUqm90WgUDIfDaq1WE9PpdK6q6mc2m+0WCoUX7K/hu+O5TPCBq0gkUiqXy0PbtqVlWXK5XDqwuE4mEzmfzyU11NJDr3C73SZOfeh0OtPxeCyR7oixlzhdVqtV2ev1nCB+Tw219NDrQRtJwzBCaF+bzWbsSGQyGVEsFoWmacLj8YjBYCBisZhIp9MC3Qhq6YEmyQ5OTdO8bTQak263K8m69d+FIOc5tfTQywAvTrmIRqM3pVLptd1uy3q9/nN3slgsZLPZlHxGDbX00Ou8ApfLxbdh+P3+MyTriURC7/f7+7hCsFKpCF3XvwKBQCuXyz3n8/ln/Bb3yH9iOAPcYAfsIiSEsAOsh9hvA99qDizwAVMDphbWd+zfwFBZTSOFfqBxJv4YPk6cDcYMVv7/n+lbgAEAtdcjOjP715MAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createGroupIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUVCNUI1OUNENkYwMTFFNThGNjJDNUE3ODIwMEZERDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUVCNUI1OURENkYwMTFFNThGNjJDNUE3ODIwMEZERDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1RUI1QjU5QUQ2RjAxMUU1OEY2MkM1QTc4MjAwRkRENyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1RUI1QjU5QkQ2RjAxMUU1OEY2MkM1QTc4MjAwRkRENyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlkCTGoAAACDSURBVHjaYmRgYPjPgBswQun/+BT8X3x5DoZErG4KCj/3/DcMNZMNuRiYGPADRiRX4HYBJV5AB0QrhAGW//8hehgZES6FiaGLYzUAq7sxNf0nxQCsinHFAguegCPKBYxoYfAfWQxNnPgwINJVYMDEQCEYfLHASGoKRQlxPN7BqQggwAAN+SopPnDCwgAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createPivotIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAitJREFUeNqcU01rE1EUPfPVJjFqdYw2pJQkNS2hYhQUiwj+AaugKFYUBWutG3HjokgNrroRKYKbglBBFF0o1IW404qClGIDxpYKTQgULZJmmpiYkPnwvmtNspPmweOcmXnnvPPufSOdjsf7AfjR3PiOU6OjV50mh9CqtmVJDlkNjWU3tPXEiA6hlS3Lkm3HQbFYxO5hnTF0pQ3Bwa3MAxc98F9wMd95TsOOswpzoRFa1TJNyaKHtTUD07cNdv9wx6jtNDNW53N369xyOiC0qmmanMAwcjh+/yimrr/D28kjf8WLizjY3c38YzKJw729zKcTCU4gtLUE+Xwejy+94gWfl5agKQr8uo4Eccu2USr48SWVQq5QWE/gcAJZuIgF5XIF5yf7GfcGg9Cos4O3UoiFw2jFLrx+/wtRet+3nkJoOAEbkJtty5g484I+yUivrODekxb4tmuInZhCuFPHyHAXZubnUTXNWgKhlc1qlY+gaZsw9PwkY4fPhxsDXvxcrWL25TE8G+8DFAOxSAQHotG6AWlrRXS52vD08ifGr5kM1+BBPIBkOo3flQpaNA2zCwug+8MGdkMCPoLbvQ0DDw8xRgIBBNvbsUoF6yK+h+pQJpN91JH9PT2NCWS1Ui4rNhtswZubPxi/LS9TTWxemKTK/9t1jtramEBo1Vw226pRvEfj3oaL6v3vVRYaoZXcodA12ePpbOZXtEuljEToprmZprpBvehn4Y8AAwDB0mLL0M405wAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createAggregationIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMZJREFUeNpi/P//PwMlgImBQjDwBrCgmMYENq8RiLVxqL8KxPX//v1DiIACEYYZGRlBmBOIe4B4PRDrQMUYoGyQGIoebAbADJkAxFuAWA9JXJdYA0CYC4inAPFOINZHlkPWgxKIcFMhQA0aFveB+DbOUERxDhQAbTEC4qNAPBfqEmRx3F6AAhOgojNAvBikGckumDiKHhY0B3ECcTVQQhRIg/B1NNeeB1IgQ7/BXYvmdE6oAnYcPv4NxF+BerAbMDTzAkCAAQChYIl8b86M1gAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createGroupIcon12=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTNFQzE0NTdEOTk1MTFFNUI4MjJGMjBFRDk4MkMxNjAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTNFQzE0NThEOTk1MTFFNUI4MjJGMjBFRDk4MkMxNjAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxM0VDMTQ1NUQ5OTUxMUU1QjgyMkYyMEVEOTgyQzE2MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxM0VDMTQ1NkQ5OTUxMUU1QjgyMkYyMEVEOTgyQzE2MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiInRbAAAAEjSURBVHjaYuTi5XqkpKvI9/fXHwZWDlaGZ/eeM7x59raDAQj4pOQrBBUVGP78+MfAzMbE8PLKhU8Mhnb6/6//P/f/8N/d/x8AWUn1cf+BaleCsFPt5P/T/v//3/zj//8JQFrB1vM/I5IN3EAbfgBt+Au0QRBqw3sMG0DiQMwPxFuB2BzKZmLAAViA+BOU/QOI7wPxRyhfCIhT0NT/ZETi7AZiZiD+DOXL6EdlGdkWFzF8evaDgUuIg2F9eiTYBrhuIJ4NxHegfDsgnobuJGQbNgBxMRDfhfLFgDgB3UnInPVALMxAACDbcBGItwDxAyhfCRismejBiuyHiUBsDMQmUL6cSXIJf0hTDsNboEN42RkYJth58TPisV0eaMNFdBsAAgwANVJzd8zQrUcAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createCutIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAlRJREFUeNqkU09okmEcfj6ThNRhjUEJDhxDZ1t4sI3lDrKDhESHpC6x6yBoh52GfcdBJDvtElEUdKhOSq1JjF0SabSton9OmIeRxVKIrUgdU5xvv8e+hXXYpRcefv+e5/mh7/tpSin8z9Gi0Sg0TTsv+edarfa+Wq2iUqmgXC6DudVqhd1uh81ma+UWi8Uv3G5ZPJ9MJmGq1+twOBynBOek6T9oG+fkkU8djymVSiGTyWBiYuL6QSb7YvLIp679+D0ej57NZpX8JD0QCPj7+vrgcrnAyJp9zskj3zD928Tr9er5fF5FIhFdiH4aMLJmn/N98R+Dq5qGSUFQwKFs1AuFggqFQrrT6bzIyJp9zoMGn7qWQU6ST4JNQeK3kd/n8+nFYlGFw+HFdDqtWLOfMHjk5wwDjckRwGYGeJVnBMdXgaNrbveJKysr/etu91pHtVo8BnyXWUnwsgHM7wAVX7MJ0cEmjWvW4eGzjpGRXnNnZ8cFeRi9pRI+dnXtjMbj/cLp57rG1tbPH0tLwd3l5QHp3RBU8E7Txr4MDb1V8bh60tOzfhN4vTc9rRYkCm4tGDX7nJNHPnWt/+CFpt1rF9emptScxKfA2DNZwThn9NtNWjoxMH1Tqru+va02NzbK47FY4PHMzJtdYPYD8OChGDCyZp9z8sinrnWXt4E7q4ODRbrelw0x2Xjyn1fImn3OySOfutYt+IDRSeCycAZeAYm7wKLkshR87A1+cILDAss4EDkNXJI8Ows8yin1nENn+5MXNA3hnpHzHBKYjWhqe4lffwkwAMRcPMqRQZ4vAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createCopyIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgBJREFUeNqMk79rFEEcxd/M7V2QAzVFEOMFGwNiIGCjEdIEhYODmEawsFf8G4QQSCPYyqUWCdhY2qSQECSpInvFJYT8Ki6dZO8Sb2P29pfvu+4sm+UKv/AYZna/b95ndla9WFyEUmoewG0Mr+9hGB5EYYhypZIseO0fCHa3sP/LhxVFkazd+by0tOIFAQac+3w5imPYto1Pa2tv+VxR+8bRuv8EevIRxn5uQoszpWI2RjSIBgMMLi/hui76/T6+Li+v8Pkz9k0Wo409pFHAJooUCiWqYlk46nTQ2ttD+/gY75pNPKjVmmfd7gf2vKbu5U0sMWBpzWatNcAkv7n789lZ1GdmMqQ3cbxApIUikg58H5S0JgkSE/L/L1JmoNJmMZEDzCNdK5cxwtFxHHxcXcXTqalm27Zf7rRaRKBBhkAhxcgjiYlUo16HfKlqtYpv29u95Az81EClCFLyaQ0SCib/dtNJ6qsGfDmJnRqoXIKiyVUDz8sSSGy5VnI3ikh5k1KplBnog/V19BxnRCZmV15dGCSdO1wziphcS3rrT7d71zk5Ob8+Pf3eMN4aH3/8qtGYM0hp7iyJbO0bBOrMPTz8kl6OpGoTEzEncwapaCLrRNfu6Wli0Etl6mbfdb0MiYrlXsjZyAUTE0qwOxsbo9aQ3/dGEWlYRRcX5xxG/wowAC8cIjzfyA4lAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createPasteIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAadJREFUeNpinGLPAAaMjAxwcJ9Tk+0Bt7YPkCkKFXqt8PXqFsXv13/B1Pz/D6FZENoYZgKxMYgh9OI6i567q5hFUp4kiH9i3qTnT3auqWPgZ/gDVXsWiNPBFk+2hxtwxi0syfjy5csM0vFzGTg42Bj4+XnAEh8/fmH48eMXw9OFyQy6uroMu1bNAxlgAnbB338IJ6hlzWU4uXgJw6FDO4Ga+Rl4eXkZWFlZGb58/crw6eNHBjG7Iga1yAiG7SvmwfWw/P2LMADkraiYaIb79+4xYAOKSkpgNch6UFzwFxgy//79Y5BTUMBqwF+g3H8mJgZkPSgu+Ac04M+/fwz4AAswulBc8Ocfqg1/kGWxAEagAch6WP78RfUCIQOYmJkZ/qC44A+qAb8JeIEZZMkfXC4gwgsQNUgG/CbRC2BXIhvw8AsDgzQnkgEEvACxBMJ++h0YJmufMTA8ABry8xckGkFOxIdBakBqQXpAekGZiXPTSwbeUAEgB5hsObm58acDoJp3nxkYNn1gEANyP4MNAGKxh18ZbsXxsjMQA97/Z7gF0gPEfwACDAB/y9xB1I3/FQAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createMenuIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjM3MUVBMzlERkJEMTFFNUEwMjFFNDJDMDlCMUY3OTciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjM3MUVBM0FERkJEMTFFNUEwMjFFNDJDMDlCMUY3OTciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMzcxRUEzN0RGQkQxMUU1QTAyMUU0MkMwOUIxRjc5NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMzcxRUEzOERGQkQxMUU1QTAyMUU0MkMwOUIxRjc5NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pux7nZcAAAGtSURBVHjalFM9a8JQFL0veYkfYJUQEYuIIF07uToVpGuHOgid3dJN+i+K4C6CXQqFjplcCoKbXZ0EqRUFP/CTxCS9NzTdNOmBx32P3Nx3zj33sXq9/tRqtbRYLCaLomhBANi2La5WK7NSqTRYNpt1LMsCLACO47iLMXY2CoIAm80GZFkGoVQqfWy3WzBNE6gQVveNhmHAbreDYrHYZaPRKKTr+i0ykTDBPnUzgfYEvFkYDAZWoVDQWb/fB9QD6XQajscjBCkQDodhOBzCcrkEVq1WXfoEL9EPlEdSZrMZ8Pl8frVYLO7QgRB+sPx+/GUk4qUGNvOdYSO+JpPJJdHyc8ADnUluIpH45vv9XiFbiFIQC71IjuBe5ZlM5gYlPHLOL7C4AcEgofXbXC7X4PF4vKuqahf+AWJxOBwgEokA6/V67kFRFFcGLU/SqShJkusATSNbr9fQ6XSuU6mUQP3BBIaJZyM6BuPx2Mnn85+sVqu9ttvt+2QyGXgOqInT6RTK5fIbwwl0iFI0Gv2btCA9QPdcOVzTtOdms/mAnnKkaAexES0UcG/hc375EWAA94tOP0vEOEcAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createCheckboxCheckedIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0VGQkU3ODM4MTFFNjExQjlCQzhERUVDNkNGMzFDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBRkJCRDU1MTEyM0ExMUU2ODE4MUUyOTNBNTRGQkIxNyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBRkJCRDU1MDEyM0ExMUU2ODE4MUUyOTNBNTRGQkIxNyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIzMkM4M0M1M0MxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDRUZCRTc4MzgxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+riMaEQAAAL5JREFUeNqUks0JhDAQhSd7tgtLMDUIyTXF2IdNWIE3c0ruYg9LtgcPzvpEF8SfHR8MGR75hpcwRERmrjQXCyutDKUQAkuFu2AUpsyiJ1JK0UtycRgGMsbsPBFYVRVZaw/+7Zu895znOY/j+PPWT7oGp2lirTU3TbPz/4IAAGLALeic47Ztlx7RELHrusPAAwgoy7LlrOuay7I8TXIadYOLouC+7+XgBiP2lTbw0crFGAF9ANq1kS75G8xXgAEAiqu9OeWZ/voAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createCheckboxUncheckedIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0VGQkU3ODM4MTFFNjExQjlCQzhERUVDNkNGMzFDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MkU1Rjk1NDExNDExMUU2ODhEQkMyRTJGOUNGODYyQyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MkU1Rjk1MzExNDExMUU2ODhEQkMyRTJGOUNGODYyQyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI1MkM4M0M1M0MxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDRUZCRTc4MzgxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+t+CXswAAAFBJREFUeNrsksENwDAIA023a9YGNqlItkixlAFIn1VOMv5wvACAOxOZWUwsB6Gqswp36QivJNhBRHDhI0f8j9jNrCy4O2twNMobT/7QeQUYAFaKU1yE2OfhAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createCheckboxIndeterminateIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0VGQkU3ODM4MTFFNjExQjlCQzhERUVDNkNGMzFDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGMjU4MzhGQjEyM0ExMUU2QjAxM0Q2QjZFQ0IzNzM4NiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGMjU4MzhGQTEyM0ExMUU2QjAxM0Q2QjZFQ0IzNzM4NiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIzMkM4M0M1M0MxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDRUZCRTc4MzgxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2Xml2QAAAGBJREFUeNpiYGBg8ATiZ0D8n0j8DKqH4dnhw4f/EwtAakF6GEGmAAEDKYCRkZGBiYFMQH+NLNjcjw2ghwMLIQWDx48Do/H5kSNHiNZw9OhREPUCRHiBNJOQyJ+A9AAEGACqkFldNkPUwwAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createGroupExpandedIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzBBODQ4M0ExMjM4MTFFNkFDNEJDMjUzQUJBQ0I2QjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzBBODQ4M0IxMjM4MTFFNkFDNEJDMjUzQUJBQ0I2QjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MEE4NDgzODEyMzgxMUU2QUM0QkMyNTNBQkFDQjZCOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MEE4NDgzOTEyMzgxMUU2QUM0QkMyNTNBQkFDQjZCOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhKAo60AAADVSURBVHjajFC9DkRgEJzzFhqiligURKcjR+UFJK7wGN7jOq+glXgCvSgUCnyVn47GHsVdcURsss3s7OzOPEzTdB3HeTPGeMMw0DQNOI4Dz/PI8xyWZSGO4y4MwxeSJGnruqarGseRNE1r4fv+YSgIwgErioJwpgrggHmeR7Bt+xZ5GAbCNE2/0zvpv78v6bpOUFX1lvK6roQz92dkWZYJiqLcSmOeZ9qDb6uqusx5WRaSJIlBFEUnTdNuC536vifXdaksSwqCgLIsoyiKdnNs23l+BBgAK/54I/P5bhMAAAAASUVORK5CYII=",
eImg},SvgFactory.prototype.createGroupContractedIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0U2QUVBRDYxMjM4MTFFNjk3NjVBRUM0MUJDRjFCODgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0U2QUVBRDcxMjM4MTFFNjk3NjVBRUM0MUJDRjFCODgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3RTZBRUFENDEyMzgxMUU2OTc2NUFFQzQxQkNGMUI4OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RTZBRUFENTEyMzgxMUU2OTc2NUFFQzQxQkNGMUI4OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhjzsKsAAADSSURBVHjajJAvioVgFMXPuAuLYhYMBsVmU54mNyA4wWW4j2luwSq4ArsYDAZ9X/JP0+KZ58CkgTffD264l3MPnPPh+34cRdGXEEL1PA/TNEFRFKiqirZtEQQByrJ85nn+iaqq5nEc+Y5t2+g4zow0TSlD13XEf66/JElChGEoJV7Xldj3/WfRNI0A/sx9v3Fdl7BtW8r5ui6CkpimSViWJSU+joN38fMwDG+F53nSMAwBXdejuq6fr9K5LAvjOGbf98yyjE3TsCiKO5x4/Ty+BRgA3R6JXc/jqsQAAAAASUVORK5CYII=",eImg},SvgFactory}();exports.SvgFactory=SvgFactory},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),context_1=__webpack_require__(6),cellRendererFactory_1=__webpack_require__(55),CellRendererService=function(){function CellRendererService(){}return CellRendererService.prototype.useCellRenderer=function(cellRendererKey,eTarget,params){var cellRenderer=this.lookUpCellRenderer(cellRendererKey);if(!utils_1.Utils.missing(cellRenderer)){var resultFromRenderer,iCellRendererInstance=null;this.checkForDeprecatedItems(cellRenderer);var rendererIsAComponent=this.doesImplementICellRenderer(cellRenderer);if(rendererIsAComponent){var CellRendererClass=cellRenderer;iCellRendererInstance=new CellRendererClass,this.context.wireBean(iCellRendererInstance),iCellRendererInstance.init&&iCellRendererInstance.init(params),resultFromRenderer=iCellRendererInstance.getGui()}else{var cellRendererFunc=cellRenderer;resultFromRenderer=cellRendererFunc(params)}if(null!==resultFromRenderer&&""!==resultFromRenderer)return utils_1.Utils.isNodeOrElement(resultFromRenderer)?eTarget.appendChild(resultFromRenderer):eTarget.innerHTML=resultFromRenderer,iCellRendererInstance}},CellRendererService.prototype.checkForDeprecatedItems=function(cellRenderer){cellRenderer&&cellRenderer.renderer&&console.warn("ag-grid: colDef.cellRenderer should not be an object, it should be a string, function or class. this changed in v4.1.x, please check the documentation on Cell Rendering, or if you are doing grouping, look at the grouping examples.")},CellRendererService.prototype.doesImplementICellRenderer=function(cellRenderer){return cellRenderer.prototype&&"getGui"in cellRenderer.prototype},CellRendererService.prototype.lookUpCellRenderer=function(cellRendererKey){return"string"==typeof cellRendererKey?this.cellRendererFactory.getCellRenderer(cellRendererKey):cellRendererKey},__decorate([context_1.Autowired("cellRendererFactory"),__metadata("design:type",cellRendererFactory_1.CellRendererFactory)],CellRendererService.prototype,"cellRendererFactory",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],CellRendererService.prototype,"context",void 0),CellRendererService=__decorate([context_1.Bean("cellRendererService"),__metadata("design:paramtypes",[])],CellRendererService)}();exports.CellRendererService=CellRendererService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),gridOptionsWrapper_1=__webpack_require__(3),ValueFormatterService=function(){function ValueFormatterService(){}return ValueFormatterService.prototype.formatValue=function(column,rowNode,$scope,rowIndex,value){var formatter,colDef=column.getColDef();formatter=rowNode.floating&&colDef.floatingCellFormatter?colDef.floatingCellFormatter:colDef.cellFormatter;var result=null;if(formatter){var params={value:value,node:rowNode,column:column,$scope:$scope,rowIndex:rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};result=formatter(params)}return result},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],ValueFormatterService.prototype,"gridOptionsWrapper",void 0),ValueFormatterService=__decorate([context_1.Bean("valueFormatterService"),__metadata("design:paramtypes",[])],ValueFormatterService)}();exports.ValueFormatterService=ValueFormatterService},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},component_1=__webpack_require__(47),rowNode_1=__webpack_require__(27),utils_1=__webpack_require__(7),context_1=__webpack_require__(6),gridOptionsWrapper_1=__webpack_require__(3),svgFactory_1=__webpack_require__(59),svgFactory=svgFactory_1.SvgFactory.getInstance(),CheckboxSelectionComponent=function(_super){function CheckboxSelectionComponent(){_super.call(this,'<span class="ag-selection-checkbox"/>')}return __extends(CheckboxSelectionComponent,_super),CheckboxSelectionComponent.prototype.createAndAddIcons=function(){this.eCheckedIcon=utils_1.Utils.createIconNoSpan("checkboxChecked",this.gridOptionsWrapper,null,svgFactory.createCheckboxCheckedIcon),this.eUncheckedIcon=utils_1.Utils.createIconNoSpan("checkboxUnchecked",this.gridOptionsWrapper,null,svgFactory.createCheckboxUncheckedIcon),this.eIndeterminateIcon=utils_1.Utils.createIconNoSpan("checkboxIndeterminate",this.gridOptionsWrapper,null,svgFactory.createCheckboxIndeterminateIcon);var eGui=this.getGui();eGui.appendChild(this.eCheckedIcon),eGui.appendChild(this.eUncheckedIcon),eGui.appendChild(this.eIndeterminateIcon)},CheckboxSelectionComponent.prototype.onSelectionChanged=function(){var state=this.rowNode.isSelected();utils_1.Utils.setVisible(this.eCheckedIcon,state===!0),utils_1.Utils.setVisible(this.eUncheckedIcon,state===!1),utils_1.Utils.setVisible(this.eIndeterminateIcon,"boolean"!=typeof state)},CheckboxSelectionComponent.prototype.onCheckedClicked=function(){this.rowNode.setSelected(!1)},CheckboxSelectionComponent.prototype.onUncheckedClicked=function(event){this.rowNode.setSelectedParams({newValue:!0,rangeSelect:event.shiftKey})},CheckboxSelectionComponent.prototype.onIndeterminateClicked=function(event){this.rowNode.setSelectedParams({newValue:!0,rangeSelect:event.shiftKey})},CheckboxSelectionComponent.prototype.init=function(params){this.createAndAddIcons(),this.rowNode=params.rowNode,this.onSelectionChanged(),this.addGuiEventListener("click",function(event){return event.stopPropagation()}),this.addGuiEventListener("dblclick",function(event){return event.stopPropagation()}),this.addDestroyableEventListener(this.eCheckedIcon,"click",this.onCheckedClicked.bind(this)),this.addDestroyableEventListener(this.eUncheckedIcon,"click",this.onUncheckedClicked.bind(this)),this.addDestroyableEventListener(this.eIndeterminateIcon,"click",this.onIndeterminateClicked.bind(this)),this.addDestroyableEventListener(this.rowNode,rowNode_1.RowNode.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this))},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],CheckboxSelectionComponent.prototype,"gridOptionsWrapper",void 0),CheckboxSelectionComponent}(component_1.Component);exports.CheckboxSelectionComponent=CheckboxSelectionComponent},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),constants_1=__webpack_require__(8),columnController_1=__webpack_require__(13),floatingRowModel_1=__webpack_require__(26),utils_1=__webpack_require__(7),gridRow_1=__webpack_require__(34),gridCell_1=__webpack_require__(33),CellNavigationService=function(){function CellNavigationService(){}return CellNavigationService.prototype.getNextCellToFocus=function(key,lastCellToFocus){switch(key){case constants_1.Constants.KEY_UP:return this.getCellAbove(lastCellToFocus);case constants_1.Constants.KEY_DOWN:return this.getCellBelow(lastCellToFocus);case constants_1.Constants.KEY_RIGHT:return this.getCellToRight(lastCellToFocus);case constants_1.Constants.KEY_LEFT:return this.getCellToLeft(lastCellToFocus);default:console.log("ag-Grid: unknown key for navigation "+key)}},CellNavigationService.prototype.getCellToLeft=function(lastCell){var colToLeft=this.columnController.getDisplayedColBefore(lastCell.column);return colToLeft?new gridCell_1.GridCell(lastCell.rowIndex,lastCell.floating,colToLeft):null},CellNavigationService.prototype.getCellToRight=function(lastCell){var colToRight=this.columnController.getDisplayedColAfter(lastCell.column);return colToRight?new gridCell_1.GridCell(lastCell.rowIndex,lastCell.floating,colToRight):null},CellNavigationService.prototype.getRowBelow=function(lastRow){return this.isLastRowInContainer(lastRow)?lastRow.isFloatingBottom()?null:lastRow.isNotFloating()?this.floatingRowModel.isRowsToRender(constants_1.Constants.FLOATING_BOTTOM)?new gridRow_1.GridRow(0,constants_1.Constants.FLOATING_BOTTOM):null:this.rowModel.isRowsToRender()?new gridRow_1.GridRow(0,null):this.floatingRowModel.isRowsToRender(constants_1.Constants.FLOATING_BOTTOM)?new gridRow_1.GridRow(0,constants_1.Constants.FLOATING_BOTTOM):null:new gridRow_1.GridRow(lastRow.rowIndex+1,lastRow.floating)},CellNavigationService.prototype.getCellBelow=function(lastCell){var rowBelow=this.getRowBelow(lastCell.getGridRow());return rowBelow?new gridCell_1.GridCell(rowBelow.rowIndex,rowBelow.floating,lastCell.column):null},CellNavigationService.prototype.isLastRowInContainer=function(gridRow){if(gridRow.isFloatingTop()){var lastTopIndex=this.floatingRowModel.getFloatingTopRowData().length-1;return lastTopIndex===gridRow.rowIndex}if(gridRow.isFloatingBottom()){var lastBottomIndex=this.floatingRowModel.getFloatingBottomRowData().length-1;return lastBottomIndex===gridRow.rowIndex}var lastBodyIndex=this.rowModel.getRowCount()-1;return lastBodyIndex===gridRow.rowIndex},CellNavigationService.prototype.getRowAbove=function(lastRow){return 0===lastRow.rowIndex?lastRow.isFloatingTop()?null:lastRow.isNotFloating()?this.floatingRowModel.isRowsToRender(constants_1.Constants.FLOATING_TOP)?this.getLastFloatingTopRow():null:this.rowModel.isRowsToRender()?this.getLastBodyCell():this.floatingRowModel.isRowsToRender(constants_1.Constants.FLOATING_TOP)?this.getLastFloatingTopRow():null:new gridRow_1.GridRow(lastRow.rowIndex-1,lastRow.floating)},CellNavigationService.prototype.getCellAbove=function(lastCell){var rowAbove=this.getRowAbove(lastCell.getGridRow());return rowAbove?new gridCell_1.GridCell(rowAbove.rowIndex,rowAbove.floating,lastCell.column):null},CellNavigationService.prototype.getLastBodyCell=function(){var lastBodyRow=this.rowModel.getRowCount()-1;return new gridRow_1.GridRow(lastBodyRow,null)},CellNavigationService.prototype.getLastFloatingTopRow=function(){var lastFloatingRow=this.floatingRowModel.getFloatingTopRowData().length-1;return new gridRow_1.GridRow(lastFloatingRow,constants_1.Constants.FLOATING_TOP)},CellNavigationService.prototype.getNextTabbedCell=function(gridCell,backwards){return backwards?this.getNextTabbedCellBackwards(gridCell):this.getNextTabbedCellForwards(gridCell)},CellNavigationService.prototype.getNextTabbedCellForwards=function(gridCell){var displayedColumns=this.columnController.getAllDisplayedColumns(),newRowIndex=gridCell.rowIndex,newFloating=gridCell.floating,newColumn=this.columnController.getDisplayedColAfter(gridCell.column);if(!newColumn){newColumn=displayedColumns[0];var rowBelow=this.getRowBelow(gridCell.getGridRow());if(utils_1.Utils.missing(rowBelow))return;newRowIndex=rowBelow.rowIndex,newFloating=rowBelow.floating}return new gridCell_1.GridCell(newRowIndex,newFloating,newColumn)},CellNavigationService.prototype.getNextTabbedCellBackwards=function(gridCell){var displayedColumns=this.columnController.getAllDisplayedColumns(),newRowIndex=gridCell.rowIndex,newFloating=gridCell.floating,newColumn=this.columnController.getDisplayedColBefore(gridCell.column);if(!newColumn){newColumn=displayedColumns[displayedColumns.length-1];var rowAbove=this.getRowAbove(gridCell.getGridRow());if(utils_1.Utils.missing(rowAbove))return;newRowIndex=rowAbove.rowIndex,newFloating=rowAbove.floating}return new gridCell_1.GridCell(newRowIndex,newFloating,newColumn)},__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],CellNavigationService.prototype,"columnController",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],CellNavigationService.prototype,"rowModel",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],CellNavigationService.prototype,"floatingRowModel",void 0),CellNavigationService=__decorate([context_1.Bean("cellNavigationService"),__metadata("design:paramtypes",[])],CellNavigationService)}();exports.CellNavigationService=CellNavigationService},function(module,exports,__webpack_require__){var events_1=__webpack_require__(10),ColumnChangeEvent=function(){function ColumnChangeEvent(type){this.type=type}return ColumnChangeEvent.prototype.toString=function(){var result="ColumnChangeEvent {type: "+this.type;return this.column&&(result+=", column: "+this.column.getColId()),this.columnGroup&&(result+=this.columnGroup.getColGroupDef().headerName),this.toIndex&&(result+=", toIndex: "+this.toIndex),this.visible&&(result+=", visible: "+this.visible),this.pinned&&(result+=", pinned: "+this.pinned),"boolean"==typeof this.finished&&(result+=", finished: "+this.finished),result+="}"},ColumnChangeEvent.prototype.withPinned=function(pinned){return this.pinned=pinned,this},ColumnChangeEvent.prototype.withVisible=function(visible){return this.visible=visible,this},ColumnChangeEvent.prototype.isVisible=function(){return this.visible},ColumnChangeEvent.prototype.getPinned=function(){return this.pinned},ColumnChangeEvent.prototype.withColumn=function(column){return this.column=column,this},ColumnChangeEvent.prototype.withColumns=function(columns){return this.columns=columns,this},ColumnChangeEvent.prototype.withFinished=function(finished){return this.finished=finished,this},ColumnChangeEvent.prototype.withColumnGroup=function(columnGroup){return this.columnGroup=columnGroup,this},ColumnChangeEvent.prototype.withToIndex=function(toIndex){return this.toIndex=toIndex,this},ColumnChangeEvent.prototype.getToIndex=function(){return this.toIndex},ColumnChangeEvent.prototype.getType=function(){return this.type},ColumnChangeEvent.prototype.getColumn=function(){return this.column},ColumnChangeEvent.prototype.getColumns=function(){return this.columns},ColumnChangeEvent.prototype.getColumnGroup=function(){return this.columnGroup},ColumnChangeEvent.prototype.isPinnedPanelVisibilityImpacted=function(){return this.type===events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED||this.type===events_1.Events.EVENT_COLUMN_GROUP_OPENED||this.type===events_1.Events.EVENT_COLUMN_VISIBLE||this.type===events_1.Events.EVENT_PIVOT_VALUE_CHANGED||this.type===events_1.Events.EVENT_COLUMN_PINNED},ColumnChangeEvent.prototype.isContainerWidthImpacted=function(){return this.type===events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED||this.type===events_1.Events.EVENT_COLUMN_GROUP_OPENED||this.type===events_1.Events.EVENT_COLUMN_VISIBLE||this.type===events_1.Events.EVENT_COLUMN_RESIZED||this.type===events_1.Events.EVENT_COLUMN_PINNED||this.type===events_1.Events.EVENT_PIVOT_VALUE_CHANGED||this.type===events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED},ColumnChangeEvent.prototype.isIndividualColumnResized=function(){return this.type===events_1.Events.EVENT_COLUMN_RESIZED&&void 0!==this.column&&null!==this.column},ColumnChangeEvent.prototype.isFinished=function(){return this.finished},ColumnChangeEvent}();exports.ColumnChangeEvent=ColumnChangeEvent},function(module,exports){var GroupInstanceIdCreator=function(){function GroupInstanceIdCreator(){this.existingIds={}}return GroupInstanceIdCreator.prototype.getInstanceIdForKey=function(key){var result,lastResult=this.existingIds[key];return result="number"!=typeof lastResult?0:lastResult+1,this.existingIds[key]=result,result},GroupInstanceIdCreator}();exports.GroupInstanceIdCreator=GroupInstanceIdCreator},function(module,exports,__webpack_require__){function defaultGroupComparator(valueA,valueB,nodeA,nodeB){var nodeAIsGroup=utils_1.Utils.exists(nodeA)&&nodeA.group,nodeBIsGroup=utils_1.Utils.exists(nodeB)&&nodeB.group,bothAreGroups=nodeAIsGroup&&nodeBIsGroup,bothAreNormal=!nodeAIsGroup&&!nodeBIsGroup;return bothAreGroups?utils_1.Utils.defaultComparator(nodeA.key,nodeB.key):bothAreNormal?utils_1.Utils.defaultComparator(valueA,valueB):nodeAIsGroup?1:-1}var utils_1=__webpack_require__(7);exports.defaultGroupComparator=defaultGroupComparator},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),valueService_1=__webpack_require__(29),columnController_1=__webpack_require__(13),utils_1=__webpack_require__(7),eventService_1=__webpack_require__(4),PivotService=function(){function PivotService(){}return PivotService.prototype.mapRowNode=function(rowNode){var pivotColumns=this.columnController.getPivotColumns();return 0===pivotColumns.length?void(rowNode.childrenMapped=null):void(rowNode.childrenMapped=this.mapChildren(rowNode.childrenAfterFilter,pivotColumns,0,this.uniqueValues))},PivotService.prototype.getUniqueValues=function(){return this.uniqueValues},PivotService.prototype.mapChildren=function(children,pivotColumns,pivotIndex,uniqueValues){var _this=this,mappedChildren={},pivotColumn=pivotColumns[pivotIndex];if(children.forEach(function(child){var key=_this.valueService.getValue(pivotColumn,child);utils_1.Utils.missing(key)&&(key=""),uniqueValues[key]||(uniqueValues[key]={}),mappedChildren[key]||(mappedChildren[key]=[]),mappedChildren[key].push(child)}),pivotIndex===pivotColumns.length-1)return mappedChildren;var result={};return utils_1.Utils.iterateObject(mappedChildren,function(key,value){result[key]=_this.mapChildren(value,pivotColumns,pivotIndex+1,uniqueValues[key])}),result},PivotService.prototype.execute=function(rootNode){function findLeafGroups(rowNode){rowNode.leafGroup?that.mapRowNode(rowNode):rowNode.childrenAfterFilter.forEach(function(child){findLeafGroups(child)})}this.uniqueValues={};var that=this;findLeafGroups(rootNode),this.createPivotColumnDefs(),this.columnController.onPivotValueChanged()},PivotService.prototype.getPivotColumnGroupDefs=function(){return this.pivotColumnGroupDefs},PivotService.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},PivotService.prototype.createPivotColumnDefs=function(){function recursivelyAddGroup(parentChildren,index,uniqueValues,keys){utils_1.Utils.iterateObject(uniqueValues,function(key,value){var newKeys=keys.slice(0);newKeys.push(key);var createGroup=index!==levelsDeep;if(createGroup){var groupDef={children:[],headerName:key};parentChildren.push(groupDef),recursivelyAddGroup(groupDef.children,index+1,value,newKeys)}else{var valueColumns=that.columnController.getValueColumns();if(1===valueColumns.length){var colDef=createColDef(valueColumns[0],key,newKeys);parentChildren.push(colDef),that.pivotColumnDefs.push(colDef)}else{var valueGroup={children:[],headerName:key};parentChildren.push(valueGroup),valueColumns.forEach(function(valueColumn){var colDef=createColDef(valueColumn,valueColumn.getColDef().headerName,newKeys);valueGroup.children.push(colDef),that.pivotColumnDefs.push(colDef)})}}})}function createColDef(valueColumn,headerName,pivotKeys){var colDef={};if(valueColumn){var colDefToCopy=valueColumn.getColDef();utils_1.Utils.assign(colDef,colDefToCopy)}return colDef.valueGetter=null,colDef.headerName=headerName,colDef.colId="pivot_"+columnIdSequence++,colDef.keys=pivotKeys,colDef.valueColumn=valueColumn,colDef}this.pivotColumnGroupDefs=[],this.pivotColumnDefs=[];var that=this,pivotColumns=this.columnController.getPivotColumns(),levelsDeep=pivotColumns.length,columnIdSequence=0;recursivelyAddGroup(this.pivotColumnGroupDefs,1,this.uniqueValues,[])},__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],PivotService.prototype,"rowModel",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],PivotService.prototype,"valueService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],PivotService.prototype,"columnController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],PivotService.prototype,"eventService",void 0),PivotService=__decorate([context_1.Bean("pivotService"),__metadata("design:paramtypes",[])],PivotService)}();exports.PivotService=PivotService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},gridOptionsWrapper_1=__webpack_require__(3),columnController_1=__webpack_require__(13),gridPanel_1=__webpack_require__(24),column_1=__webpack_require__(15),context_1=__webpack_require__(6),headerContainer_1=__webpack_require__(69),eventService_1=__webpack_require__(4),events_1=__webpack_require__(10),HeaderRenderer=function(){function HeaderRenderer(){}return HeaderRenderer.prototype.init=function(){this.eHeaderViewport=this.gridPanel.getHeaderViewport(),this.eRoot=this.gridPanel.getRoot(),this.eHeaderOverlay=this.gridPanel.getHeaderOverlay(),this.pinnedLeftContainer=new headerContainer_1.HeaderContainer(this.gridPanel.getPinnedLeftHeader(),null,this.eRoot,column_1.Column.PINNED_LEFT),this.pinnedRightContainer=new headerContainer_1.HeaderContainer(this.gridPanel.getPinnedRightHeader(),null,this.eRoot,column_1.Column.PINNED_RIGHT),this.centerContainer=new headerContainer_1.HeaderContainer(this.gridPanel.getHeaderContainer(),this.gridPanel.getHeaderViewport(),this.eRoot,null),this.context.wireBean(this.pinnedLeftContainer),this.context.wireBean(this.pinnedRightContainer),this.context.wireBean(this.centerContainer),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refreshHeader.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshHeader.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_MOVED,this.refreshHeader.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VISIBLE,this.refreshHeader.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_GROUP_OPENED,this.refreshHeader.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_PINNED,this.refreshHeader.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_HEADER_HEIGHT_CHANGED,this.refreshHeader.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_PIVOT_VALUE_CHANGED,this.refreshHeader.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_RESIZED,this.setPinnedColContainerWidth.bind(this)),this.columnController.isReady()&&this.refreshHeader()},HeaderRenderer.prototype.refreshHeader=function(){this.pinnedLeftContainer.removeAllChildren(),this.pinnedRightContainer.removeAllChildren(),this.centerContainer.removeAllChildren(),this.pinnedLeftContainer.insertHeaderRowsIntoContainer(),this.pinnedRightContainer.insertHeaderRowsIntoContainer(),this.centerContainer.insertHeaderRowsIntoContainer();var rowHeight=this.gridOptionsWrapper.getHeaderHeight(),dept=this.columnController.getColumnDept();this.eHeaderOverlay&&(this.eHeaderOverlay.style.height=rowHeight+"px",this.eHeaderOverlay.style.top=(dept-1)*rowHeight+"px"),this.setPinnedColContainerWidth()},HeaderRenderer.prototype.setPinnedColContainerWidth=function(){if(!this.gridOptionsWrapper.isForPrint()){var pinnedLeftWidth=this.columnController.getPinnedLeftContainerWidth()+"px";this.eHeaderViewport.style.marginLeft=pinnedLeftWidth;var pinnedRightWidth=this.columnController.getPinnedRightContainerWidth()+"px";this.eHeaderViewport.style.marginRight=pinnedRightWidth}},HeaderRenderer.prototype.onIndividualColumnResized=function(column){this.pinnedLeftContainer.onIndividualColumnResized(column),this.pinnedRightContainer.onIndividualColumnResized(column),this.centerContainer.onIndividualColumnResized(column)},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],HeaderRenderer.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],HeaderRenderer.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],HeaderRenderer.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],HeaderRenderer.prototype,"context",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],HeaderRenderer.prototype,"eventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],HeaderRenderer.prototype,"init",null),HeaderRenderer=__decorate([context_1.Bean("headerRenderer"),__metadata("design:paramtypes",[])],HeaderRenderer)}();exports.HeaderRenderer=HeaderRenderer},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),columnGroup_1=__webpack_require__(14),gridOptionsWrapper_1=__webpack_require__(3),context_1=__webpack_require__(6),column_1=__webpack_require__(15),context_2=__webpack_require__(6),renderedHeaderGroupCell_1=__webpack_require__(70),renderedHeaderCell_1=__webpack_require__(74),dragAndDropService_1=__webpack_require__(73),moveColumnController_1=__webpack_require__(76),columnController_1=__webpack_require__(13),gridPanel_1=__webpack_require__(24),context_3=__webpack_require__(6),HeaderContainer=function(){function HeaderContainer(eContainer,eViewport,eRoot,pinned){this.headerElements=[],this.eContainer=eContainer,this.eRoot=eRoot,this.pinned=pinned,this.eViewport=eViewport}return HeaderContainer.prototype.init=function(){var moveColumnController=new moveColumnController_1.MoveColumnController(this.pinned);this.context.wireBean(moveColumnController);var secondaryContainers;switch(this.pinned){case column_1.Column.PINNED_LEFT:secondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case column_1.Column.PINNED_RIGHT:secondaryContainers=this.gridPanel.getDropTargetPinnedRightContainers();break;default:secondaryContainers=this.gridPanel.getDropTargetBodyContainers()}var icon=this.pinned?dragAndDropService_1.DragAndDropService.ICON_PINNED:dragAndDropService_1.DragAndDropService.ICON_MOVE;this.dropTarget={eContainer:this.eViewport?this.eViewport:this.eContainer,iconName:icon,eSecondaryContainers:secondaryContainers,onDragging:moveColumnController.onDragging.bind(moveColumnController),onDragEnter:moveColumnController.onDragEnter.bind(moveColumnController),onDragLeave:moveColumnController.onDragLeave.bind(moveColumnController),onDragStop:moveColumnController.onDragStop.bind(moveColumnController)
},this.dragAndDropService.addDropTarget(this.dropTarget)},HeaderContainer.prototype.removeAllChildren=function(){this.headerElements.forEach(function(headerElement){headerElement.destroy()}),this.headerElements.length=0,utils_1.Utils.removeAllChildren(this.eContainer)},HeaderContainer.prototype.insertHeaderRowsIntoContainer=function(){for(var _this=this,cellTree=this.columnController.getDisplayedColumnGroups(this.pinned),rowHeight=this.gridOptionsWrapper.getHeaderHeight(),dept=0;;dept++){var nodesAtDept=[];if(this.addTreeNodesAtDept(cellTree,dept,nodesAtDept),0===nodesAtDept.length)break;var eRow=document.createElement("div");eRow.className="ag-header-row",eRow.style.top=dept*rowHeight+"px",eRow.style.height=rowHeight+"px",nodesAtDept.forEach(function(child){if(!(child instanceof columnGroup_1.ColumnGroup&&0==child.getDisplayedChildren().length)){var renderedHeaderElement=_this.createHeaderElement(child);_this.headerElements.push(renderedHeaderElement);var eGui=renderedHeaderElement.getGui();eRow.appendChild(eGui)}}),this.eContainer.appendChild(eRow)}},HeaderContainer.prototype.addTreeNodesAtDept=function(cellTree,dept,result){var _this=this;cellTree.forEach(function(abstractColumn){if(0===dept)result.push(abstractColumn);else if(abstractColumn instanceof columnGroup_1.ColumnGroup){var columnGroup=abstractColumn;_this.addTreeNodesAtDept(columnGroup.getDisplayedChildren(),dept-1,result)}})},HeaderContainer.prototype.createHeaderElement=function(columnGroupChild){var result;return result=columnGroupChild instanceof columnGroup_1.ColumnGroup?new renderedHeaderGroupCell_1.RenderedHeaderGroupCell(columnGroupChild,this.eRoot,this.$scope,this.dropTarget):new renderedHeaderCell_1.RenderedHeaderCell(columnGroupChild,this.$scope,this.eRoot,this.dropTarget),this.context.wireBean(result),result},HeaderContainer.prototype.onIndividualColumnResized=function(column){this.headerElements.forEach(function(headerElement){headerElement.onIndividualColumnResized(column)})},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],HeaderContainer.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_2.Context)],HeaderContainer.prototype,"context",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],HeaderContainer.prototype,"$scope",void 0),__decorate([context_1.Autowired("dragAndDropService"),__metadata("design:type",dragAndDropService_1.DragAndDropService)],HeaderContainer.prototype,"dragAndDropService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],HeaderContainer.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],HeaderContainer.prototype,"gridPanel",void 0),__decorate([context_3.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],HeaderContainer.prototype,"init",null),HeaderContainer}();exports.HeaderContainer=HeaderContainer},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),svgFactory_1=__webpack_require__(59),columnController_1=__webpack_require__(13),filterManager_1=__webpack_require__(43),gridOptionsWrapper_1=__webpack_require__(3),column_1=__webpack_require__(15),horizontalDragService_1=__webpack_require__(71),context_1=__webpack_require__(6),cssClassApplier_1=__webpack_require__(72),dragAndDropService_1=__webpack_require__(73),svgFactory=svgFactory_1.SvgFactory.getInstance(),RenderedHeaderGroupCell=function(){function RenderedHeaderGroupCell(columnGroup,eRoot,parentScope,dragSourceDropTarget){this.destroyFunctions=[],this.columnGroup=columnGroup,this.parentScope=parentScope,this.eRoot=eRoot,this.parentScope=parentScope,this.dragSourceDropTarget=dragSourceDropTarget}return RenderedHeaderGroupCell.prototype.getGui=function(){return this.eHeaderGroupCell},RenderedHeaderGroupCell.prototype.onIndividualColumnResized=function(column){this.columnGroup.isChildInThisGroupDeepSearch(column)&&this.setWidth()},RenderedHeaderGroupCell.prototype.init=function(){this.eHeaderGroupCell=document.createElement("div"),cssClassApplier_1.CssClassApplier.addHeaderClassesFromCollDef(this.columnGroup.getColGroupDef(),this.eHeaderGroupCell,this.gridOptionsWrapper),this.displayName=this.columnGroup.getHeaderName(),this.setupResize(),this.addClasses(),this.setupLabel(),this.setupMove(),this.setWidth()},RenderedHeaderGroupCell.prototype.setupLabel=function(){if(this.displayName&&""!==this.displayName){var eGroupCellLabel=document.createElement("div");eGroupCellLabel.className="ag-header-group-cell-label",this.eHeaderGroupCell.appendChild(eGroupCellLabel),utils_1.Utils.isBrowserSafari()&&(eGroupCellLabel.style.display="table-cell");var eInnerText=document.createElement("span");eInnerText.className="ag-header-group-text",eInnerText.innerHTML=this.displayName,eGroupCellLabel.appendChild(eInnerText),this.columnGroup.isExpandable()&&this.addGroupExpandIcon(eGroupCellLabel)}},RenderedHeaderGroupCell.prototype.addClasses=function(){utils_1.Utils.addCssClass(this.eHeaderGroupCell,"ag-header-group-cell"),this.columnGroup.getColGroupDef()?utils_1.Utils.addCssClass(this.eHeaderGroupCell,"ag-header-group-cell-with-group"):utils_1.Utils.addCssClass(this.eHeaderGroupCell,"ag-header-group-cell-no-group")},RenderedHeaderGroupCell.prototype.setupResize=function(){var _this=this;this.gridOptionsWrapper.isEnableColResize()&&(this.eHeaderCellResize=document.createElement("div"),this.eHeaderCellResize.className="ag-header-cell-resize",this.eHeaderGroupCell.appendChild(this.eHeaderCellResize),this.dragService.addDragHandling({eDraggableElement:this.eHeaderCellResize,eBody:this.eRoot,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)}),this.gridOptionsWrapper.isSuppressAutoSize()||this.eHeaderCellResize.addEventListener("dblclick",function(event){var keys=[];_this.columnGroup.getDisplayedLeafColumns().forEach(function(column){column.getColDef().suppressAutoSize||keys.push(column.getColId())}),keys.length>0&&_this.columnController.autoSizeColumns(keys)}))},RenderedHeaderGroupCell.prototype.setupMove=function(){var eLabel=this.eHeaderGroupCell.querySelector(".ag-header-group-cell-label");if(eLabel&&!this.gridOptionsWrapper.isSuppressMovableColumns()){var atLeastOneChildNotMovable=!1;if(this.columnGroup.getLeafColumns().forEach(function(column){column.getColDef().suppressMovable&&(atLeastOneChildNotMovable=!0)}),!atLeastOneChildNotMovable&&!this.gridOptionsWrapper.isForPrint()&&eLabel){var dragSource={eElement:eLabel,dragItemName:this.displayName,dragItem:this.getAllColumnsInThisGroup(),dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(dragSource)}}},RenderedHeaderGroupCell.prototype.getAllColumnsInThisGroup=function(){var allColumnsOriginalOrder=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),allColumnsCurrentOrder=[];return this.columnController.getAllDisplayedColumns().forEach(function(column){allColumnsOriginalOrder.indexOf(column)>=0&&(allColumnsCurrentOrder.push(column),utils_1.Utils.removeFromArray(allColumnsOriginalOrder,column))}),allColumnsOriginalOrder.forEach(function(column){return allColumnsCurrentOrder.push(column)}),allColumnsCurrentOrder},RenderedHeaderGroupCell.prototype.setWidth=function(){var _this=this,widthChangedListener=function(){_this.eHeaderGroupCell.style.width=_this.columnGroup.getActualWidth()+"px"};this.columnGroup.getLeafColumns().forEach(function(column){column.addEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener),_this.destroyFunctions.push(function(){column.removeEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener)})}),widthChangedListener()},RenderedHeaderGroupCell.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){func()})},RenderedHeaderGroupCell.prototype.addGroupExpandIcon=function(eGroupCellLabel){var eGroupIcon;eGroupIcon=this.columnGroup.isExpanded()?utils_1.Utils.createIcon("columnGroupOpened",this.gridOptionsWrapper,null,svgFactory.createGroupContractedIcon):utils_1.Utils.createIcon("columnGroupClosed",this.gridOptionsWrapper,null,svgFactory.createGroupExpandedIcon),eGroupIcon.className="ag-header-expand-icon",eGroupCellLabel.appendChild(eGroupIcon);var that=this;eGroupIcon.onclick=function(){var newExpandedValue=!that.columnGroup.isExpanded();that.columnController.setColumnGroupOpened(that.columnGroup,newExpandedValue)}},RenderedHeaderGroupCell.prototype.onDragStart=function(){var _this=this;this.groupWidthStart=this.columnGroup.getActualWidth(),this.childrenWidthStarts=[],this.columnGroup.getDisplayedLeafColumns().forEach(function(column){_this.childrenWidthStarts.push(column.getActualWidth())})},RenderedHeaderGroupCell.prototype.onDragging=function(dragChange,finished){var _this=this,newWidth=this.groupWidthStart+dragChange,minWidth=this.columnGroup.getMinWidth();newWidth<minWidth&&(newWidth=minWidth);var changeRatio=newWidth/this.groupWidthStart,pixelsToDistribute=newWidth,displayedColumns=this.columnGroup.getDisplayedLeafColumns();displayedColumns.forEach(function(column,index){var newChildSize,notLastCol=index!==displayedColumns.length-1;if(notLastCol){var startChildSize=_this.childrenWidthStarts[index];newChildSize=startChildSize*changeRatio,newChildSize<column.getMinWidth()&&(newChildSize=column.getMinWidth()),pixelsToDistribute-=newChildSize}else newChildSize=pixelsToDistribute;_this.columnController.setColumnWidth(column,newChildSize,finished)})},__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],RenderedHeaderGroupCell.prototype,"filterManager",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RenderedHeaderGroupCell.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("horizontalDragService"),__metadata("design:type",horizontalDragService_1.HorizontalDragService)],RenderedHeaderGroupCell.prototype,"dragService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RenderedHeaderGroupCell.prototype,"columnController",void 0),__decorate([context_1.Autowired("dragAndDropService"),__metadata("design:type",dragAndDropService_1.DragAndDropService)],RenderedHeaderGroupCell.prototype,"dragAndDropService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedHeaderGroupCell.prototype,"init",null),RenderedHeaderGroupCell}();exports.RenderedHeaderGroupCell=RenderedHeaderGroupCell},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),HorizontalDragService=function(){function HorizontalDragService(){}return HorizontalDragService.prototype.addDragHandling=function(params){params.eDraggableElement.addEventListener("mousedown",function(startEvent){new DragInstance(params,startEvent)})},HorizontalDragService=__decorate([context_1.Bean("horizontalDragService"),__metadata("design:paramtypes",[])],HorizontalDragService)}();exports.HorizontalDragService=HorizontalDragService;var DragInstance=function(){function DragInstance(params,startEvent){this.mouseMove=this.onMouseMove.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseLeave=this.onMouseLeave.bind(this),this.lastDelta=0,this.params=params,this.eDragParent=document.querySelector("body"),this.dragStartX=startEvent.clientX,this.startEvent=startEvent,this.eDragParent.addEventListener("mousemove",this.mouseMove),this.eDragParent.addEventListener("mouseup",this.mouseUp),this.eDragParent.addEventListener("mouseleave",this.mouseLeave),this.draggingStarted=!1;var startAfterPixelsExist="number"==typeof params.startAfterPixels&&params.startAfterPixels>0;startAfterPixelsExist||this.startDragging()}return DragInstance.prototype.startDragging=function(){this.draggingStarted=!0,this.oldBodyCursor=this.params.eBody.style.cursor,this.oldParentCursor=this.eDragParent.style.cursor,this.oldMsUserSelect=this.eDragParent.style.msUserSelect,this.oldWebkitUserSelect=this.eDragParent.style.webkitUserSelect,this.params.eBody.style.cursor=this.params.cursor,this.eDragParent.style.cursor=this.params.cursor,this.eDragParent.style.msUserSelect="none",this.eDragParent.style.webkitUserSelect="none",this.params.onDragStart(this.startEvent)},DragInstance.prototype.onMouseMove=function(moveEvent){var newX=moveEvent.clientX;if(this.lastDelta=newX-this.dragStartX,!this.draggingStarted){var dragExceededStartAfterPixels=Math.abs(this.lastDelta)>=this.params.startAfterPixels;dragExceededStartAfterPixels&&this.startDragging()}this.draggingStarted&&this.params.onDragging(this.lastDelta,!1)},DragInstance.prototype.onMouseUp=function(){this.stopDragging()},DragInstance.prototype.onMouseLeave=function(){this.stopDragging()},DragInstance.prototype.stopDragging=function(){this.draggingStarted&&(this.params.eBody.style.cursor=this.oldBodyCursor,this.eDragParent.style.cursor=this.oldParentCursor,this.eDragParent.style.msUserSelect=this.oldMsUserSelect,this.eDragParent.style.webkitUserSelect=this.oldWebkitUserSelect,this.params.onDragging(this.lastDelta,!0)),this.eDragParent.removeEventListener("mousemove",this.mouseMove),this.eDragParent.removeEventListener("mouseup",this.mouseUp),this.eDragParent.removeEventListener("mouseleave",this.mouseLeave)},DragInstance}()},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(7),CssClassApplier=function(){function CssClassApplier(){}return CssClassApplier.addHeaderClassesFromCollDef=function(abstractColDef,eHeaderCell,gridOptionsWrapper){if(abstractColDef&&abstractColDef.headerClass){var classToUse;if("function"==typeof abstractColDef.headerClass){var params={colDef:abstractColDef,context:gridOptionsWrapper.getContext(),api:gridOptionsWrapper.getApi()},headerClassFunc=abstractColDef.headerClass;classToUse=headerClassFunc(params)}else classToUse=abstractColDef.headerClass;"string"==typeof classToUse?utils_1.Utils.addCssClass(eHeaderCell,classToUse):Array.isArray(classToUse)&&classToUse.forEach(function(cssClassItem){utils_1.Utils.addCssClass(eHeaderCell,cssClassItem)})}},CssClassApplier}();exports.CssClassApplier=CssClassApplier},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},context_1=__webpack_require__(6),logger_1=__webpack_require__(5),context_2=__webpack_require__(6),utils_1=__webpack_require__(7),gridOptionsWrapper_1=__webpack_require__(3),context_3=__webpack_require__(6),svgFactory_1=__webpack_require__(59),dragService_1=__webpack_require__(31),columnController_1=__webpack_require__(13),svgFactory=svgFactory_1.SvgFactory.getInstance(),DragAndDropService=function(){function DragAndDropService(){this.dropTargets=[],this.ePinnedIcon=svgFactory.createPinIcon(),this.ePlusIcon=svgFactory.createPlusIcon(),this.eHiddenIcon=svgFactory.createColumnHiddenIcon(),this.eMoveIcon=svgFactory.createMoveIcon(),this.eLeftIcon=svgFactory.createLeftIcon(),this.eRightIcon=svgFactory.createRightIcon(),this.eGroupIcon=svgFactory.createGroupIcon()}return DragAndDropService.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("OldToolPanelDragAndDropService"),this.eBody=document.querySelector("body"),this.eBody||console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},DragAndDropService.prototype.addDragSource=function(dragSource){this.dragService.addDragSource({eElement:dragSource.eElement,onDragStart:this.onDragStart.bind(this,dragSource),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)})},DragAndDropService.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime)},DragAndDropService.prototype.onDragStart=function(dragSource,mouseEvent){this.dragging=!0,this.dragSource=dragSource,this.eventLastTime=mouseEvent,this.dragSource.dragItem.forEach(function(column){return column.setMoving(!0)}),this.dragItem=this.dragSource.dragItem,this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.createGhost()},DragAndDropService.prototype.onDragStop=function(mouseEvent){if(this.eventLastTime=null,this.dragging=!1,this.dragItem.forEach(function(column){return column.setMoving(!1)}),this.lastDropTarget&&this.lastDropTarget.onDragStop){var draggingEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,null);this.lastDropTarget.onDragStop(draggingEvent)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},DragAndDropService.prototype.onDragging=function(mouseEvent){var direction=this.workOutDirection(mouseEvent);this.eventLastTime=mouseEvent,this.positionGhost(mouseEvent);var dropTarget=utils_1.Utils.find(this.dropTargets,this.isMouseOnDropTarget.bind(this,mouseEvent));if(dropTarget!==this.lastDropTarget)this.leaveLastTargetIfExists(mouseEvent,direction),this.enterDragTargetIfExists(dropTarget,mouseEvent,direction),this.lastDropTarget=dropTarget;else if(dropTarget){var draggingEvent=this.createDropTargetEvent(dropTarget,mouseEvent,direction);dropTarget.onDragging(draggingEvent)}},DragAndDropService.prototype.enterDragTargetIfExists=function(dropTarget,mouseEvent,direction){if(dropTarget){var dragEnterEvent=this.createDropTargetEvent(dropTarget,mouseEvent,direction);dropTarget.onDragEnter(dragEnterEvent),this.setGhostIcon(dropTarget.iconName)}},DragAndDropService.prototype.leaveLastTargetIfExists=function(mouseEvent,direction){if(this.lastDropTarget){var dragLeaveEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,direction);this.lastDropTarget.onDragLeave(dragLeaveEvent),this.setGhostIcon(null)}},DragAndDropService.prototype.isMouseOnDropTarget=function(mouseEvent,dropTarget){var ePrimaryAndSecondaryContainers=[dropTarget.eContainer];dropTarget.eSecondaryContainers&&(ePrimaryAndSecondaryContainers=ePrimaryAndSecondaryContainers.concat(dropTarget.eSecondaryContainers));var gotMatch=!1;return ePrimaryAndSecondaryContainers.forEach(function(eContainer){if(eContainer){var rect=eContainer.getBoundingClientRect();if(0!==rect.width&&0!==rect.height){var horizontalFit=mouseEvent.clientX>=rect.left&&mouseEvent.clientX<=rect.right,verticalFit=mouseEvent.clientY>=rect.top&&mouseEvent.clientY<=rect.bottom;horizontalFit&&verticalFit&&(gotMatch=!0)}}}),gotMatch},DragAndDropService.prototype.addDropTarget=function(dropTarget){this.dropTargets.push(dropTarget)},DragAndDropService.prototype.workOutDirection=function(event){var direction;return direction=this.eventLastTime.clientX>event.clientX?DragAndDropService.DIRECTION_LEFT:this.eventLastTime.clientX<event.clientX?DragAndDropService.DIRECTION_RIGHT:null},DragAndDropService.prototype.createDropTargetEvent=function(dropTarget,event,direction){var rect=dropTarget.eContainer.getBoundingClientRect(),x=event.clientX-rect.left,y=event.clientY-rect.top,dropTargetEvent={event:event,x:x,y:y,direction:direction,dragSource:this.dragSource};return dropTargetEvent},DragAndDropService.prototype.positionGhost=function(event){var ghostRect=this.eGhost.getBoundingClientRect(),ghostHeight=ghostRect.height,browserWidth=utils_1.Utils.getBodyWidth()-2,browserHeight=utils_1.Utils.getBodyHeight()-2,top=event.pageY-ghostHeight/2,left=event.pageX-30;browserWidth>0&&left+this.eGhost.clientWidth>browserWidth&&(left=browserWidth-this.eGhost.clientWidth),left<0&&(left=0),browserHeight>0&&top+this.eGhost.clientHeight>browserHeight&&(top=browserHeight-this.eGhost.clientHeight),top<0&&(top=0),this.eGhost.style.left=left+"px",this.eGhost.style.top=top+"px"},DragAndDropService.prototype.removeGhost=function(){this.eGhost&&this.eBody.removeChild(this.eGhost),this.eGhost=null},DragAndDropService.prototype.createGhost=function(){this.eGhost=utils_1.Utils.loadTemplate(DragAndDropService.GHOST_TEMPLATE),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.lastDropTarget&&this.setGhostIcon(this.lastDropTarget.iconName);var eText=this.eGhost.querySelector(".ag-dnd-ghost-label");eText.innerHTML=this.dragSource.dragItemName,this.eGhost.style.height=this.gridOptionsWrapper.getHeaderHeight()+"px",this.eGhost.style.top="20px",this.eGhost.style.left="20px",this.eBody.appendChild(this.eGhost)},DragAndDropService.prototype.setGhostIcon=function(iconName,shake){void 0===shake&&(shake=!1),utils_1.Utils.removeAllChildren(this.eGhostIcon);var eIcon;switch(iconName){case DragAndDropService.ICON_ADD:eIcon=this.ePlusIcon;break;case DragAndDropService.ICON_PINNED:eIcon=this.ePinnedIcon;break;case DragAndDropService.ICON_MOVE:eIcon=this.eMoveIcon;break;case DragAndDropService.ICON_LEFT:eIcon=this.eLeftIcon;break;case DragAndDropService.ICON_RIGHT:eIcon=this.eRightIcon;break;case DragAndDropService.ICON_GROUP:eIcon=this.eGroupIcon;break;default:eIcon=this.eHiddenIcon}this.eGhostIcon.appendChild(eIcon),utils_1.Utils.addOrRemoveCssClass(this.eGhostIcon,"ag-shake-left-to-right",shake)},DragAndDropService.DIRECTION_LEFT="left",DragAndDropService.DIRECTION_RIGHT="right",DragAndDropService.ICON_PINNED="pinned",DragAndDropService.ICON_ADD="add",DragAndDropService.ICON_MOVE="move",DragAndDropService.ICON_LEFT="left",DragAndDropService.ICON_RIGHT="right",DragAndDropService.ICON_GROUP="group",DragAndDropService.GHOST_TEMPLATE='<div class="ag-dnd-ghost">  <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>  <div class="ag-dnd-ghost-label">  </div></div>',__decorate([context_3.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],DragAndDropService.prototype,"gridOptionsWrapper",void 0),__decorate([context_3.Autowired("dragService"),__metadata("design:type",dragService_1.DragService)],DragAndDropService.prototype,"dragService",void 0),__decorate([context_3.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],DragAndDropService.prototype,"columnController",void 0),__decorate([__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],DragAndDropService.prototype,"setBeans",null),DragAndDropService=__decorate([context_2.Bean("dragAndDropService"),__metadata("design:paramtypes",[])],DragAndDropService)}();exports.DragAndDropService=DragAndDropService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),column_1=__webpack_require__(15),filterManager_1=__webpack_require__(43),columnController_1=__webpack_require__(13),headerTemplateLoader_1=__webpack_require__(75),gridOptionsWrapper_1=__webpack_require__(3),horizontalDragService_1=__webpack_require__(71),gridCore_1=__webpack_require__(40),context_1=__webpack_require__(6),cssClassApplier_1=__webpack_require__(72),dragAndDropService_1=__webpack_require__(73),sortController_1=__webpack_require__(42),RenderedHeaderCell=function(){function RenderedHeaderCell(column,parentScope,eRoot,dragSourceDropTarget){this.destroyFunctions=[],this.column=column,this.parentScope=parentScope,this.eRoot=eRoot,this.dragSourceDropTarget=dragSourceDropTarget}return RenderedHeaderCell.prototype.init=function(){this.eHeaderCell=this.headerTemplateLoader.createHeaderElement(this.column),utils_1.Utils.addCssClass(this.eHeaderCell,"ag-header-cell"),this.createScope(this.parentScope),this.addAttributes(),cssClassApplier_1.CssClassApplier.addHeaderClassesFromCollDef(this.column.getColDef(),this.eHeaderCell,this.gridOptionsWrapper);var eHeaderCellLabel=this.eHeaderCell.querySelector("#agHeaderCellLabel");this.displayName=this.columnController.getDisplayNameForCol(this.column),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMove(eHeaderCellLabel),this.setupMenu(),this.setupSort(eHeaderCellLabel),this.setupFilterIcon(),this.setupText(),this.setupWidth()},RenderedHeaderCell.prototype.setupTooltip=function(){var colDef=this.column.getColDef();colDef.headerTooltip&&(this.eHeaderCell.title=colDef.headerTooltip)},RenderedHeaderCell.prototype.setupText=function(){var headerCellRenderer,colDef=this.column.getColDef();colDef.headerCellRenderer?headerCellRenderer=colDef.headerCellRenderer:this.gridOptionsWrapper.getHeaderCellRenderer()&&(headerCellRenderer=this.gridOptionsWrapper.getHeaderCellRenderer());var eText=this.eHeaderCell.querySelector("#agText");eText&&(headerCellRenderer?this.useRenderer(this.displayName,headerCellRenderer,eText):(eText.className="ag-header-cell-text",eText.innerHTML=this.displayName))},RenderedHeaderCell.prototype.setupFilterIcon=function(){var _this=this,eFilterIcon=this.eHeaderCell.querySelector("#agFilter");if(eFilterIcon){var filterChangedListener=function(){var filterPresent=_this.column.isFilterActive();utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-cell-filtered",filterPresent),utils_1.Utils.addOrRemoveCssClass(eFilterIcon,"ag-hidden",!filterPresent)};this.column.addEventListener(column_1.Column.EVENT_FILTER_ACTIVE_CHANGED,filterChangedListener),this.destroyFunctions.push(function(){_this.column.removeEventListener(column_1.Column.EVENT_FILTER_ACTIVE_CHANGED,filterChangedListener)}),filterChangedListener()}},RenderedHeaderCell.prototype.setupWidth=function(){var _this=this,widthChangedListener=function(){_this.eHeaderCell.style.width=_this.column.getActualWidth()+"px"};this.column.addEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener),this.destroyFunctions.push(function(){_this.column.removeEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener)}),widthChangedListener()},RenderedHeaderCell.prototype.getGui=function(){return this.eHeaderCell},RenderedHeaderCell.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){func()})},RenderedHeaderCell.prototype.createScope=function(parentScope){var _this=this;this.gridOptionsWrapper.isAngularCompileHeaders()&&(this.childScope=parentScope.$new(),this.childScope.colDef=this.column.getColDef(),this.childScope.colDefWrapper=this.column,this.childScope.context=this.gridOptionsWrapper.getContext(),this.destroyFunctions.push(function(){_this.childScope.$destroy()}))},RenderedHeaderCell.prototype.addAttributes=function(){this.eHeaderCell.setAttribute("colId",this.column.getColId())},RenderedHeaderCell.prototype.setupMenu=function(){var _this=this,eMenu=this.eHeaderCell.querySelector("#agMenu");if(eMenu){var weWantMenu=this.menuFactory.isMenuEnabled(this.column)&&!this.column.getColDef().suppressMenu;if(!weWantMenu)return void utils_1.Utils.removeFromParent(eMenu);eMenu.addEventListener("click",function(){return _this.showMenu(eMenu)}),this.gridOptionsWrapper.isSuppressMenuHide()||(eMenu.style.opacity="0",this.eHeaderCell.addEventListener("mouseover",function(){eMenu.style.opacity="1"}),this.eHeaderCell.addEventListener("mouseout",function(){eMenu.style.opacity="0"}));var style=eMenu.style;style.transition="opacity 0.2s, border 0.2s",style["-webkit-transition"]="opacity 0.2s, border 0.2s"}},RenderedHeaderCell.prototype.showMenu=function(eventSource){this.menuFactory.showMenuAfterButtonClick(this.column,eventSource)},RenderedHeaderCell.prototype.setupMovingCss=function(){var _this=this,addMovingCssFunc=function(){_this.column.isMoving()?utils_1.Utils.addCssClass(_this.eHeaderCell,"ag-header-cell-moving"):utils_1.Utils.removeCssClass(_this.eHeaderCell,"ag-header-cell-moving")};addMovingCssFunc(),this.column.addEventListener(column_1.Column.EVENT_MOVING_CHANGED,addMovingCssFunc),this.destroyFunctions.push(function(){_this.column.removeEventListener(column_1.Column.EVENT_MOVING_CHANGED,addMovingCssFunc)})},RenderedHeaderCell.prototype.setupMove=function(eHeaderCellLabel){if(!this.gridOptionsWrapper.isSuppressMovableColumns()&&!this.column.getColDef().suppressMovable&&!this.gridOptionsWrapper.isForPrint()&&eHeaderCellLabel){var dragSource={eElement:eHeaderCellLabel,dragItem:[this.column],dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(dragSource)}},RenderedHeaderCell.prototype.setupResize=function(){var _this=this,colDef=this.column.getColDef(),eResize=this.eHeaderCell.querySelector("#agResizeBar");if(eResize){var weWantResize=this.gridOptionsWrapper.isEnableColResize()&&!colDef.suppressResize;if(!weWantResize)return void utils_1.Utils.removeFromParent(eResize);this.dragService.addDragHandling({eDraggableElement:eResize,eBody:this.eRoot,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)});var weWantAutoSize=!this.gridOptionsWrapper.isSuppressAutoSize()&&!colDef.suppressAutoSize;weWantAutoSize&&eResize.addEventListener("dblclick",function(){_this.columnController.autoSizeColumn(_this.column)})}},RenderedHeaderCell.prototype.useRenderer=function(headerNameValue,headerCellRenderer,eText){var childToAppend,cellRendererParams={colDef:this.column.getColDef(),$scope:this.childScope,context:this.gridOptionsWrapper.getContext(),value:headerNameValue,api:this.gridOptionsWrapper.getApi(),eHeaderCell:this.eHeaderCell},cellRendererResult=headerCellRenderer(cellRendererParams);if(utils_1.Utils.isNodeOrElement(cellRendererResult))childToAppend=cellRendererResult;else{var eTextSpan=document.createElement("span");eTextSpan.innerHTML=cellRendererResult,childToAppend=eTextSpan}if(this.gridOptionsWrapper.isAngularCompileHeaders()){var childToAppendCompiled=this.$compile(childToAppend)(this.childScope)[0];
eText.appendChild(childToAppendCompiled)}else eText.appendChild(childToAppend)},RenderedHeaderCell.prototype.setupSort=function(eHeaderCellLabel){var _this=this,enableSorting=this.gridOptionsWrapper.isEnableSorting()&&!this.column.getColDef().suppressSorting;if(!enableSorting)return utils_1.Utils.removeFromParent(this.eHeaderCell.querySelector("#agSortAsc")),utils_1.Utils.removeFromParent(this.eHeaderCell.querySelector("#agSortDesc")),void utils_1.Utils.removeFromParent(this.eHeaderCell.querySelector("#agNoSort"));eHeaderCellLabel&&eHeaderCellLabel.addEventListener("click",function(event){_this.sortController.progressSort(_this.column,event.shiftKey)});var eSortAsc=this.eHeaderCell.querySelector("#agSortAsc"),eSortDesc=this.eHeaderCell.querySelector("#agSortDesc"),eSortNone=this.eHeaderCell.querySelector("#agNoSort"),sortChangedListener=function(){if(utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-cell-sorted-asc",_this.column.isSortAscending()),utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-cell-sorted-desc",_this.column.isSortDescending()),utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-cell-sorted-none",_this.column.isSortNone()),eSortAsc&&utils_1.Utils.addOrRemoveCssClass(eSortAsc,"ag-hidden",!_this.column.isSortAscending()),eSortDesc&&utils_1.Utils.addOrRemoveCssClass(eSortDesc,"ag-hidden",!_this.column.isSortDescending()),eSortNone){var alwaysHideNoSort=!_this.column.getColDef().unSortIcon&&!_this.gridOptionsWrapper.isUnSortIcon();utils_1.Utils.addOrRemoveCssClass(eSortNone,"ag-hidden",alwaysHideNoSort||!_this.column.isSortNone())}};this.column.addEventListener(column_1.Column.EVENT_SORT_CHANGED,sortChangedListener),this.destroyFunctions.push(function(){_this.column.removeEventListener(column_1.Column.EVENT_SORT_CHANGED,sortChangedListener)}),sortChangedListener()},RenderedHeaderCell.prototype.onDragStart=function(){this.startWidth=this.column.getActualWidth()},RenderedHeaderCell.prototype.onDragging=function(dragChange,finished){var newWidth=this.startWidth+dragChange;this.columnController.setColumnWidth(this.column,newWidth,finished)},RenderedHeaderCell.prototype.onIndividualColumnResized=function(column){if(this.column===column){var newWidthPx=column.getActualWidth()+"px";this.eHeaderCell.style.width=newWidthPx}},__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],RenderedHeaderCell.prototype,"context",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],RenderedHeaderCell.prototype,"filterManager",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RenderedHeaderCell.prototype,"columnController",void 0),__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],RenderedHeaderCell.prototype,"$compile",void 0),__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],RenderedHeaderCell.prototype,"gridCore",void 0),__decorate([context_1.Autowired("headerTemplateLoader"),__metadata("design:type",headerTemplateLoader_1.HeaderTemplateLoader)],RenderedHeaderCell.prototype,"headerTemplateLoader",void 0),__decorate([context_1.Autowired("horizontalDragService"),__metadata("design:type",horizontalDragService_1.HorizontalDragService)],RenderedHeaderCell.prototype,"dragService",void 0),__decorate([context_1.Autowired("menuFactory"),__metadata("design:type",Object)],RenderedHeaderCell.prototype,"menuFactory",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RenderedHeaderCell.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("dragAndDropService"),__metadata("design:type",dragAndDropService_1.DragAndDropService)],RenderedHeaderCell.prototype,"dragAndDropService",void 0),__decorate([context_1.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],RenderedHeaderCell.prototype,"sortController",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedHeaderCell.prototype,"init",null),RenderedHeaderCell}();exports.RenderedHeaderCell=RenderedHeaderCell},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),svgFactory_1=__webpack_require__(59),gridOptionsWrapper_1=__webpack_require__(3),context_1=__webpack_require__(6),svgFactory=svgFactory_1.SvgFactory.getInstance(),HeaderTemplateLoader=function(){function HeaderTemplateLoader(){}return HeaderTemplateLoader.prototype.createHeaderElement=function(column){var params={column:column,colDef:column.getColDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},userProvidedTemplate=column.getColDef().headerCellTemplate;if("function"==typeof userProvidedTemplate){var colDefFunc=userProvidedTemplate;userProvidedTemplate=colDefFunc(params)}if(!userProvidedTemplate&&this.gridOptionsWrapper.getHeaderCellTemplate()&&(userProvidedTemplate=this.gridOptionsWrapper.getHeaderCellTemplate()),!userProvidedTemplate&&this.gridOptionsWrapper.getHeaderCellTemplateFunc()){var gridOptionsFunc=this.gridOptionsWrapper.getHeaderCellTemplateFunc();userProvidedTemplate=gridOptionsFunc(params)}userProvidedTemplate||(userProvidedTemplate=this.createDefaultHeaderElement(column));var result;return"string"==typeof userProvidedTemplate?result=utils_1.Utils.loadTemplate(userProvidedTemplate):utils_1.Utils.isNodeOrElement(userProvidedTemplate)?result=userProvidedTemplate:console.error("ag-Grid: header template must be a string or an HTML element"),result},HeaderTemplateLoader.prototype.createDefaultHeaderElement=function(column){var eTemplate=utils_1.Utils.loadTemplate(HeaderTemplateLoader.HEADER_CELL_TEMPLATE);return this.addInIcon(eTemplate,"sortAscending","#agSortAsc",column,svgFactory.createArrowUpSvg),this.addInIcon(eTemplate,"sortDescending","#agSortDesc",column,svgFactory.createArrowDownSvg),this.addInIcon(eTemplate,"sortUnSort","#agNoSort",column,svgFactory.createArrowUpDownSvg),this.addInIcon(eTemplate,"menu","#agMenu",column,svgFactory.createMenuSvg),this.addInIcon(eTemplate,"filter","#agFilter",column,svgFactory.createFilterSvg),eTemplate},HeaderTemplateLoader.prototype.addInIcon=function(eTemplate,iconName,cssSelector,column,defaultIconFactory){var eIcon=utils_1.Utils.createIconNoSpan(iconName,this.gridOptionsWrapper,column,defaultIconFactory);eTemplate.querySelector(cssSelector).appendChild(eIcon)},HeaderTemplateLoader.HEADER_CELL_TEMPLATE='<div class="ag-header-cell">  <div id="agResizeBar" class="ag-header-cell-resize"></div>  <span id="agMenu" class="ag-header-icon ag-header-cell-menu-button"></span>  <div id="agHeaderCellLabel" class="ag-header-cell-label">    <span id="agSortAsc" class="ag-header-icon ag-sort-ascending-icon"></span>    <span id="agSortDesc" class="ag-header-icon ag-sort-descending-icon"></span>    <span id="agNoSort" class="ag-header-icon ag-sort-none-icon"></span>    <span id="agFilter" class="ag-header-icon ag-filter-icon"></span>    <span id="agText" class="ag-header-cell-text"></span>  </div></div>',__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],HeaderTemplateLoader.prototype,"gridOptionsWrapper",void 0),HeaderTemplateLoader=__decorate([context_1.Bean("headerTemplateLoader"),__metadata("design:paramtypes",[])],HeaderTemplateLoader)}();exports.HeaderTemplateLoader=HeaderTemplateLoader},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),logger_1=__webpack_require__(5),columnController_1=__webpack_require__(13),column_1=__webpack_require__(15),utils_1=__webpack_require__(7),dragAndDropService_1=__webpack_require__(73),gridPanel_1=__webpack_require__(24),gridOptionsWrapper_1=__webpack_require__(3),MoveColumnController=function(){function MoveColumnController(pinned){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=pinned,this.centerContainer=!utils_1.Utils.exists(pinned)}return MoveColumnController.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},MoveColumnController.prototype.onDragEnter=function(draggingEvent){var columns=draggingEvent.dragSource.dragItem;this.columnController.setColumnsVisible(columns,!0),this.columnController.setColumnsPinned(columns,this.pinned),this.onDragging(draggingEvent,!0)},MoveColumnController.prototype.onDragLeave=function(draggingEvent){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()){var columns=draggingEvent.dragSource.dragItem;this.columnController.setColumnsVisible(columns,!1)}this.ensureIntervalCleared()},MoveColumnController.prototype.onDragStop=function(){this.ensureIntervalCleared()},MoveColumnController.prototype.adjustXForScroll=function(draggingEvent){return this.centerContainer?draggingEvent.x+this.gridPanel.getHorizontalScrollPosition():draggingEvent.x},MoveColumnController.prototype.workOutNewIndex=function(displayedColumns,allColumns,dragColumn,direction,xAdjustedForScroll){return direction===dragAndDropService_1.DragAndDropService.DIRECTION_LEFT?this.getNewIndexForColMovingLeft(displayedColumns,allColumns,dragColumn,xAdjustedForScroll):this.getNewIndexForColMovingRight(displayedColumns,allColumns,dragColumn,xAdjustedForScroll)},MoveColumnController.prototype.checkCenterForScrolling=function(xAdjustedForScroll){if(this.centerContainer){var firstVisiblePixel=this.gridPanel.getHorizontalScrollPosition(),lastVisiblePixel=firstVisiblePixel+this.gridPanel.getCenterWidth();this.needToMoveLeft=xAdjustedForScroll<firstVisiblePixel+50,this.needToMoveRight=xAdjustedForScroll>lastVisiblePixel-50,this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},MoveColumnController.prototype.onDragging=function(draggingEvent,fromEnter){if(void 0===fromEnter&&(fromEnter=!1),this.lastDraggingEvent=draggingEvent,draggingEvent.direction){var xAdjustedForScroll=this.adjustXForScroll(draggingEvent);fromEnter||this.checkCenterForScrolling(xAdjustedForScroll);var columnsToMove=draggingEvent.dragSource.dragItem;this.attemptMoveColumns(columnsToMove,draggingEvent.direction,xAdjustedForScroll,fromEnter)}},MoveColumnController.prototype.attemptMoveColumns=function(allMovingColumns,dragDirection,xAdjustedForScroll,fromEnter){var dragColumn,displayedColumns=this.columnController.getDisplayedColumns(this.pinned),gridColumns=this.columnController.getAllGridColumns(),draggingLeft=dragDirection===dragAndDropService_1.DragAndDropService.DIRECTION_LEFT,draggingRight=dragDirection===dragAndDropService_1.DragAndDropService.DIRECTION_RIGHT,displayedMovingColumns=utils_1.Utils.filter(allMovingColumns,function(column){return displayedColumns.indexOf(column)>=0});dragColumn=draggingLeft?displayedMovingColumns[0]:displayedMovingColumns[displayedMovingColumns.length-1];var newIndex=this.workOutNewIndex(displayedColumns,gridColumns,dragColumn,dragDirection,xAdjustedForScroll),oldIndex=gridColumns.indexOf(dragColumn);!fromEnter&&draggingLeft&&newIndex>=oldIndex||!fromEnter&&draggingRight&&newIndex<=oldIndex||(draggingRight&&(newIndex=newIndex-allMovingColumns.length+1),this.columnController.moveColumns(allMovingColumns,newIndex))},MoveColumnController.prototype.getNewIndexForColMovingLeft=function(displayedColumns,allColumns,dragColumn,x){for(var usedX=0,leftColumn=null,i=0;i<displayedColumns.length;i++){var currentColumn=displayedColumns[i];if(currentColumn!==dragColumn){if(usedX+=currentColumn.getActualWidth(),usedX>x)break;leftColumn=currentColumn}}var newIndex;if(leftColumn){newIndex=allColumns.indexOf(leftColumn)+1;var oldIndex=allColumns.indexOf(dragColumn);oldIndex<newIndex&&newIndex--}else newIndex=0;return newIndex},MoveColumnController.prototype.getNewIndexForColMovingRight=function(displayedColumns,allColumns,dragColumnOrGroup,x){for(var dragColumn=dragColumnOrGroup,usedX=dragColumn.getActualWidth(),leftColumn=null,i=0;i<displayedColumns.length&&!(usedX>x);i++){var currentColumn=displayedColumns[i];currentColumn!==dragColumn&&(usedX+=currentColumn.getActualWidth(),leftColumn=currentColumn)}var newIndex;if(leftColumn){newIndex=allColumns.indexOf(leftColumn)+1;var oldIndex=allColumns.indexOf(dragColumn);oldIndex<newIndex&&newIndex--}else newIndex=0;return newIndex},MoveColumnController.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(dragAndDropService_1.DragAndDropService.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(dragAndDropService_1.DragAndDropService.ICON_RIGHT,!0))},MoveColumnController.prototype.ensureIntervalCleared=function(){this.moveInterval&&(clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(dragAndDropService_1.DragAndDropService.ICON_MOVE))},MoveColumnController.prototype.moveInterval=function(){var pixelsToMove;this.intervalCount++,pixelsToMove=10+5*this.intervalCount,pixelsToMove>100&&(pixelsToMove=100);var pixelsMoved;if(this.needToMoveLeft?pixelsMoved=this.gridPanel.scrollHorizontally(-pixelsToMove):this.needToMoveRight&&(pixelsMoved=this.gridPanel.scrollHorizontally(pixelsToMove)),0!==pixelsMoved)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else if(this.failedMoveAttempts++,this.dragAndDropService.setGhostIcon(dragAndDropService_1.DragAndDropService.ICON_PINNED),this.failedMoveAttempts>7){var columns=this.lastDraggingEvent.dragSource.dragItem,pinType=this.needToMoveLeft?column_1.Column.PINNED_LEFT:column_1.Column.PINNED_RIGHT;this.columnController.setColumnsPinned(columns,pinType),this.dragAndDropService.nudge()}},__decorate([context_1.Autowired("loggerFactory"),__metadata("design:type",logger_1.LoggerFactory)],MoveColumnController.prototype,"loggerFactory",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],MoveColumnController.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],MoveColumnController.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("dragAndDropService"),__metadata("design:type",dragAndDropService_1.DragAndDropService)],MoveColumnController.prototype,"dragAndDropService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],MoveColumnController.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],MoveColumnController.prototype,"init",null),MoveColumnController}();exports.MoveColumnController=MoveColumnController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(7),logger_1=__webpack_require__(5),context_1=__webpack_require__(6),context_2=__webpack_require__(6),OldToolPanelDragAndDropService=function(){function OldToolPanelDragAndDropService(){this.destroyFunctions=[]}return OldToolPanelDragAndDropService.prototype.agWire=function(loggerFactory){this.logger=loggerFactory.create("OldToolPanelDragAndDropService");var mouseUpListener=this.stopDragging.bind(this);document.addEventListener("mouseup",mouseUpListener),this.destroyFunctions.push(function(){document.removeEventListener("mouseup",mouseUpListener)})},OldToolPanelDragAndDropService.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){return func()}),document.removeEventListener("mouseup",this.mouseUpEventListener)},OldToolPanelDragAndDropService.prototype.stopDragging=function(){this.dragItem&&(this.setDragCssClasses(this.dragItem.eDragSource,!1),this.dragItem=null)},OldToolPanelDragAndDropService.prototype.setDragCssClasses=function(eListItem,dragging){utils_1.Utils.addOrRemoveCssClass(eListItem,"ag-dragging",dragging),utils_1.Utils.addOrRemoveCssClass(eListItem,"ag-not-dragging",!dragging)},OldToolPanelDragAndDropService.prototype.addDragSource=function(eDragSource,dragSourceCallback){this.setDragCssClasses(eDragSource,!1),eDragSource.addEventListener("mousedown",this.onMouseDownDragSource.bind(this,eDragSource,dragSourceCallback))},OldToolPanelDragAndDropService.prototype.onMouseDownDragSource=function(eDragSource,dragSourceCallback){this.dragItem&&this.stopDragging();var data;dragSourceCallback.getData&&(data=dragSourceCallback.getData());var containerId;dragSourceCallback.getContainerId&&(containerId=dragSourceCallback.getContainerId()),this.dragItem={eDragSource:eDragSource,data:data,containerId:containerId},this.setDragCssClasses(this.dragItem.eDragSource,!0)},OldToolPanelDragAndDropService.prototype.addDropTarget=function(eDropTarget,dropTargetCallback){var _this=this,mouseIn=!1,acceptDrag=!1;eDropTarget.addEventListener("mouseover",function(){mouseIn||(mouseIn=!0,acceptDrag=!!_this.dragItem&&dropTargetCallback.acceptDrag(_this.dragItem))}),eDropTarget.addEventListener("mouseout",function(){acceptDrag&&dropTargetCallback.noDrop(),mouseIn=!1,acceptDrag=!1}),eDropTarget.addEventListener("mouseup",function(){acceptDrag&&_this.dragItem&&dropTargetCallback.drop(_this.dragItem)})},__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],OldToolPanelDragAndDropService.prototype,"agWire",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],OldToolPanelDragAndDropService.prototype,"destroy",null),OldToolPanelDragAndDropService=__decorate([context_1.Bean("oldToolPanelDragAndDropService"),__metadata("design:paramtypes",[])],OldToolPanelDragAndDropService)}();exports.OldToolPanelDragAndDropService=OldToolPanelDragAndDropService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),filterManager_1=__webpack_require__(43),utils_1=__webpack_require__(7),context_2=__webpack_require__(6),popupService_1=__webpack_require__(44),gridOptionsWrapper_1=__webpack_require__(3),StandardMenuFactory=function(){function StandardMenuFactory(){}return StandardMenuFactory.prototype.showMenuAfterMouseEvent=function(column,mouseEvent){var _this=this;this.showPopup(column,function(eMenu){_this.popupService.positionPopupUnderMouseEvent({mouseEvent:mouseEvent,ePopup:eMenu})})},StandardMenuFactory.prototype.showMenuAfterButtonClick=function(column,eventSource){var _this=this;this.showPopup(column,function(eMenu){_this.popupService.positionPopupUnderComponent({eventSource:eventSource,ePopup:eMenu,keepWithinBounds:!0})})},StandardMenuFactory.prototype.showPopup=function(column,positionCallback){var filterWrapper=this.filterManager.getOrCreateFilterWrapper(column),eMenu=document.createElement("div");utils_1.Utils.addCssClass(eMenu,"ag-menu"),eMenu.appendChild(filterWrapper.gui);var hidePopup=this.popupService.addAsModalPopup(eMenu,!0);if(positionCallback(eMenu),filterWrapper.filter.afterGuiAttached){var params={hidePopup:hidePopup};filterWrapper.filter.afterGuiAttached(params)}},StandardMenuFactory.prototype.isMenuEnabled=function(column){return this.gridOptionsWrapper.isEnableFilter()},__decorate([context_2.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],StandardMenuFactory.prototype,"filterManager",void 0),__decorate([context_2.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],StandardMenuFactory.prototype,"popupService",void 0),__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],StandardMenuFactory.prototype,"gridOptionsWrapper",void 0),StandardMenuFactory=__decorate([context_1.Bean("menuFactory"),__metadata("design:paramtypes",[])],StandardMenuFactory)}();exports.StandardMenuFactory=StandardMenuFactory},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),context_2=__webpack_require__(6),gridOptionsWrapper_1=__webpack_require__(3),filterManager_1=__webpack_require__(43),FilterStage=function(){function FilterStage(){}return FilterStage.prototype.execute=function(rowNode){var filterActive;filterActive=!this.gridOptionsWrapper.isEnableServerSideFilter()&&this.filterManager.isAnyFilterPresent(),this.recursivelyFilter(rowNode,filterActive)},FilterStage.prototype.recursivelyFilter=function(rowNode,filterActive){var _this=this;rowNode.childrenAfterGroup.forEach(function(child){child.group&&_this.recursivelyFilter(child,filterActive)});var filterResult;filterActive?(filterResult=[],rowNode.childrenAfterGroup.forEach(function(childNode){childNode.group?childNode.childrenAfterFilter.length>0&&filterResult.push(childNode):_this.filterManager.doesRowPassFilter(childNode)&&filterResult.push(childNode)})):filterResult=rowNode.childrenAfterGroup,rowNode.childrenAfterFilter=filterResult,this.setAllChildrenCount(rowNode)},FilterStage.prototype.setAllChildrenCount=function(rowNode){var allChildrenCount=0;rowNode.childrenAfterFilter.forEach(function(child){child.group?allChildrenCount+=child.allChildrenCount:allChildrenCount++}),rowNode.allChildrenCount=allChildrenCount},__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FilterStage.prototype,"gridOptionsWrapper",void 0),__decorate([context_2.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],FilterStage.prototype,"filterManager",void 0),FilterStage=__decorate([context_1.Bean("filterStage"),__metadata("design:paramtypes",[])],FilterStage)}();exports.FilterStage=FilterStage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),gridOptionsWrapper_1=__webpack_require__(3),sortController_1=__webpack_require__(42),valueService_1=__webpack_require__(29),utils_1=__webpack_require__(7),SortStage=function(){function SortStage(){}return SortStage.prototype.execute=function(rowNode){var sortOptions;this.gridOptionsWrapper.isEnableServerSideSorting()||(sortOptions=this.sortController.getSortForRowController()),this.sortRowNode(rowNode,sortOptions)},SortStage.prototype.sortRowNode=function(rowNode,sortOptions){var _this=this;rowNode.childrenAfterFilter.forEach(function(child){child.group&&_this.sortRowNode(child,sortOptions)}),rowNode.childrenAfterSort=rowNode.childrenAfterFilter.slice(0);var sortActive=utils_1.Utils.exists(sortOptions)&&sortOptions.length>0;sortActive&&rowNode.childrenAfterSort.sort(this.compareRowNodes.bind(this,sortOptions)),this.updateChildIndexes(rowNode)},SortStage.prototype.compareRowNodes=function(sortOptions,nodeA,nodeB){for(var i=0,len=sortOptions.length;i<len;i++){var comparatorResult,sortOption=sortOptions[i],isInverted=sortOption.inverter===-1,valueA=this.valueService.getValue(sortOption.column,nodeA),valueB=this.valueService.getValue(sortOption.column,nodeB);if(comparatorResult=sortOption.column.getColDef().comparator?sortOption.column.getColDef().comparator(valueA,valueB,nodeA,nodeB,isInverted):utils_1.Utils.defaultComparator(valueA,valueB),0!==comparatorResult)return comparatorResult*sortOption.inverter}return 0},SortStage.prototype.updateChildIndexes=function(rowNode){utils_1.Utils.missing(rowNode.childrenAfterSort)||rowNode.childrenAfterSort.forEach(function(child,index){child.firstChild=0===index,child.lastChild=index===rowNode.childrenAfterSort.length-1,child.childIndex=index})},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],SortStage.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],SortStage.prototype,"sortController",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],SortStage.prototype,"valueService",void 0),SortStage=__decorate([context_1.Bean("sortStage"),__metadata("design:paramtypes",[])],SortStage)}();exports.SortStage=SortStage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(6),rowNode_1=__webpack_require__(27),utils_1=__webpack_require__(7),gridOptionsWrapper_1=__webpack_require__(3),selectionController_1=__webpack_require__(28),eventService_1=__webpack_require__(4),columnController_1=__webpack_require__(13),FlattenStage=function(){function FlattenStage(){}return FlattenStage.prototype.execute=function(rootNode){var result=[],nextRowTop={value:0},showRootNode=this.columnController.isReduce()&&rootNode.leafGroup,topList=showRootNode?[rootNode]:rootNode.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(topList,result,nextRowTop),result},FlattenStage.prototype.recursivelyAddToRowsToDisplay=function(rowsToFlatten,result,nextRowTop){if(!utils_1.Utils.missingOrEmpty(rowsToFlatten))for(var groupSuppressRow=this.gridOptionsWrapper.isGroupSuppressRow(),i=0;i<rowsToFlatten.length;i++){var rowNode=rowsToFlatten[i],skipGroupNode=groupSuppressRow&&rowNode.group;if(skipGroupNode||this.addRowNodeToRowsToDisplay(rowNode,result,nextRowTop),rowNode.group&&rowNode.expanded&&(this.recursivelyAddToRowsToDisplay(rowNode.childrenAfterSort,result,nextRowTop),this.gridOptionsWrapper.isGroupIncludeFooter())){var footerNode=this.createFooterNode(rowNode);this.addRowNodeToRowsToDisplay(footerNode,result,nextRowTop)}}},FlattenStage.prototype.addRowNodeToRowsToDisplay=function(rowNode,result,nextRowTop){result.push(rowNode),rowNode.rowHeight=this.gridOptionsWrapper.getRowHeightForNode(rowNode),rowNode.rowTop=nextRowTop.value,nextRowTop.value+=rowNode.rowHeight},FlattenStage.prototype.createFooterNode=function(groupNode){var footerNode=new rowNode_1.RowNode;return this.context.wireBean(footerNode),Object.keys(groupNode).forEach(function(key){footerNode[key]=groupNode[key]}),footerNode.footer=!0,footerNode.sibling=groupNode,groupNode.sibling=footerNode,footerNode},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FlattenStage.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],FlattenStage.prototype,"selectionController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],FlattenStage.prototype,"eventService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],FlattenStage.prototype,"context",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],FlattenStage.prototype,"columnController",void 0),FlattenStage=__decorate([context_1.Bean("flattenStage"),__metadata("design:paramtypes",[])],FlattenStage)}();exports.FlattenStage=FlattenStage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v);
},utils_1=__webpack_require__(7),gridOptionsWrapper_1=__webpack_require__(3),rowNode_1=__webpack_require__(27),context_1=__webpack_require__(6),eventService_1=__webpack_require__(4),selectionController_1=__webpack_require__(28),events_1=__webpack_require__(10),sortController_1=__webpack_require__(42),filterManager_1=__webpack_require__(43),constants_1=__webpack_require__(8),logging=!1,VirtualPageRowModel=function(){function VirtualPageRowModel(){this.datasourceVersion=0}return VirtualPageRowModel.prototype.init=function(){var _this=this;this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber();var virtualEnabled=this.gridOptionsWrapper.isRowModelVirtual();this.eventService.addEventListener(events_1.Events.EVENT_FILTER_CHANGED,function(){virtualEnabled&&_this.gridOptionsWrapper.isEnableServerSideFilter()&&_this.reset()}),this.eventService.addEventListener(events_1.Events.EVENT_SORT_CHANGED,function(){virtualEnabled&&_this.gridOptionsWrapper.isEnableServerSideSorting()&&_this.reset()}),virtualEnabled&&this.gridOptionsWrapper.getDatasource()&&this.setDatasource(this.gridOptionsWrapper.getDatasource())},VirtualPageRowModel.prototype.getType=function(){return constants_1.Constants.ROW_MODEL_TYPE_VIRTUAL},VirtualPageRowModel.prototype.setDatasource=function(datasource){this.datasource=datasource,datasource&&this.reset()},VirtualPageRowModel.prototype.isEmpty=function(){return!this.datasource},VirtualPageRowModel.prototype.isRowsToRender=function(){return utils_1.Utils.exists(this.datasource)},VirtualPageRowModel.prototype.reset=function(){utils_1.Utils.missing(this.datasource)||(this.selectionController.reset(),"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.virtualRowCount=this.datasource.rowCount,this.foundMaxRow=!0):(this.virtualRowCount=0,this.foundMaxRow=!1),this.datasourceVersion++,this.pageCache={},this.pageCacheSize=0,this.pageLoadsInProgress=[],this.pageLoadsQueued=[],this.pageAccessTimes={},this.accessTime=0,"number"==typeof this.datasource.maxConcurrentRequests&&this.datasource.maxConcurrentRequests>0?this.maxConcurrentDatasourceRequests=this.datasource.maxConcurrentRequests:this.maxConcurrentDatasourceRequests=2,"number"==typeof this.datasource.maxPagesInCache&&this.datasource.maxPagesInCache>0?this.maxPagesInCache=this.datasource.maxPagesInCache:this.maxPagesInCache=null,this.pageSize=this.datasource.pageSize,this.overflowSize=this.datasource.overflowSize,this.doLoadOrQueue(0),this.rowRenderer.refreshView())},VirtualPageRowModel.prototype.createNodesFromRows=function(pageNumber,rows){var nodes=[];if(rows)for(var i=0,j=rows.length;i<j;i++){var virtualRowIndex=pageNumber*this.pageSize+i,node=this.createNode(rows[i],virtualRowIndex,!0);nodes.push(node)}return nodes},VirtualPageRowModel.prototype.createNode=function(data,virtualRowIndex,realNode){var rowNode,rowHeight=this.rowHeight,top=rowHeight*virtualRowIndex;if(realNode)rowNode=new rowNode_1.RowNode,this.context.wireBean(rowNode),rowNode.id=virtualRowIndex,rowNode.data=data,this.selectionController.syncInRowNode(rowNode);else{var rowNode=this.selectionController.getNodeForIdIfSelected(virtualRowIndex);rowNode||(rowNode=new rowNode_1.RowNode,this.context.wireBean(rowNode),rowNode.id=virtualRowIndex,rowNode.data=data)}return rowNode.rowTop=top,rowNode.rowHeight=rowHeight,rowNode},VirtualPageRowModel.prototype.removeFromLoading=function(pageNumber){var index=this.pageLoadsInProgress.indexOf(pageNumber);this.pageLoadsInProgress.splice(index,1)},VirtualPageRowModel.prototype.pageLoadFailed=function(pageNumber){this.removeFromLoading(pageNumber),this.checkQueueForNextLoad()},VirtualPageRowModel.prototype.pageLoaded=function(pageNumber,rows,lastRow){this.putPageIntoCacheAndPurge(pageNumber,rows),this.checkMaxRowAndInformRowRenderer(pageNumber,lastRow),this.removeFromLoading(pageNumber),this.checkQueueForNextLoad()},VirtualPageRowModel.prototype.putPageIntoCacheAndPurge=function(pageNumber,rows){this.pageCache[pageNumber]=this.createNodesFromRows(pageNumber,rows),this.pageCacheSize++,logging&&console.log("adding page "+pageNumber);var needToPurge=this.maxPagesInCache&&this.maxPagesInCache<this.pageCacheSize;if(needToPurge){var youngestPageIndex=this.findLeastRecentlyAccessedPage(Object.keys(this.pageCache));logging&&console.log("purging page "+youngestPageIndex+" from cache "+Object.keys(this.pageCache)),delete this.pageCache[youngestPageIndex],this.pageCacheSize--}},VirtualPageRowModel.prototype.checkMaxRowAndInformRowRenderer=function(pageNumber,lastRow){if(this.foundMaxRow)this.rowRenderer.refreshAllVirtualRows();else{if("number"==typeof lastRow&&lastRow>=0)this.virtualRowCount=lastRow,this.foundMaxRow=!0;else{var thisPagePlusBuffer=(pageNumber+1)*this.pageSize+this.overflowSize;this.virtualRowCount<thisPagePlusBuffer&&(this.virtualRowCount=thisPagePlusBuffer)}this.rowRenderer.refreshView()}},VirtualPageRowModel.prototype.isPageAlreadyLoading=function(pageNumber){var result=this.pageLoadsInProgress.indexOf(pageNumber)>=0||this.pageLoadsQueued.indexOf(pageNumber)>=0;return result},VirtualPageRowModel.prototype.doLoadOrQueue=function(pageNumber){this.isPageAlreadyLoading(pageNumber)||(this.pageLoadsInProgress.length<this.maxConcurrentDatasourceRequests?this.loadPage(pageNumber):this.addToQueueAndPurgeQueue(pageNumber))},VirtualPageRowModel.prototype.addToQueueAndPurgeQueue=function(pageNumber){logging&&console.log("queueing "+pageNumber+" - "+this.pageLoadsQueued),this.pageLoadsQueued.push(pageNumber);var needToPurge=this.maxPagesInCache&&this.maxPagesInCache<this.pageLoadsQueued.length;if(needToPurge){var youngestPageIndex=this.findLeastRecentlyAccessedPage(this.pageLoadsQueued);logging&&console.log("de-queueing "+pageNumber+" - "+this.pageLoadsQueued);var indexToRemove=this.pageLoadsQueued.indexOf(youngestPageIndex);this.pageLoadsQueued.splice(indexToRemove,1)}},VirtualPageRowModel.prototype.findLeastRecentlyAccessedPage=function(pageIndexes){var youngestPageIndex=-1,youngestPageAccessTime=Number.MAX_VALUE,that=this;return pageIndexes.forEach(function(pageIndex){var accessTimeThisPage=that.pageAccessTimes[pageIndex];accessTimeThisPage<youngestPageAccessTime&&(youngestPageAccessTime=accessTimeThisPage,youngestPageIndex=pageIndex)}),youngestPageIndex},VirtualPageRowModel.prototype.checkQueueForNextLoad=function(){if(this.pageLoadsQueued.length>0){var pageToLoad=this.pageLoadsQueued[0];this.pageLoadsQueued.splice(0,1),logging&&console.log("dequeueing "+pageToLoad+" - "+this.pageLoadsQueued),this.loadPage(pageToLoad)}},VirtualPageRowModel.prototype.loadPage=function(pageNumber){function successCallback(rows,lastRowIndex){that.requestIsDaemon(datasourceVersionCopy)||that.pageLoaded(pageNumber,rows,lastRowIndex)}function failCallback(){that.requestIsDaemon(datasourceVersionCopy)||that.pageLoadFailed(pageNumber)}this.pageLoadsInProgress.push(pageNumber);var sortModel,startRow=pageNumber*this.pageSize,endRow=(pageNumber+1)*this.pageSize,that=this,datasourceVersionCopy=this.datasourceVersion;this.gridOptionsWrapper.isEnableServerSideSorting()&&(sortModel=this.sortController.getSortModel());var filterModel;this.gridOptionsWrapper.isEnableServerSideFilter()&&(filterModel=this.filterManager.getFilterModel());var params={startRow:startRow,endRow:endRow,successCallback:successCallback,failCallback:failCallback,sortModel:sortModel,filterModel:filterModel},getRowsParams=utils_1.Utils.getFunctionParameters(this.datasource.getRows);getRowsParams.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(params)},VirtualPageRowModel.prototype.expandOrCollapseAll=function(expand){console.warn("ag-Grid: can not expand or collapse all when doing virtual pagination")},VirtualPageRowModel.prototype.requestIsDaemon=function(datasourceVersionCopy){return this.datasourceVersion!==datasourceVersionCopy},VirtualPageRowModel.prototype.getRow=function(rowIndex){if(rowIndex>this.virtualRowCount)return null;var pageNumber=Math.floor(rowIndex/this.pageSize),page=this.pageCache[pageNumber];if(this.pageAccessTimes[pageNumber]=this.accessTime++,page){var indexInThisPage=rowIndex%this.pageSize;return page[indexInThisPage]}this.doLoadOrQueue(pageNumber);var dummyNode=this.createNode(null,rowIndex,!1);return dummyNode},VirtualPageRowModel.prototype.forEachNode=function(callback){for(var pageKeys=Object.keys(this.pageCache),i=0;i<pageKeys.length;i++)for(var pageKey=pageKeys[i],page=this.pageCache[pageKey],j=0;j<page.length;j++){var node=page[j];callback(node)}},VirtualPageRowModel.prototype.getRowCombinedHeight=function(){return this.virtualRowCount*this.rowHeight},VirtualPageRowModel.prototype.getRowIndexAtPixel=function(pixel){return 0!==this.rowHeight?Math.floor(pixel/this.rowHeight):0},VirtualPageRowModel.prototype.getRowCount=function(){return this.virtualRowCount},VirtualPageRowModel.prototype.setRowData=function(rows,refresh,firstId){console.warn("setRowData - does not work with virtual pagination")},VirtualPageRowModel.prototype.forEachNodeAfterFilter=function(callback){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},VirtualPageRowModel.prototype.forEachNodeAfterFilterAndSort=function(callback){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},VirtualPageRowModel.prototype.refreshModel=function(){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},VirtualPageRowModel.prototype.getTopLevelNodes=function(){return console.warn("getTopLevelNodes - does not work with virtual pagination"),null},__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",Object)],VirtualPageRowModel.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],VirtualPageRowModel.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],VirtualPageRowModel.prototype,"filterManager",void 0),__decorate([context_1.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],VirtualPageRowModel.prototype,"sortController",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],VirtualPageRowModel.prototype,"selectionController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],VirtualPageRowModel.prototype,"eventService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],VirtualPageRowModel.prototype,"context",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],VirtualPageRowModel.prototype,"init",null),VirtualPageRowModel=__decorate([context_1.Bean("rowModel"),__metadata("design:paramtypes",[])],VirtualPageRowModel)}();exports.VirtualPageRowModel=VirtualPageRowModel},function(module,exports,__webpack_require__){var RecursionType,__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(7),constants_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(3),columnController_1=__webpack_require__(13),filterManager_1=__webpack_require__(43),rowNode_1=__webpack_require__(27),eventService_1=__webpack_require__(4),events_1=__webpack_require__(10),context_1=__webpack_require__(6),selectionController_1=__webpack_require__(28),pivotService_1=__webpack_require__(67);!function(RecursionType){RecursionType[RecursionType.Normal=0]="Normal",RecursionType[RecursionType.AfterFilter=1]="AfterFilter",RecursionType[RecursionType.AfterFilterAndSort=2]="AfterFilterAndSort"}(RecursionType||(RecursionType={}));var InMemoryRowModel=function(){function InMemoryRowModel(){}return InMemoryRowModel.prototype.init=function(){this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_EVERYTHING)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_EVERYTHING)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_AGGREGATE)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_PIVOT)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_FILTER_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_FILTER)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_SORT_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_SORT)),this.rootNode=new rowNode_1.RowNode,this.rootNode.group=!0,this.rootNode.allLeafChildren=[],this.context.wireBean(this.rootNode),this.gridOptionsWrapper.isRowModelDefault()&&this.setRowData(this.gridOptionsWrapper.getRowData(),this.columnController.isReady())},InMemoryRowModel.prototype.getType=function(){return constants_1.Constants.ROW_MODEL_TYPE_NORMAL},InMemoryRowModel.prototype.refreshModel=function(step,fromIndex,groupState){var _this=this;switch(step){case constants_1.Constants.STEP_EVERYTHING:this.doRowGrouping(groupState);case constants_1.Constants.STEP_FILTER:this.doFilter();case constants_1.Constants.STEP_AGGREGATE:this.doAggregate();case constants_1.Constants.STEP_SORT:this.doSort();case constants_1.Constants.STEP_MAP:this.doRowsToDisplay()}this.eventService.dispatchEvent(events_1.Events.EVENT_MODEL_UPDATED,{fromIndex:fromIndex}),this.$scope&&setTimeout(function(){_this.$scope.$apply()},0)},InMemoryRowModel.prototype.isEmpty=function(){return utils_1.Utils.missing(this.rootNode)||utils_1.Utils.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length||!this.columnController.isReady()},InMemoryRowModel.prototype.isRowsToRender=function(){return utils_1.Utils.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},InMemoryRowModel.prototype.setDatasource=function(datasource){console.error("ag-Grid: should never call setDatasource on inMemoryRowController")},InMemoryRowModel.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},InMemoryRowModel.prototype.getRow=function(index){return this.rowsToDisplay[index]},InMemoryRowModel.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: rowModel.getVirtualRowCount() is not longer a function, use rowModel.getRowCount() instead"),this.getRowCount()},InMemoryRowModel.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},InMemoryRowModel.prototype.getRowIndexAtPixel=function(pixelToMatch){if(this.isEmpty())return-1;var bottomPointer=0,topPointer=this.rowsToDisplay.length-1;if(pixelToMatch<=0)return 0;var lastNode=this.rowsToDisplay[this.rowsToDisplay.length-1];if(lastNode.rowTop<=pixelToMatch)return this.rowsToDisplay.length-1;for(;;){var midPointer=Math.floor((bottomPointer+topPointer)/2),currentRowNode=this.rowsToDisplay[midPointer];if(this.isRowInPixel(currentRowNode,pixelToMatch))return midPointer;currentRowNode.rowTop<pixelToMatch?bottomPointer=midPointer+1:currentRowNode.rowTop>pixelToMatch&&(topPointer=midPointer-1)}},InMemoryRowModel.prototype.isRowInPixel=function(rowNode,pixelToMatch){var topPixel=rowNode.rowTop,bottomPixel=rowNode.rowTop+rowNode.rowHeight,pixelInRow=topPixel<=pixelToMatch&&bottomPixel>pixelToMatch;return pixelInRow},InMemoryRowModel.prototype.getRowCombinedHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var lastRow=this.rowsToDisplay[this.rowsToDisplay.length-1],lastPixel=lastRow.rowTop+lastRow.rowHeight;return lastPixel}return 0},InMemoryRowModel.prototype.forEachNode=function(callback){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,callback,RecursionType.Normal,0)},InMemoryRowModel.prototype.forEachNodeAfterFilter=function(callback){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,callback,RecursionType.AfterFilter,0)},InMemoryRowModel.prototype.forEachNodeAfterFilterAndSort=function(callback){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,callback,RecursionType.AfterFilterAndSort,0)},InMemoryRowModel.prototype.recursivelyWalkNodesAndCallback=function(nodes,callback,recursionType,index){if(nodes)for(var i=0;i<nodes.length;i++){var node=nodes[i];if(callback(node,index++),node.group){var nodeChildren;switch(recursionType){case RecursionType.Normal:nodeChildren=node.childrenAfterGroup;break;case RecursionType.AfterFilter:nodeChildren=node.childrenAfterFilter;break;case RecursionType.AfterFilterAndSort:nodeChildren=node.childrenAfterSort}nodeChildren&&(index=this.recursivelyWalkNodesAndCallback(nodeChildren,callback,recursionType,index))}}return index},InMemoryRowModel.prototype.doAggregate=function(){this.aggregationStage&&this.aggregationStage.execute(this.rootNode)},InMemoryRowModel.prototype.expandOrCollapseAll=function(expand){function recursiveExpandOrCollapse(rowNodes){rowNodes&&rowNodes.forEach(function(rowNode){rowNode.group&&(rowNode.expanded=expand,recursiveExpandOrCollapse(rowNode.childrenAfterGroup))})}this.rootNode&&recursiveExpandOrCollapse(this.rootNode.childrenAfterGroup),this.refreshModel(constants_1.Constants.STEP_MAP)},InMemoryRowModel.prototype.doSort=function(){this.sortStage.execute(this.rootNode)},InMemoryRowModel.prototype.doRowGrouping=function(groupState){this.groupStage?(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute(this.rootNode),this.restoreGroupState(groupState),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections()):this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren},InMemoryRowModel.prototype.restoreGroupState=function(groupState){groupState&&utils_1.Utils.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(node,key){"boolean"==typeof groupState[key]&&(node.expanded=groupState[key])})},InMemoryRowModel.prototype.doFilter=function(){this.filterStage.execute(this.rootNode)},InMemoryRowModel.prototype.doPivot=function(){this.pivotService.execute(this.rootNode)},InMemoryRowModel.prototype.setRowData=function(rowData,refresh,firstId){var groupState=this.getGroupState();this.rootNode.allLeafChildren=this.createRowNodesFromData(rowData,firstId),this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.eventService.dispatchEvent(events_1.Events.EVENT_ROW_DATA_CHANGED),refresh&&this.refreshModel(constants_1.Constants.STEP_EVERYTHING,null,groupState)},InMemoryRowModel.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var result={};return utils_1.Utils.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(node,key){return result[key]=node.expanded}),result},InMemoryRowModel.prototype.createRowNodesFromData=function(rowData,firstId){function recursiveFunction(rowData,parent,level){var rowNodes=[];return rowData.forEach(function(dataItem){var node=new rowNode_1.RowNode;that.context.wireBean(node);var nodeChildDetails=nodeChildDetailsFunc?nodeChildDetailsFunc(dataItem):null;nodeChildDetails&&nodeChildDetails.group&&(node.group=!0,node.childrenAfterGroup=recursiveFunction(nodeChildDetails.children,node,level+1),node.expanded=nodeChildDetails.expanded===!0,node.field=nodeChildDetails.field,node.key=nodeChildDetails.key),parent&&!suppressParentsInRowNodes&&(node.parent=parent),node.level=level,node.id=rowNodeId++,node.data=dataItem,rowNodes.push(node)}),rowNodes}var that=this;if(!rowData)return[];var rowNodeId=utils_1.Utils.exists(firstId)?firstId:0,nodeChildDetailsFunc=this.gridOptionsWrapper.getNodeChildDetailsFunc(),suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),result=recursiveFunction(rowData,null,0);return result},InMemoryRowModel.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute(this.rootNode)},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],InMemoryRowModel.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],InMemoryRowModel.prototype,"columnController",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],InMemoryRowModel.prototype,"filterManager",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"$scope",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],InMemoryRowModel.prototype,"selectionController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],InMemoryRowModel.prototype,"eventService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],InMemoryRowModel.prototype,"context",void 0),__decorate([context_1.Autowired("pivotService"),__metadata("design:type",pivotService_1.PivotService)],InMemoryRowModel.prototype,"pivotService",void 0),__decorate([context_1.Autowired("filterStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"filterStage",void 0),__decorate([context_1.Autowired("sortStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"sortStage",void 0),__decorate([context_1.Autowired("flattenStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"flattenStage",void 0),__decorate([context_1.Optional("groupStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"groupStage",void 0),__decorate([context_1.Optional("aggregationStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"aggregationStage",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],InMemoryRowModel.prototype,"init",null),InMemoryRowModel=__decorate([context_1.Bean("rowModel"),__metadata("design:paramtypes",[])],InMemoryRowModel)}();exports.InMemoryRowModel=InMemoryRowModel},function(module,exports,__webpack_require__){function initialiseAgGridWithAngular1(angular){var angularModule=angular.module("agGrid",[]);angularModule.directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",AngularDirectiveController],scope:!0}})}function AngularDirectiveController($element,$scope,$compile,$attrs){var gridOptions,quickFilterOnScope,keyOfGridInScope=$attrs.agGrid;if(quickFilterOnScope=keyOfGridInScope+".quickFilterText",gridOptions=$scope.$eval(keyOfGridInScope),!gridOptions)return void console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope");var eGridDiv=$element[0],grid=new grid_1.Grid(eGridDiv,gridOptions,null,$scope,$compile,quickFilterOnScope);$scope.$on("$destroy",function(){grid.destroy()})}var grid_1=__webpack_require__(2);exports.initialiseAgGridWithAngular1=initialiseAgGridWithAngular1},function(module,exports,__webpack_require__){function initialiseAgGridWithWebComponents(){if(!registered){registered=!0,"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var AgileGridProto=Object.create(HTMLElement.prototype);componentUtil_1.ComponentUtil.ALL_PROPERTIES.forEach(function(key){Object.defineProperty(AgileGridProto,key,{set:function(v){this.__agGridSetProperty(key,v)},get:function(){return this.__agGridGetProperty(key)}})}),AgileGridProto.__agGridSetProperty=function(key,value){this.__attributes||(this.__attributes={}),this.__attributes[key]=value;var changeObject={};changeObject[key]={currentValue:value},this.onChange(changeObject)},AgileGridProto.onChange=function(changes){this._initialised&&componentUtil_1.ComponentUtil.processOnChange(changes,this._gridOptions,this.api)},AgileGridProto.__agGridGetProperty=function(key){return this.__attributes||(this.__attributes={}),this.__attributes[key]},AgileGridProto.setGridOptions=function(options){var globalEventListener=this.globalEventListener.bind(this);this._gridOptions=componentUtil_1.ComponentUtil.copyAttributesToGridOptions(options,this),this._agGrid=new grid_1.Grid(this,this._gridOptions,globalEventListener),this.api=options.api,this.columnApi=options.columnApi,this._initialised=!0},AgileGridProto.createdCallback=function(){for(var i=0;i<this.attributes.length;i++){var attribute=this.attributes[i];this.setPropertyFromAttribute(attribute)}},AgileGridProto.setPropertyFromAttribute=function(attribute){var name=toCamelCase(attribute.nodeName),value=attribute.nodeValue;componentUtil_1.ComponentUtil.ALL_PROPERTIES.indexOf(name)>=0&&(this[name]=value)},AgileGridProto.attachedCallback=function(params){},AgileGridProto.detachedCallback=function(params){},AgileGridProto.attributeChangedCallback=function(attributeName){var attribute=this.attributes[attributeName];this.setPropertyFromAttribute(attribute)},AgileGridProto.globalEventListener=function(eventType,event){var eventLowerCase=eventType.toLowerCase(),browserEvent=new Event(eventLowerCase),browserEventNoType=browserEvent;browserEventNoType.agGridDetails=event,this.dispatchEvent(browserEvent);var callbackMethod="on"+eventLowerCase;"function"==typeof this[callbackMethod]&&this[callbackMethod](browserEvent)},document.registerElement("ag-grid",{prototype:AgileGridProto})}}function toCamelCase(myString){if("string"==typeof myString){var result=myString.replace(/-([a-z])/g,function(g){return g[1].toUpperCase()});return result}return myString}var componentUtil_1=__webpack_require__(9),grid_1=__webpack_require__(2),registered=!1;exports.initialiseAgGridWithWebComponents=initialiseAgGridWithWebComponents},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(7),TabbedLayout=function(){function TabbedLayout(params){var _this=this;this.items=[],this.params=params,this.eGui=document.createElement("div"),this.eGui.innerHTML=TabbedLayout.TEMPLATE,this.eHeader=this.eGui.querySelector("#tabHeader"),this.eBody=this.eGui.querySelector("#tabBody"),utils_1.Utils.addCssClass(this.eGui,params.cssClass),params.items&&params.items.forEach(function(item){return _this.addItem(item)})}return TabbedLayout.prototype.setAfterAttachedParams=function(params){this.afterAttachedParams=params},TabbedLayout.prototype.getMinWidth=function(){var eDummyContainer=document.createElement("span");eDummyContainer.style.position="fixed",this.eGui.appendChild(eDummyContainer);var minWidth=0;return this.items.forEach(function(itemWrapper){utils_1.Utils.removeAllChildren(eDummyContainer);var eClone=itemWrapper.tabbedItem.body.cloneNode(!0);eDummyContainer.appendChild(eClone),minWidth<eDummyContainer.offsetWidth&&(minWidth=eDummyContainer.offsetWidth)}),this.eGui.removeChild(eDummyContainer),minWidth},TabbedLayout.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},TabbedLayout.prototype.addItem=function(item){var eHeaderButton=document.createElement("span");eHeaderButton.appendChild(item.title),utils_1.Utils.addCssClass(eHeaderButton,"ag-tab"),this.eHeader.appendChild(eHeaderButton);var wrapper={tabbedItem:item,eHeaderButton:eHeaderButton};this.items.push(wrapper),eHeaderButton.addEventListener("click",this.showItemWrapper.bind(this,wrapper))},TabbedLayout.prototype.showItem=function(tabbedItem){var itemWrapper=utils_1.Utils.find(this.items,function(itemWrapper){return itemWrapper.tabbedItem===tabbedItem});itemWrapper&&this.showItemWrapper(itemWrapper)},TabbedLayout.prototype.showItemWrapper=function(wrapper){return this.params.onItemClicked&&this.params.onItemClicked({item:wrapper.tabbedItem}),this.activeItem===wrapper?void utils_1.Utils.callIfPresent(this.params.onActiveItemClicked):(utils_1.Utils.removeAllChildren(this.eBody),this.eBody.appendChild(wrapper.tabbedItem.body),this.activeItem&&utils_1.Utils.removeCssClass(this.activeItem.eHeaderButton,"ag-tab-selected"),utils_1.Utils.addCssClass(wrapper.eHeaderButton,"ag-tab-selected"),this.activeItem=wrapper,void(wrapper.tabbedItem.afterAttachedCallback&&wrapper.tabbedItem.afterAttachedCallback(this.afterAttachedParams)))},TabbedLayout.prototype.getGui=function(){return this.eGui},TabbedLayout.TEMPLATE='<div><div id="tabHeader" class="ag-tab-header"></div><div id="tabBody" class="ag-tab-body"></div></div>',TabbedLayout}();exports.TabbedLayout=TabbedLayout},function(module,exports){var VerticalStack=function(){function VerticalStack(){this.isLayoutPanel=!0,this.childPanels=[],this.eGui=document.createElement("div"),this.eGui.style.height="100%"}return VerticalStack.prototype.addPanel=function(panel,height){var component;panel.isLayoutPanel?(this.childPanels.push(panel),component=panel.getGui()):component=panel,height&&(component.style.height=height),this.eGui.appendChild(component)},VerticalStack.prototype.getGui=function(){return this.eGui},VerticalStack.prototype.doLayout=function(){for(var i=0;i<this.childPanels.length;i++)this.childPanels[i].doLayout()},VerticalStack}();exports.VerticalStack=VerticalStack},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},component_1=__webpack_require__(47),context_1=__webpack_require__(6),utils_1=__webpack_require__(7),popupService_1=__webpack_require__(44),menuItemComponent_1=__webpack_require__(89),MenuList=function(_super){function MenuList(){_super.call(this,MenuList.TEMPLATE),this.timerCount=0}return __extends(MenuList,_super),MenuList.prototype.clearActiveItem=function(){this.removeActiveItem(),this.removeOldChildPopup()},MenuList.prototype.addMenuItems=function(menuItems,defaultMenuItems){var _this=this;utils_1.Utils.missing(menuItems)||menuItems.forEach(function(listItem){if("separator"===listItem)_this.addSeparator();else{var menuItem;menuItem="string"==typeof listItem?defaultMenuItems[listItem]:listItem,_this.addItem(menuItem)}})},MenuList.prototype.addItem=function(params){var _this=this,cMenuItem=new menuItemComponent_1.MenuItemComponent(params);this.context.wireBean(cMenuItem),this.getGui().appendChild(cMenuItem.getGui()),
cMenuItem.addEventListener(menuItemComponent_1.MenuItemComponent.EVENT_ITEM_SELECTED,function(event){params.childMenu?_this.showChildMenu(params,cMenuItem):_this.dispatchEvent(menuItemComponent_1.MenuItemComponent.EVENT_ITEM_SELECTED,event)}),cMenuItem.addGuiEventListener("mouseenter",this.mouseEnterItem.bind(this,params,cMenuItem)),cMenuItem.addGuiEventListener("mouseleave",function(){return _this.timerCount++}),params.childMenu&&this.addDestroyFunc(function(){return params.childMenu.destroy()})},MenuList.prototype.mouseEnterItem=function(menuItemParams,menuItem){menuItemParams.disabled||(this.activeMenuItemParams!==menuItemParams&&this.removeOldChildPopup(),this.removeActiveItem(),this.activeMenuItemParams=menuItemParams,this.activeMenuItem=menuItem,utils_1.Utils.addCssClass(this.activeMenuItem.getGui(),"ag-menu-option-active"),menuItemParams.childMenu&&this.addHoverForChildPopup(menuItemParams,menuItem))},MenuList.prototype.removeActiveItem=function(){this.activeMenuItem&&(utils_1.Utils.removeCssClass(this.activeMenuItem.getGui(),"ag-menu-option-active"),this.activeMenuItem=null,this.activeMenuItemParams=null)},MenuList.prototype.addHoverForChildPopup=function(menuItemParams,menuItem){var _this=this,timerCountCopy=this.timerCount;setTimeout(function(){var shouldShow=timerCountCopy===_this.timerCount,showingThisMenu=_this.showingChildMenu===menuItemParams.childMenu;shouldShow&&!showingThisMenu&&_this.showChildMenu(menuItemParams,menuItem)},500)},MenuList.prototype.showChildMenu=function(menuItemParams,menuItem){this.removeOldChildPopup();var ePopup=utils_1.Utils.loadTemplate('<div class="ag-menu"></div>');ePopup.appendChild(menuItemParams.childMenu.getGui()),this.childPopupRemoveFunc=this.popupService.addAsModalPopup(ePopup,!0),this.popupService.positionPopupForMenu({eventSource:menuItem.getGui(),ePopup:ePopup}),this.showingChildMenu=menuItemParams.childMenu},MenuList.prototype.addSeparator=function(){this.getGui().appendChild(utils_1.Utils.loadTemplate(MenuList.SEPARATOR_TEMPLATE))},MenuList.prototype.removeOldChildPopup=function(){this.childPopupRemoveFunc&&(this.showingChildMenu.clearActiveItem(),this.childPopupRemoveFunc(),this.childPopupRemoveFunc=null,this.showingChildMenu=null)},MenuList.prototype.destroy=function(){this.removeOldChildPopup(),_super.prototype.destroy.call(this)},MenuList.TEMPLATE='<div class="ag-menu-list"></div>',MenuList.SEPARATOR_TEMPLATE='<div class="ag-menu-separator">  <span class="ag-menu-separator-cell"></span>  <span class="ag-menu-separator-cell"></span>  <span class="ag-menu-separator-cell"></span>  <span class="ag-menu-separator-cell"></span></div>',__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],MenuList.prototype,"context",void 0),__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],MenuList.prototype,"popupService",void 0),MenuList}(component_1.Component);exports.MenuList=MenuList},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},component_1=__webpack_require__(47),context_1=__webpack_require__(6),popupService_1=__webpack_require__(44),utils_1=__webpack_require__(7),svgFactory_1=__webpack_require__(59),svgFactory=svgFactory_1.SvgFactory.getInstance(),MenuItemComponent=function(_super){function MenuItemComponent(params){_super.call(this,MenuItemComponent.TEMPLATE),this.params=params,params.checked?this.queryForHtmlElement("#eIcon").innerHTML="&#10004;":params.icon?utils_1.Utils.isNodeOrElement(params.icon)?this.queryForHtmlElement("#eIcon").appendChild(params.icon):"string"==typeof params.icon?this.queryForHtmlElement("#eIcon").innerHTML=params.icon:console.log("ag-Grid: menu item icon must be DOM node or string"):this.queryForHtmlElement("#eIcon").innerHTML="&nbsp;",params.shortcut&&(this.queryForHtmlElement("#eShortcut").innerHTML=params.shortcut),params.childMenu?this.queryForHtmlElement("#ePopupPointer").appendChild(svgFactory.createSmallArrowRightSvg()):this.queryForHtmlElement("#ePopupPointer").innerHTML="&nbsp;",this.queryForHtmlElement("#eName").innerHTML=params.name,params.disabled?utils_1.Utils.addCssClass(this.getGui(),"ag-menu-option-disabled"):this.addGuiEventListener("click",this.onOptionSelected.bind(this))}return __extends(MenuItemComponent,_super),MenuItemComponent.prototype.onOptionSelected=function(){this.dispatchEvent(MenuItemComponent.EVENT_ITEM_SELECTED,this.params),this.params.action&&this.params.action()},MenuItemComponent.TEMPLATE='<div class="ag-menu-option">  <span id="eIcon" class="ag-menu-option-icon"></span>  <span id="eName" class="ag-menu-option-text"></span>  <span id="eShortcut" class="ag-menu-option-shortcut"></span>  <span id="ePopupPointer" class="ag-menu-option-popup-pointer"></span></div>',MenuItemComponent.EVENT_ITEM_SELECTED="itemSelected",__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],MenuItemComponent.prototype,"popupService",void 0),MenuItemComponent}(component_1.Component);exports.MenuItemComponent=MenuItemComponent}])})},{}],151:[function(require,module,exports){var css='ag-grid-ng2 {\n  display: inline-block;\n}\n.ag-root {\n  /* set to relative, so absolute popups appear relative to this */\n  position: relative;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  /* was getting some \'should be there\' scrolls, this sorts it out */\n  overflow: hidden;\n}\n.ag-font-style {\n  cursor: default;\n  /* disable user mouse selection */\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-no-scrolls {\n  white-space: nowrap;\n  display: inline-block;\n}\n.ag-scrolls {\n  height: 100%;\n}\n.ag-popup-backdrop {\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n}\n.ag-header {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  width: 100%;\n}\n.ag-pinned-left-header {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-header {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-header-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-scrolls .ag-header-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n  height: 100%;\n}\n.ag-no-scrolls .ag-header-container {\n  white-space: nowrap;\n}\n.ag-header-overlay {\n  display: block;\n  position: absolute;\n}\n.ag-header-cell {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: bottom;\n  text-align: center;\n  display: inline-block;\n  height: 100%;\n}\n.ag-dnd-ghost {\n  font-size: 14px;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  position: absolute;\n  background: #e5e5e5;\n  border: 1px solid #000;\n  cursor: move;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  padding: 3px;\n  line-height: 1.4;\n}\n.ag-dnd-ghost-icon {\n  display: inline-block;\n  float: left;\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-dnd-ghost-label {\n  display: inline-block;\n}\n.ag-header-group-cell {\n  height: 100%;\n  display: inline-block;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-group-cell-label {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-cell-label {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-cell-resize {\n  height: 100%;\n  width: 4px;\n  float: right;\n  cursor: col-resize;\n}\n.ag-header-expand-icon {\n  padding-left: 4px;\n}\n.ag-header-cell-menu-button {\n  float: right;\n}\n.ag-overlay-panel {\n  display: table;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.ag-overlay-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n}\n.ag-body {\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-floating-top {\n  position: absolute;\n  left: 0px;\n  width: 100%;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.ag-pinned-left-floating-top {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-floating-top {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-top-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-top-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n}\n.ag-floating-bottom {\n  position: absolute;\n  left: 0px;\n  width: 100%;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.ag-pinned-left-floating-bottom {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-floating-bottom {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-bottom-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-bottom-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n}\n.ag-pinned-left-cols-viewport {\n  float: left;\n  overflow: hidden;\n}\n.ag-pinned-left-cols-container {\n  display: inline-block;\n  position: relative;\n}\n.ag-pinned-right-cols-viewport {\n  float: right;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.ag-pinned-right-cols-container {\n  display: inline-block;\n  position: relative;\n}\n.ag-body-viewport-wrapper {\n  height: 100%;\n}\n.ag-body-viewport {\n  overflow-x: auto;\n  overflow-y: auto;\n  height: 100%;\n}\n.ag-scrolls .ag-body-container {\n  position: relative;\n  display: inline-block;\n}\n.ag-scrolls .ag-row {\n  white-space: nowrap;\n  position: absolute;\n  width: 100%;\n}\n.ag-no-scrolls .ag-row {\n  position: relative;\n}\n.agile-gird-row:hover {\n  background-color: #f0f8ff;\n}\n.ag-column-drop {\n  width: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-column-drop-vertical {\n  height: 100%;\n}\n.ag-column-drop-vertical .ag-column-drop-cell {\n  display: block;\n}\n.ag-column-drop-vertical .ag-column-drop-empty-message {\n  display: block;\n}\n.ag-column-drop-vertical .ag-column-drop-cell-button {\n  float: right;\n  line-height: 16px;\n}\n.ag-cell {\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  position: absolute;\n}\n.ag-fade-out {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  margin-right: 5px;\n  -webkit-transition: opacity 3s, margin-right 3s;\n  -moz-transition: opacity 3s, margin-right 3s;\n  -o-transition: opacity 3s, margin-right 3s;\n  -ms-transition: opacity 3s, margin-right 3s;\n  transition: opacity 3s, margin-right 3s;\n  -webkit-transition-timing-function: linear;\n  -moz-transition-timing-function: linear;\n  -o-transition-timing-function: linear;\n  -ms-transition-timing-function: linear;\n  transition-timing-function: linear;\n}\n.ag-fade-out-end {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  margin-right: 10px;\n}\n.ag-cell-edit-input {\n  width: 100%;\n  height: 100%;\n}\n.ag-group-cell-entire-row {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-footer-cell-entire-row {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-large .ag-root {\n  font-size: 20px;\n}\n.ag-popup-editor {\n  position: absolute;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-menu {\n  position: absolute;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-menu-column-select-wrapper {\n  width: 200px;\n  height: 300px;\n}\n.ag-menu-list {\n  display: table;\n  border-collapse: collapse;\n}\n.ag-menu-option {\n  display: table-row;\n}\n.ag-menu-option-text {\n  display: table-cell;\n}\n.ag-menu-option-shortcut {\n  display: table-cell;\n}\n.ag-menu-option-icon {\n  display: table-cell;\n}\n.ag-menu-option-popup-pointer {\n  display: table-cell;\n}\n.ag-menu-separator {\n  display: table-row;\n}\n.ag-menu-separator-cell {\n  display: table-cell;\n}\n.ag-virtual-list-viewport {\n  overflow-x: auto;\n  height: 100%;\n  width: 100%;\n}\n.ag-virtual-list-container {\n  position: relative;\n  overflow: hidden;\n}\n.ag-rich-select {\n  outline: none;\n}\n.ag-rich-select-list {\n  width: 200px;\n  height: 200px;\n}\n.ag-set-filter-list {\n  width: 200px;\n  height: 200px;\n}\n.ag-set-filter-item {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.ag-virtual-list-item {\n  position: absolute;\n  width: 100%;\n}\n.ag-filter-filter {\n  width: 170px;\n  margin: 4px;\n}\n.ag-filter-select {\n  width: 110px;\n  margin: 4px 4px 0px 4px;\n}\n.ag-no-vertical-scroll .ag-scrolls {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body-viewport-wrapper {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body-viewport {\n  height: unset;\n}\n.ag-list-selection {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n}\n.ag-tool-panel {\n  width: 200px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-column-select-indent {\n  display: inline-block;\n}\n.ag-column-select-column {\n  margin-left: 14px;\n  white-space: nowrap;\n}\n.ag-column-select-column-group {\n  white-space: nowrap;\n}\n.ag-column-select-panel {\n  height: 100%;\n  overflow: auto;\n}\n.ag-hidden {\n  display: none;\n}\n.ag-faded {\n  opacity: 0.3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n}\n.ag-shake-left-to-right {\n  -webkit-animation-name: ag-shake-left-to-right;\n  -moz-animation-name: ag-shake-left-to-right;\n  -o-animation-name: ag-shake-left-to-right;\n  -ms-animation-name: ag-shake-left-to-right;\n  animation-name: ag-shake-left-to-right;\n  -webkit-animation-duration: 0.2s;\n  -moz-animation-duration: 0.2s;\n  -o-animation-duration: 0.2s;\n  -ms-animation-duration: 0.2s;\n  animation-duration: 0.2s;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  -o-animation-iteration-count: infinite;\n  -ms-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-direction: alternate;\n  -moz-animation-direction: alternate;\n  -o-animation-direction: alternate;\n  -ms-animation-direction: alternate;\n  animation-direction: alternate;\n}\n@-moz-keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n@-webkit-keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n@-o-keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n@keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n';require("browserify-css").createStyle(css,{href:"node_modules/ag-grid/dist/styles/ag-grid.css"},{insertAt:"bottom"}),module.exports=css},{"browserify-css":185}],152:[function(require,module,exports){var css=".ag-material {\n  line-height: 1.4;\n  font-family: Roboto;\n  font-size: 14px;\n  color: #666;\n  /* this is for the rowGroupPanel, that appears along the top of the grid */\n  /* this is for the column drops that appear in the toolPanel */\n}\n.ag-material img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-material .ag-root {\n  border: none;\n}\n.ag-material .ag-cell-not-inline-editing {\n  padding: 2px;\n}\n.ag-material .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(120,120,120,0.4);\n}\n.ag-material .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(80,80,80,0.4);\n}\n.ag-material .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(40,40,40,0.4);\n}\n.ag-material .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(0,0,0,0.4);\n}\n.ag-material .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-material .ag-cell-focus {\n  border: 1px solid #a9a9a9;\n}\n.ag-material .ag-cell-no-focus {\n  border-right: none;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n.ag-material .ag-cell-first-right-pinned {\n  border-left: none;\n}\n.ag-material .ag-cell-last-left-pinned {\n  border-right: none;\n}\n.ag-material .ag-cell-highlight {\n  border: 1px solid #006400;\n}\n.ag-material .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-material .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-material .ag-value-change-delta-up {\n  color: #006400;\n}\n.ag-material .ag-value-change-delta-down {\n  color: #8b0000;\n}\n.ag-material .ag-value-change-value {\n  background-color: transparent;\n  -webkit-border-radius: 1px;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-material .ag-value-change-value-highlight {\n  background-color: #cec;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-material .ag-rich-select {\n  font-size: 14px;\n  border: none;\n  background-color: #fff;\n}\n.ag-material .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-material .ag-rich-select-list {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-material .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-material .ag-rich-select-row-selected {\n  background-color: #bde2e5;\n}\n.ag-material .ag-header {\n  color: #666;\n  background: none;\n  border-bottom: none;\n  font-weight: normal;\n}\n.ag-material .ag-header-icon {\n  color: #666;\n  stroke: none;\n  fill: #666;\n}\n.ag-material .ag-no-scrolls .ag-header-container {\n  background: none;\n  border-bottom: none;\n}\n.ag-material .ag-header-cell {\n  border-right: none;\n}\n.ag-material .ag-header-cell-moving .ag-header-cell-label {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-material .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-material .ag-header-group-cell {\n  border-right: none;\n}\n.ag-material .ag-header-group-cell-with-group {\n  border-bottom: none;\n}\n.ag-material .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-material .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-material .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-material .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-material .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-material .ag-pinned-right-header {\n  border-left: none;\n}\n.ag-material .ag-header-cell-menu-button:hover {\n  border: none;\n}\n.ag-material .ag-body {\n  background-color: #fff;\n}\n.ag-material .ag-body .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-material .ag-body .ag-row-odd {\n  background-color: #fff;\n}\n.ag-material .ag-body .ag-row-even {\n  background-color: #fff;\n}\n.ag-material .ag-body .ag-row-selected {\n  background-color: #f5f5f5;\n}\n.ag-material .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-material .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-material .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-material .ag-overlay-loading-center {\n  background-color: #fff;\n  border: none;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-material .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: none;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-material .ag-group-cell-entire-row {\n  background-color: #fff;\n  padding: 2px;\n}\n.ag-material .ag-footer-cell-entire-row {\n  background-color: #fff;\n  padding: 2px;\n}\n.ag-material .ag-group-cell {\n  font-style: italic;\n}\n.ag-material .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-material .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-material .ag-group-value {\n  padding-right: 2px;\n}\n.ag-material .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-material .ag-footer-cell {\n  font-style: italic;\n}\n.ag-material .ag-menu {\n  border: 1px solid #808080;\n  background-color: #fff;\n  cursor: default;\n  font-family: Roboto;\n  font-size: 14px;\n}\n.ag-material .ag-menu .ag-tab-header {\n  background-color: #f6f6f6;\n}\n.ag-material .ag-menu .ag-tab {\n  padding: 6px 16px 6px 16px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-material .ag-menu .ag-tab-selected {\n  background-color: #fff;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n}\n.ag-material .ag-menu-separator {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-material .ag-menu-option-active {\n  background-color: #bde2e5;\n}\n.ag-material .ag-menu-option-icon {\n  padding: 10px 6px 10px 6px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-text {\n  padding: 10px 6px 10px 6px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-shortcut {\n  padding: 10px 6px 10px 20px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-popup-pointer {\n  padding: 10px 6px 10px 6px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-material .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-material .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-material .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-material .ag-filter-apply-panel {\n  border-top: 1px solid ag-separatorcolor;\n  padding: 2px;\n}\n.ag-material .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-material .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-material .ag-paging-panel {\n  padding: 4px;\n}\n.ag-material .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-material .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-material .ag-tool-panel {\n  background-color: #fff;\n  border-right: none;\n  border-bottom: none;\n  border-top: none;\n  color: #666;\n}\n.ag-material .ag-status-bar {\n  color: #666;\n  background-color: #fff;\n  font-size: 14px;\n  height: 22px;\n  border-bottom: none;\n  border-left: none;\n  border-right: none;\n  padding: 2px;\n}\n.ag-material .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-material .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-material .ag-column-drop-cell {\n  background: none;\n  color: #000;\n  border: 1px solid #808080;\n  padding: 2px;\n}\n.ag-material .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-material .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-material .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n}\n.ag-material .ag-column-drop-cell-button:hover {\n  border: none;\n}\n.ag-material .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-material .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-material .ag-column-drop {\n  padding: 4px;\n  background-color: #fff;\n}\n.ag-material .ag-column-drop-horizontal {\n  border-top: none;\n  border-left: none;\n  border-right: none;\n}\n.ag-material .ag-column-drop-vertical {\n  border-top: none;\n}\n.ag-material .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-material .ag-column-drop-vertical .ag-column-drop-empty-message {\n  padding: 20px;\n}\n.ag-material .ag-row-hover {\n  background-color: #eee !important;\n}\n.ag-material .ag-cell-not-inline-editing {\n  padding-top: 15px;\n}\n.ag-material .ag-header-cell-menu-button:hover {\n  border: 1px solid #808080;\n}\n";require("browserify-css").createStyle(css,{href:"node_modules/ag-grid/dist/styles/theme-material.css"},{insertAt:"bottom"}),module.exports=css},{"browserify-css":185}],153:[function(require,module,exports){!function(window,angular,undefined){"use strict";function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function packageStyles(options){var styles={};return options&&(options.to||options.from)&&(styles.to=options.to,styles.from=options.from),styles}function pendClasses(classes,fix,isPrefix){var className="";return classes=isArray(classes)?classes:classes&&isString(classes)&&classes.length?classes.split(/\s+/):[],forEach(classes,function(klass,i){klass&&klass.length>0&&(className+=i>0?" ":"",className+=isPrefix?fix+klass:klass+fix)}),className}function removeFromArray(arr,val){var index=arr.indexOf(val);val>=0&&arr.splice(index,1)}function stripCommentsFromElement(element){if(element instanceof jqLite)switch(element.length){case 0:return[];case 1:if(element[0].nodeType===ELEMENT_NODE)return element;break;default:return jqLite(extractElementNode(element))}if(element.nodeType===ELEMENT_NODE)return jqLite(element)}function extractElementNode(element){if(!element[0])return element;for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType==ELEMENT_NODE)return elm}}function $$addClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.addClass(elm,className)})}function $$removeClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.removeClass(elm,className)})}function applyAnimationClassesFactory($$jqLite){return function(element,options){options.addClass&&($$addClass($$jqLite,element,options.addClass),options.addClass=null),options.removeClass&&($$removeClass($$jqLite,element,options.removeClass),options.removeClass=null)}}function prepareAnimationOptions(options){if(options=options||{},!options.$$prepared){var domOperation=options.domOperation||noop;options.domOperation=function(){options.$$domOperationFired=!0,domOperation(),domOperation=noop},options.$$prepared=!0}return options}function applyAnimationStyles(element,options){applyAnimationFromStyles(element,options),applyAnimationToStyles(element,options)}function applyAnimationFromStyles(element,options){options.from&&(element.css(options.from),options.from=null)}function applyAnimationToStyles(element,options){options.to&&(element.css(options.to),options.to=null)}function mergeAnimationOptions(element,target,newOptions){var toAdd=(target.addClass||"")+" "+(newOptions.addClass||""),toRemove=(target.removeClass||"")+" "+(newOptions.removeClass||""),classes=resolveElementClasses(element.attr("class"),toAdd,toRemove);newOptions.preparationClasses&&(target.preparationClasses=concatWithSpace(newOptions.preparationClasses,target.preparationClasses),
delete newOptions.preparationClasses);var realDomOperation=target.domOperation!==noop?target.domOperation:null;return extend(target,newOptions),realDomOperation&&(target.domOperation=realDomOperation),classes.addClass?target.addClass=classes.addClass:target.addClass=null,classes.removeClass?target.removeClass=classes.removeClass:target.removeClass=null,target}function resolveElementClasses(existing,toAdd,toRemove){function splitClassesToLookup(classes){isString(classes)&&(classes=classes.split(" "));var obj={};return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}var ADD_CLASS=1,REMOVE_CLASS=-1,flags={};existing=splitClassesToLookup(existing),toAdd=splitClassesToLookup(toAdd),forEach(toAdd,function(value,key){flags[key]=ADD_CLASS}),toRemove=splitClassesToLookup(toRemove),forEach(toRemove,function(value,key){flags[key]=flags[key]===ADD_CLASS?null:REMOVE_CLASS});var classes={addClass:"",removeClass:""};return forEach(flags,function(val,klass){var prop,allow;val===ADD_CLASS?(prop="addClass",allow=!existing[klass]):val===REMOVE_CLASS&&(prop="removeClass",allow=existing[klass]),allow&&(classes[prop].length&&(classes[prop]+=" "),classes[prop]+=klass)}),classes}function getDomNode(element){return element instanceof angular.element?element[0]:element}function applyGeneratedPreparationClasses(element,event,options){var classes="";event&&(classes=pendClasses(event,EVENT_CLASS_PREFIX,!0)),options.addClass&&(classes=concatWithSpace(classes,pendClasses(options.addClass,ADD_CLASS_SUFFIX))),options.removeClass&&(classes=concatWithSpace(classes,pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX))),classes.length&&(options.preparationClasses=classes,element.addClass(classes))}function clearGeneratedClasses(element,options){options.preparationClasses&&(element.removeClass(options.preparationClasses),options.preparationClasses=null),options.activeClasses&&(element.removeClass(options.activeClasses),options.activeClasses=null)}function blockTransitions(node,duration){var value=duration?"-"+duration+"s":"";return applyInlineStyle(node,[TRANSITION_DELAY_PROP,value]),[TRANSITION_DELAY_PROP,value]}function blockKeyframeAnimations(node,applyBlock){var value=applyBlock?"paused":"",key=ANIMATION_PROP+ANIMATION_PLAYSTATE_KEY;return applyInlineStyle(node,[key,value]),[key,value]}function applyInlineStyle(node,styleTuple){var prop=styleTuple[0],value=styleTuple[1];node.style[prop]=value}function concatWithSpace(a,b){return a?b?a+" "+b:a:b}function getCssKeyframeDurationStyle(duration){return[ANIMATION_DURATION_PROP,duration+"s"]}function getCssDelayStyle(delay,isKeyframeAnimation){var prop=isKeyframeAnimation?ANIMATION_DELAY_PROP:TRANSITION_DELAY_PROP;return[prop,delay+"s"]}function computeCssStyles($window,element,properties){var styles=Object.create(null),detectedStyles=$window.getComputedStyle(element)||{};return forEach(properties,function(formalStyleName,actualStyleName){var val=detectedStyles[formalStyleName];if(val){var c=val.charAt(0);("-"===c||"+"===c||c>=0)&&(val=parseMaxTime(val)),0===val&&(val=null),styles[actualStyleName]=val}}),styles}function parseMaxTime(str){var maxValue=0,values=str.split(/\s*,\s*/);return forEach(values,function(value){"s"==value.charAt(value.length-1)&&(value=value.substring(0,value.length-1)),value=parseFloat(value)||0,maxValue=maxValue?Math.max(value,maxValue):value}),maxValue}function truthyTimingValue(val){return 0===val||null!=val}function getCssTransitionDurationStyle(duration,applyOnlyDuration){var style=TRANSITION_PROP,value=duration+"s";return applyOnlyDuration?style+=DURATION_KEY:value+=" linear all",[style,value]}function createLocalCacheLookup(){var cache=Object.create(null);return{flush:function(){cache=Object.create(null)},count:function(key){var entry=cache[key];return entry?entry.total:0},get:function(key){var entry=cache[key];return entry&&entry.value},put:function(key,value){cache[key]?cache[key].total++:cache[key]={total:1,value:value}}}}function registerRestorableStyles(backup,node,properties){forEach(properties,function(prop){backup[prop]=isDefined(backup[prop])?backup[prop]:node.style.getPropertyValue(prop)})}var TRANSITION_PROP,TRANSITIONEND_EVENT,ANIMATION_PROP,ANIMATIONEND_EVENT,noop=angular.noop,copy=angular.copy,extend=angular.extend,jqLite=angular.element,forEach=angular.forEach,isArray=angular.isArray,isString=angular.isString,isObject=angular.isObject,isUndefined=angular.isUndefined,isDefined=angular.isDefined,isFunction=angular.isFunction,isElement=angular.isElement,ELEMENT_NODE=1,ADD_CLASS_SUFFIX="-add",REMOVE_CLASS_SUFFIX="-remove",EVENT_CLASS_PREFIX="ng-",ACTIVE_CLASS_SUFFIX="-active",NG_ANIMATE_CLASSNAME="ng-animate",NG_ANIMATE_CHILDREN_DATA="$$ngAnimateChildren",CSS_PREFIX="";isUndefined(window.ontransitionend)&&isDefined(window.onwebkittransitionend)?(CSS_PREFIX="-webkit-",TRANSITION_PROP="WebkitTransition",TRANSITIONEND_EVENT="webkitTransitionEnd transitionend"):(TRANSITION_PROP="transition",TRANSITIONEND_EVENT="transitionend"),isUndefined(window.onanimationend)&&isDefined(window.onwebkitanimationend)?(CSS_PREFIX="-webkit-",ANIMATION_PROP="WebkitAnimation",ANIMATIONEND_EVENT="webkitAnimationEnd animationend"):(ANIMATION_PROP="animation",ANIMATIONEND_EVENT="animationend");var DURATION_KEY="Duration",PROPERTY_KEY="Property",DELAY_KEY="Delay",TIMING_KEY="TimingFunction",ANIMATION_ITERATION_COUNT_KEY="IterationCount",ANIMATION_PLAYSTATE_KEY="PlayState",SAFE_FAST_FORWARD_DURATION_VALUE=9999,ANIMATION_DELAY_PROP=ANIMATION_PROP+DELAY_KEY,ANIMATION_DURATION_PROP=ANIMATION_PROP+DURATION_KEY,TRANSITION_DELAY_PROP=TRANSITION_PROP+DELAY_KEY,TRANSITION_DURATION_PROP=TRANSITION_PROP+DURATION_KEY,ngMinErr=angular.$$minErr("ng"),$$rAFSchedulerFactory=["$$rAF",function($$rAF){function scheduler(tasks){queue=queue.concat(tasks),nextTick()}function nextTick(){if(queue.length){for(var items=queue.shift(),i=0;i<items.length;i++)items[i]();cancelFn||$$rAF(function(){cancelFn||nextTick()})}}var queue,cancelFn;return queue=scheduler.queue=[],scheduler.waitUntilQuiet=function(fn){cancelFn&&cancelFn(),cancelFn=$$rAF(function(){cancelFn=null,fn(),nextTick()})},scheduler}],$$AnimateChildrenDirective=[function(){return function(scope,element,attrs){var val=attrs.ngAnimateChildren;angular.isString(val)&&0===val.length?element.data(NG_ANIMATE_CHILDREN_DATA,!0):attrs.$observe("ngAnimateChildren",function(value){value="on"===value||"true"===value,element.data(NG_ANIMATE_CHILDREN_DATA,value)})}}],ANIMATE_TIMER_KEY="$$animateCss",ONE_SECOND=1e3,ELAPSED_TIME_MAX_DECIMAL_PLACES=3,CLOSING_TIME_BUFFER=1.5,DETECT_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,transitionProperty:TRANSITION_PROP+PROPERTY_KEY,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP,animationIterationCount:ANIMATION_PROP+ANIMATION_ITERATION_COUNT_KEY},DETECT_STAGGER_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP},$AnimateCssProvider=["$animateProvider",function($animateProvider){var gcsLookup=createLocalCacheLookup(),gcsStaggerLookup=createLocalCacheLookup();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function($window,$$jqLite,$$AnimateRunner,$timeout,$$forceReflow,$sniffer,$$rAFScheduler,$$animateQueue){function gcsHashFn(node,extraClasses){var KEY="$$ngAnimateParentKey",parentNode=node.parentNode,parentID=parentNode[KEY]||(parentNode[KEY]=++parentCounter);return parentID+"-"+node.getAttribute("class")+"-"+extraClasses}function computeCachedCssStyles(node,className,cacheKey,properties){var timings=gcsLookup.get(cacheKey);return timings||(timings=computeCssStyles($window,node,properties),"infinite"===timings.animationIterationCount&&(timings.animationIterationCount=1)),gcsLookup.put(cacheKey,timings),timings}function computeCachedCssStaggerStyles(node,className,cacheKey,properties){var stagger;if(gcsLookup.count(cacheKey)>0&&(stagger=gcsStaggerLookup.get(cacheKey),!stagger)){var staggerClassName=pendClasses(className,"-stagger");$$jqLite.addClass(node,staggerClassName),stagger=computeCssStyles($window,node,properties),stagger.animationDuration=Math.max(stagger.animationDuration,0),stagger.transitionDuration=Math.max(stagger.transitionDuration,0),$$jqLite.removeClass(node,staggerClassName),gcsStaggerLookup.put(cacheKey,stagger)}return stagger||{}}function waitUntilQuiet(callback){rafWaitQueue.push(callback),$$rAFScheduler.waitUntilQuiet(function(){gcsLookup.flush(),gcsStaggerLookup.flush();for(var pageWidth=$$forceReflow(),i=0;i<rafWaitQueue.length;i++)rafWaitQueue[i](pageWidth);rafWaitQueue.length=0})}function computeTimings(node,className,cacheKey){var timings=computeCachedCssStyles(node,className,cacheKey,DETECT_CSS_PROPERTIES),aD=timings.animationDelay,tD=timings.transitionDelay;return timings.maxDelay=aD&&tD?Math.max(aD,tD):aD||tD,timings.maxDuration=Math.max(timings.animationDuration*timings.animationIterationCount,timings.transitionDuration),timings}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite),parentCounter=0,rafWaitQueue=[];return function(element,initialOptions){function endFn(){close()}function cancelFn(){close(!0)}function close(rejected){animationClosed||animationCompleted&&animationPaused||(animationClosed=!0,animationPaused=!1,options.$$skipPreparationClasses||$$jqLite.removeClass(element,preparationClasses),$$jqLite.removeClass(element,activeClasses),blockKeyframeAnimations(node,!1),blockTransitions(node,!1),forEach(temporaryStyles,function(entry){node.style[entry[0]]=""}),applyAnimationClasses(element,options),applyAnimationStyles(element,options),Object.keys(restoreStyles).length&&forEach(restoreStyles,function(value,prop){value?node.style.setProperty(prop,value):node.style.removeProperty(prop)}),options.onDone&&options.onDone(),events&&events.length&&element.off(events.join(" "),onAnimationProgress),runner&&runner.complete(!rejected))}function applyBlocking(duration){flags.blockTransition&&blockTransitions(node,duration),flags.blockKeyframeAnimation&&blockKeyframeAnimations(node,!!duration)}function closeAndReturnNoopAnimator(){return runner=new $$AnimateRunner({end:endFn,cancel:cancelFn}),waitUntilQuiet(noop),close(),{$$willAnimate:!1,start:function(){return runner},end:endFn}}function onAnimationProgress(event){event.stopPropagation();var ev=event.originalEvent||event,timeStamp=ev.$manualTimeStamp||Date.now(),elapsedTime=parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));Math.max(timeStamp-startTime,0)>=maxDelayTime&&elapsedTime>=maxDuration&&(animationCompleted=!0,close())}function start(){function triggerAnimationStart(){if(!animationClosed){if(applyBlocking(!1),forEach(temporaryStyles,function(entry){var key=entry[0],value=entry[1];node.style[key]=value}),applyAnimationClasses(element,options),$$jqLite.addClass(element,activeClasses),flags.recalculateTimingStyles){if(fullClassName=node.className+" "+preparationClasses,cacheKey=gcsHashFn(node,fullClassName),timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay,maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration,0===maxDuration)return void close();flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0}if(flags.applyAnimationDelay&&(relativeDelay="boolean"!=typeof options.delay&&truthyTimingValue(options.delay)?parseFloat(options.delay):relativeDelay,maxDelay=Math.max(relativeDelay,0),timings.animationDelay=relativeDelay,delayStyle=getCssDelayStyle(relativeDelay,!0),temporaryStyles.push(delayStyle),node.style[delayStyle[0]]=delayStyle[1]),maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.easing){var easeProp,easeVal=options.easing;flags.hasTransitions&&(easeProp=TRANSITION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal),flags.hasAnimations&&(easeProp=ANIMATION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal)}timings.transitionDuration&&events.push(TRANSITIONEND_EVENT),timings.animationDuration&&events.push(ANIMATIONEND_EVENT),startTime=Date.now();var timerTime=maxDelayTime+CLOSING_TIME_BUFFER*maxDurationTime,endTime=startTime+timerTime,animationsData=element.data(ANIMATE_TIMER_KEY)||[],setupFallbackTimer=!0;if(animationsData.length){var currentTimerData=animationsData[0];setupFallbackTimer=endTime>currentTimerData.expectedEndTime,setupFallbackTimer?$timeout.cancel(currentTimerData.timer):animationsData.push(close)}if(setupFallbackTimer){var timer=$timeout(onAnimationExpired,timerTime,!1);animationsData[0]={timer:timer,expectedEndTime:endTime},animationsData.push(close),element.data(ANIMATE_TIMER_KEY,animationsData)}events.length&&element.on(events.join(" "),onAnimationProgress),options.to&&(options.cleanupStyles&&registerRestorableStyles(restoreStyles,node,Object.keys(options.to)),applyAnimationToStyles(element,options))}}function onAnimationExpired(){var animationsData=element.data(ANIMATE_TIMER_KEY);if(animationsData){for(var i=1;i<animationsData.length;i++)animationsData[i]();element.removeData(ANIMATE_TIMER_KEY)}}if(!animationClosed){if(!node.parentNode)return void close();var playPause=function(playAnimation){if(animationCompleted)animationPaused&&playAnimation&&(animationPaused=!1,close());else if(animationPaused=!playAnimation,timings.animationDuration){var value=blockKeyframeAnimations(node,animationPaused);animationPaused?temporaryStyles.push(value):removeFromArray(temporaryStyles,value)}},maxStagger=itemIndex>0&&(timings.transitionDuration&&0===stagger.transitionDuration||timings.animationDuration&&0===stagger.animationDuration)&&Math.max(stagger.animationDelay,stagger.transitionDelay);maxStagger?$timeout(triggerAnimationStart,Math.floor(maxStagger*itemIndex*ONE_SECOND),!1):triggerAnimationStart(),runnerHost.resume=function(){playPause(!0)},runnerHost.pause=function(){playPause(!1)}}}var options=initialOptions||{};options.$$prepared||(options=prepareAnimationOptions(copy(options)));var restoreStyles={},node=getDomNode(element);if(!node||!node.parentNode||!$$animateQueue.enabled())return closeAndReturnNoopAnimator();var animationClosed,animationPaused,animationCompleted,runner,runnerHost,maxDelay,maxDelayTime,maxDuration,maxDurationTime,startTime,temporaryStyles=[],classes=element.attr("class"),styles=packageStyles(options),events=[];if(0===options.duration||!$sniffer.animations&&!$sniffer.transitions)return closeAndReturnNoopAnimator();var method=options.event&&isArray(options.event)?options.event.join(" "):options.event,isStructural=method&&options.structural,structuralClassName="",addRemoveClassName="";isStructural?structuralClassName=pendClasses(method,EVENT_CLASS_PREFIX,!0):method&&(structuralClassName=method),options.addClass&&(addRemoveClassName+=pendClasses(options.addClass,ADD_CLASS_SUFFIX)),options.removeClass&&(addRemoveClassName.length&&(addRemoveClassName+=" "),addRemoveClassName+=pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX)),options.applyClassesEarly&&addRemoveClassName.length&&applyAnimationClasses(element,options);var preparationClasses=[structuralClassName,addRemoveClassName].join(" ").trim(),fullClassName=classes+" "+preparationClasses,activeClasses=pendClasses(preparationClasses,ACTIVE_CLASS_SUFFIX),hasToStyles=styles.to&&Object.keys(styles.to).length>0,containsKeyframeAnimation=(options.keyframeStyle||"").length>0;if(!containsKeyframeAnimation&&!hasToStyles&&!preparationClasses)return closeAndReturnNoopAnimator();var cacheKey,stagger;if(options.stagger>0){var staggerVal=parseFloat(options.stagger);stagger={transitionDelay:staggerVal,animationDelay:staggerVal,transitionDuration:0,animationDuration:0}}else cacheKey=gcsHashFn(node,fullClassName),stagger=computeCachedCssStaggerStyles(node,preparationClasses,cacheKey,DETECT_STAGGER_CSS_PROPERTIES);options.$$skipPreparationClasses||$$jqLite.addClass(element,preparationClasses);var applyOnlyDuration;if(options.transitionStyle){var transitionStyle=[TRANSITION_PROP,options.transitionStyle];applyInlineStyle(node,transitionStyle),temporaryStyles.push(transitionStyle)}if(options.duration>=0){applyOnlyDuration=node.style[TRANSITION_PROP].length>0;var durationStyle=getCssTransitionDurationStyle(options.duration,applyOnlyDuration);applyInlineStyle(node,durationStyle),temporaryStyles.push(durationStyle)}if(options.keyframeStyle){var keyframeStyle=[ANIMATION_PROP,options.keyframeStyle];applyInlineStyle(node,keyframeStyle),temporaryStyles.push(keyframeStyle)}var itemIndex=stagger?options.staggerIndex>=0?options.staggerIndex:gcsLookup.count(cacheKey):0,isFirst=0===itemIndex;isFirst&&!options.skipBlocking&&blockTransitions(node,SAFE_FAST_FORWARD_DURATION_VALUE);var timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay;maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration;var flags={};if(flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0,flags.hasTransitionAll=flags.hasTransitions&&"all"==timings.transitionProperty,flags.applyTransitionDuration=hasToStyles&&(flags.hasTransitions&&!flags.hasTransitionAll||flags.hasAnimations&&!flags.hasTransitions),flags.applyAnimationDuration=options.duration&&flags.hasAnimations,flags.applyTransitionDelay=truthyTimingValue(options.delay)&&(flags.applyTransitionDuration||flags.hasTransitions),flags.applyAnimationDelay=truthyTimingValue(options.delay)&&flags.hasAnimations,flags.recalculateTimingStyles=addRemoveClassName.length>0,(flags.applyTransitionDuration||flags.applyAnimationDuration)&&(maxDuration=options.duration?parseFloat(options.duration):maxDuration,flags.applyTransitionDuration&&(flags.hasTransitions=!0,timings.transitionDuration=maxDuration,applyOnlyDuration=node.style[TRANSITION_PROP+PROPERTY_KEY].length>0,temporaryStyles.push(getCssTransitionDurationStyle(maxDuration,applyOnlyDuration))),flags.applyAnimationDuration&&(flags.hasAnimations=!0,timings.animationDuration=maxDuration,temporaryStyles.push(getCssKeyframeDurationStyle(maxDuration)))),0===maxDuration&&!flags.recalculateTimingStyles)return closeAndReturnNoopAnimator();if(null!=options.delay){var delayStyle;"boolean"!=typeof options.delay&&(delayStyle=parseFloat(options.delay),maxDelay=Math.max(delayStyle,0)),flags.applyTransitionDelay&&temporaryStyles.push(getCssDelayStyle(delayStyle)),flags.applyAnimationDelay&&temporaryStyles.push(getCssDelayStyle(delayStyle,!0))}return null==options.duration&&timings.transitionDuration>0&&(flags.recalculateTimingStyles=flags.recalculateTimingStyles||isFirst),maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.skipBlocking||(flags.blockTransition=timings.transitionDuration>0,flags.blockKeyframeAnimation=timings.animationDuration>0&&stagger.animationDelay>0&&0===stagger.animationDuration),options.from&&(options.cleanupStyles&&registerRestorableStyles(restoreStyles,node,Object.keys(options.from)),applyAnimationFromStyles(element,options)),flags.blockTransition||flags.blockKeyframeAnimation?applyBlocking(maxDuration):options.skipBlocking||blockTransitions(node,!1),{$$willAnimate:!0,end:endFn,start:function(){if(!animationClosed)return runnerHost={end:endFn,cancel:cancelFn,resume:null,pause:null},runner=new $$AnimateRunner(runnerHost),waitUntilQuiet(start),runner}}}}]}],$$AnimateCssDriverProvider=["$$animationProvider",function($$animationProvider){function isDocumentFragment(node){return node.parentNode&&11===node.parentNode.nodeType}$$animationProvider.drivers.push("$$animateCssDriver");var NG_ANIMATE_SHIM_CLASS_NAME="ng-animate-shim",NG_ANIMATE_ANCHOR_CLASS_NAME="ng-anchor",NG_OUT_ANCHOR_CLASS_NAME="ng-anchor-out",NG_IN_ANCHOR_CLASS_NAME="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function($animateCss,$rootScope,$$AnimateRunner,$rootElement,$sniffer,$$jqLite,$document){function filterCssClasses(classes){return classes.replace(/\bng-\S+\b/g,"")}function getUniqueValues(a,b){return isString(a)&&(a=a.split(" ")),isString(b)&&(b=b.split(" ")),a.filter(function(val){return b.indexOf(val)===-1}).join(" ")}function prepareAnchoredAnimation(classes,outAnchor,inAnchor){function calculateAnchorStyles(anchor){var styles={},coords=getDomNode(anchor).getBoundingClientRect();return forEach(["width","height","top","left"],function(key){var value=coords[key];switch(key){case"top":value+=bodyNode.scrollTop;break;case"left":value+=bodyNode.scrollLeft}styles[key]=Math.floor(value)+"px"}),styles}function prepareOutAnimation(){var animator=$animateCss(clone,{addClass:NG_OUT_ANCHOR_CLASS_NAME,delay:!0,from:calculateAnchorStyles(outAnchor)});return animator.$$willAnimate?animator:null}function getClassVal(element){return element.attr("class")||""}function prepareInAnimation(){var endingClasses=filterCssClasses(getClassVal(inAnchor)),toAdd=getUniqueValues(endingClasses,startingClasses),toRemove=getUniqueValues(startingClasses,endingClasses),animator=$animateCss(clone,{to:calculateAnchorStyles(inAnchor),addClass:NG_IN_ANCHOR_CLASS_NAME+" "+toAdd,removeClass:NG_OUT_ANCHOR_CLASS_NAME+" "+toRemove,delay:!0});return animator.$$willAnimate?animator:null}function end(){clone.remove(),outAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME)}var clone=jqLite(getDomNode(outAnchor).cloneNode(!0)),startingClasses=filterCssClasses(getClassVal(clone));outAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),clone.addClass(NG_ANIMATE_ANCHOR_CLASS_NAME),rootBodyElement.append(clone);var animatorIn,animatorOut=prepareOutAnimation();if(!animatorOut&&(animatorIn=prepareInAnimation(),!animatorIn))return end();var startingAnimator=animatorOut||animatorIn;return{start:function(){function endFn(){currentAnimation&&currentAnimation.end()}var runner,currentAnimation=startingAnimator.start();return currentAnimation.done(function(){return currentAnimation=null,!animatorIn&&(animatorIn=prepareInAnimation())?(currentAnimation=animatorIn.start(),currentAnimation.done(function(){currentAnimation=null,end(),runner.complete()}),currentAnimation):(end(),void runner.complete())}),runner=new $$AnimateRunner({end:endFn,cancel:endFn})}}}function prepareFromToAnchorAnimation(from,to,classes,anchors){var fromAnimation=prepareRegularAnimation(from,noop),toAnimation=prepareRegularAnimation(to,noop),anchorAnimations=[];if(forEach(anchors,function(anchor){var outElement=anchor.out,inElement=anchor["in"],animator=prepareAnchoredAnimation(classes,outElement,inElement);animator&&anchorAnimations.push(animator)}),fromAnimation||toAnimation||0!==anchorAnimations.length)return{start:function(){function endFn(){forEach(animationRunners,function(runner){runner.end()})}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),forEach(anchorAnimations,function(animation){animationRunners.push(animation.start())});var runner=new $$AnimateRunner({end:endFn,cancel:endFn});return $$AnimateRunner.all(animationRunners,function(status){runner.complete(status)}),runner}}}function prepareRegularAnimation(animationDetails){var element=animationDetails.element,options=animationDetails.options||{};animationDetails.structural&&(options.event=animationDetails.event,options.structural=!0,options.applyClassesEarly=!0,"leave"===animationDetails.event&&(options.onDone=options.domOperation)),options.preparationClasses&&(options.event=concatWithSpace(options.event,options.preparationClasses));var animator=$animateCss(element,options);return animator.$$willAnimate?animator:null}if(!$sniffer.animations&&!$sniffer.transitions)return noop;var bodyNode=$document[0].body,rootNode=getDomNode($rootElement),rootBodyElement=jqLite(isDocumentFragment(rootNode)||bodyNode.contains(rootNode)?rootNode:bodyNode);applyAnimationClassesFactory($$jqLite);return function(animationDetails){return animationDetails.from&&animationDetails.to?prepareFromToAnchorAnimation(animationDetails.from,animationDetails.to,animationDetails.classes,animationDetails.anchors):prepareRegularAnimation(animationDetails)}}]}],$$AnimateJsProvider=["$animateProvider",function($animateProvider){this.$get=["$injector","$$AnimateRunner","$$jqLite",function($injector,$$AnimateRunner,$$jqLite){function lookupAnimations(classes){classes=isArray(classes)?classes:classes.split(" ");for(var matches=[],flagMap={},i=0;i<classes.length;i++){var klass=classes[i],animationFactory=$animateProvider.$$registeredAnimations[klass];animationFactory&&!flagMap[klass]&&(matches.push($injector.get(animationFactory)),flagMap[klass]=!0)}return matches}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,classes,options){function applyOptions(){options.domOperation(),applyAnimationClasses(element,options)}function close(){animationClosed=!0,applyOptions(),applyAnimationStyles(element,options)}function executeAnimationFn(fn,element,event,options,onDone){var args;switch(event){case"animate":args=[element,options.from,options.to,onDone];break;case"setClass":args=[element,classesToAdd,classesToRemove,onDone];break;case"addClass":args=[element,classesToAdd,onDone];break;case"removeClass":args=[element,classesToRemove,onDone];break;default:args=[element,onDone]}args.push(options);var value=fn.apply(fn,args);if(value)if(isFunction(value.start)&&(value=value.start()),value instanceof $$AnimateRunner)value.done(onDone);else if(isFunction(value))return value;return noop}function groupEventedAnimations(element,event,options,animations,fnName){var operations=[];return forEach(animations,function(ani){var animation=ani[fnName];animation&&operations.push(function(){var runner,endProgressCb,resolved=!1,onAnimationComplete=function(rejected){resolved||(resolved=!0,(endProgressCb||noop)(rejected),runner.complete(!rejected))};return runner=new $$AnimateRunner({end:function(){onAnimationComplete()},cancel:function(){onAnimationComplete(!0)}}),endProgressCb=executeAnimationFn(animation,element,event,options,function(result){var cancelled=result===!1;onAnimationComplete(cancelled)}),runner})}),operations}function packageAnimations(element,event,options,animations,fnName){var operations=groupEventedAnimations(element,event,options,animations,fnName);if(0===operations.length){var a,b;"beforeSetClass"===fnName?(a=groupEventedAnimations(element,"removeClass",options,animations,"beforeRemoveClass"),b=groupEventedAnimations(element,"addClass",options,animations,"beforeAddClass")):"setClass"===fnName&&(a=groupEventedAnimations(element,"removeClass",options,animations,"removeClass"),b=groupEventedAnimations(element,"addClass",options,animations,"addClass")),a&&(operations=operations.concat(a)),b&&(operations=operations.concat(b))}if(0!==operations.length)return function(callback){var runners=[];return operations.length&&forEach(operations,function(animateFn){runners.push(animateFn())}),runners.length?$$AnimateRunner.all(runners,callback):callback(),function(reject){forEach(runners,function(runner){reject?runner.cancel():runner.end()})}}}var animationClosed=!1;3===arguments.length&&isObject(classes)&&(options=classes,classes=null),options=prepareAnimationOptions(options),classes||(classes=element.attr("class")||"",options.addClass&&(classes+=" "+options.addClass),options.removeClass&&(classes+=" "+options.removeClass));var before,after,classesToAdd=options.addClass,classesToRemove=options.removeClass,animations=lookupAnimations(classes);if(animations.length){var afterFn,beforeFn;"leave"==event?(beforeFn="leave",afterFn="afterLeave"):(beforeFn="before"+event.charAt(0).toUpperCase()+event.substr(1),afterFn=event),"enter"!==event&&"move"!==event&&(before=packageAnimations(element,event,options,animations,beforeFn)),after=packageAnimations(element,event,options,animations,afterFn)}if(before||after){var runner;return{$$willAnimate:!0,end:function(){return runner?runner.end():(close(),runner=new $$AnimateRunner,runner.complete(!0)),runner},start:function(){function onComplete(success){close(success),runner.complete(success)}function endAnimations(cancelled){animationClosed||((closeActiveAnimations||noop)(cancelled),onComplete(cancelled))}if(runner)return runner;runner=new $$AnimateRunner;var closeActiveAnimations,chain=[];return before&&chain.push(function(fn){closeActiveAnimations=before(fn)}),chain.length?chain.push(function(fn){applyOptions(),fn(!0)}):applyOptions(),after&&chain.push(function(fn){closeActiveAnimations=after(fn)}),runner.setHost({end:function(){endAnimations()},cancel:function(){endAnimations(!0)}}),$$AnimateRunner.chain(chain,onComplete),runner}}}}}]}],$$AnimateJsDriverProvider=["$$animationProvider",function($$animationProvider){$$animationProvider.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function($$animateJs,$$AnimateRunner){function prepareAnimation(animationDetails){var element=animationDetails.element,event=animationDetails.event,options=animationDetails.options,classes=animationDetails.classes;return $$animateJs(element,event,classes,options)}return function(animationDetails){if(animationDetails.from&&animationDetails.to){var fromAnimation=prepareAnimation(animationDetails.from),toAnimation=prepareAnimation(animationDetails.to);if(!fromAnimation&&!toAnimation)return;return{start:function(){function endFnFactory(){return function(){forEach(animationRunners,function(runner){runner.end()})}}function done(status){runner.complete(status)}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),$$AnimateRunner.all(animationRunners,done);var runner=new $$AnimateRunner({end:endFnFactory(),cancel:endFnFactory()});return runner}}}return prepareAnimation(animationDetails)}}]}],NG_ANIMATE_ATTR_NAME="data-ng-animate",NG_ANIMATE_PIN_DATA="$ngAnimatePin",$$AnimateQueueProvider=["$animateProvider",function($animateProvider){function makeTruthyCssClassMap(classString){if(!classString)return null;var keys=classString.split(ONE_SPACE),map=Object.create(null);return forEach(keys,function(key){map[key]=!0}),map}function hasMatchingClasses(newClassString,currentClassString){if(newClassString&&currentClassString){var currentClassMap=makeTruthyCssClassMap(currentClassString);return newClassString.split(ONE_SPACE).some(function(className){return currentClassMap[className]})}}function isAllowed(ruleType,element,currentAnimation,previousAnimation){return rules[ruleType].some(function(fn){return fn(element,currentAnimation,previousAnimation)})}function hasAnimationClasses(options,and){options=options||{};var a=(options.addClass||"").length>0,b=(options.removeClass||"").length>0;return and?a&&b:a||b}var PRE_DIGEST_STATE=1,RUNNING_STATE=2,ONE_SPACE=" ",rules=this.rules={skip:[],cancel:[],join:[]};rules.join.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&hasAnimationClasses(newAnimation.options)}),rules.skip.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&!hasAnimationClasses(newAnimation.options)}),rules.skip.push(function(element,newAnimation,currentAnimation){return"leave"==currentAnimation.event&&newAnimation.structural}),rules.skip.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&currentAnimation.state===RUNNING_STATE&&!newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.state===RUNNING_STATE&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){var nA=newAnimation.options.addClass,nR=newAnimation.options.removeClass,cA=currentAnimation.options.addClass,cR=currentAnimation.options.removeClass;
return!(isUndefined(nA)&&isUndefined(nR)||isUndefined(cA)&&isUndefined(cR))&&(hasMatchingClasses(nA,cR)||hasMatchingClasses(nR,cA))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function($$rAF,$rootScope,$rootElement,$document,$$HashMap,$$animation,$$AnimateRunner,$templateRequest,$$jqLite,$$forceReflow){function postDigestTaskFactory(){var postDigestCalled=!1;return function(fn){postDigestCalled?fn():$rootScope.$$postDigest(function(){postDigestCalled=!0,fn()})}}function normalizeAnimationOptions(element,options){return mergeAnimationOptions(element,options,{})}function findCallbacks(parent,element,event){var targetNode=getDomNode(element),targetParentNode=getDomNode(parent),matches=[],entries=callbackRegistry[event];return entries&&forEach(entries,function(entry){contains.call(entry.node,targetNode)?matches.push(entry.callback):"leave"===event&&contains.call(entry.node,targetParentNode)&&matches.push(entry.callback)}),matches}function queueAnimation(element,event,initialOptions){function notifyProgress(runner,event,phase,data){runInNextPostDigestOrNow(function(){var callbacks=findCallbacks(parent,element,event);callbacks.length&&$$rAF(function(){forEach(callbacks,function(callback){callback(element,phase,data)})})}),runner.progress(event,phase,data)}function close(reject){clearGeneratedClasses(element,options),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),runner.complete(!reject)}var node,parent,options=copy(initialOptions);element=stripCommentsFromElement(element),element&&(node=getDomNode(element),parent=element.parent()),options=prepareAnimationOptions(options);var runner=new $$AnimateRunner,runInNextPostDigestOrNow=postDigestTaskFactory();if(isArray(options.addClass)&&(options.addClass=options.addClass.join(" ")),options.addClass&&!isString(options.addClass)&&(options.addClass=null),isArray(options.removeClass)&&(options.removeClass=options.removeClass.join(" ")),options.removeClass&&!isString(options.removeClass)&&(options.removeClass=null),options.from&&!isObject(options.from)&&(options.from=null),options.to&&!isObject(options.to)&&(options.to=null),!node)return close(),runner;var className=[node.className,options.addClass,options.removeClass].join(" ");if(!isAnimatableClassName(className))return close(),runner;var isStructural=["enter","move","leave"].indexOf(event)>=0,skipAnimations=!animationsEnabled||$document[0].hidden||disabledElementsLookup.get(node),existingAnimation=!skipAnimations&&activeAnimationsLookup.get(node)||{},hasExistingAnimation=!!existingAnimation.state;if(skipAnimations||hasExistingAnimation&&existingAnimation.state==PRE_DIGEST_STATE||(skipAnimations=!areAnimationsAllowed(element,parent,event)),skipAnimations)return close(),runner;isStructural&&closeChildAnimations(element);var newAnimation={structural:isStructural,element:element,event:event,close:close,options:options,runner:runner};if(hasExistingAnimation){var skipAnimationFlag=isAllowed("skip",element,newAnimation,existingAnimation);if(skipAnimationFlag)return existingAnimation.state===RUNNING_STATE?(close(),runner):(mergeAnimationOptions(element,existingAnimation.options,options),existingAnimation.runner);var cancelAnimationFlag=isAllowed("cancel",element,newAnimation,existingAnimation);if(cancelAnimationFlag)if(existingAnimation.state===RUNNING_STATE)existingAnimation.runner.end();else{if(!existingAnimation.structural)return mergeAnimationOptions(element,existingAnimation.options,newAnimation.options),existingAnimation.runner;existingAnimation.close()}else{var joinAnimationFlag=isAllowed("join",element,newAnimation,existingAnimation);if(joinAnimationFlag){if(existingAnimation.state!==RUNNING_STATE)return applyGeneratedPreparationClasses(element,isStructural?event:null,options),event=newAnimation.event=existingAnimation.event,options=mergeAnimationOptions(element,existingAnimation.options,newAnimation.options),existingAnimation.runner;normalizeAnimationOptions(element,options)}}}else normalizeAnimationOptions(element,options);var isValidAnimation=newAnimation.structural;if(isValidAnimation||(isValidAnimation="animate"===newAnimation.event&&Object.keys(newAnimation.options.to||{}).length>0||hasAnimationClasses(newAnimation.options)),!isValidAnimation)return close(),clearElementAnimationState(element),runner;var counter=(existingAnimation.counter||0)+1;return newAnimation.counter=counter,markElementAnimationState(element,PRE_DIGEST_STATE,newAnimation),$rootScope.$$postDigest(function(){var animationDetails=activeAnimationsLookup.get(node),animationCancelled=!animationDetails;animationDetails=animationDetails||{};var parentElement=element.parent()||[],isValidAnimation=parentElement.length>0&&("animate"===animationDetails.event||animationDetails.structural||hasAnimationClasses(animationDetails.options));if(animationCancelled||animationDetails.counter!==counter||!isValidAnimation)return animationCancelled&&(applyAnimationClasses(element,options),applyAnimationStyles(element,options)),(animationCancelled||isStructural&&animationDetails.event!==event)&&(options.domOperation(),runner.end()),void(isValidAnimation||clearElementAnimationState(element));event=!animationDetails.structural&&hasAnimationClasses(animationDetails.options,!0)?"setClass":animationDetails.event,markElementAnimationState(element,RUNNING_STATE);var realRunner=$$animation(element,event,animationDetails.options);realRunner.done(function(status){close(!status);var animationDetails=activeAnimationsLookup.get(node);animationDetails&&animationDetails.counter===counter&&clearElementAnimationState(getDomNode(element)),notifyProgress(runner,event,"close",{})}),runner.setHost(realRunner),notifyProgress(runner,event,"start",{})}),runner}function closeChildAnimations(element){var node=getDomNode(element),children=node.querySelectorAll("["+NG_ANIMATE_ATTR_NAME+"]");forEach(children,function(child){var state=parseInt(child.getAttribute(NG_ANIMATE_ATTR_NAME)),animationDetails=activeAnimationsLookup.get(child);if(animationDetails)switch(state){case RUNNING_STATE:animationDetails.runner.end();case PRE_DIGEST_STATE:activeAnimationsLookup.remove(child)}})}function clearElementAnimationState(element){var node=getDomNode(element);node.removeAttribute(NG_ANIMATE_ATTR_NAME),activeAnimationsLookup.remove(node)}function isMatchingElement(nodeOrElmA,nodeOrElmB){return getDomNode(nodeOrElmA)===getDomNode(nodeOrElmB)}function areAnimationsAllowed(element,parentElement,event){var animateChildren,bodyElement=jqLite($document[0].body),bodyElementDetected=isMatchingElement(element,bodyElement)||"HTML"===element[0].nodeName,rootElementDetected=isMatchingElement(element,$rootElement),parentAnimationDetected=!1,elementDisabled=disabledElementsLookup.get(getDomNode(element)),parentHost=element.data(NG_ANIMATE_PIN_DATA);for(parentHost&&(parentElement=parentHost);parentElement&&parentElement.length;){rootElementDetected||(rootElementDetected=isMatchingElement(parentElement,$rootElement));var parentNode=parentElement[0];if(parentNode.nodeType!==ELEMENT_NODE)break;var details=activeAnimationsLookup.get(parentNode)||{};if(!parentAnimationDetected){var parentElementDisabled=disabledElementsLookup.get(parentNode);if(parentElementDisabled===!0&&elementDisabled!==!1){elementDisabled=!0;break}parentElementDisabled===!1&&(elementDisabled=!1),parentAnimationDetected=details.structural}if(isUndefined(animateChildren)||animateChildren===!0){var value=parentElement.data(NG_ANIMATE_CHILDREN_DATA);isDefined(value)&&(animateChildren=value)}if(parentAnimationDetected&&animateChildren===!1)break;if(bodyElementDetected||(bodyElementDetected=isMatchingElement(parentElement,bodyElement)),bodyElementDetected&&rootElementDetected)break;parentElement=rootElementDetected||!(parentHost=parentElement.data(NG_ANIMATE_PIN_DATA))?parentElement.parent():parentHost}var allowAnimation=(!parentAnimationDetected||animateChildren)&&elementDisabled!==!0;return allowAnimation&&rootElementDetected&&bodyElementDetected}function markElementAnimationState(element,state,details){details=details||{},details.state=state;var node=getDomNode(element);node.setAttribute(NG_ANIMATE_ATTR_NAME,state);var oldValue=activeAnimationsLookup.get(node),newValue=oldValue?extend(oldValue,details):details;activeAnimationsLookup.put(node,newValue)}var activeAnimationsLookup=new $$HashMap,disabledElementsLookup=new $$HashMap,animationsEnabled=null,deregisterWatch=$rootScope.$watch(function(){return 0===$templateRequest.totalPendingRequests},function(isEmpty){isEmpty&&(deregisterWatch(),$rootScope.$$postDigest(function(){$rootScope.$$postDigest(function(){null===animationsEnabled&&(animationsEnabled=!0)})}))}),callbackRegistry={},classNameFilter=$animateProvider.classNameFilter(),isAnimatableClassName=classNameFilter?function(className){return classNameFilter.test(className)}:function(){return!0},applyAnimationClasses=applyAnimationClassesFactory($$jqLite),contains=Node.prototype.contains||function(arg){return this===arg||!!(16&this.compareDocumentPosition(arg))};return{on:function(event,container,callback){var node=extractElementNode(container);callbackRegistry[event]=callbackRegistry[event]||[],callbackRegistry[event].push({node:node,callback:callback})},off:function(event,container,callback){function filterFromRegistry(list,matchContainer,matchCallback){var containerNode=extractElementNode(matchContainer);return list.filter(function(entry){var isMatch=entry.node===containerNode&&(!matchCallback||entry.callback===matchCallback);return!isMatch})}var entries=callbackRegistry[event];entries&&(callbackRegistry[event]=1===arguments.length?null:filterFromRegistry(entries,container,callback))},pin:function(element,parentElement){assertArg(isElement(element),"element","not an element"),assertArg(isElement(parentElement),"parentElement","not an element"),element.data(NG_ANIMATE_PIN_DATA,parentElement)},push:function(element,event,options,domOperation){return options=options||{},options.domOperation=domOperation,queueAnimation(element,event,options)},enabled:function(element,bool){var argCount=arguments.length;if(0===argCount)bool=!!animationsEnabled;else{var hasElement=isElement(element);if(hasElement){var node=getDomNode(element),recordExists=disabledElementsLookup.get(node);1===argCount?bool=!recordExists:disabledElementsLookup.put(node,!bool)}else bool=animationsEnabled=!!element}return bool}}}]}],$$AnimationProvider=["$animateProvider",function($animateProvider){function setRunner(element,runner){element.data(RUNNER_STORAGE_KEY,runner)}function removeRunner(element){element.removeData(RUNNER_STORAGE_KEY)}function getRunner(element){return element.data(RUNNER_STORAGE_KEY)}var NG_ANIMATE_REF_ATTR="ng-animate-ref",drivers=this.drivers=[],RUNNER_STORAGE_KEY="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function($$jqLite,$rootScope,$injector,$$AnimateRunner,$$HashMap,$$rAFScheduler){function sortAnimations(animations){function processNode(entry){if(entry.processed)return entry;entry.processed=!0;var elementNode=entry.domNode,parentNode=elementNode.parentNode;lookup.put(elementNode,entry);for(var parentEntry;parentNode;){if(parentEntry=lookup.get(parentNode)){parentEntry.processed||(parentEntry=processNode(parentEntry));break}parentNode=parentNode.parentNode}return(parentEntry||tree).children.push(entry),entry}function flatten(tree){var i,result=[],queue=[];for(i=0;i<tree.children.length;i++)queue.push(tree.children[i]);var remainingLevelEntries=queue.length,nextLevelEntries=0,row=[];for(i=0;i<queue.length;i++){var entry=queue[i];remainingLevelEntries<=0&&(remainingLevelEntries=nextLevelEntries,nextLevelEntries=0,result.push(row),row=[]),row.push(entry.fn),entry.children.forEach(function(childEntry){nextLevelEntries++,queue.push(childEntry)}),remainingLevelEntries--}return row.length&&result.push(row),result}var i,tree={children:[]},lookup=new $$HashMap;for(i=0;i<animations.length;i++){var animation=animations[i];lookup.put(animation.domNode,animations[i]={domNode:animation.domNode,fn:animation.fn,children:[]})}for(i=0;i<animations.length;i++)processNode(animations[i]);return flatten(tree)}var animationQueue=[],applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,options){function getAnchorNodes(node){var SELECTOR="["+NG_ANIMATE_REF_ATTR+"]",items=node.hasAttribute(NG_ANIMATE_REF_ATTR)?[node]:node.querySelectorAll(SELECTOR),anchors=[];return forEach(items,function(node){var attr=node.getAttribute(NG_ANIMATE_REF_ATTR);attr&&attr.length&&anchors.push(node)}),anchors}function groupAnimations(animations){var preparedAnimations=[],refLookup={};forEach(animations,function(animation,index){var element=animation.element,node=getDomNode(element),event=animation.event,enterOrMove=["enter","move"].indexOf(event)>=0,anchorNodes=animation.structural?getAnchorNodes(node):[];if(anchorNodes.length){var direction=enterOrMove?"to":"from";forEach(anchorNodes,function(anchor){var key=anchor.getAttribute(NG_ANIMATE_REF_ATTR);refLookup[key]=refLookup[key]||{},refLookup[key][direction]={animationID:index,element:jqLite(anchor)}})}else preparedAnimations.push(animation)});var usedIndicesLookup={},anchorGroups={};return forEach(refLookup,function(operations,key){var from=operations.from,to=operations.to;if(!from||!to){var index=from?from.animationID:to.animationID,indexKey=index.toString();return void(usedIndicesLookup[indexKey]||(usedIndicesLookup[indexKey]=!0,preparedAnimations.push(animations[index])))}var fromAnimation=animations[from.animationID],toAnimation=animations[to.animationID],lookupKey=from.animationID.toString();if(!anchorGroups[lookupKey]){var group=anchorGroups[lookupKey]={structural:!0,beforeStart:function(){fromAnimation.beforeStart(),toAnimation.beforeStart()},close:function(){fromAnimation.close(),toAnimation.close()},classes:cssClassesIntersection(fromAnimation.classes,toAnimation.classes),from:fromAnimation,to:toAnimation,anchors:[]};group.classes.length?preparedAnimations.push(group):(preparedAnimations.push(fromAnimation),preparedAnimations.push(toAnimation))}anchorGroups[lookupKey].anchors.push({out:from.element,"in":to.element})}),preparedAnimations}function cssClassesIntersection(a,b){a=a.split(" "),b=b.split(" ");for(var matches=[],i=0;i<a.length;i++){var aa=a[i];if("ng-"!==aa.substring(0,3))for(var j=0;j<b.length;j++)if(aa===b[j]){matches.push(aa);break}}return matches.join(" ")}function invokeFirstDriver(animationDetails){for(var i=drivers.length-1;i>=0;i--){var driverName=drivers[i];if($injector.has(driverName)){var factory=$injector.get(driverName),driver=factory(animationDetails);if(driver)return driver}}}function beforeStart(){element.addClass(NG_ANIMATE_CLASSNAME),tempClasses&&$$jqLite.addClass(element,tempClasses)}function updateAnimationRunners(animation,newRunner){function update(element){getRunner(element).setHost(newRunner)}animation.from&&animation.to?(update(animation.from.element),update(animation.to.element)):update(animation.element)}function handleDestroyedElement(){var runner=getRunner(element);!runner||"leave"===event&&options.$$domOperationFired||runner.end()}function close(rejected){element.off("$destroy",handleDestroyedElement),removeRunner(element),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),tempClasses&&$$jqLite.removeClass(element,tempClasses),element.removeClass(NG_ANIMATE_CLASSNAME),runner.complete(!rejected)}options=prepareAnimationOptions(options);var isStructural=["enter","move","leave"].indexOf(event)>=0,runner=new $$AnimateRunner({end:function(){close()},cancel:function(){close(!0)}});if(!drivers.length)return close(),runner;setRunner(element,runner);var classes=mergeClasses(element.attr("class"),mergeClasses(options.addClass,options.removeClass)),tempClasses=options.tempClasses;return tempClasses&&(classes+=" "+tempClasses,options.tempClasses=null),animationQueue.push({element:element,classes:classes,event:event,structural:isStructural,options:options,beforeStart:beforeStart,close:close}),element.on("$destroy",handleDestroyedElement),animationQueue.length>1?runner:($rootScope.$$postDigest(function(){var animations=[];forEach(animationQueue,function(entry){getRunner(entry.element)?animations.push(entry):entry.close()}),animationQueue.length=0;var groupedAnimations=groupAnimations(animations),toBeSortedAnimations=[];forEach(groupedAnimations,function(animationEntry){toBeSortedAnimations.push({domNode:getDomNode(animationEntry.from?animationEntry.from.element:animationEntry.element),fn:function(){animationEntry.beforeStart();var startAnimationFn,closeFn=animationEntry.close,targetElement=animationEntry.anchors?animationEntry.from.element||animationEntry.to.element:animationEntry.element;if(getRunner(targetElement)){var operation=invokeFirstDriver(animationEntry);operation&&(startAnimationFn=operation.start)}if(startAnimationFn){var animationRunner=startAnimationFn();animationRunner.done(function(status){closeFn(!status)}),updateAnimationRunners(animationEntry,animationRunner)}else closeFn()}})}),$$rAFScheduler(sortAnimations(toBeSortedAnimations))}),runner)}}]}];angular.module("ngAnimate",[]).directive("ngAnimateChildren",$$AnimateChildrenDirective).factory("$$rAFScheduler",$$rAFSchedulerFactory).provider("$$animateQueue",$$AnimateQueueProvider).provider("$$animation",$$AnimationProvider).provider("$animateCss",$AnimateCssProvider).provider("$$animateCssDriver",$$AnimateCssDriverProvider).provider("$$animateJs",$$AnimateJsProvider).provider("$$animateJsDriver",$$AnimateJsDriverProvider)}(window,window.angular)},{}],154:[function(require,module,exports){require("./angular-animate"),module.exports="ngAnimate"},{"./angular-animate":153}],155:[function(require,module,exports){!function(window,angular,undefined){"use strict";function isAOlderThanB(scopeA,scopeB){return angular.equals(scopeA.length,scopeB.length)?scopeA>scopeB:scopeA.length>scopeB.length}function parseStateRef(ref){var parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!parsed||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1],paramExpr:parsed[3]||null}}function $Breadcrumb(){var $$options={prefixStateName:null,template:"bootstrap3",templateUrl:null,includeAbstract:!1};this.setOptions=function(options){angular.extend($$options,options)},this.$get=["$state","$stateParams","$rootScope",function($state,$stateParams,$rootScope){var $lastViewScope=$rootScope;$rootScope.$on("$viewContentLoaded",function(event){!event.targetScope.ncyBreadcrumbIgnore&&isAOlderThanB(event.targetScope.$id,$lastViewScope.$id)&&($lastViewScope=event.targetScope)});var $$parentState=function(state){var parent=state.parent||(/^(.+)\.[^.]+$/.exec(state.name)||[])[1],isObjectParent="object"==typeof parent;return isObjectParent?parent.name:parent},$$addStateInChain=function(chain,stateRef){for(var conf,parentParams,ref=parseStateRef(stateRef),force=!1,skip=!1,i=0,l=chain.length;i<l;i+=1)if(chain[i].name===ref.state)return;conf=$state.get(ref.state),conf.ncyBreadcrumb&&(conf.ncyBreadcrumb.force&&(force=!0),conf.ncyBreadcrumb.skip&&(skip=!0)),conf["abstract"]&&!$$options.includeAbstract&&!force||skip||(ref.paramExpr&&(parentParams=$lastViewScope.$eval(ref.paramExpr)),conf.ncyBreadcrumbLink=$state.href(ref.state,parentParams||$stateParams||{}),chain.unshift(conf))},$$breadcrumbParentState=function(stateRef){var ref=parseStateRef(stateRef),conf=$state.get(ref.state);if(conf.ncyBreadcrumb&&conf.ncyBreadcrumb.parent){var isFunction="function"==typeof conf.ncyBreadcrumb.parent,parentStateRef=isFunction?conf.ncyBreadcrumb.parent($lastViewScope):conf.ncyBreadcrumb.parent;if(parentStateRef)return parentStateRef}return $$parentState(conf)};return{getTemplate:function(templates){return $$options.templateUrl?null:templates[$$options.template]?templates[$$options.template]:$$options.template},getTemplateUrl:function(){return $$options.templateUrl},getStatesChain:function(exitOnFirst){for(var chain=[],stateRef=$state.$current.self.name;stateRef;stateRef=$$breadcrumbParentState(stateRef))if($$addStateInChain(chain,stateRef),exitOnFirst&&chain.length)return chain;return $$options.prefixStateName&&$$addStateInChain(chain,$$options.prefixStateName),chain},getLastStep:function(){var chain=this.getStatesChain(!0);return chain.length?chain[0]:undefined},$getLastViewScope:function(){return $lastViewScope}}}]}function BreadcrumbDirective($interpolate,$breadcrumb,$rootScope){var $$templates={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:$breadcrumb.getTemplate($$templates),templateUrl:$breadcrumb.getTemplateUrl(),link:{post:function(scope){var labelWatchers=[],renderBreadcrumb=function(){deregisterWatchers(labelWatchers),labelWatchers=[];var viewScope=$breadcrumb.$getLastViewScope();scope.steps=$breadcrumb.getStatesChain(),angular.forEach(scope.steps,function(step){if(step.ncyBreadcrumb&&step.ncyBreadcrumb.label){var parseLabel=$interpolate(step.ncyBreadcrumb.label);step.ncyBreadcrumbLabel=parseLabel(viewScope),registerWatchers(labelWatchers,parseLabel,viewScope,step)}else step.ncyBreadcrumbLabel=step.name})};$rootScope.$on("$viewContentLoaded",function(event){event.targetScope.ncyBreadcrumbIgnore||renderBreadcrumb()}),renderBreadcrumb()}}}}function BreadcrumbLastDirective($interpolate,$breadcrumb,$rootScope){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbLabel}}",compile:function(cElement,cAttrs){var template=cElement.attr(cAttrs.$attr.ncyBreadcrumbLast);return template&&cElement.html(template),{post:function(scope){var labelWatchers=[],renderLabel=function(){deregisterWatchers(labelWatchers),labelWatchers=[];var viewScope=$breadcrumb.$getLastViewScope(),lastStep=$breadcrumb.getLastStep();if(lastStep)if(scope.ncyBreadcrumbLink=lastStep.ncyBreadcrumbLink,lastStep.ncyBreadcrumb&&lastStep.ncyBreadcrumb.label){var parseLabel=$interpolate(lastStep.ncyBreadcrumb.label);scope.ncyBreadcrumbLabel=parseLabel(viewScope),registerWatchers(labelWatchers,parseLabel,viewScope,scope)}else scope.ncyBreadcrumbLabel=lastStep.name};$rootScope.$on("$viewContentLoaded",function(event){event.targetScope.ncyBreadcrumbIgnore||renderLabel()}),renderLabel()}}}}}function BreadcrumbTextDirective($interpolate,$breadcrumb,$rootScope){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(cElement,cAttrs){var template=cElement.attr(cAttrs.$attr.ncyBreadcrumbText);template&&cElement.html(template);var separator=cElement.attr(cAttrs.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(scope){var labelWatchers=[],registerWatchersText=function(labelWatcherArray,interpolationFunction,viewScope){angular.forEach(getExpression(interpolationFunction),function(expression){var watcher=viewScope.$watch(expression,function(newValue,oldValue){newValue!==oldValue&&renderLabel()});labelWatcherArray.push(watcher)})},renderLabel=function(){deregisterWatchers(labelWatchers),labelWatchers=[];var viewScope=$breadcrumb.$getLastViewScope(),steps=$breadcrumb.getStatesChain(),combinedLabels=[];angular.forEach(steps,function(step){if(step.ncyBreadcrumb&&step.ncyBreadcrumb.label){var parseLabel=$interpolate(step.ncyBreadcrumb.label);combinedLabels.push(parseLabel(viewScope)),registerWatchersText(labelWatchers,parseLabel,viewScope)}else combinedLabels.push(step.name)}),scope.ncyBreadcrumbChain=combinedLabels.join(separator)};$rootScope.$on("$viewContentLoaded",function(event){event.targetScope.ncyBreadcrumbIgnore||renderLabel()}),renderLabel()}}}}}var getExpression=function(interpolationFunction){if(interpolationFunction.expressions)return interpolationFunction.expressions;var expressions=[];return angular.forEach(interpolationFunction.parts,function(part){angular.isFunction(part)&&expressions.push(part.exp)}),expressions},registerWatchers=function(labelWatcherArray,interpolationFunction,viewScope,step){angular.forEach(getExpression(interpolationFunction),function(expression){var watcher=viewScope.$watch(expression,function(){step.ncyBreadcrumbLabel=interpolationFunction(viewScope)});labelWatcherArray.push(watcher)})},deregisterWatchers=function(labelWatcherArray){angular.forEach(labelWatcherArray,function(deregisterWatch){deregisterWatch()})};BreadcrumbDirective.$inject=["$interpolate","$breadcrumb","$rootScope"],BreadcrumbLastDirective.$inject=["$interpolate","$breadcrumb","$rootScope"],BreadcrumbTextDirective.$inject=["$interpolate","$breadcrumb","$rootScope"],angular.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",$Breadcrumb).directive("ncyBreadcrumb",BreadcrumbDirective).directive("ncyBreadcrumbLast",BreadcrumbLastDirective).directive("ncyBreadcrumbText",BreadcrumbTextDirective)}(window,window.angular)},{}],156:[function(require,module,exports){!function(window,angular,undefined){"use strict";function $$CookieWriter($document,$log,$browser){function buildCookieString(name,value,options){var path,expires;options=options||{},expires=options.expires,path=angular.isDefined(options.path)?options.path:cookiePath,angular.isUndefined(value)&&(expires="Thu, 01 Jan 1970 00:00:00 GMT",value=""),angular.isString(expires)&&(expires=new Date(expires));var str=encodeURIComponent(name)+"="+encodeURIComponent(value);str+=path?";path="+path:"",str+=options.domain?";domain="+options.domain:"",str+=expires?";expires="+expires.toUTCString():"",str+=options.secure?";secure":"";var cookieLength=str.length+1;return cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!"),str}var cookiePath=$browser.baseHref(),rawDocument=$document[0];return function(name,value,options){rawDocument.cookie=buildCookieString(name,value,options)}}angular.module("ngCookies",["ng"]).provider("$cookies",[function(){function calcOptions(options){return options?angular.extend({},defaults,options):defaults}var defaults=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function($$cookieReader,$$cookieWriter){return{get:function(key){return $$cookieReader()[key]},getObject:function(key){var value=this.get(key);return value?angular.fromJson(value):value},getAll:function(){return $$cookieReader()},put:function(key,value,options){$$cookieWriter(key,value,calcOptions(options))},putObject:function(key,value,options){this.put(key,angular.toJson(value),options)},remove:function(key,options){$$cookieWriter(key,undefined,calcOptions(options))}}}]}]),angular.module("ngCookies").factory("$cookieStore",["$cookies",function($cookies){return{get:function(key){return $cookies.getObject(key)},put:function(key,value){$cookies.putObject(key,value)},remove:function(key){$cookies.remove(key)}}}]),$$CookieWriter.$inject=["$document","$log","$browser"],angular.module("ngCookies").provider("$$cookieWriter",function(){this.$get=$$CookieWriter})}(window,window.angular)},{}],157:[function(require,module,exports){require("./angular-cookies"),module.exports="ngCookies"},{"./angular-cookies":156}],158:[function(require,module,exports){!function(window,angular,undefined){"use strict";function toArray(object){return isArray(object)?object:Object.keys(object).map(function(key){return object[key]})}function isNull(value){return null===value}function objectContains(partial,object){var keys=Object.keys(partial);return keys.map(function(el){return object[el]!==undefined&&object[el]==partial[el]}).indexOf(!1)==-1}function hasApproxPattern(word,pattern){function indexOf(word,p,c){for(var j=0;p+j<=word.length;){if(word.charAt(p+j)==c)return j;j++}return-1}for(var p=0,i=0;i<=pattern.length;i++){var index=indexOf(word,p,pattern.charAt(i));if(index==-1)return!1;p+=index+1}return!0}function getFirstMatches(array,n,expression){var count=0;return array.filter(function(elm){var rest=isDefined(expression)?count<n&&expression(elm):count<n;return count=rest?count+1:count,rest})}function convertToDecimal(num,decimal){return Math.round(num*Math.pow(10,decimal))/Math.pow(10,decimal)}function deepKeys(obj,stack,parent){stack=stack||[];var keys=Object.keys(obj);return keys.forEach(function(el){if(isObject(obj[el])&&!isArray(obj[el])){var p=parent?parent+"."+el:parent;deepKeys(obj[el],stack,p||el)}else{var key=parent?parent+"."+el:el;stack.push(key)}}),stack}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isGreaterThanFilter(){return function(input,check){return input>check}}function isGreaterThanOrEqualToFilter(){return function(input,check){return input>=check}}function isLessThanFilter(){return function(input,check){return input<check}}function isLessThanOrEqualToFilter(){return function(input,check){return input<=check}}function isEqualToFilter(){return function(input,check){return input==check}}function isNotEqualToFilter(){return function(input,check){return input!=check}}function isIdenticalToFilter(){return function(input,check){return input===check}}function isNotIdenticalToFilter(){return function(input,check){return input!==check}}function containsFilter($parse){return function(collection,expression){return collection=isObject(collection)?toArray(collection):collection,!(!isArray(collection)||isUndefined(expression))&&collection.some(function(elm){return isString(expression)&&isObject(elm)||isFunction(expression)?$parse(expression)(elm):elm===expression})}}function flatten(array,i){return i=i||0,i>=array.length?array:isArray(array[i])?flatten(array.slice(0,i).concat(array[i],array.slice(i+1)),i):flatten(array,i+1)}function uniqFilter($parse){return function(collection,property){function some(array,member){return!isUndefined(member)&&array.some(function(el){return equals(el,member)})}if(collection=isObject(collection)?toArray(collection):collection,!isArray(collection))return collection;var uniqueItems=[],get=$parse(property);return isUndefined(property)?collection.filter(function(elm,pos,self){return self.indexOf(elm)===pos}):collection.filter(function(elm){var prop=get(elm);return!some(uniqueItems,prop)&&(uniqueItems.push(prop),!0)})}}function strRepeat(str,n,sep){return n?str+sep+strRepeat(str,--n,sep):str}function ucfirstFilter(){return function(input){return isString(input)?input.split(" ").map(function(ch){return ch.charAt(0).toUpperCase()+ch.substring(1)}).join(" "):input}}var isDefined=angular.isDefined,isUndefined=angular.isUndefined,isFunction=angular.isFunction,isString=angular.isString,isNumber=angular.isNumber,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,equals=angular.equals;String.prototype.contains||(String.prototype.contains=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),angular.module("a8m.angular",[]).filter("isUndefined",function(){return function(input){return angular.isUndefined(input)}}).filter("isDefined",function(){return function(input){return angular.isDefined(input)}}).filter("isFunction",function(){return function(input){return angular.isFunction(input)}}).filter("isString",function(){return function(input){return angular.isString(input)}}).filter("isNumber",function(){return function(input){return angular.isNumber(input)}}).filter("isArray",function(){return function(input){return angular.isArray(input)}}).filter("isObject",function(){return function(input){
return angular.isObject(input)}}).filter("isEqual",function(){return function(o1,o2){return angular.equals(o1,o2)}}),angular.module("a8m.conditions",[]).filter({isGreaterThan:isGreaterThanFilter,">":isGreaterThanFilter,isGreaterThanOrEqualTo:isGreaterThanOrEqualToFilter,">=":isGreaterThanOrEqualToFilter,isLessThan:isLessThanFilter,"<":isLessThanFilter,isLessThanOrEqualTo:isLessThanOrEqualToFilter,"<=":isLessThanOrEqualToFilter,isEqualTo:isEqualToFilter,"==":isEqualToFilter,isNotEqualTo:isNotEqualToFilter,"!=":isNotEqualToFilter,isIdenticalTo:isIdenticalToFilter,"===":isIdenticalToFilter,isNotIdenticalTo:isNotIdenticalToFilter,"!==":isNotIdenticalToFilter}),angular.module("a8m.is-null",[]).filter("isNull",function(){return function(input){return isNull(input)}}),angular.module("a8m.after-where",[]).filter("afterWhere",function(){return function(collection,object){if(collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||isUndefined(object))return collection;var index=collection.map(function(elm){return objectContains(object,elm)}).indexOf(!0);return collection.slice(index===-1?0:index)}}),angular.module("a8m.after",[]).filter("after",function(){return function(collection,count){return collection=isObject(collection)?toArray(collection):collection,isArray(collection)?collection.slice(count):collection}}),angular.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(collection,object){if(collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||isUndefined(object))return collection;var index=collection.map(function(elm){return objectContains(object,elm)}).indexOf(!0);return collection.slice(0,index===-1?collection.length:++index)}}),angular.module("a8m.before",[]).filter("before",function(){return function(collection,count){return collection=isObject(collection)?toArray(collection):collection,isArray(collection)?collection.slice(0,count?--count:count):collection}}),angular.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(filterWatcher){return function(array,n,fillVal){function fill(n,val){for(var ret=[];n--;)ret[n]=val;return ret}function _chunkBy(array,n,fillVal){return isArray(array)?array.map(function(el,i,self){return i*=n,el=self.slice(i,i+n),!isUndefined(fillVal)&&el.length<n?el.concat(fill(n-el.length,fillVal)):el}).slice(0,Math.ceil(array.length/n)):array}return filterWatcher.isMemoized("chunkBy",arguments)||filterWatcher.memoize("chunkBy",arguments,this,_chunkBy(array,n,fillVal))}}]),angular.module("a8m.concat",[]).filter("concat",[function(){return function(collection,joined){if(isUndefined(joined))return collection;if(isArray(collection))return isObject(joined)?collection.concat(toArray(joined)):collection.concat(joined);if(isObject(collection)){var array=toArray(collection);return isObject(joined)?array.concat(toArray(joined)):array.concat(joined)}return collection}}]),angular.module("a8m.contains",[]).filter({contains:["$parse",containsFilter],some:["$parse",containsFilter]}),angular.module("a8m.count-by",[]).filter("countBy",["$parse",function($parse){return function(collection,property){var prop,result={},get=$parse(property);return collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||isUndefined(property)?collection:(collection.forEach(function(elm){prop=get(elm),result[prop]||(result[prop]=0),result[prop]++}),result)}}]),angular.module("a8m.defaults",[]).filter("defaults",["$parse",function($parse){return function(collection,defaults){if(collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||!isObject(defaults))return collection;var keys=deepKeys(defaults);return collection.forEach(function(elm){keys.forEach(function(key){var getter=$parse(key),setter=getter.assign;isUndefined(getter(elm))&&setter(elm,getter(defaults))})}),collection}}]),angular.module("a8m.every",[]).filter("every",["$parse",function($parse){return function(collection,expression){return collection=isObject(collection)?toArray(collection):collection,!(isArray(collection)&&!isUndefined(expression))||collection.every(function(elm){return isObject(elm)||isFunction(expression)?$parse(expression)(elm):elm===expression})}}]),angular.module("a8m.filter-by",[]).filter("filterBy",["$parse",function($parse){return function(collection,properties,search,strict){var comparator;return search=isString(search)||isNumber(search)?String(search).toLowerCase():undefined,collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||isUndefined(search)?collection:collection.filter(function(elm){return properties.some(function(prop){if(~prop.indexOf("+")){var propList=prop.replace(/\s+/g,"").split("+");comparator=propList.map(function(prop){return $parse(prop)(elm)}).join(" ")}else comparator=$parse(prop)(elm);return!(!isString(comparator)&&!isNumber(comparator))&&(comparator=String(comparator).toLowerCase(),strict?comparator===search:comparator.contains(search))})})}}]),angular.module("a8m.first",[]).filter("first",["$parse",function($parse){return function(collection){var n,getter,args;return collection=isObject(collection)?toArray(collection):collection,isArray(collection)?(args=Array.prototype.slice.call(arguments,1),n=isNumber(args[0])?args[0]:1,getter=isNumber(args[0])?isNumber(args[1])?undefined:args[1]:args[0],args.length?getFirstMatches(collection,n,getter?$parse(getter):getter):collection[0]):collection}}]),angular.module("a8m.flatten",[]).filter("flatten",function(){return function(collection,shallow){return shallow=shallow||!1,collection=isObject(collection)?toArray(collection):collection,isArray(collection)?shallow?[].concat.apply([],collection):flatten(collection,0):collection}}),angular.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function($parse){return function(collection,property,search,csensitive){var prop,getter,sensitive=csensitive||!1;return collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||isUndefined(property)||isUndefined(search)?collection:(getter=$parse(property),collection.filter(function(elm){return prop=getter(elm),!!isString(prop)&&(prop=sensitive?prop:prop.toLowerCase(),search=sensitive?search:search.toLowerCase(),hasApproxPattern(prop,search)!==!1)}))}}]),angular.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(collection,search,csensitive){function _hasApproximateKey(object,search){var prop,flag,properties=Object.keys(object);return 0<properties.filter(function(elm){return prop=object[elm],!!flag||!!isString(prop)&&(prop=sensitive?prop:prop.toLowerCase(),flag=hasApproxPattern(prop,search)!==!1)}).length}var sensitive=csensitive||!1;return collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||isUndefined(search)?collection:(search=sensitive?search:search.toLowerCase(),collection.filter(function(elm){return isString(elm)?(elm=sensitive?elm:elm.toLowerCase(),hasApproxPattern(elm,search)!==!1):!!isObject(elm)&&_hasApproximateKey(elm,search)}))}}),angular.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function($parse,filterWatcher){return function(collection,property){function _groupBy(collection,getter){var prop,result={};return forEach(collection,function(elm){prop=getter(elm),result[prop]||(result[prop]=[]),result[prop].push(elm)}),result}return!isObject(collection)||isUndefined(property)?collection:filterWatcher.isMemoized("groupBy",arguments)||filterWatcher.memoize("groupBy",arguments,this,_groupBy(collection,$parse(property)))}}]),angular.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(collection){return isObject(collection)?!toArray(collection).length:!collection.length}}),angular.module("a8m.join",[]).filter("join",function(){return function(input,delimiter){return isUndefined(input)||!isArray(input)?input:(isUndefined(delimiter)&&(delimiter=" "),input.join(delimiter))}}),angular.module("a8m.last",[]).filter("last",["$parse",function($parse){return function(collection){var n,getter,args,reversed=copy(collection);return reversed=isObject(reversed)?toArray(reversed):reversed,isArray(reversed)?(args=Array.prototype.slice.call(arguments,1),n=isNumber(args[0])?args[0]:1,getter=isNumber(args[0])?isNumber(args[1])?undefined:args[1]:args[0],args.length?getFirstMatches(reversed.reverse(),n,getter?$parse(getter):getter).reverse():reversed[reversed.length-1]):reversed}}]),angular.module("a8m.map",[]).filter("map",["$parse",function($parse){return function(collection,expression){return collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||isUndefined(expression)?collection:collection.map(function(elm){return $parse(expression)(elm)})}}]),angular.module("a8m.omit",[]).filter("omit",["$parse",function($parse){return function(collection,expression){return collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||isUndefined(expression)?collection:collection.filter(function(elm){return!$parse(expression)(elm)})}}]),angular.module("a8m.pick",[]).filter("pick",["$parse",function($parse){return function(collection,expression){return collection=isObject(collection)?toArray(collection):collection,!isArray(collection)||isUndefined(expression)?collection:collection.filter(function(elm){return $parse(expression)(elm)})}}]),angular.module("a8m.range",[]).filter("range",function(){return function(input,total,start,increment,cb){start=start||0,increment=increment||1;for(var i=0;i<parseInt(total);i++){var j=start+i*increment;input.push(isFunction(cb)?cb(j):j)}return input}}),angular.module("a8m.remove-with",[]).filter("removeWith",function(){return function(collection,object){return isUndefined(object)?collection:(collection=isObject(collection)?toArray(collection):collection,collection.filter(function(elm){return!objectContains(object,elm)}))}}),angular.module("a8m.remove",[]).filter("remove",function(){return function(collection){collection=isObject(collection)?toArray(collection):collection;var args=Array.prototype.slice.call(arguments,1);return isArray(collection)?collection.filter(function(member){return!args.some(function(nest){return equals(nest,member)})}):collection}}),angular.module("a8m.reverse",[]).filter("reverse",[function(){return function(input){return input=isObject(input)?toArray(input):input,isString(input)?input.split("").reverse().join(""):isArray(input)?input.slice().reverse():input}}]),angular.module("a8m.search-field",[]).filter("searchField",["$parse",function($parse){return function(collection){var get,field;collection=isObject(collection)?toArray(collection):collection;var args=Array.prototype.slice.call(arguments,1);return isArray(collection)&&args.length?collection.map(function(member){return field=args.map(function(field){return(get=$parse(field))(member)}).join(" "),extend(member,{searchField:field})}):collection}}]),angular.module("a8m.to-array",[]).filter("toArray",function(){return function(collection,addKey){return isObject(collection)?addKey?Object.keys(collection).map(function(key){return extend(collection[key],{$key:key})}):toArray(collection):collection}}),angular.module("a8m.unique",[]).filter({unique:["$parse",uniqFilter],uniq:["$parse",uniqFilter]}),angular.module("a8m.where",[]).filter("where",function(){return function(collection,object){return isUndefined(object)?collection:(collection=isObject(collection)?toArray(collection):collection,collection.filter(function(elm){return objectContains(object,elm)}))}}),angular.module("a8m.xor",[]).filter("xor",["$parse",function($parse){return function(col1,col2,expression){function some(el,col){var getter=$parse(expression);return col.some(function(dElm){return expression?equals(getter(dElm),getter(el)):equals(dElm,el)})}return expression=expression||!1,col1=isObject(col1)?toArray(col1):col1,col2=isObject(col2)?toArray(col2):col2,isArray(col1)&&isArray(col2)?col1.concat(col2).filter(function(elm){return!(some(elm,col1)&&some(elm,col2))}):col1}}]),angular.module("a8m.math.abs",[]).filter("abs",function(){return function(input){return Math.abs(input)}}),angular.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var compared=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(el,i){compared.push({str:el,val:1024*compared[i].val})}),function(bytes,decimal){if(isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(bytes)&&isFinite(bytes)){for(var i=0;i<compared.length-1&&bytes>=compared[i].val;)i++;return bytes/=i>0?compared[i-1].val:1,convertToDecimal(bytes,decimal)+" "+compared[i].str}return"NaN"}}),angular.module("a8m.math.degrees",[]).filter("degrees",function(){return function(radians,decimal){if(isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(radians)&&isFinite(radians)){var degrees=180*radians/Math.PI;return Math.round(degrees*Math.pow(10,decimal))/Math.pow(10,decimal)}return"NaN"}}),angular.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var compared=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(el,i){compared.push({str:el,val:1024*compared[i].val})}),function(bytes,decimal){if(isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(bytes)&&isFinite(bytes)){for(var i=0;i<compared.length-1&&bytes>=compared[i].val;)i++;return bytes/=i>0?compared[i-1].val:1,convertToDecimal(bytes,decimal)+" "+compared[i].str}return"NaN"}}),angular.module("a8m.math.max",[]).filter("max",["$parse",function($parse){function indexByMax(array,exp){var mappedArray=array.map(function(elm){return $parse(exp)(elm)});return mappedArray.indexOf(Math.max.apply(Math,mappedArray))}return function(input,expression){return isArray(input)?isUndefined(expression)?Math.max.apply(Math,input):input[indexByMax(input,expression)]:input}}]),angular.module("a8m.math.min",[]).filter("min",["$parse",function($parse){function indexByMin(array,exp){var mappedArray=array.map(function(elm){return $parse(exp)(elm)});return mappedArray.indexOf(Math.min.apply(Math,mappedArray))}return function(input,expression){return isArray(input)?isUndefined(expression)?Math.min.apply(Math,input):input[indexByMin(input,expression)]:input}}]),angular.module("a8m.math.percent",[]).filter("percent",function(){return function(input,divided,round){var divider=isString(input)?Number(input):input;return divided=divided||100,round=round||!1,!isNumber(divider)||isNaN(divider)?input:round?Math.round(divider/divided*100):divider/divided*100}}),angular.module("a8m.math.radians",[]).filter("radians",function(){return function(degrees,decimal){if(isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(degrees)&&isFinite(degrees)){var radians=3.14159265359*degrees/180;return Math.round(radians*Math.pow(10,decimal))/Math.pow(10,decimal)}return"NaN"}}),angular.module("a8m.math.radix",[]).filter("radix",function(){return function(input,radix){var RANGE=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return isNumber(input)&&RANGE.test(radix)?input.toString(radix).toUpperCase():input}}),angular.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(number,decimal){return isNumber(decimal)&&isFinite(decimal)&&decimal%1===0&&decimal>=0&&isNumber(number)&&isFinite(number)?number<1e3?""+number:number<1e6?convertToDecimal(number/1e3,decimal)+" K":number<1e9?convertToDecimal(number/1e6,decimal)+" M":convertToDecimal(number/1e9,decimal)+" B":"NaN"}}),angular.module("a8m.math.sum",[]).filter("sum",function(){return function(input,initial){return isArray(input)?input.reduce(function(prev,curr){return prev+curr},initial||0):input}}),angular.module("a8m.ends-with",[]).filter("endsWith",function(){return function(input,ends,csensitive){var position,sensitive=csensitive||!1;return!isString(input)||isUndefined(ends)?input:(input=sensitive?input:input.toLowerCase(),position=input.length-ends.length,input.indexOf(sensitive?ends:ends.toLowerCase(),position)!==-1)}}),angular.module("a8m.latinize",[]).filter("latinize",[function(){function removeDiacritics(str){return str.replace(/[^\u0000-\u007E]/g,function(a){return diacriticsMap[a]||a})}for(var defaultDiacriticsRemovalap=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],diacriticsMap={},i=0;i<defaultDiacriticsRemovalap.length;i++)for(var letters=defaultDiacriticsRemovalap[i].letters.split(""),j=0;j<letters.length;j++)diacriticsMap[letters[j]]=defaultDiacriticsRemovalap[i].base;return function(input){return isString(input)?removeDiacritics(input):input}}]),angular.module("a8m.ltrim",[]).filter("ltrim",function(){return function(input,chars){var trim=chars||"\\s";return isString(input)?input.replace(new RegExp("^"+trim+"+"),""):input}}),angular.module("a8m.match",[]).filter("match",function(){return function(input,pattern,flag){var reg=new RegExp(pattern,flag);return isString(input)?input.match(reg):null}}),angular.module("a8m.phoneUS",[]).filter("phoneUS",function(){return function(num){return num+="","("+num.slice(0,3)+") "+num.slice(3,6)+"-"+num.slice(6)}}),angular.module("a8m.repeat",[]).filter("repeat",[function(){return function(input,n,separator){var times=~~n;return isString(input)&&times?strRepeat(input,--n,separator||""):input}}]),angular.module("a8m.rtrim",[]).filter("rtrim",function(){return function(input,chars){var trim=chars||"\\s";return isString(input)?input.replace(new RegExp(trim+"+$"),""):input}}),angular.module("a8m.slugify",[]).filter("slugify",[function(){return function(input,sub){var replace=isUndefined(sub)?"-":sub;return isString(input)?input.toLowerCase().replace(/\s+/g,replace):input}}]),angular.module("a8m.split",[]).filter("split",function(){function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}return function(input,delimiter,skip){var _regexp,_matches,_splitted,_temp;return isUndefined(input)||!isString(input)?null:(isUndefined(delimiter)&&(delimiter=""),isNaN(skip)&&(skip=0),_regexp=new RegExp(escapeRegExp(delimiter),"g"),_matches=input.match(_regexp),isNull(_matches)||skip>=_matches.length?[input]:0===skip?input.split(delimiter):(_splitted=input.split(delimiter),_temp=_splitted.splice(0,skip+1),_splitted.unshift(_temp.join(delimiter)),_splitted))}}),angular.module("a8m.starts-with",[]).filter("startsWith",function(){return function(input,start,csensitive){var sensitive=csensitive||!1;return!isString(input)||isUndefined(start)?input:(input=sensitive?input:input.toLowerCase(),!input.indexOf(sensitive?start:start.toLowerCase()))}}),angular.module("a8m.stringular",[]).filter("stringular",function(){return function(input){var args=Array.prototype.slice.call(arguments,1);return input.replace(/{(\d+)}/g,function(match,number){return isUndefined(args[number])?match:args[number]})}}),angular.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(input){return isString(input)?input.replace(/<\S[^><]*>/g,""):input}}),angular.module("a8m.test",[]).filter("test",function(){return function(input,pattern,flag){var reg=new RegExp(pattern,flag);return isString(input)?reg.test(input):input}}),angular.module("a8m.trim",[]).filter("trim",function(){return function(input,chars){var trim=chars||"\\s";return isString(input)?input.replace(new RegExp("^"+trim+"+|"+trim+"+$","g"),""):input}}),angular.module("a8m.truncate",[]).filter("truncate",function(){return function(input,length,suffix,preserve){return length=isUndefined(length)?input.length:length,preserve=preserve||!1,suffix=suffix||"",!isString(input)||input.length<=length?input:input.substring(0,preserve?input.indexOf(" ",length)===-1?input.length:input.indexOf(" ",length):length)+suffix}}),angular.module("a8m.ucfirst",[]).filter({ucfirst:ucfirstFilter,titleize:ucfirstFilter}),angular.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function($window){return function(input){return isString(input)?$window.encodeURIComponent(input):input}}]),angular.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function($window){return function(input){return isString(input)?$window.encodeURI(input):input}}]),angular.module("a8m.wrap",[]).filter("wrap",function(){return function(input,wrap,ends){return isString(input)&&isDefined(wrap)?[wrap,input,ends||wrap].join(""):input}}),angular.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function($window,$rootScope){function getHashKey(fName,args){function replacerFactory(){var cache=[];return function(key,val){if(isObject(val)&&!isNull(val)){if(~cache.indexOf(val))return"[Circular]";cache.push(val)}return $window==val?"$WINDOW":$window.document==val?"$DOCUMENT":isScope(val)?"$SCOPE":val}}return[fName,JSON.stringify(args,replacerFactory())].join("#").replace(/"/g,"")}function removeCache(event){var id=event.targetScope.$id;forEach($$listeners[id],function(key){delete $$cache[key]}),delete $$listeners[id]}function cleanStateless(){$$timeout(function(){$rootScope.$$phase||($$cache={})},2e3)}function addListener(scope,hashKey){var id=scope.$id;return isUndefined($$listeners[id])&&(scope.$on("$destroy",removeCache),$$listeners[id]=[]),$$listeners[id].push(hashKey)}function $$isMemoized(filterName,args){var hashKey=getHashKey(filterName,args);return $$cache[hashKey]}function $$memoize(filterName,args,scope,result){var hashKey=getHashKey(filterName,args);return $$cache[hashKey]=result,isScope(scope)?addListener(scope,hashKey):cleanStateless(),result}var $$cache={},$$listeners={},$$timeout=$window.setTimeout;return{isMemoized:$$isMemoized,memoize:$$memoize}}]}),angular.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.phoneUS","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular)},{}],159:[function(require,module,exports){require("./dist/angular-filter.js"),module.exports="angular.filter"},{"./dist/angular-filter.js":158}],160:[function(require,module,exports){!function(window,angular,undefined){"use strict";function isValidDottedPath(path){return null!=path&&""!==path&&"hasOwnProperty"!==path&&MEMBER_NAME_REGEX.test("."+path)}function lookupDottedPath(obj,path){if(!isValidDottedPath(path))throw $resourceMinErr("badmember",'Dotted member path "@{0}" is invalid.',path);for(var keys=path.split("."),i=0,ii=keys.length;i<ii&&angular.isDefined(obj);i++){var key=keys[i];obj=null!==obj?obj[key]:undefined}return obj}function shallowClearAndCopy(src,dst){dst=dst||{},angular.forEach(dst,function(value,key){delete dst[key]});for(var key in src)!src.hasOwnProperty(key)||"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key]);return dst}var $resourceMinErr=angular.$$minErr("$resource"),MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;angular.module("ngResource",["ng"]).provider("$resource",function(){var PROTOCOL_AND_DOMAIN_REGEX=/^https?:\/\/[^\/]*/,provider=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q",function($http,$log,$q){function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function Route(template,defaults){this.template=template,this.defaults=extend({},provider.defaults,defaults),this.urlParams={}}function resourceFactory(url,paramDefaults,actions,options){function extractParams(data,actionParams){var ids={};return actionParams=extend({},paramDefaults,actionParams),forEach(actionParams,function(value,key){isFunction(value)&&(value=value()),ids[key]=value&&value.charAt&&"@"==value.charAt(0)?lookupDottedPath(data,value.substr(1)):value}),ids}function defaultResponseInterceptor(response){return response.resource}function Resource(value){shallowClearAndCopy(value||{},this)}var route=new Route(url,options);return actions=extend({},provider.defaults.actions,actions),Resource.prototype.toJSON=function(){var data=extend({},this);return delete data.$promise,delete data.$resolved,data},forEach(actions,function(action,name){var hasBody=/^(POST|PUT|PATCH)$/i.test(action.method);Resource[name]=function(a1,a2,a3,a4){var data,success,error,params={};switch(arguments.length){case 4:error=a4,success=a3;case 3:case 2:if(!isFunction(a2)){params=a1,data=a2,success=a3;break}if(isFunction(a1)){success=a1,error=a2;break}success=a2,error=a3;case 1:isFunction(a1)?success=a1:hasBody?data=a1:params=a1;break;case 0:break;default:throw $resourceMinErr("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var isInstanceCall=this instanceof Resource,value=isInstanceCall?data:action.isArray?[]:new Resource(data),httpConfig={},responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor,responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||undefined;forEach(action,function(value,key){switch(key){default:httpConfig[key]=copy(value);break;case"params":case"isArray":case"interceptor":break;case"timeout":value&&!angular.isNumber(value)&&$log.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests.\n  If you need support for cancellable $resource actions, you should upgrade to version 1.5 or higher.")}}),hasBody&&(httpConfig.data=data),route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url);var promise=$http(httpConfig).then(function(response){var data=response.data,promise=value.$promise;if(data){if(angular.isArray(data)!==!!action.isArray)throw $resourceMinErr("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",name,action.isArray?"array":"object",angular.isArray(data)?"array":"object",httpConfig.method,httpConfig.url);action.isArray?(value.length=0,forEach(data,function(item){"object"==typeof item?value.push(new Resource(item)):value.push(item)})):(shallowClearAndCopy(data,value),value.$promise=promise)}return value.$resolved=!0,response.resource=value,response},function(response){return value.$resolved=!0,(error||noop)(response),$q.reject(response)});return promise=promise.then(function(response){var value=responseInterceptor(response);return(success||noop)(value,response.headers),value},responseErrorInterceptor),isInstanceCall?promise:(value.$promise=promise,value.$resolved=!1,value)},Resource.prototype["$"+name]=function(params,success,error){isFunction(params)&&(error=success,success=params,params={});var result=Resource[name].call(this,params,this,success,error);return result.$promise||result}}),Resource.bind=function(additionalParamDefaults){return resourceFactory(url,extend({},paramDefaults,additionalParamDefaults),actions)},Resource}var noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isFunction=angular.isFunction;return Route.prototype={setUrlParams:function(config,params,actionUrl){var val,encodedVal,self=this,url=actionUrl||self.template,protocolAndDomain="",urlParams=self.urlParams={};forEach(url.split(/\W/),function(param){if("hasOwnProperty"===param)throw $resourceMinErr("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(param)&&param&&new RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url)&&(urlParams[param]=!0)}),url=url.replace(/\\:/g,":"),url=url.replace(PROTOCOL_AND_DOMAIN_REGEX,function(match){return protocolAndDomain=match,""}),params=params||{},forEach(self.urlParams,function(_,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam],angular.isDefined(val)&&null!==val?(encodedVal=encodeUriSegment(val),url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),function(match,p1){return encodedVal+p1})):url=url.replace(new RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){return"/"==tail.charAt(0)?tail:leadingSlashes+tail})}),self.defaults.stripTrailingSlashes&&(url=url.replace(/\/+$/,"")||"/"),url=url.replace(/\/\.(?=\w+($|\?))/,"."),config.url=protocolAndDomain+url.replace(/\/\\\./,"/."),forEach(params,function(value,key){self.urlParams[key]||(config.params=config.params||{},
config.params[key]=value)})}},resourceFactory}]})}(window,window.angular)},{}],161:[function(require,module,exports){require("./angular-resource"),module.exports="ngResource"},{"./angular-resource":160}],162:[function(require,module,exports){!function(window,angular,undefined){"use strict";function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}]}function sanitizeText(chars){var buf=[],writer=htmlSanitizeWriter(buf,angular.noop);return writer.chars(chars),buf.join("")}function makeMap(str,lowercaseKeys){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[lowercaseKeys?angular.lowercase(items[i]):items[i]]=!0;return obj}function htmlParser(html,handler){function parseStartTag(tag,tagName,rest,unary){if(tagName=angular.lowercase(tagName),blockElements[tagName])for(;stack.last()&&inlineElements[stack.last()];)parseEndTag("",stack.last());optionalEndTagElements[tagName]&&stack.last()==tagName&&parseEndTag("",tagName),unary=voidElements[tagName]||!!unary,unary||stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)}),handler.start&&handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var i,pos=0;if(tagName=angular.lowercase(tagName))for(pos=stack.length-1;pos>=0&&stack[pos]!=tagName;pos--);if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}"string"!=typeof html&&(html=null===html||"undefined"==typeof html?"":""+html);var index,chars,match,text,stack=[],last=html;for(stack.last=function(){return stack[stack.length-1]};html;){if(text="",chars=!0,stack.last()&&specialElements[stack.last()]?(html=html.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){return text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1"),handler.chars&&handler.chars(decodeEntities(text)),""}),parseEndTag("",stack.last())):(0===html.indexOf("<!--")?(index=html.indexOf("--",4),index>=0&&html.lastIndexOf("-->",index)===index&&(handler.comment&&handler.comment(html.substring(4,index)),html=html.substring(index+3),chars=!1)):DOCTYPE_REGEXP.test(html)?(match=html.match(DOCTYPE_REGEXP),match&&(html=html.replace(match[0],""),chars=!1)):BEGING_END_TAGE_REGEXP.test(html)?(match=html.match(END_TAG_REGEXP),match&&(html=html.substring(match[0].length),match[0].replace(END_TAG_REGEXP,parseEndTag),chars=!1)):BEGIN_TAG_REGEXP.test(html)&&(match=html.match(START_TAG_REGEXP),match?(match[4]&&(html=html.substring(match[0].length),match[0].replace(START_TAG_REGEXP,parseStartTag)),chars=!1):(text+="<",html=html.substring(1))),chars&&(index=html.indexOf("<"),text+=index<0?html:html.substring(0,index),html=index<0?"":html.substring(index),handler.chars&&handler.chars(decodeEntities(text)))),html==last)throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block of html: {0}",html);last=html}parseEndTag()}function decodeEntities(value){return value?(hiddenPre.innerHTML=value.replace(/</g,"&lt;"),hiddenPre.textContent):""}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0),low=value.charCodeAt(1);return"&#"+(1024*(hi-55296)+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=!1,out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag),!ignore&&specialElements[tag]&&(ignore=tag),ignore||validElements[tag]!==!0||(out("<"),out(tag),angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;validAttrs[lkey]!==!0||uriAttrs[lkey]===!0&&!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out(unary?"/>":">"))},end:function(tag){tag=angular.lowercase(tag),ignore||validElements[tag]!==!0||(out("</"),out(tag),out(">")),tag==ignore&&(ignore=!1)},chars:function(chars){ignore||out(encodeEntities(chars))}}}var $sanitizeMinErr=angular.$$minErr("$sanitize"),START_TAG_REGEXP=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,END_TAG_REGEXP=/^<\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g,voidElements=makeMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),svgElements=makeMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),specialElements=makeMap("script,style"),validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements,svgElements),uriAttrs=makeMap("background,cite,href,longdesc,src,usemap,xlink:href"),htmlAttrs=makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),svgAttrs=makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),validAttrs=angular.extend({},uriAttrs,svgAttrs,htmlAttrs),hiddenPre=document.createElement("pre");angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;return function(text,target){function addText(text){text&&html.push(sanitizeText(text))}function addLink(url,text){html.push("<a "),angular.isDefined(target)&&html.push('target="',target,'" '),html.push('href="',url.replace(/"/g,"&quot;"),'">'),addText(text),html.push("</a>")}if(!text)return text;for(var match,url,i,raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""))}}])}(window,window.angular)},{}],163:[function(require,module,exports){require("./angular-sanitize"),module.exports="ngSanitize"},{"./angular-sanitize":162}],164:[function(require,module,exports){"use strict";angular.module("angular-scroll-animate",[]),angular.module("angular-scroll-animate",[]).directive("whenVisible",["$document","$window",function($document,$window){var determineWhereElementIsInViewport=function($el,viewportHeight,whenVisibleFn,whenNotVisibleFn,delayPercent,scope){var elementBounds=$el[0].getBoundingClientRect(),panelTop=elementBounds.top,panelBottom=elementBounds.bottom,delayPx=delayPercent*elementBounds.height,bottomVisible=panelBottom-delayPx>0&&panelBottom<viewportHeight,topVisible=panelTop+delayPx<=viewportHeight&&panelTop>0;$el.data("hidden")&&bottomVisible||topVisible?(whenVisibleFn($el,scope),$el.data("hidden",!1)):!$el.data("hidden")&&(panelBottom<0||panelTop>viewportHeight)&&(whenNotVisibleFn($el,scope),$el.data("hidden",!0))};return{restrict:"A",scope:{whenVisible:"&",whenNotVisible:"&?",delayPercent:"=?",bindScrollTo:"@?"},controller:["$scope",function(scope){if(!scope.whenVisible||!angular.isFunction(scope.whenVisible()))throw new Error("Directive: angular-scroll-animate 'when-visible' attribute must specify a function.");if(scope.whenNotVisible&&!angular.isFunction(scope.whenNotVisible()))throw new Error("Directive: angular-scroll-animate 'when-not-visible' attribute must specify a function.");if(scope.whenNotVisible||(scope.whenNotVisible=function(){return angular.noop}),scope.delayPercent){var delayPercent=parseFloat(scope.delayPercent);if(!angular.isNumber(delayPercent)||delayPercent<0||delayPercent>1)throw new Error("Directive: angular-scroll-animate 'delay-percent' attribute must be a decimal fraction between 0 and 1.")}}],link:function(scope,el,attributes){var delayPercent=attributes.delayPercent||.25,document=$document[0].documentElement,checkPending=!1,updateVisibility=function(){determineWhereElementIsInViewport(el,document.clientHeight,scope.whenVisible(),scope.whenNotVisible(),delayPercent,scope),checkPending=!1},onScroll=function(){checkPending||(checkPending=!0,requestAnimationFrame(updateVisibility))},documentListenerEvents="scroll";attributes.bindScrollTo&&angular.element($document[0].querySelector(attributes.bindScrollTo)).on(documentListenerEvents,onScroll),$document.on(documentListenerEvents,onScroll),scope.$on("$destroy",function(){$document.off(documentListenerEvents,onScroll)});var $elWindow=angular.element($window),windowListenerEvents="resize orientationchange";$elWindow.on(windowListenerEvents,onScroll),scope.$on("$destroy",function(){$elWindow.off(windowListenerEvents,onScroll)}),el.data("hidden",!0),scope.$evalAsync(onScroll)}}}])},{}],165:[function(require,module,exports){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/popup.html","uib/template/datepicker/year.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function($animate,$q,$parse,$injector){var $animateCss=$injector.has("$animateCss")?$injector.get("$animateCss"):null;return{link:function(scope,element,attrs){function expand(){element.hasClass("collapse")&&element.hasClass("in")||$q.resolve(expandingExpr(scope)).then(function(){element.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),$animateCss?$animateCss(element,{addClass:"in",easing:"ease",to:{height:element[0].scrollHeight+"px"}}).start()["finally"](expandDone):$animate.addClass(element,"in",{to:{height:element[0].scrollHeight+"px"}}).then(expandDone)})}function expandDone(){element.removeClass("collapsing").addClass("collapse").css({height:"auto"}),expandedExpr(scope)}function collapse(){return element.hasClass("collapse")||element.hasClass("in")?void $q.resolve(collapsingExpr(scope)).then(function(){element.css({height:element[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),$animateCss?$animateCss(element,{removeClass:"in",to:{height:"0"}}).start()["finally"](collapseDone):$animate.removeClass(element,"in",{to:{height:"0"}}).then(collapseDone)}):collapseDone()}function collapseDone(){element.css({height:"0"}),element.removeClass("collapsing").addClass("collapse"),collapsedExpr(scope)}var expandingExpr=$parse(attrs.expanding),expandedExpr=$parse(attrs.expanded),collapsingExpr=$parse(attrs.collapsing),collapsedExpr=$parse(attrs.collapsed);scope.$eval(attrs.uibCollapse)||element.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),scope.$watch(attrs.uibCollapse,function(shouldCollapse){shouldCollapse?collapse():expand()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(event){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);index!==-1&&this.groups.splice(index,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope),scope.openClass=attrs.openClass||"panel-open",scope.panelClass=attrs.panelClass||"panel-default",scope.$watch("isOpen",function(value){element.toggleClass(scope.openClass,!!value),value&&accordionCtrl.closeOthers(scope)}),scope.toggleOpen=function($event){scope.isDisabled||$event&&32!==$event.which||(scope.isOpen=!scope.isOpen)};var id="accordiongroup-"+scope.$id+"-"+Math.floor(1e4*Math.random());scope.headingId=id+"-tab",scope.panelId=id+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(scope,element,attrs,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(scope,element,attrs,controller){scope.$watch(function(){return controller[attrs.uibAccordionTransclude]},function(heading){if(heading){var elem=angular.element(element[0].querySelector("[uib-accordion-header]"));elem.html(""),elem.append(heading)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function($scope,$attrs,$interpolate,$timeout){$scope.closeable=!!$attrs.close;var dismissOnTimeout=angular.isDefined($attrs.dismissOnTimeout)?$interpolate($attrs.dismissOnTimeout)($scope.$parent):null;dismissOnTimeout&&$timeout(function(){$scope.close()},parseInt(dismissOnTimeout,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active",this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function($parse){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1],uncheckableExpr=$parse(attrs.uibUncheckable);element.find("input").css({display:"none"}),ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.uibBtnRadio)))},element.on(buttonsCtrl.toggleEvent,function(){if(!attrs.disabled){var isActive=element.hasClass(buttonsCtrl.activeClass);isActive&&!angular.isDefined(attrs.uncheckable)||scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.uibBtnRadio)),ngModelCtrl.$render()})}}),attrs.uibUncheckable&&scope.$watch(uncheckableExpr,function(uncheckable){attrs.$set("uncheckable",uncheckable?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attribute,defaultValue){return angular.isDefined(attribute)?scope.$eval(attribute):defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];element.find("input").css({display:"none"}),ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))},element.on(buttonsCtrl.toggleEvent,function(){attrs.disabled||scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue()),ngModelCtrl.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function($scope,$element,$interval,$timeout,$animate){function clearBufferedTransitions(){for(;bufferedTransitions.length;)bufferedTransitions.shift()}function setActive(index){for(var i=0;i<slides.length;i++)slides[i].slide.active=i===index}function goNext(slide,index,direction){if(!destroyed){if(angular.extend(slide,{direction:direction}),angular.extend(slides[currentIndex].slide||{},{direction:direction}),$animate.enabled($element)&&!$scope.$currentTransition&&slides[index].element&&self.slides.length>1){slides[index].element.data(SLIDE_DIRECTION,slide.direction);var currentIdx=self.getCurrentIndex();angular.isNumber(currentIdx)&&slides[currentIdx].element&&slides[currentIdx].element.data(SLIDE_DIRECTION,slide.direction),$scope.$currentTransition=!0,$animate.on("addClass",slides[index].element,function(element,phase){if("close"===phase&&($scope.$currentTransition=null,$animate.off("addClass",element),bufferedTransitions.length)){var nextSlide=bufferedTransitions.pop().slide,nextIndex=nextSlide.index,nextDirection=nextIndex>self.getCurrentIndex()?"next":"prev";clearBufferedTransitions(),goNext(nextSlide,nextIndex,nextDirection)}})}$scope.active=slide.index,currentIndex=slide.index,setActive(index),restartTimer()}}function findSlideIndex(slide){for(var i=0;i<slides.length;i++)if(slides[i].slide===slide)return i}function resetTimer(){currentInterval&&($interval.cancel(currentInterval),currentInterval=null)}function resetTransition(slides){slides.length||($scope.$currentTransition=null,clearBufferedTransitions())}function restartTimer(){resetTimer();var interval=+$scope.interval;!isNaN(interval)&&interval>0&&(currentInterval=$interval(timerFn,interval))}function timerFn(){var interval=+$scope.interval;isPlaying&&!isNaN(interval)&&interval>0&&slides.length?$scope.next():$scope.pause()}var currentInterval,isPlaying,self=this,slides=self.slides=$scope.slides=[],SLIDE_DIRECTION="uib-slideDirection",currentIndex=$scope.active,bufferedTransitions=[],destroyed=!1;self.addSlide=function(slide,element){slides.push({slide:slide,element:element}),slides.sort(function(a,b){return+a.slide.index>+b.slide.index}),(slide.index===$scope.active||1===slides.length&&!angular.isNumber($scope.active))&&($scope.$currentTransition&&($scope.$currentTransition=null),currentIndex=slide.index,$scope.active=slide.index,setActive(currentIndex),self.select(slides[findSlideIndex(slide)]),1===slides.length&&$scope.play())},self.getCurrentIndex=function(){for(var i=0;i<slides.length;i++)if(slides[i].slide.index===currentIndex)return i},self.next=$scope.next=function(){var newIndex=(self.getCurrentIndex()+1)%slides.length;return 0===newIndex&&$scope.noWrap()?void $scope.pause():self.select(slides[newIndex],"next")},self.prev=$scope.prev=function(){var newIndex=self.getCurrentIndex()-1<0?slides.length-1:self.getCurrentIndex()-1;return $scope.noWrap()&&newIndex===slides.length-1?void $scope.pause():self.select(slides[newIndex],"prev")},self.removeSlide=function(slide){var index=findSlideIndex(slide),bufferedIndex=bufferedTransitions.indexOf(slides[index]);bufferedIndex!==-1&&bufferedTransitions.splice(bufferedIndex,1),slides.splice(index,1),slides.length>0&&currentIndex===index?index>=slides.length?(currentIndex=slides.length-1,$scope.active=currentIndex,setActive(currentIndex),self.select(slides[slides.length-1])):(currentIndex=index,$scope.active=currentIndex,setActive(currentIndex),self.select(slides[index])):currentIndex>index&&(currentIndex--,$scope.active=currentIndex),0===slides.length&&(currentIndex=null,$scope.active=null,clearBufferedTransitions())},self.select=$scope.select=function(nextSlide,direction){var nextIndex=findSlideIndex(nextSlide.slide);void 0===direction&&(direction=nextIndex>self.getCurrentIndex()?"next":"prev"),nextSlide.slide.index===currentIndex||$scope.$currentTransition?nextSlide&&nextSlide.slide.index!==currentIndex&&$scope.$currentTransition&&bufferedTransitions.push(slides[nextIndex]):goNext(nextSlide.slide,nextIndex,direction)},$scope.indexOfSlide=function(slide){return+slide.slide.index},$scope.isActive=function(slide){return $scope.active===slide.slide.index},$scope.pause=function(){$scope.noPause||(isPlaying=!1,resetTimer())},$scope.play=function(){isPlaying||(isPlaying=!0,restartTimer())},$scope.$on("$destroy",function(){destroyed=!0,resetTimer()}),$scope.$watch("noTransition",function(noTransition){$animate.enabled($element,!noTransition)}),$scope.$watch("interval",restartTimer),$scope.$watchCollection("slides",resetTransition),$scope.$watch("active",function(index){if(angular.isNumber(index)&&currentIndex!==index){for(var i=0;i<slides.length;i++)if(slides[i].slide.index===index){index=i;break}var slide=slides[index];slide&&(currentIndex=index,setActive(index),self.select(slides[index]))}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(scope,element,attrs,carouselCtrl){carouselCtrl.addSlide(scope,element),scope.$on("$destroy",function(){carouselCtrl.removeSlide(scope)})}}}).animation(".item",["$animateCss",function($animateCss){function removeClass(element,className,callback){element.removeClass(className),callback&&callback()}var SLIDE_DIRECTION="uib-slideDirection";return{beforeAddClass:function(element,className,done){if("active"===className){var stopped=!1,direction=element.data(SLIDE_DIRECTION),directionClass="next"===direction?"left":"right",removeClassFn=removeClass.bind(this,element,directionClass+" "+direction,done);return element.addClass(direction),$animateCss(element,{addClass:directionClass}).start().done(removeClassFn),function(){stopped=!0}}done()},beforeRemoveClass:function(element,className,done){if("active"===className){var stopped=!1,direction=element.data(SLIDE_DIRECTION),directionClass="next"===direction?"left":"right",removeClassFn=removeClass.bind(this,element,directionClass,done);return $animateCss(element,{addClass:directionClass}).start().done(removeClassFn),function(){stopped=!0}}done()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function($log,$locale,dateFilter,orderByFilter){function createParser(format,func){var map=[],regex=format.split(""),quoteIndex=format.indexOf("'");if(quoteIndex>-1){var inLiteral=!1;format=format.split("");for(var i=quoteIndex;i<format.length;i++)inLiteral?("'"===format[i]&&(i+1<format.length&&"'"===format[i+1]?(format[i+1]="$",regex[i+1]=""):(regex[i]="",inLiteral=!1)),format[i]="$"):"'"===format[i]&&(format[i]="$",regex[i]="",inLiteral=!0);format=format.join("")}return angular.forEach(formatCodeToRegex,function(data){var index=format.indexOf(data.key);if(index>-1){format=format.split(""),regex[index]="("+data.regex+")",format[index]="$";for(var i=index+1,n=index+data.key.length;i<n;i++)regex[i]="",format[i]="$";format=format.join(""),map.push({index:index,key:data.key,apply:data[func],matcher:data.regex})}}),{regex:new RegExp("^"+regex.join("")+"$"),map:orderByFilter(map,"index")}}function isValid(year,month,date){return!(date<1)&&(1===month&&date>28?29===date&&(year%4===0&&year%100!==0||year%400===0):3!==month&&5!==month&&8!==month&&10!==month||date<31)}function toInt(str){return parseInt(str,10)}function toTimezone(date,timezone){return date&&timezone?convertTimezoneToLocal(date,timezone):date}function fromTimezone(date,timezone){return date&&timezone?convertTimezoneToLocal(date,timezone,!0):date}function timezoneToOffset(timezone,fallback){var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){return date=new Date(date.getTime()),date.setMinutes(date.getMinutes()+minutes),date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var timezoneOffset=timezoneToOffset(timezone,date.getTimezoneOffset());return addDateMinutes(date,reverse*(timezoneOffset-date.getTimezoneOffset()))}var localeId,formatCodeToRegex,SPECIAL_CHARACTERS_REGEXP=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){localeId=$locale.id,this.parsers={},this.formatters={},formatCodeToRegex=[{key:"yyyy",regex:"\\d{4}",apply:function(value){this.year=+value},formatter:function(date){var _date=new Date;return _date.setFullYear(Math.abs(date.getFullYear())),dateFilter(_date,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(value){this.year=+value+2e3},formatter:function(date){var _date=new Date;return _date.setFullYear(Math.abs(date.getFullYear())),dateFilter(_date,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(value){this.year=+value},formatter:function(date){var _date=new Date;return _date.setFullYear(Math.abs(date.getFullYear())),dateFilter(_date,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(value){this.month=value-1},formatter:function(date){var value=date.getMonth();return/^[0-9]$/.test(value)?dateFilter(date,"MM"):dateFilter(date,"M")}},{key:"MMMM",regex:$locale.DATETIME_FORMATS.MONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value)},formatter:function(date){return dateFilter(date,"MMMM")}},{key:"MMM",regex:$locale.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value)},formatter:function(date){return dateFilter(date,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(value){this.month=value-1},formatter:function(date){return dateFilter(date,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(value){this.month=value-1},formatter:function(date){return dateFilter(date,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value},formatter:function(date){var value=date.getDate();return/^[1-9]$/.test(value)?dateFilter(date,"dd"):dateFilter(date,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value},formatter:function(date){return dateFilter(date,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value},formatter:function(date){return dateFilter(date,"d")}},{key:"EEEE",regex:$locale.DATETIME_FORMATS.DAY.join("|"),formatter:function(date){return dateFilter(date,"EEEE")}},{key:"EEE",regex:$locale.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(date){return dateFilter(date,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(value){this.hours=+value},formatter:function(date){return dateFilter(date,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(value){this.hours=+value},formatter:function(date){return dateFilter(date,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(value){this.hours=+value},formatter:function(date){return dateFilter(date,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(value){this.hours=+value},formatter:function(date){return dateFilter(date,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(value){this.minutes=+value},formatter:function(date){return dateFilter(date,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(value){this.minutes=+value},formatter:function(date){return dateFilter(date,"m")}},{key:"sss",
regex:"[0-9][0-9][0-9]",apply:function(value){this.milliseconds=+value},formatter:function(date){return dateFilter(date,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(value){this.seconds=+value},formatter:function(date){return dateFilter(date,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(value){this.seconds=+value},formatter:function(date){return dateFilter(date,"s")}},{key:"a",regex:$locale.DATETIME_FORMATS.AMPMS.join("|"),apply:function(value){12===this.hours&&(this.hours=0),"PM"===value&&(this.hours+=12)},formatter:function(date){return dateFilter(date,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(value){var matches=value.match(/([+-])(\d{2})(\d{2})/),sign=matches[1],hours=matches[2],minutes=matches[3];this.hours+=toInt(sign+hours),this.minutes+=toInt(sign+minutes)},formatter:function(date){return dateFilter(date,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(date){return dateFilter(date,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(date){return dateFilter(date,"w")}},{key:"GGGG",regex:$locale.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(date){return dateFilter(date,"GGGG")}},{key:"GGG",regex:$locale.DATETIME_FORMATS.ERAS.join("|"),formatter:function(date){return dateFilter(date,"GGG")}},{key:"GG",regex:$locale.DATETIME_FORMATS.ERAS.join("|"),formatter:function(date){return dateFilter(date,"GG")}},{key:"G",regex:$locale.DATETIME_FORMATS.ERAS.join("|"),formatter:function(date){return dateFilter(date,"G")}}]},this.init(),this.filter=function(date,format){if(!angular.isDate(date)||isNaN(date)||!format)return"";format=$locale.DATETIME_FORMATS[format]||format,$locale.id!==localeId&&this.init(),this.formatters[format]||(this.formatters[format]=createParser(format,"formatter"));var parser=this.formatters[format],map=parser.map,_format=format;return map.reduce(function(str,mapper,i){var match=_format.match(new RegExp("(.*)"+mapper.key));match&&angular.isString(match[1])&&(str+=match[1],_format=_format.replace(match[1]+mapper.key,""));var endStr=i===map.length-1?_format:"";return mapper.apply?str+mapper.apply.call(null,date)+endStr:str+endStr},"")},this.parse=function(input,format,baseDate){if(!angular.isString(input)||!format)return input;format=$locale.DATETIME_FORMATS[format]||format,format=format.replace(SPECIAL_CHARACTERS_REGEXP,"\\$&"),$locale.id!==localeId&&this.init(),this.parsers[format]||(this.parsers[format]=createParser(format,"apply"));var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex),tzOffset=!1;if(results&&results.length){var fields,dt;angular.isDate(baseDate)&&!isNaN(baseDate.getTime())?fields={year:baseDate.getFullYear(),month:baseDate.getMonth(),date:baseDate.getDate(),hours:baseDate.getHours(),minutes:baseDate.getMinutes(),seconds:baseDate.getSeconds(),milliseconds:baseDate.getMilliseconds()}:(baseDate&&$log.warn("dateparser:","baseDate is not a valid date"),fields={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var i=1,n=results.length;i<n;i++){var mapper=map[i-1];"Z"===mapper.matcher&&(tzOffset=!0),mapper.apply&&mapper.apply.call(fields,results[i])}var datesetter=tzOffset?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,timesetter=tzOffset?Date.prototype.setUTCHours:Date.prototype.setHours;return isValid(fields.year,fields.month,fields.date)&&(!angular.isDate(baseDate)||isNaN(baseDate.getTime())||tzOffset?(dt=new Date(0),datesetter.call(dt,fields.year,fields.month,fields.date),timesetter.call(dt,fields.hours||0,fields.minutes||0,fields.seconds||0,fields.milliseconds||0)):(dt=new Date(baseDate),datesetter.call(dt,fields.year,fields.month,fields.date),timesetter.call(dt,fields.hours,fields.minutes,fields.seconds,fields.milliseconds))),dt}},this.toTimezone=toTimezone,this.fromTimezone=fromTimezone,this.timezoneToOffset=timezoneToOffset,this.addDateMinutes=addDateMinutes,this.convertTimezoneToLocal=convertTimezoneToLocal}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function($animate){var ON_REGEXP=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,IS_REGEXP=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(tElement,tAttrs){function linkFn(scope,element,attrs){linkedScopes.push(scope),instances.push({scope:scope,element:element}),exps.forEach(function(exp,k){addForExp(exp,scope)}),scope.$on("$destroy",removeScope)}function addForExp(exp,scope){var matches=exp.match(IS_REGEXP),clazz=scope.$eval(matches[1]),compareWithExp=matches[2],data=expToData[exp];if(!data){var watchFn=function(compareWithVal){var newActivated=null;instances.some(function(instance){var thisVal=instance.scope.$eval(onExp);if(thisVal===compareWithVal)return newActivated=instance,!0}),data.lastActivated!==newActivated&&(data.lastActivated&&$animate.removeClass(data.lastActivated.element,clazz),newActivated&&$animate.addClass(newActivated.element,clazz),data.lastActivated=newActivated)};expToData[exp]=data={lastActivated:null,scope:scope,watchFn:watchFn,compareWithExp:compareWithExp,watcher:scope.$watch(compareWithExp,watchFn)}}data.watchFn(scope.$eval(compareWithExp))}function removeScope(e){var removedScope=e.targetScope,index=linkedScopes.indexOf(removedScope);if(linkedScopes.splice(index,1),instances.splice(index,1),linkedScopes.length){var newWatchScope=linkedScopes[0];angular.forEach(expToData,function(data){data.scope===removedScope&&(data.watcher=newWatchScope.$watch(data.compareWithExp,data.watchFn),data.scope=newWatchScope)})}else expToData={}}var linkedScopes=[],instances=[],expToData={},onExpMatches=tAttrs.uibIsClass.match(ON_REGEXP),onExp=onExpMatches[2],expsStr=onExpMatches[1],exps=expsStr.split(",");return linkFn}}}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function($document,$window){var SCROLLBAR_WIDTH,OVERFLOW_REGEX={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},PLACEMENT_REGEX={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};return{getRawNode:function(elem){return elem.nodeName?elem:elem[0]||elem},parseStyle:function(value){return value=parseFloat(value),isFinite(value)?value:0},offsetParent:function(elem){function isStaticPositioned(el){return"static"===($window.getComputedStyle(el).position||"static")}elem=this.getRawNode(elem);for(var offsetParent=elem.offsetParent||$document[0].documentElement;offsetParent&&offsetParent!==$document[0].documentElement&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||$document[0].documentElement},scrollbarWidth:function(){if(angular.isUndefined(SCROLLBAR_WIDTH)){var scrollElem=angular.element('<div class="uib-position-scrollbar-measure"></div>');$document.find("body").append(scrollElem),SCROLLBAR_WIDTH=scrollElem[0].offsetWidth-scrollElem[0].clientWidth,SCROLLBAR_WIDTH=isFinite(SCROLLBAR_WIDTH)?SCROLLBAR_WIDTH:0,scrollElem.remove()}return SCROLLBAR_WIDTH},isScrollable:function(elem,includeHidden){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal,elemStyle=$window.getComputedStyle(elem);return overflowRegex.test(elemStyle.overflow+elemStyle.overflowY+elemStyle.overflowX)},scrollParent:function(elem,includeHidden){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal,documentEl=$document[0].documentElement,elemStyle=$window.getComputedStyle(elem),excludeStatic="absolute"===elemStyle.position,scrollParent=elem.parentElement||documentEl;if(scrollParent===documentEl||"fixed"===elemStyle.position)return documentEl;for(;scrollParent.parentElement&&scrollParent!==documentEl;){var spStyle=$window.getComputedStyle(scrollParent);if(excludeStatic&&"static"!==spStyle.position&&(excludeStatic=!1),!excludeStatic&&overflowRegex.test(spStyle.overflow+spStyle.overflowY+spStyle.overflowX))break;scrollParent=scrollParent.parentElement}return scrollParent},position:function(elem,includeMagins){elem=this.getRawNode(elem);var elemOffset=this.offset(elem);if(includeMagins){var elemStyle=$window.getComputedStyle(elem);elemOffset.top-=this.parseStyle(elemStyle.marginTop),elemOffset.left-=this.parseStyle(elemStyle.marginLeft)}var parent=this.offsetParent(elem),parentOffset={top:0,left:0};return parent!==$document[0].documentElement&&(parentOffset=this.offset(parent),parentOffset.top+=parent.clientTop-parent.scrollTop,parentOffset.left+=parent.clientLeft-parent.scrollLeft),{width:Math.round(angular.isNumber(elemOffset.width)?elemOffset.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemOffset.height)?elemOffset.height:elem.offsetHeight),top:Math.round(elemOffset.top-parentOffset.top),left:Math.round(elemOffset.left-parentOffset.left)}},offset:function(elem){elem=this.getRawNode(elem);var elemBCR=elem.getBoundingClientRect();return{width:Math.round(angular.isNumber(elemBCR.width)?elemBCR.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemBCR.height)?elemBCR.height:elem.offsetHeight),top:Math.round(elemBCR.top+($window.pageYOffset||$document[0].documentElement.scrollTop)),left:Math.round(elemBCR.left+($window.pageXOffset||$document[0].documentElement.scrollLeft))}},viewportOffset:function(elem,useDocument,includePadding){elem=this.getRawNode(elem),includePadding=includePadding!==!1;var elemBCR=elem.getBoundingClientRect(),offsetBCR={top:0,left:0,bottom:0,right:0},offsetParent=useDocument?$document[0].documentElement:this.scrollParent(elem),offsetParentBCR=offsetParent.getBoundingClientRect();if(offsetBCR.top=offsetParentBCR.top+offsetParent.clientTop,offsetBCR.left=offsetParentBCR.left+offsetParent.clientLeft,offsetParent===$document[0].documentElement&&(offsetBCR.top+=$window.pageYOffset,offsetBCR.left+=$window.pageXOffset),offsetBCR.bottom=offsetBCR.top+offsetParent.clientHeight,offsetBCR.right=offsetBCR.left+offsetParent.clientWidth,includePadding){var offsetParentStyle=$window.getComputedStyle(offsetParent);offsetBCR.top+=this.parseStyle(offsetParentStyle.paddingTop),offsetBCR.bottom-=this.parseStyle(offsetParentStyle.paddingBottom),offsetBCR.left+=this.parseStyle(offsetParentStyle.paddingLeft),offsetBCR.right-=this.parseStyle(offsetParentStyle.paddingRight)}return{top:Math.round(elemBCR.top-offsetBCR.top),bottom:Math.round(offsetBCR.bottom-elemBCR.bottom),left:Math.round(elemBCR.left-offsetBCR.left),right:Math.round(offsetBCR.right-elemBCR.right)}},parsePlacement:function(placement){var autoPlace=PLACEMENT_REGEX.auto.test(placement);return autoPlace&&(placement=placement.replace(PLACEMENT_REGEX.auto,"")),placement=placement.split("-"),placement[0]=placement[0]||"top",PLACEMENT_REGEX.primary.test(placement[0])||(placement[0]="top"),placement[1]=placement[1]||"center",PLACEMENT_REGEX.secondary.test(placement[1])||(placement[1]="center"),autoPlace?placement[2]=!0:placement[2]=!1,placement},positionElements:function(hostElem,targetElem,placement,appendToBody){hostElem=this.getRawNode(hostElem),targetElem=this.getRawNode(targetElem);var targetWidth=angular.isDefined(targetElem.offsetWidth)?targetElem.offsetWidth:targetElem.prop("offsetWidth"),targetHeight=angular.isDefined(targetElem.offsetHeight)?targetElem.offsetHeight:targetElem.prop("offsetHeight");placement=this.parsePlacement(placement);var hostElemPos=appendToBody?this.offset(hostElem):this.position(hostElem),targetElemPos={top:0,left:0,placement:""};if(placement[2]){var viewportOffset=this.viewportOffset(hostElem,appendToBody),targetElemStyle=$window.getComputedStyle(targetElem),adjustedSize={width:targetWidth+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginLeft)+this.parseStyle(targetElemStyle.marginRight))),height:targetHeight+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginTop)+this.parseStyle(targetElemStyle.marginBottom)))};if(placement[0]="top"===placement[0]&&adjustedSize.height>viewportOffset.top&&adjustedSize.height<=viewportOffset.bottom?"bottom":"bottom"===placement[0]&&adjustedSize.height>viewportOffset.bottom&&adjustedSize.height<=viewportOffset.top?"top":"left"===placement[0]&&adjustedSize.width>viewportOffset.left&&adjustedSize.width<=viewportOffset.right?"right":"right"===placement[0]&&adjustedSize.width>viewportOffset.right&&adjustedSize.width<=viewportOffset.left?"left":placement[0],placement[1]="top"===placement[1]&&adjustedSize.height-hostElemPos.height>viewportOffset.bottom&&adjustedSize.height-hostElemPos.height<=viewportOffset.top?"bottom":"bottom"===placement[1]&&adjustedSize.height-hostElemPos.height>viewportOffset.top&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom?"top":"left"===placement[1]&&adjustedSize.width-hostElemPos.width>viewportOffset.right&&adjustedSize.width-hostElemPos.width<=viewportOffset.left?"right":"right"===placement[1]&&adjustedSize.width-hostElemPos.width>viewportOffset.left&&adjustedSize.width-hostElemPos.width<=viewportOffset.right?"left":placement[1],"center"===placement[1])if(PLACEMENT_REGEX.vertical.test(placement[0])){var xOverflow=hostElemPos.width/2-targetWidth/2;viewportOffset.left+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.right?placement[1]="left":viewportOffset.right+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.left&&(placement[1]="right")}else{var yOverflow=hostElemPos.height/2-adjustedSize.height/2;viewportOffset.top+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom?placement[1]="top":viewportOffset.bottom+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.top&&(placement[1]="bottom")}}switch(placement[0]){case"top":targetElemPos.top=hostElemPos.top-targetHeight;break;case"bottom":targetElemPos.top=hostElemPos.top+hostElemPos.height;break;case"left":targetElemPos.left=hostElemPos.left-targetWidth;break;case"right":targetElemPos.left=hostElemPos.left+hostElemPos.width}switch(placement[1]){case"top":targetElemPos.top=hostElemPos.top;break;case"bottom":targetElemPos.top=hostElemPos.top+hostElemPos.height-targetHeight;break;case"left":targetElemPos.left=hostElemPos.left;break;case"right":targetElemPos.left=hostElemPos.left+hostElemPos.width-targetWidth;break;case"center":PLACEMENT_REGEX.vertical.test(placement[0])?targetElemPos.left=hostElemPos.left+hostElemPos.width/2-targetWidth/2:targetElemPos.top=hostElemPos.top+hostElemPos.height/2-targetHeight/2}return targetElemPos.top=Math.round(targetElemPos.top),targetElemPos.left=Math.round(targetElemPos.left),targetElemPos.placement="center"===placement[1]?placement[0]:placement[0]+"-"+placement[1],targetElemPos},positionArrow:function(elem,placement){elem=this.getRawNode(elem);var innerElem=elem.querySelector(".tooltip-inner, .popover-inner");if(innerElem){var isTooltip=angular.element(innerElem).hasClass("tooltip-inner"),arrowElem=isTooltip?elem.querySelector(".tooltip-arrow"):elem.querySelector(".arrow");if(arrowElem){var arrowCss={top:"",bottom:"",left:"",right:""};if(placement=this.parsePlacement(placement),"center"===placement[1])return void angular.element(arrowElem).css(arrowCss);var borderProp="border-"+placement[0]+"-width",borderWidth=$window.getComputedStyle(arrowElem)[borderProp],borderRadiusProp="border-";borderRadiusProp+=PLACEMENT_REGEX.vertical.test(placement[0])?placement[0]+"-"+placement[1]:placement[1]+"-"+placement[0],borderRadiusProp+="-radius";var borderRadius=$window.getComputedStyle(isTooltip?innerElem:elem)[borderRadiusProp];switch(placement[0]){case"top":arrowCss.bottom=isTooltip?"0":"-"+borderWidth;break;case"bottom":arrowCss.top=isTooltip?"0":"-"+borderWidth;break;case"left":arrowCss.right=isTooltip?"0":"-"+borderWidth;break;case"right":arrowCss.left=isTooltip?"0":"-"+borderWidth}arrowCss[placement[1]]=borderRadius,angular.element(arrowElem).css(arrowCss)}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).value("uibDatepickerAttributeWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","uibDatepickerAttributeWarning","uibDateParser",function($scope,$attrs,$parse,$interpolate,$locale,$log,dateFilter,datepickerConfig,$datepickerSuppressError,datepickerAttributeWarning,dateParser){function setMode(mode){$scope.datepickerMode=mode,optionsUsed&&($scope.datepickerOptions.datepickerMode=mode)}var self=this,ngModelCtrl={$setViewValue:angular.noop},ngModelOptions={},watchListeners=[],optionsUsed=!!$attrs.datepickerOptions;if(this.modes=["day","month","year"],optionsUsed)["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","initDate","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(key){switch(key){case"customClass":case"dateDisabled":$scope[key]=$scope.datepickerOptions[key]||angular.noop;break;case"datepickerMode":$scope.datepickerMode=angular.isDefined($scope.datepickerOptions.datepickerMode)?$scope.datepickerOptions.datepickerMode:datepickerConfig.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":self[key]=angular.isDefined($scope.datepickerOptions[key])?$interpolate($scope.datepickerOptions[key])($scope.$parent):datepickerConfig[key];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":self[key]=angular.isDefined($scope.datepickerOptions[key])?$scope.datepickerOptions[key]:datepickerConfig[key];break;case"startingDay":angular.isDefined($scope.datepickerOptions.startingDay)?self.startingDay=$scope.datepickerOptions.startingDay:angular.isNumber(datepickerConfig.startingDay)?self.startingDay=datepickerConfig.startingDay:self.startingDay=($locale.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":$scope.datepickerOptions[key]?$scope.$watch(function(){return $scope.datepickerOptions[key]},function(value){value?angular.isDate(value)?self[key]=dateParser.fromTimezone(new Date(value),ngModelOptions.timezone):self[key]=new Date(dateFilter(value,"medium")):self[key]=null,self.refreshView()}):self[key]=datepickerConfig[key]?dateParser.fromTimezone(new Date(datepickerConfig[key]),ngModelOptions.timezone):null;break;case"maxMode":case"minMode":$scope.datepickerOptions[key]?$scope.$watch(function(){return $scope.datepickerOptions[key]},function(value){self[key]=$scope[key]=angular.isDefined(value)?value:datepickerOptions[key],("minMode"===key&&self.modes.indexOf($scope.datepickerOptions.datepickerMode)<self.modes.indexOf(self[key])||"maxMode"===key&&self.modes.indexOf($scope.datepickerOptions.datepickerMode)>self.modes.indexOf(self[key]))&&($scope.datepickerMode=self[key],$scope.datepickerOptions.datepickerMode=self[key])}):self[key]=$scope[key]=datepickerConfig[key]||null;break;case"initDate":$scope.datepickerOptions.initDate?(self.activeDate=dateParser.fromTimezone($scope.datepickerOptions.initDate,ngModelOptions.timezone)||new Date,$scope.$watch(function(){return $scope.datepickerOptions.initDate},function(initDate){initDate&&(ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue)||ngModelCtrl.$invalid)&&(self.activeDate=dateParser.fromTimezone(initDate,ngModelOptions.timezone),self.refreshView())})):self.activeDate=new Date}});else{if(angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle"],function(key){self[key]=angular.isDefined($attrs[key])?$interpolate($attrs[key])($scope.$parent):datepickerConfig[key],angular.isDefined($attrs[key])&&datepickerAttributeWarning&&$log.warn("uib-datepicker "+key+" attribute usage is deprecated, use datepicker-options attribute instead")}),angular.forEach(["showWeeks","yearRows","yearColumns","shortcutPropagation"],function(key){self[key]=angular.isDefined($attrs[key])?$scope.$parent.$eval($attrs[key]):datepickerConfig[key],angular.isDefined($attrs[key])&&datepickerAttributeWarning&&$log.warn("uib-datepicker "+key+" attribute usage is deprecated, use datepicker-options attribute instead")}),angular.forEach(["dateDisabled","customClass"],function(key){angular.isDefined($attrs[key])&&datepickerAttributeWarning&&$log.warn("uib-datepicker "+key+" attribute usage is deprecated, use datepicker-options attribute instead")}),angular.isDefined($attrs.startingDay)?(datepickerAttributeWarning&&$log.warn("uib-datepicker startingDay attribute usage is deprecated, use datepicker-options attribute instead"),self.startingDay=$scope.$parent.$eval($attrs.startingDay)):angular.isNumber(datepickerConfig.startingDay)?self.startingDay=datepickerConfig.startingDay:self.startingDay=($locale.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,angular.forEach(["minDate","maxDate"],function(key){$attrs[key]?(datepickerAttributeWarning&&$log.warn("uib-datepicker "+key+" attribute usage is deprecated, use datepicker-options attribute instead"),watchListeners.push($scope.$parent.$watch($attrs[key],function(value){value?angular.isDate(value)?self[key]=dateParser.fromTimezone(new Date(value),ngModelOptions.timezone):self[key]=new Date(dateFilter(value,"medium")):self[key]=null,self.refreshView()}))):self[key]=datepickerConfig[key]?dateParser.fromTimezone(new Date(datepickerConfig[key]),ngModelOptions.timezone):null}),angular.forEach(["minMode","maxMode"],function(key){$attrs[key]?(datepickerAttributeWarning&&$log.warn("uib-datepicker "+key+" attribute usage is deprecated, use datepicker-options attribute instead"),watchListeners.push($scope.$parent.$watch($attrs[key],function(value){self[key]=$scope[key]=angular.isDefined(value)?value:$attrs[key],("minMode"===key&&self.modes.indexOf($scope.datepickerMode)<self.modes.indexOf(self[key])||"maxMode"===key&&self.modes.indexOf($scope.datepickerMode)>self.modes.indexOf(self[key]))&&($scope.datepickerMode=self[key])}))):self[key]=$scope[key]=datepickerConfig[key]||null}),angular.isDefined($attrs.initDate)){datepickerAttributeWarning&&$log.warn("uib-datepicker initDate attribute usage is deprecated, use datepicker-options attribute instead");var initDate=dateParser.fromTimezone($scope.$parent.$eval($attrs.initDate),ngModelOptions.timezone);this.activeDate=isNaN(initDate)?new Date:initDate,watchListeners.push($scope.$parent.$watch($attrs.initDate,function(initDate){initDate&&(ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue)||ngModelCtrl.$invalid)&&(initDate=dateParser.fromTimezone(initDate,ngModelOptions.timezone),self.activeDate=isNaN(initDate)?new Date:initDate,self.refreshView())}))}else this.activeDate=new Date;$attrs.datepickerMode&&datepickerAttributeWarning&&$log.warn("uib-datepicker datepickerMode attribute usage is deprecated, use datepicker-options attribute instead"),$scope.datepickerMode=$scope.datepickerMode||datepickerConfig.datepickerMode}$scope.uniqueId="datepicker-"+$scope.$id+"-"+Math.floor(1e4*Math.random()),$scope.disabled=angular.isDefined($attrs.disabled)||!1,angular.isDefined($attrs.ngDisabled)&&watchListeners.push($scope.$parent.$watch($attrs.ngDisabled,function(disabled){$scope.disabled=disabled,self.refreshView()})),$scope.isActive=function(dateObject){return 0===self.compare(dateObject.date,self.activeDate)&&($scope.activeDateId=dateObject.uid,!0)},this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelOptions=ngModelCtrl_.$options||datepickerConfig.ngModelOptions,this.activeDate=ngModelCtrl.$modelValue?dateParser.fromTimezone(new Date(ngModelCtrl.$modelValue),ngModelOptions.timezone):dateParser.fromTimezone(new Date,ngModelOptions.timezone),ngModelCtrl.$render=function(){self.render()}},this.render=function(){if(ngModelCtrl.$viewValue){var date=new Date(ngModelCtrl.$viewValue),isValid=!isNaN(date);isValid?this.activeDate=dateParser.fromTimezone(date,ngModelOptions.timezone):$datepickerSuppressError||$log.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){$scope.selectedDt=null,this._refreshView(),$scope.activeDt&&($scope.activeDateId=$scope.activeDt.uid);var date=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;date=dateParser.fromTimezone(date,ngModelOptions.timezone),ngModelCtrl.$setValidity("dateDisabled",!date||this.element&&!this.isDisabled(date))}},this.createDateObject=function(date,format){var model=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;model=dateParser.fromTimezone(model,ngModelOptions.timezone);var today=new Date;today=dateParser.fromTimezone(today,ngModelOptions.timezone);var time=this.compare(date,today),dt={date:date,label:dateParser.filter(date,format),selected:model&&0===this.compare(date,model),disabled:this.isDisabled(date),past:time<0,current:0===time,future:time>0,customClass:this.customClass(date)||null};return model&&0===this.compare(date,model)&&($scope.selectedDt=dt),self.activeDate&&0===this.compare(dt.date,self.activeDate)&&($scope.activeDt=dt),dt},this.isDisabled=function(date){return $scope.disabled||this.minDate&&this.compare(date,this.minDate)<0||this.maxDate&&this.compare(date,this.maxDate)>0||$scope.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode})},this.customClass=function(date){return $scope.customClass({date:date,mode:$scope.datepickerMode})},this.split=function(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays},$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$viewValue?dateParser.fromTimezone(new Date(ngModelCtrl.$viewValue),ngModelOptions.timezone):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),dt=dateParser.toTimezone(dt,ngModelOptions.timezone),ngModelCtrl.$setViewValue(dt),ngModelCtrl.$render()}else self.activeDate=date,setMode(self.modes[self.modes.indexOf($scope.datepickerMode)-1]),$scope.$emit("uib:datepicker.mode")},$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1),self.refreshView()},$scope.toggleMode=function(direction){direction=direction||1,$scope.datepickerMode===self.maxMode&&1===direction||$scope.datepickerMode===self.minMode&&direction===-1||(setMode(self.modes[self.modes.indexOf($scope.datepickerMode)+direction]),$scope.$emit("uib:datepicker.mode"))},$scope.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var focusElement=function(){self.element[0].focus()};$scope.$on("uib:datepicker.focus",focusElement),$scope.keydown=function(evt){var key=$scope.keys[evt.which];if(key&&!evt.shiftKey&&!evt.altKey&&!$scope.disabled)if(evt.preventDefault(),self.shortcutPropagation||evt.stopPropagation(),"enter"===key||"space"===key){if(self.isDisabled(self.activeDate))return;$scope.select(self.activeDate)}else!evt.ctrlKey||"up"!==key&&"down"!==key?(self.handleKeyDown(key,evt),self.refreshView()):$scope.toggleMode("up"===key?1:-1)},$scope.$on("$destroy",function(){for(;watchListeners.length;)watchListeners.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(scope,$element,dateFilter){function getDaysInMonth(year,month){return 1!==month||year%4!==0||year%100===0&&year%400!==0?DAYS_IN_MONTH[month]:29}function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=$element,this.init=function(ctrl){angular.extend(ctrl,this),scope.showWeeks=ctrl.showWeeks,ctrl.refreshView()},this.getDates=function(startDate,n){for(var date,dates=new Array(n),current=new Date(startDate),i=0;i<n;)date=new Date(current),dates[i++]=date,current.setDate(current.getDate()+1);return dates},this._refreshView=function(){var year=this.activeDate.getFullYear(),month=this.activeDate.getMonth(),firstDayOfMonth=new Date(this.activeDate);firstDayOfMonth.setFullYear(year,month,1);var difference=this.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth);numDisplayedFromPreviousMonth>0&&firstDate.setDate(-numDisplayedFromPreviousMonth+1);for(var days=this.getDates(firstDate,42),i=0;i<42;i++)days[i]=angular.extend(this.createDateObject(days[i],this.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+"-"+i});scope.labels=new Array(7);for(var j=0;j<7;j++)scope.labels[j]={abbr:dateFilter(days[j].date,this.formatDayHeader),full:dateFilter(days[j].date,"EEEE")};if(scope.title=dateFilter(this.activeDate,this.formatDayTitle),scope.rows=this.split(days,7),scope.showWeeks){scope.weekNumbers=[];for(var thursdayIndex=(11-this.startingDay)%7,numWeeks=scope.rows.length,curWeek=0;curWeek<numWeeks;curWeek++)scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date))}},this.compare=function(date1,date2){var _date1=new Date(date1.getFullYear(),date1.getMonth(),date1.getDate()),_date2=new Date(date2.getFullYear(),date2.getMonth(),date2.getDate());return _date1.setFullYear(date1.getFullYear()),_date2.setFullYear(date2.getFullYear()),_date1-_date2},this.handleKeyDown=function(key,evt){var date=this.activeDate.getDate();if("left"===key)date-=1;else if("up"===key)date-=7;else if("right"===key)date+=1;else if("down"===key)date+=7;else if("pageup"===key||"pagedown"===key){var month=this.activeDate.getMonth()+("pageup"===key?-1:1);this.activeDate.setMonth(month,1),date=Math.min(getDaysInMonth(this.activeDate.getFullYear(),this.activeDate.getMonth()),date)}else"home"===key?date=1:"end"===key&&(date=getDaysInMonth(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(date)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(scope,$element,dateFilter){this.step={years:1},this.element=$element,this.init=function(ctrl){angular.extend(ctrl,this),ctrl.refreshView()},this._refreshView=function(){for(var date,months=new Array(12),year=this.activeDate.getFullYear(),i=0;i<12;i++)date=new Date(this.activeDate),date.setFullYear(year,i,1),months[i]=angular.extend(this.createDateObject(date,this.formatMonth),{uid:scope.uniqueId+"-"+i});scope.title=dateFilter(this.activeDate,this.formatMonthTitle),scope.rows=this.split(months,3)},this.compare=function(date1,date2){var _date1=new Date(date1.getFullYear(),date1.getMonth()),_date2=new Date(date2.getFullYear(),date2.getMonth());return _date1.setFullYear(date1.getFullYear()),_date2.setFullYear(date2.getFullYear()),_date1-_date2},this.handleKeyDown=function(key,evt){var date=this.activeDate.getMonth();if("left"===key)date-=1;else if("up"===key)date-=3;else if("right"===key)date+=1;else if("down"===key)date+=3;else if("pageup"===key||"pagedown"===key){var year=this.activeDate.getFullYear()+("pageup"===key?-1:1);this.activeDate.setFullYear(year)}else"home"===key?date=0:"end"===key&&(date=11);this.activeDate.setMonth(date)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(scope,$element,dateFilter){function getStartingYear(year){return parseInt((year-1)/range,10)*range+1}var columns,range;this.element=$element,this.yearpickerInit=function(){columns=this.yearColumns,range=this.yearRows*columns,this.step={years:range}},this._refreshView=function(){for(var date,years=new Array(range),i=0,start=getStartingYear(this.activeDate.getFullYear());i<range;i++)date=new Date(this.activeDate),
date.setFullYear(start+i,0,1),years[i]=angular.extend(this.createDateObject(date,this.formatYear),{uid:scope.uniqueId+"-"+i});scope.title=[years[0].label,years[range-1].label].join(" - "),scope.rows=this.split(years,columns),scope.columns=columns},this.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear()},this.handleKeyDown=function(key,evt){var date=this.activeDate.getFullYear();"left"===key?date-=1:"up"===key?date-=columns:"right"===key?date+=1:"down"===key?date+=columns:"pageup"===key||"pagedown"===key?date+=("pageup"===key?-1:1)*range:"home"===key?date=getStartingYear(this.activeDate.getFullYear()):"end"===key&&(date=getStartingYear(this.activeDate.getFullYear())+range-1),this.activeDate.setFullYear(date)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",datepickerOptions:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];datepickerCtrl.init(ngModelCtrl)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],daypickerCtrl=ctrls[1];daypickerCtrl.init(datepickerCtrl)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],monthpickerCtrl=ctrls[1];monthpickerCtrl.init(datepickerCtrl)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(scope,element,attrs,ctrls){var ctrl=ctrls[0];angular.extend(ctrl,ctrls[1]),ctrl.yearpickerInit(),ctrl.refreshView()}}}).value("uibDatepickerPopupAttributeWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepicker/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","uibDatepickerPopupAttributeWarning",function($scope,$element,$attrs,$compile,$log,$parse,$window,$document,$rootScope,$position,dateFilter,dateParser,datepickerPopupConfig,$timeout,datepickerConfig,datepickerPopupAttributeWarning){function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function parseDateString(viewValue){var date=dateParser.parse(viewValue,dateFormat,$scope.date);if(isNaN(date))for(var i=0;i<altInputFormats.length;i++)if(date=dateParser.parse(viewValue,altInputFormats[i],$scope.date),!isNaN(date))return date;return date}function parseDate(viewValue){if(angular.isNumber(viewValue)&&(viewValue=new Date(viewValue)),!viewValue)return null;if(angular.isDate(viewValue)&&!isNaN(viewValue))return viewValue;if(angular.isString(viewValue)){var date=parseDateString(viewValue);if(!isNaN(date))return dateParser.toTimezone(date,ngModelOptions.timezone)}return ngModel.$options&&ngModel.$options.allowInvalid?viewValue:void 0}function validator(modelValue,viewValue){var value=modelValue||viewValue;return!$attrs.ngRequired&&!value||(angular.isNumber(value)&&(value=new Date(value)),!value||(!(!angular.isDate(value)||isNaN(value))||!!angular.isString(value)&&!isNaN(parseDateString(viewValue))))}function documentClickBind(event){if($scope.isOpen||!$scope.disabled){var popup=$popup[0],dpContainsTarget=$element[0].contains(event.target),popupContainsTarget=void 0!==popup.contains&&popup.contains(event.target);!$scope.isOpen||dpContainsTarget||popupContainsTarget||$scope.$apply(function(){$scope.isOpen=!1})}}function inputKeydownBind(evt){27===evt.which&&$scope.isOpen?(evt.preventDefault(),evt.stopPropagation(),$scope.$apply(function(){$scope.isOpen=!1}),$element[0].focus()):40!==evt.which||$scope.isOpen||(evt.preventDefault(),evt.stopPropagation(),$scope.$apply(function(){$scope.isOpen=!0}))}function positionPopup(){if($scope.isOpen){var dpElement=angular.element($popup[0].querySelector(".uib-datepicker-popup")),placement=$attrs.popupPlacement?$attrs.popupPlacement:datepickerPopupConfig.placement,position=$position.positionElements($element,dpElement,placement,appendToBody);dpElement.css({top:position.top+"px",left:position.left+"px"}),dpElement.hasClass("uib-position-measure")&&dpElement.removeClass("uib-position-measure")}}var dateFormat,closeOnDateSelection,appendToBody,onOpenFocus,datepickerPopupTemplateUrl,datepickerTemplateUrl,popupEl,datepickerEl,scrollParentEl,ngModel,ngModelOptions,$popup,altInputFormats,cache={},isHtml5DateInput=!1,watchListeners=[];$scope.watchData={},this.init=function(_ngModel_){if(ngModel=_ngModel_,ngModelOptions=_ngModel_.$options||datepickerConfig.ngModelOptions,closeOnDateSelection=angular.isDefined($attrs.closeOnDateSelection)?$scope.$parent.$eval($attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection,appendToBody=angular.isDefined($attrs.datepickerAppendToBody)?$scope.$parent.$eval($attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody,onOpenFocus=angular.isDefined($attrs.onOpenFocus)?$scope.$parent.$eval($attrs.onOpenFocus):datepickerPopupConfig.onOpenFocus,datepickerPopupTemplateUrl=angular.isDefined($attrs.datepickerPopupTemplateUrl)?$attrs.datepickerPopupTemplateUrl:datepickerPopupConfig.datepickerPopupTemplateUrl,datepickerTemplateUrl=angular.isDefined($attrs.datepickerTemplateUrl)?$attrs.datepickerTemplateUrl:datepickerPopupConfig.datepickerTemplateUrl,altInputFormats=angular.isDefined($attrs.altInputFormats)?$scope.$parent.$eval($attrs.altInputFormats):datepickerPopupConfig.altInputFormats,$scope.showButtonBar=angular.isDefined($attrs.showButtonBar)?$scope.$parent.$eval($attrs.showButtonBar):datepickerPopupConfig.showButtonBar,datepickerPopupConfig.html5Types[$attrs.type]?(dateFormat=datepickerPopupConfig.html5Types[$attrs.type],isHtml5DateInput=!0):(dateFormat=$attrs.uibDatepickerPopup||datepickerPopupConfig.datepickerPopup,$attrs.$observe("uibDatepickerPopup",function(value,oldValue){var newDateFormat=value||datepickerPopupConfig.datepickerPopup;if(newDateFormat!==dateFormat&&(dateFormat=newDateFormat,ngModel.$modelValue=null,!dateFormat))throw new Error("uibDatepickerPopup must have a date format specified.")})),!dateFormat)throw new Error("uibDatepickerPopup must have a date format specified.");if(isHtml5DateInput&&$attrs.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");popupEl=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),$scope.ngModelOptions=angular.copy(ngModelOptions),$scope.ngModelOptions.timezone=null,$scope.ngModelOptions.updateOnDefault===!0&&($scope.ngModelOptions.updateOn=$scope.ngModelOptions.updateOn?$scope.ngModelOptions.updateOn+" default":"default"),popupEl.attr({"ng-model":"date","ng-model-options":"ngModelOptions","ng-change":"dateSelection(date)","template-url":datepickerPopupTemplateUrl}),datepickerEl=angular.element(popupEl.children()[0]),datepickerEl.attr("template-url",datepickerTemplateUrl),isHtml5DateInput&&"month"===$attrs.type&&(datepickerEl.attr("datepicker-mode",'"month"'),datepickerEl.attr("min-mode","month")),$scope.datepickerOptions&&datepickerEl.attr("datepicker-options","datepickerOptions"),angular.forEach(["minMode","maxMode","datepickerMode","shortcutPropagation"],function(key){if($attrs[key]){datepickerPopupAttributeWarning&&$log.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead");var getAttribute=$parse($attrs[key]),propConfig={get:function(){return getAttribute($scope.$parent)}};if(datepickerEl.attr(cameltoDash(key),"watchData."+key),"datepickerMode"===key){var setAttribute=getAttribute.assign;propConfig.set=function(v){setAttribute($scope.$parent,v)}}Object.defineProperty($scope.watchData,key,propConfig)}}),angular.forEach(["minDate","maxDate","initDate"],function(key){if($attrs[key]){datepickerPopupAttributeWarning&&$log.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead");var getAttribute=$parse($attrs[key]);watchListeners.push($scope.$parent.$watch(getAttribute,function(value){if("minDate"===key||"maxDate"===key)null===value?cache[key]=null:angular.isDate(value)?cache[key]=dateParser.fromTimezone(new Date(value),ngModelOptions.timezone):cache[key]=new Date(dateFilter(value,"medium")),$scope.watchData[key]=null===value?null:cache[key];else{var date=value?new Date(value):new Date;$scope.watchData[key]=dateParser.fromTimezone(date,ngModelOptions.timezone)}})),datepickerEl.attr(cameltoDash(key),"watchData."+key)}}),$attrs.dateDisabled&&(datepickerPopupAttributeWarning&&$log.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),datepickerEl.attr("date-disabled","dateDisabled({ date: date, mode: mode })")),angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRows","yearColumns"],function(key){angular.isDefined($attrs[key])&&(datepickerPopupAttributeWarning&&$log.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),datepickerEl.attr(cameltoDash(key),$attrs[key]))}),$attrs.customClass&&(datepickerPopupAttributeWarning&&$log.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),datepickerEl.attr("custom-class","customClass({ date: date, mode: mode })")),isHtml5DateInput?ngModel.$formatters.push(function(value){return $scope.date=dateParser.fromTimezone(value,ngModelOptions.timezone),value}):(ngModel.$$parserName="date",ngModel.$validators.date=validator,ngModel.$parsers.unshift(parseDate),ngModel.$formatters.push(function(value){return ngModel.$isEmpty(value)?($scope.date=value,value):($scope.date=dateParser.fromTimezone(value,ngModelOptions.timezone),angular.isNumber($scope.date)&&($scope.date=new Date($scope.date)),dateParser.filter($scope.date,dateFormat))})),ngModel.$viewChangeListeners.push(function(){$scope.date=parseDateString(ngModel.$viewValue)}),$element.on("keydown",inputKeydownBind),$popup=$compile(popupEl)($scope),popupEl.remove(),appendToBody?$document.find("body").append($popup):$element.after($popup),$scope.$on("$destroy",function(){for($scope.isOpen===!0&&($rootScope.$$phase||$scope.$apply(function(){$scope.isOpen=!1})),$popup.remove(),$element.off("keydown",inputKeydownBind),$document.off("click",documentClickBind),scrollParentEl&&scrollParentEl.off("scroll",positionPopup),angular.element($window).off("resize",positionPopup);watchListeners.length;)watchListeners.shift()()})},$scope.getText=function(key){return $scope[key+"Text"]||datepickerPopupConfig[key+"Text"]},$scope.isDisabled=function(date){return"today"===date&&(date=dateParser.fromTimezone(new Date,ngModelOptions.timezone)),$scope.datepickerOptions?$scope.datepickerOptions&&$scope.datepickerOptions.minDate&&$scope.compare(date,$scope.datepickerOptions.minDate)<0||$scope.datepickerOptions.maxDate&&$scope.compare(date,$scope.datepickerOptions.maxDate)>0:$scope.watchData.minDate&&$scope.compare(date,cache.minDate)<0||$scope.watchData.maxDate&&$scope.compare(date,cache.maxDate)>0},$scope.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())},$scope.dateSelection=function(dt){angular.isDefined(dt)&&($scope.date=dt);var date=$scope.date?dateParser.filter($scope.date,dateFormat):null;$element.val(date),ngModel.$setViewValue(date),closeOnDateSelection&&($scope.isOpen=!1,$element[0].focus())},$scope.keydown=function(evt){27===evt.which&&(evt.stopPropagation(),$scope.isOpen=!1,$element[0].focus())},$scope.select=function(date,evt){if(evt.stopPropagation(),"today"===date){var today=new Date;angular.isDate($scope.date)?(date=new Date($scope.date),date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate())):date=new Date(today.setHours(0,0,0,0))}$scope.dateSelection(date)},$scope.close=function(evt){evt.stopPropagation(),$scope.isOpen=!1,$element[0].focus()},$scope.disabled=angular.isDefined($attrs.disabled)||!1,$attrs.ngDisabled&&watchListeners.push($scope.$parent.$watch($parse($attrs.ngDisabled),function(disabled){$scope.disabled=disabled})),$scope.$watch("isOpen",function(value){value?$scope.disabled?$scope.isOpen=!1:$timeout(function(){positionPopup(),onOpenFocus&&$scope.$broadcast("uib:datepicker.focus"),$document.on("click",documentClickBind);var placement=$attrs.popupPlacement?$attrs.popupPlacement:datepickerPopupConfig.placement;appendToBody||$position.parsePlacement(placement)[2]?(scrollParentEl=scrollParentEl||angular.element($position.scrollParent($element)),scrollParentEl&&scrollParentEl.on("scroll",positionPopup)):scrollParentEl=null,angular.element($window).on("resize",positionPopup)},0,!1):($document.off("click",documentClickBind),scrollParentEl&&scrollParentEl.off("scroll",positionPopup),angular.element($window).off("resize",positionPopup))}),$scope.$on("uib:datepicker.mode",function(){$timeout(positionPopup,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(scope,element,attrs,ctrls){var ngModel=ctrls[0],ctrl=ctrls[1];ctrl.init(ngModel)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this,args=Array.prototype.slice.call(arguments);timeoutPromise&&$timeout.cancel(timeoutPromise),timeoutPromise=$timeout(function(){callback.apply(self,args)},debounceTime)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function($document,$rootScope){var openScope=null;this.open=function(dropdownScope){openScope||($document.on("click",closeDropdown),$document.on("keydown",keybindFilter)),openScope&&openScope!==dropdownScope&&(openScope.isOpen=!1),openScope=dropdownScope},this.close=function(dropdownScope){openScope===dropdownScope&&(openScope=null,$document.off("click",closeDropdown),$document.off("keydown",keybindFilter))};var closeDropdown=function(evt){if(openScope&&!(evt&&"disabled"===openScope.getAutoClose()||evt&&3===evt.which)){var toggleElement=openScope.getToggleElement();if(!(evt&&toggleElement&&toggleElement[0].contains(evt.target))){var dropdownElement=openScope.getDropdownElement();evt&&"outsideClick"===openScope.getAutoClose()&&dropdownElement&&dropdownElement[0].contains(evt.target)||(openScope.isOpen=!1,$rootScope.$$phase||openScope.$apply())}}},keybindFilter=function(evt){27===evt.which?(openScope.focusToggleElement(),closeDropdown()):openScope.isKeynavEnabled()&&[38,40].indexOf(evt.which)!==-1&&openScope.isOpen&&(evt.preventDefault(),evt.stopPropagation(),openScope.focusDropdownEntry(evt.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function($scope,$element,$attrs,$parse,dropdownConfig,uibDropdownService,$animate,$position,$document,$compile,$templateRequest){var templateScope,getIsOpen,self=this,scope=$scope.$new(),appendToOpenClass=dropdownConfig.appendToOpenClass,openClass=dropdownConfig.openClass,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop,appendToBody=!1,appendTo=null,keynavEnabled=!1,body=$document.find("body");$element.addClass("dropdown"),this.init=function(){if($attrs.isOpen&&(getIsOpen=$parse($attrs.isOpen),setIsOpen=getIsOpen.assign,$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value})),angular.isDefined($attrs.dropdownAppendTo)){var appendToEl=$parse($attrs.dropdownAppendTo)(scope);appendToEl&&(appendTo=angular.element(appendToEl))}appendToBody=angular.isDefined($attrs.dropdownAppendToBody),keynavEnabled=angular.isDefined($attrs.keyboardNav),appendToBody&&!appendTo&&(appendTo=body),appendTo&&self.dropdownMenu&&(appendTo.append(self.dropdownMenu),$element.on("$destroy",function(){self.dropdownMenu.remove()}))},this.toggle=function(open){return scope.isOpen=arguments.length?!!open:!scope.isOpen,angular.isFunction(setIsOpen)&&setIsOpen(scope,scope.isOpen),scope.isOpen},this.isOpen=function(){return scope.isOpen},scope.getToggleElement=function(){return self.toggleElement},scope.getAutoClose=function(){return $attrs.autoClose||"always"},scope.getElement=function(){return $element},scope.isKeynavEnabled=function(){return keynavEnabled},scope.focusDropdownEntry=function(keyCode){var elems=self.dropdownMenu?angular.element(self.dropdownMenu).find("a"):$element.find("ul").eq(0).find("a");switch(keyCode){case 40:angular.isNumber(self.selectedOption)?self.selectedOption=self.selectedOption===elems.length-1?self.selectedOption:self.selectedOption+1:self.selectedOption=0;break;case 38:angular.isNumber(self.selectedOption)?self.selectedOption=0===self.selectedOption?0:self.selectedOption-1:self.selectedOption=elems.length-1}elems[self.selectedOption].focus()},scope.getDropdownElement=function(){return self.dropdownMenu},scope.focusToggleElement=function(){self.toggleElement&&self.toggleElement[0].focus()},scope.$watch("isOpen",function(isOpen,wasOpen){if(appendTo&&self.dropdownMenu){var css,rightalign,pos=$position.positionElements($element,self.dropdownMenu,"bottom-left",!0);if(css={top:pos.top+"px",display:isOpen?"block":"none"},rightalign=self.dropdownMenu.hasClass("dropdown-menu-right"),rightalign?(css.left="auto",css.right=window.innerWidth-(pos.left+$element.prop("offsetWidth"))+"px"):(css.left=pos.left+"px",css.right="auto"),!appendToBody){var appendOffset=$position.offset(appendTo);css.top=pos.top-appendOffset.top+"px",rightalign?css.right=window.innerWidth-(pos.left-appendOffset.left+$element.prop("offsetWidth"))+"px":css.left=pos.left-appendOffset.left+"px"}self.dropdownMenu.css(css)}var openContainer=appendTo?appendTo:$element,hasOpenClass=openContainer.hasClass(appendTo?appendToOpenClass:openClass);if(hasOpenClass===!isOpen&&$animate[isOpen?"addClass":"removeClass"](openContainer,appendTo?appendToOpenClass:openClass).then(function(){angular.isDefined(isOpen)&&isOpen!==wasOpen&&toggleInvoker($scope,{open:!!isOpen})}),isOpen)self.dropdownMenuTemplateUrl&&$templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent){templateScope=scope.$new(),$compile(tplContent.trim())(templateScope,function(dropdownElement){var newEl=dropdownElement;self.dropdownMenu.replaceWith(newEl),self.dropdownMenu=newEl})}),scope.focusToggleElement(),uibDropdownService.open(scope);else{if(self.dropdownMenuTemplateUrl){templateScope&&templateScope.$destroy();var newEl=angular.element('<ul class="dropdown-menu"></ul>');self.dropdownMenu.replaceWith(newEl),self.dropdownMenu=newEl}uibDropdownService.close(scope),self.selectedOption=null}angular.isFunction(setIsOpen)&&setIsOpen($scope,isOpen)}),$scope.$on("$locationChangeSuccess",function(){"disabled"!==scope.getAutoClose()&&(scope.isOpen=!1)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl&&!angular.isDefined(attrs.dropdownNested)){element.addClass("dropdown-menu");var tplUrl=attrs.templateUrl;tplUrl&&(dropdownCtrl.dropdownMenuTemplateUrl=tplUrl),dropdownCtrl.dropdownMenu||(dropdownCtrl.dropdownMenu=element)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl){element.addClass("dropdown-toggle"),dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault(),element.hasClass("disabled")||attrs.disabled||scope.$apply(function(){dropdownCtrl.toggle()})};element.bind("click",toggleDropdown),element.attr({"aria-haspopup":!0,"aria-expanded":!1}),scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr("aria-expanded",!!isOpen)}),scope.$on("$destroy",function(){element.unbind("click",toggleDropdown)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++)if(key===stack[i].key)return stack[i]},keys:function(){for(var keys=[],i=0;i<stack.length;i++)keys.push(stack[i].key);return keys},top:function(){return stack[stack.length-1]},remove:function(key){for(var idx=-1,i=0;i<stack.length;i++)if(key===stack[i].key){idx=i;break}return stack.splice(idx,1)[0]},removeTop:function(){return stack.splice(stack.length-1,1)[0]},length:function(){return stack.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var map={};return{entries:function(){return Object.keys(map).map(function(key){return{key:key,value:map[key]}})},get:function(key){return map[key]},hasKey:function(key){return!!map[key]},keys:function(){return Object.keys(map)},put:function(key,value){map[key]||(map[key]=[]),map[key].push(value)},remove:function(key,value){var values=map[key];if(values){var idx=values.indexOf(value);idx!==-1&&values.splice(idx,1),values.length||delete map[key]}}}}}}).provider("$uibResolve",function(){var resolve=this;this.resolver=null,this.setResolver=function(resolver){this.resolver=resolver},this.$get=["$injector","$q",function($injector,$q){var resolver=resolve.resolver?$injector.get(resolve.resolver):null;return{resolve:function(invocables,locals,parent,self){if(resolver)return resolver.resolve(invocables,locals,parent,self);var promises=[];return angular.forEach(invocables,function(value){angular.isFunction(value)||angular.isArray(value)?promises.push($q.resolve($injector.invoke(value))):angular.isString(value)?promises.push($q.resolve($injector.get(value))):promises.push($q.resolve(value))}),$q.all(promises).then(function(resolves){var resolveObj={},resolveIter=0;return angular.forEach(invocables,function(value,key){resolveObj[key]=resolves[resolveIter++]}),resolveObj})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function($animate,$injector,$modalStack){function linkFn(scope,element,attrs){attrs.modalInClass&&($animate.addClass(element,attrs.modalInClass),scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();scope.modalOptions.animation?$animate.removeClass(element,attrs.modalInClass).then(done):done()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(tElement,tAttrs){return tElement.addClass(tAttrs.backdropClass),linkFn}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function($modalStack,$q,$animateCss,$document){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(tElement,tAttrs){return tAttrs.templateUrl||"uib/template/modal/window.html"},link:function(scope,element,attrs){element.addClass(attrs.windowClass||""),element.addClass(attrs.windowTopClass||""),scope.size=attrs.size,scope.close=function(evt){var modal=$modalStack.getTop();modal&&modal.value.backdrop&&"static"!==modal.value.backdrop&&evt.target===evt.currentTarget&&(evt.preventDefault(),evt.stopPropagation(),$modalStack.dismiss(modal.key,"backdrop click"))},element.on("click",scope.close),scope.$isRendered=!0;var modalRenderDeferObj=$q.defer();attrs.$observe("modalRender",function(value){"true"===value&&modalRenderDeferObj.resolve()}),modalRenderDeferObj.promise.then(function(){var animationPromise=null;attrs.modalInClass&&(animationPromise=$animateCss(element,{addClass:attrs.modalInClass}).start(),scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();$animateCss(element,{removeClass:attrs.modalInClass}).start().then(done)})),$q.when(animationPromise).then(function(){var modal=$modalStack.getTop();if(modal&&$modalStack.modalRendered(modal.key),!$document[0].activeElement||!element[0].contains($document[0].activeElement)){var inputWithAutofocus=element[0].querySelector("[autofocus]");inputWithAutofocus?inputWithAutofocus.focus():element[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(tElement,tAttrs){tAttrs.modalAnimation&&tElement.addClass(tAttrs.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(scope,element,attrs,controller,transclude){transclude(scope.$parent,function(clone){element.empty(),element.append(clone)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap",function($animate,$animateCss,$document,$compile,$rootScope,$q,$$multiMap,$$stackedMap){function isVisible(element){return!!(element.offsetWidth||element.offsetHeight||element.getClientRects().length)}function backdropIndex(){for(var topBackdropIndex=-1,opened=openedWindows.keys(),i=0;i<opened.length;i++)openedWindows.get(opened[i]).value.backdrop&&(topBackdropIndex=i);return topBackdropIndex}function removeModalWindow(modalInstance,elementToReceiveFocus){var modalWindow=openedWindows.get(modalInstance).value,appendToElement=modalWindow.appendTo;openedWindows.remove(modalInstance),removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,function(){var modalBodyClass=modalWindow.openedClass||OPENED_MODAL_CLASS;openedClasses.remove(modalBodyClass,modalInstance),appendToElement.toggleClass(modalBodyClass,openedClasses.hasKey(modalBodyClass)),toggleTopWindowClass(!0)},modalWindow.closedDeferred),checkRemoveBackdrop(),elementToReceiveFocus&&elementToReceiveFocus.focus?elementToReceiveFocus.focus():appendToElement.focus&&appendToElement.focus()}function toggleTopWindowClass(toggleSwitch){var modalWindow;openedWindows.length()>0&&(modalWindow=openedWindows.top().value,modalWindow.modalDomEl.toggleClass(modalWindow.windowTopClass||"",toggleSwitch))}function checkRemoveBackdrop(){if(backdropDomEl&&backdropIndex()===-1){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,function(){backdropScopeRef=null}),backdropDomEl=void 0,backdropScope=void 0}}function removeAfterAnimate(domEl,scope,done,closedDeferred){function afterAnimating(){afterAnimating.done||(afterAnimating.done=!0,$animate.leave(domEl).then(function(){domEl.remove(),closedDeferred&&closedDeferred.resolve()}),scope.$destroy(),done&&done())}var asyncDeferred,asyncPromise=null,setIsAsync=function(){return asyncDeferred||(asyncDeferred=$q.defer(),asyncPromise=asyncDeferred.promise),function(){asyncDeferred.resolve()}};return scope.$broadcast($modalStack.NOW_CLOSING_EVENT,setIsAsync),$q.when(asyncPromise).then(afterAnimating)}function keydownListener(evt){if(evt.isDefaultPrevented())return evt;var modal=openedWindows.top();if(modal)switch(evt.which){case 27:modal.value.keyboard&&(evt.preventDefault(),$rootScope.$apply(function(){$modalStack.dismiss(modal.key,"escape key press")}));break;case 9:var list=$modalStack.loadFocusElementList(modal),focusChanged=!1;evt.shiftKey?($modalStack.isFocusInFirstItem(evt,list)||$modalStack.isModalFocused(evt,modal))&&(focusChanged=$modalStack.focusLastFocusableElement(list)):$modalStack.isFocusInLastItem(evt,list)&&(focusChanged=$modalStack.focusFirstFocusableElement(list)),focusChanged&&(evt.preventDefault(),evt.stopPropagation())}}function broadcastClosing(modalWindow,resultOrReason,closing){return!modalWindow.value.modalScope.$broadcast("modal.closing",resultOrReason,closing).defaultPrevented}var backdropDomEl,backdropScope,OPENED_MODAL_CLASS="modal-open",openedWindows=$$stackedMap.createNew(),openedClasses=$$multiMap.createNew(),$modalStack={NOW_CLOSING_EVENT:"modal.stack.now-closing"},tabableSelector="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return $rootScope.$watch(backdropIndex,function(newBackdropIndex){backdropScope&&(backdropScope.index=newBackdropIndex)}),$document.on("keydown",keydownListener),$rootScope.$on("$destroy",function(){$document.off("keydown",keydownListener)}),$modalStack.open=function(modalInstance,modal){var modalOpener=$document[0].activeElement,modalBodyClass=modal.openedClass||OPENED_MODAL_CLASS;toggleTopWindowClass(!1),openedWindows.add(modalInstance,{deferred:modal.deferred,renderDeferred:modal.renderDeferred,closedDeferred:modal.closedDeferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard,openedClass:modal.openedClass,windowTopClass:modal.windowTopClass,animation:modal.animation,appendTo:modal.appendTo}),openedClasses.put(modalBodyClass,modalInstance);var appendToElement=modal.appendTo,currBackdropIndex=backdropIndex();if(!appendToElement.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");currBackdropIndex>=0&&!backdropDomEl&&(backdropScope=$rootScope.$new(!0),backdropScope.modalOptions=modal,backdropScope.index=currBackdropIndex,backdropDomEl=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),backdropDomEl.attr("backdrop-class",modal.backdropClass),modal.animation&&backdropDomEl.attr("modal-animation","true"),$compile(backdropDomEl)(backdropScope),$animate.enter(backdropDomEl,appendToElement));var angularDomEl=angular.element('<div uib-modal-window="modal-window"></div>');angularDomEl.attr({"template-url":modal.windowTemplateUrl,"window-class":modal.windowClass,"window-top-class":modal.windowTopClass,size:modal.size,index:openedWindows.length()-1,animate:"animate"}).html(modal.content),modal.animation&&angularDomEl.attr("modal-animation","true"),$animate.enter($compile(angularDomEl)(modal.scope),appendToElement).then(function(){modal.scope.$$uibDestructionScheduled||$animate.addClass(appendToElement,modalBodyClass)}),openedWindows.top().value.modalDomEl=angularDomEl,openedWindows.top().value.modalOpener=modalOpener},$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);return modalWindow&&broadcastClosing(modalWindow,result,!0)?(modalWindow.value.modalScope.$$uibDestructionScheduled=!0,
modalWindow.value.deferred.resolve(result),removeModalWindow(modalInstance,modalWindow.value.modalOpener),!0):!modalWindow},$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);return modalWindow&&broadcastClosing(modalWindow,reason,!1)?(modalWindow.value.modalScope.$$uibDestructionScheduled=!0,modalWindow.value.deferred.reject(reason),removeModalWindow(modalInstance,modalWindow.value.modalOpener),!0):!modalWindow},$modalStack.dismissAll=function(reason){for(var topModal=this.getTop();topModal&&this.dismiss(topModal.key,reason);)topModal=this.getTop()},$modalStack.getTop=function(){return openedWindows.top()},$modalStack.modalRendered=function(modalInstance){var modalWindow=openedWindows.get(modalInstance);modalWindow&&modalWindow.value.renderDeferred.resolve()},$modalStack.focusFirstFocusableElement=function(list){return list.length>0&&(list[0].focus(),!0)},$modalStack.focusLastFocusableElement=function(list){return list.length>0&&(list[list.length-1].focus(),!0)},$modalStack.isModalFocused=function(evt,modalWindow){if(evt&&modalWindow){var modalDomEl=modalWindow.value.modalDomEl;if(modalDomEl&&modalDomEl.length)return(evt.target||evt.srcElement)===modalDomEl[0]}return!1},$modalStack.isFocusInFirstItem=function(evt,list){return list.length>0&&(evt.target||evt.srcElement)===list[0]},$modalStack.isFocusInLastItem=function(evt,list){return list.length>0&&(evt.target||evt.srcElement)===list[list.length-1]},$modalStack.loadFocusElementList=function(modalWindow){if(modalWindow){var modalDomE1=modalWindow.value.modalDomEl;if(modalDomE1&&modalDomE1.length){var elements=modalDomE1[0].querySelectorAll(tabableSelector);return elements?Array.prototype.filter.call(elements,function(element){return isVisible(element)}):elements}}},$modalStack}]).provider("$uibModal",function(){var $modalProvider={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function($rootScope,$q,$document,$templateRequest,$controller,$uibResolve,$modalStack){function getTemplatePromise(options){return options.template?$q.when(options.template):$templateRequest(angular.isFunction(options.templateUrl)?options.templateUrl():options.templateUrl)}var $modal={},promiseChain=null;return $modal.getPromiseChain=function(){return promiseChain},$modal.open=function(modalOptions){function resolveWithTemplate(){return templateAndResolvePromise}var modalResultDeferred=$q.defer(),modalOpenedDeferred=$q.defer(),modalClosedDeferred=$q.defer(),modalRenderDeferred=$q.defer(),modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,closed:modalClosedDeferred.promise,rendered:modalRenderDeferred.promise,close:function(result){return $modalStack.close(modalInstance,result)},dismiss:function(reason){return $modalStack.dismiss(modalInstance,reason)}};if(modalOptions=angular.extend({},$modalProvider.options,modalOptions),modalOptions.resolve=modalOptions.resolve||{},modalOptions.appendTo=modalOptions.appendTo||$document.find("body").eq(0),!modalOptions.template&&!modalOptions.templateUrl)throw new Error("One of template or templateUrl options is required.");var samePromise,templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions),$uibResolve.resolve(modalOptions.resolve,{},null,null)]);return samePromise=promiseChain=$q.all([promiseChain]).then(resolveWithTemplate,resolveWithTemplate).then(function(tplAndVars){var providedScope=modalOptions.scope||$rootScope,modalScope=providedScope.$new();modalScope.$close=modalInstance.close,modalScope.$dismiss=modalInstance.dismiss,modalScope.$on("$destroy",function(){modalScope.$$uibDestructionScheduled||modalScope.$dismiss("$uibUnscheduledDestruction")});var ctrlInstance,ctrlInstantiate,ctrlLocals={};modalOptions.controller&&(ctrlLocals.$scope=modalScope,ctrlLocals.$uibModalInstance=modalInstance,angular.forEach(tplAndVars[1],function(value,key){ctrlLocals[key]=value}),ctrlInstantiate=$controller(modalOptions.controller,ctrlLocals,!0),modalOptions.controllerAs?(ctrlInstance=ctrlInstantiate.instance,modalOptions.bindToController&&(ctrlInstance.$close=modalScope.$close,ctrlInstance.$dismiss=modalScope.$dismiss,angular.extend(ctrlInstance,providedScope)),ctrlInstance=ctrlInstantiate(),modalScope[modalOptions.controllerAs]=ctrlInstance):ctrlInstance=ctrlInstantiate(),angular.isFunction(ctrlInstance.$onInit)&&ctrlInstance.$onInit()),$modalStack.open(modalInstance,{scope:modalScope,deferred:modalResultDeferred,renderDeferred:modalRenderDeferred,closedDeferred:modalClosedDeferred,content:tplAndVars[0],animation:modalOptions.animation,backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowTopClass:modalOptions.windowTopClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,size:modalOptions.size,openedClass:modalOptions.openedClass,appendTo:modalOptions.appendTo}),modalOpenedDeferred.resolve(!0)},function(reason){modalOpenedDeferred.reject(reason),modalResultDeferred.reject(reason)})["finally"](function(){promiseChain===samePromise&&(promiseChain=null)}),modalInstance},$modal}]};return $modalProvider}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function($parse){return{create:function(ctrl,$scope,$attrs){ctrl.setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop,ctrl.ngModelCtrl={$setViewValue:angular.noop},ctrl._watchers=[],ctrl.init=function(ngModelCtrl,config){ctrl.ngModelCtrl=ngModelCtrl,ctrl.config=config,ngModelCtrl.$render=function(){ctrl.render()},$attrs.itemsPerPage?ctrl._watchers.push($scope.$parent.$watch($attrs.itemsPerPage,function(value){ctrl.itemsPerPage=parseInt(value,10),$scope.totalPages=ctrl.calculateTotalPages(),ctrl.updatePage()})):ctrl.itemsPerPage=config.itemsPerPage,$scope.$watch("totalItems",function(newTotal,oldTotal){(angular.isDefined(newTotal)||newTotal!==oldTotal)&&($scope.totalPages=ctrl.calculateTotalPages(),ctrl.updatePage())})},ctrl.calculateTotalPages=function(){var totalPages=ctrl.itemsPerPage<1?1:Math.ceil($scope.totalItems/ctrl.itemsPerPage);return Math.max(totalPages||0,1)},ctrl.render=function(){$scope.page=parseInt(ctrl.ngModelCtrl.$viewValue,10)||1},$scope.selectPage=function(page,evt){evt&&evt.preventDefault();var clickAllowed=!$scope.ngDisabled||!evt;clickAllowed&&$scope.page!==page&&page>0&&page<=$scope.totalPages&&(evt&&evt.target&&evt.target.blur(),ctrl.ngModelCtrl.$setViewValue(page),ctrl.ngModelCtrl.$render())},$scope.getText=function(key){return $scope[key+"Text"]||ctrl.config[key+"Text"]},$scope.noPrevious=function(){return 1===$scope.page},$scope.noNext=function(){return $scope.page===$scope.totalPages},ctrl.updatePage=function(){ctrl.setNumPages($scope.$parent,$scope.totalPages),$scope.page>$scope.totalPages?$scope.selectPage($scope.totalPages):ctrl.ngModelCtrl.$render()},$scope.$on("$destroy",function(){for(;ctrl._watchers.length;)ctrl._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function($scope,$attrs,uibPaging,uibPagerConfig){$scope.align=angular.isDefined($attrs.align)?$scope.$parent.$eval($attrs.align):uibPagerConfig.align,uibPaging.create(this,$scope,$attrs)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(uibPagerConfig){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&paginationCtrl.init(ngModelCtrl,uibPagerConfig)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function($scope,$attrs,$parse,uibPaging,uibPaginationConfig){function makePage(number,text,isActive){return{number:number,text:text,active:isActive}}function getPages(currentPage,totalPages){var pages=[],startPage=1,endPage=totalPages,isMaxSized=angular.isDefined(maxSize)&&maxSize<totalPages;isMaxSized&&(rotate?(startPage=Math.max(currentPage-Math.floor(maxSize/2),1),endPage=startPage+maxSize-1,endPage>totalPages&&(endPage=totalPages,startPage=endPage-maxSize+1)):(startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1,endPage=Math.min(startPage+maxSize-1,totalPages)));for(var number=startPage;number<=endPage;number++){var page=makePage(number,pageLabel(number),number===currentPage);pages.push(page)}if(isMaxSized&&maxSize>0&&(!rotate||forceEllipses||boundaryLinkNumbers)){if(startPage>1){if(!boundaryLinkNumbers||startPage>3){var previousPageSet=makePage(startPage-1,"...",!1);pages.unshift(previousPageSet)}if(boundaryLinkNumbers){if(3===startPage){var secondPageLink=makePage(2,"2",!1);pages.unshift(secondPageLink)}var firstPageLink=makePage(1,"1",!1);pages.unshift(firstPageLink)}}if(endPage<totalPages){if(!boundaryLinkNumbers||endPage<totalPages-2){var nextPageSet=makePage(endPage+1,"...",!1);pages.push(nextPageSet)}if(boundaryLinkNumbers){if(endPage===totalPages-2){var secondToLastPageLink=makePage(totalPages-1,totalPages-1,!1);pages.push(secondToLastPageLink)}var lastPageLink=makePage(totalPages,totalPages,!1);pages.push(lastPageLink)}}}return pages}var ctrl=this,maxSize=angular.isDefined($attrs.maxSize)?$scope.$parent.$eval($attrs.maxSize):uibPaginationConfig.maxSize,rotate=angular.isDefined($attrs.rotate)?$scope.$parent.$eval($attrs.rotate):uibPaginationConfig.rotate,forceEllipses=angular.isDefined($attrs.forceEllipses)?$scope.$parent.$eval($attrs.forceEllipses):uibPaginationConfig.forceEllipses,boundaryLinkNumbers=angular.isDefined($attrs.boundaryLinkNumbers)?$scope.$parent.$eval($attrs.boundaryLinkNumbers):uibPaginationConfig.boundaryLinkNumbers,pageLabel=angular.isDefined($attrs.pageLabel)?function(idx){return $scope.$parent.$eval($attrs.pageLabel,{$page:idx})}:angular.identity;$scope.boundaryLinks=angular.isDefined($attrs.boundaryLinks)?$scope.$parent.$eval($attrs.boundaryLinks):uibPaginationConfig.boundaryLinks,$scope.directionLinks=angular.isDefined($attrs.directionLinks)?$scope.$parent.$eval($attrs.directionLinks):uibPaginationConfig.directionLinks,uibPaging.create(this,$scope,$attrs),$attrs.maxSize&&ctrl._watchers.push($scope.$parent.$watch($parse($attrs.maxSize),function(value){maxSize=parseInt(value,10),ctrl.render()}));var originalRender=this.render;this.render=function(){originalRender(),$scope.page>0&&$scope.page<=$scope.totalPages&&($scope.pages=getPages($scope.page,$scope.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function($parse,uibPaginationConfig){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&paginationCtrl.init(ngModelCtrl,uibPaginationConfig)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},triggerMap={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function($window,$compile,$timeout,$document,$position,$interpolate,$rootScope,$parse,$$stackedMap){function keypressListener(e){if(27===e.which){var last=openedTooltips.top();last&&(last.value.close(),openedTooltips.removeTop(),last=null)}}var openedTooltips=$$stackedMap.createNew();return $document.on("keypress",keypressListener),$rootScope.$on("$destroy",function(){$document.off("keypress",keypressListener)}),function(ttType,prefix,defaultTriggerShow,options){function getTriggers(trigger){var show=(trigger||options.trigger||defaultTriggerShow).split(" "),hide=show.map(function(trigger){return triggerMap[trigger]||trigger});return{show:show,hide:hide}}options=angular.extend({},defaultOptions,globalOptions,options);var directiveName=snake_case(ttType),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"title"+endSym+'" '+(options.useContentExp?'content-exp="contentExp()" ':'content="'+startSym+"content"+endSym+'" ')+'placement="'+startSym+"placement"+endSym+'" popup-class="'+startSym+"popupClass"+endSym+'" animation="animation" is-open="isOpen"origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(tElem,tAttrs){var tooltipLinker=$compile(template);return function(scope,element,attrs,tooltipCtrl){function toggleTooltipBind(){ttScope.isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){hasEnableExp&&!scope.$eval(attrs[prefix+"Enable"])||(cancelHide(),prepareTooltip(),ttScope.popupDelay?showTimeout||(showTimeout=$timeout(show,ttScope.popupDelay,!1)):show())}function hideTooltipBind(){cancelShow(),ttScope.popupCloseDelay?hideTimeout||(hideTimeout=$timeout(hide,ttScope.popupCloseDelay,!1)):hide()}function show(){return cancelShow(),cancelHide(),ttScope.content?(createTooltip(),void ttScope.$evalAsync(function(){ttScope.isOpen=!0,assignIsOpen(!0),positionTooltip()})):angular.noop}function cancelShow(){showTimeout&&($timeout.cancel(showTimeout),showTimeout=null),positionTimeout&&($timeout.cancel(positionTimeout),positionTimeout=null)}function hide(){ttScope&&ttScope.$evalAsync(function(){ttScope&&(ttScope.isOpen=!1,assignIsOpen(!1),ttScope.animation?transitionTimeout||(transitionTimeout=$timeout(removeTooltip,150,!1)):removeTooltip())})}function cancelHide(){hideTimeout&&($timeout.cancel(hideTimeout),hideTimeout=null),transitionTimeout&&($timeout.cancel(transitionTimeout),transitionTimeout=null)}function createTooltip(){tooltip||(tooltipLinkedScope=ttScope.$new(),tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){appendToBody?$document.find("body").append(tooltip):element.after(tooltip)}),prepObservers())}function removeTooltip(){cancelShow(),cancelHide(),unregisterObservers(),tooltip&&(tooltip.remove(),tooltip=null),tooltipLinkedScope&&(tooltipLinkedScope.$destroy(),tooltipLinkedScope=null)}function prepareTooltip(){ttScope.title=attrs[prefix+"Title"],contentParse?ttScope.content=contentParse(scope):ttScope.content=attrs[ttType],ttScope.popupClass=attrs[prefix+"Class"],ttScope.placement=angular.isDefined(attrs[prefix+"Placement"])?attrs[prefix+"Placement"]:options.placement;var placement=$position.parsePlacement(ttScope.placement);lastPlacement=placement[1]?placement[0]+"-"+placement[1]:placement[0];var delay=parseInt(attrs[prefix+"PopupDelay"],10),closeDelay=parseInt(attrs[prefix+"PopupCloseDelay"],10);ttScope.popupDelay=isNaN(delay)?options.popupDelay:delay,ttScope.popupCloseDelay=isNaN(closeDelay)?options.popupCloseDelay:closeDelay}function assignIsOpen(isOpen){isOpenParse&&angular.isFunction(isOpenParse.assign)&&isOpenParse.assign(scope,isOpen)}function prepObservers(){observers.length=0,contentParse?(observers.push(scope.$watch(contentParse,function(val){ttScope.content=val,!val&&ttScope.isOpen&&hide()})),observers.push(tooltipLinkedScope.$watch(function(){repositionScheduled||(repositionScheduled=!0,tooltipLinkedScope.$$postDigest(function(){repositionScheduled=!1,ttScope&&ttScope.isOpen&&positionTooltip()}))}))):observers.push(attrs.$observe(ttType,function(val){ttScope.content=val,!val&&ttScope.isOpen?hide():positionTooltip()})),observers.push(attrs.$observe(prefix+"Title",function(val){ttScope.title=val,ttScope.isOpen&&positionTooltip()})),observers.push(attrs.$observe(prefix+"Placement",function(val){ttScope.placement=val?val:options.placement;var placement=$position.parsePlacement(ttScope.placement);lastPlacement=placement[1]?placement[0]+"-"+placement[1]:placement[0],ttScope.isOpen&&positionTooltip()}))}function unregisterObservers(){observers.length&&(angular.forEach(observers,function(observer){observer()}),observers.length=0)}function bodyHideTooltipBind(e){ttScope&&ttScope.isOpen&&tooltip&&(element[0].contains(e.target)||tooltip[0].contains(e.target)||hideTooltipBind())}function prepTriggers(){var val=attrs[prefix+"Trigger"];unregisterTriggers(),triggers=getTriggers(val),"none"!==triggers.show&&triggers.show.forEach(function(trigger,idx){"outsideClick"===trigger?(element.on("click",toggleTooltipBind),$document.on("click",bodyHideTooltipBind)):trigger===triggers.hide[idx]?element.on(trigger,toggleTooltipBind):trigger&&(element.on(trigger,showTooltipBind),element.on(triggers.hide[idx],hideTooltipBind)),element.on("keypress",function(e){27===e.which&&hideTooltipBind()})})}var tooltip,tooltipLinkedScope,transitionTimeout,showTimeout,hideTimeout,positionTimeout,lastPlacement,appendToBody=!!angular.isDefined(options.appendToBody)&&options.appendToBody,triggers=getTriggers(void 0),hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),ttScope=scope.$new(!0),repositionScheduled=!1,isOpenParse=!!angular.isDefined(attrs[prefix+"IsOpen"])&&$parse(attrs[prefix+"IsOpen"]),contentParse=!!options.useContentExp&&$parse(attrs[ttType]),observers=[],positionTooltip=function(){tooltip&&tooltip.html()&&(positionTimeout||(positionTimeout=$timeout(function(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);tooltip.css({top:ttPosition.top+"px",left:ttPosition.left+"px"}),tooltip.hasClass(ttPosition.placement.split("-")[0])||(tooltip.removeClass(lastPlacement.split("-")[0]),tooltip.addClass(ttPosition.placement.split("-")[0])),tooltip.hasClass(options.placementClassPrefix+ttPosition.placement)||(tooltip.removeClass(options.placementClassPrefix+lastPlacement),tooltip.addClass(options.placementClassPrefix+ttPosition.placement)),tooltip.hasClass("uib-position-measure")?($position.positionArrow(tooltip,ttPosition.placement),tooltip.removeClass("uib-position-measure")):lastPlacement!==ttPosition.placement&&$position.positionArrow(tooltip,ttPosition.placement),lastPlacement=ttPosition.placement,positionTimeout=null},0,!1)))};ttScope.origScope=scope,ttScope.isOpen=!1,openedTooltips.add(ttScope,{close:hide}),ttScope.contentExp=function(){return ttScope.content},attrs.$observe("disabled",function(val){val&&cancelShow(),val&&ttScope.isOpen&&hide()}),isOpenParse&&scope.$watch(isOpenParse,function(val){ttScope&&!val===ttScope.isOpen&&toggleTooltipBind()});var unregisterTriggers=function(){triggers.show.forEach(function(trigger){"outsideClick"===trigger?element.off("click",toggleTooltipBind):(element.off(trigger,showTooltipBind),element.off(trigger,toggleTooltipBind))}),triggers.hide.forEach(function(trigger){"outsideClick"===trigger?$document.off("click",bodyHideTooltipBind):element.off(trigger,hideTooltipBind)})};prepTriggers();var animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal,appendKey=prefix+"AppendToBody";appendToBodyVal=appendKey in attrs&&void 0===attrs[appendKey]||scope.$eval(attrs[appendKey]),appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody,scope.$on("$destroy",function(){unregisterTriggers(),removeTooltip(),openedTooltips.remove(ttScope),ttScope=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function($animate,$sce,$compile,$templateRequest){return{link:function(scope,elem,attrs){var currentScope,previousElement,currentElement,origScope=scope.$eval(attrs.tooltipTemplateTranscludeScope),changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch($sce.parseAsResourceUrl(attrs.uibTooltipTemplateTransclude),function(src){var thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(thisChangeId===changeCounter){var newScope=origScope.$new(),template=response,clone=$compile(template)(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,elem)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src)}},function(){thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):cleanupLastIncludeContent()}),scope.$on("$destroy",cleanupLastIncludeContent)}}}]).directive("uibTooltipClasses",["$uibPosition",function($uibPosition){return{restrict:"A",link:function(scope,element,attrs){if(scope.placement){var position=$uibPosition.parsePlacement(scope.placement);element.addClass(position[0])}scope.popupClass&&element.addClass(scope.popupClass),scope.animation()&&element.addClass(attrs.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function($scope,$attrs,progressConfig){function getMaxOrDefault(){return angular.isDefined($scope.maxParam)?$scope.maxParam:progressConfig.max}var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[],$scope.max=getMaxOrDefault(),this.addBar=function(bar,element,attrs){animate||element.css({transition:"none"}),this.bars.push(bar),bar.max=getMaxOrDefault(),bar.title=attrs&&angular.isDefined(attrs.title)?attrs.title:"progressbar",bar.$watch("value",function(value){bar.recalculatePercentage()}),bar.recalculatePercentage=function(){var totalPercentage=self.bars.reduce(function(total,bar){return bar.percent=+(100*bar.value/bar.max).toFixed(2),total+bar.percent},0);totalPercentage>100&&(bar.percent-=totalPercentage-100)},bar.$on("$destroy",function(){element=null,self.removeBar(bar)})},this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1),this.bars.forEach(function(bar){bar.recalculatePercentage()})},$scope.$watch("maxParam",function(maxParam){self.bars.forEach(function(bar){bar.max=getMaxOrDefault(),bar.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element,attrs)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]),{title:attrs.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop},self=this;this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render,ngModelCtrl.$formatters.push(function(value){return angular.isNumber(value)&&value<<0!==value&&(value=Math.round(value)),value}),this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn,this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff,this.enableReset=angular.isDefined($attrs.enableReset)?$scope.$parent.$eval($attrs.enableReset):ratingConfig.enableReset;var tmpTitles=angular.isDefined($attrs.titles)?$scope.$parent.$eval($attrs.titles):ratingConfig.titles;this.titles=angular.isArray(tmpTitles)&&tmpTitles.length>0?tmpTitles:ratingConfig.titles;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates)},this.buildTemplateObjects=function(states){for(var i=0,n=states.length;i<n;i++)states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(i)},states[i]);return states},this.getTitle=function(index){return index>=this.titles.length?index+1:this.titles[index]},$scope.rate=function(value){if(!$scope.readonly&&value>=0&&value<=$scope.range.length){var newViewValue=self.enableReset&&ngModelCtrl.$viewValue===value?0:value;ngModelCtrl.$setViewValue(newViewValue),ngModelCtrl.$render()}},$scope.enter=function(value){$scope.readonly||($scope.value=value),$scope.onHover({value:value})},$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue,$scope.onLeave()},$scope.onKeydown=function(evt){/(37|38|39|40)/.test(evt.which)&&(evt.preventDefault(),evt.stopPropagation(),$scope.rate($scope.value+(38===evt.which||39===evt.which?1:-1)))},this.render=function(){$scope.value=ngModelCtrl.$viewValue,$scope.title=self.getTitle($scope.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ratingCtrl.init(ngModelCtrl)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function($scope){function findTabIndex(index){for(var i=0;i<ctrl.tabs.length;i++)if(ctrl.tabs[i].index===index)return i}var oldIndex,ctrl=this;ctrl.tabs=[],ctrl.select=function(index,evt){if(!destroyed){var previousIndex=findTabIndex(oldIndex),previousSelected=ctrl.tabs[previousIndex];previousSelected&&(previousSelected.tab.onDeselect({$event:evt}),previousSelected.tab.active=!1);var selected=ctrl.tabs[index];selected?(selected.tab.onSelect({$event:evt}),selected.tab.active=!0,ctrl.active=selected.index,oldIndex=selected.index):!selected&&angular.isNumber(oldIndex)&&(ctrl.active=null,oldIndex=null)}},ctrl.addTab=function(tab){if(ctrl.tabs.push({tab:tab,index:tab.index}),ctrl.tabs.sort(function(t1,t2){return t1.index>t2.index?1:t1.index<t2.index?-1:0}),tab.index===ctrl.active||!angular.isNumber(ctrl.active)&&1===ctrl.tabs.length){var newActiveIndex=findTabIndex(tab.index);ctrl.select(newActiveIndex)}},ctrl.removeTab=function(tab){var index=findTabIndex(tab.index);if(tab.index===ctrl.active){var newActiveTabIndex=index===ctrl.tabs.length-1?index-1:index+1%ctrl.tabs.length;ctrl.select(newActiveTabIndex)}ctrl.tabs.splice(index,1)},$scope.$watch("tabset.active",function(val){angular.isNumber(val)&&val!==oldIndex&&ctrl.select(findTabIndex(val))});var destroyed;$scope.$on("$destroy",function(){destroyed=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/tabs/tabset.html"},link:function(scope,element,attrs){scope.vertical=!!angular.isDefined(attrs.vertical)&&scope.$parent.$eval(attrs.vertical),scope.justified=!!angular.isDefined(attrs.justified)&&scope.$parent.$eval(attrs.justified),angular.isUndefined(attrs.active)&&(scope.active=0)}}}).directive("uibTab",["$parse",function($parse){return{require:"^uibTabset",replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(scope,elm,attrs,tabsetCtrl,transclude){scope.disabled=!1,attrs.disable&&scope.$parent.$watch($parse(attrs.disable),function(value){scope.disabled=!!value}),angular.isUndefined(attrs.index)&&(tabsetCtrl.tabs&&tabsetCtrl.tabs.length?scope.index=Math.max.apply(null,tabsetCtrl.tabs.map(function(t){return t.index}))+1:scope.index=0),angular.isUndefined(attrs.classes)&&(scope.classes=""),scope.select=function(evt){if(!scope.disabled){for(var index,i=0;i<tabsetCtrl.tabs.length;i++)if(tabsetCtrl.tabs[i].tab===scope){index=i;break}tabsetCtrl.select(index,evt)}},tabsetCtrl.addTab(scope),scope.$on("$destroy",function(){tabsetCtrl.removeTab(scope)}),scope.$transcludeFn=transclude}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(scope,elm){scope.$watch("headingElement",function(heading){heading&&(elm.html(""),elm.append(heading))})}}}).directive("uibTabContentTransclude",function(){
function isTabHeading(node){return node.tagName&&(node.hasAttribute("uib-tab-heading")||node.hasAttribute("data-uib-tab-heading")||node.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===node.tagName.toLowerCase()||"data-uib-tab-heading"===node.tagName.toLowerCase()||"x-uib-tab-heading"===node.tagName.toLowerCase()||"uib:tab-heading"===node.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(scope,elm,attrs){var tab=scope.$eval(attrs.uibTabContentTransclude).tab;tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){isTabHeading(node)?tab.headingElement=node:elm.append(node)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function($scope,$element,$attrs,$parse,$log,$locale,timepickerConfig){function getHoursFromTemplate(){var hours=+$scope.hours,valid=$scope.showMeridian?hours>0&&hours<13:hours>=0&&hours<24;if(valid)return $scope.showMeridian&&(12===hours&&(hours=0),$scope.meridian===meridians[1]&&(hours+=12)),hours}function getMinutesFromTemplate(){var minutes=+$scope.minutes;return minutes>=0&&minutes<60?minutes:void 0}function getSecondsFromTemplate(){var seconds=+$scope.seconds;return seconds>=0&&seconds<60?seconds:void 0}function pad(value,noPad){return null===value?"":angular.isDefined(value)&&value.toString().length<2&&!noPad?"0"+value:value.toString()}function refresh(keyboardChange){makeValid(),ngModelCtrl.$setViewValue(new Date(selected)),updateTemplate(keyboardChange)}function makeValid(){ngModelCtrl.$setValidity("time",!0),$scope.invalidHours=!1,$scope.invalidMinutes=!1,$scope.invalidSeconds=!1}function updateTemplate(keyboardChange){if(ngModelCtrl.$modelValue){var hours=selected.getHours(),minutes=selected.getMinutes(),seconds=selected.getSeconds();$scope.showMeridian&&(hours=0===hours||12===hours?12:hours%12),$scope.hours="h"===keyboardChange?hours:pad(hours,!padHours),"m"!==keyboardChange&&($scope.minutes=pad(minutes)),$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1],"s"!==keyboardChange&&($scope.seconds=pad(seconds)),$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}else $scope.hours=null,$scope.minutes=null,$scope.seconds=null,$scope.meridian=meridians[0]}function addSecondsToSelected(seconds){selected=addSeconds(selected,seconds),refresh()}function addMinutes(selected,minutes){return addSeconds(selected,60*minutes)}function addSeconds(date,seconds){var dt=new Date(date.getTime()+1e3*seconds),newDate=new Date(date);return newDate.setHours(dt.getHours(),dt.getMinutes(),dt.getSeconds()),newDate}var selected=new Date,watchers=[],ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS,padHours=!angular.isDefined($attrs.padHours)||$scope.$parent.$eval($attrs.padHours);$scope.tabindex=angular.isDefined($attrs.tabindex)?$attrs.tabindex:0,$element.removeAttr("tabindex"),this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render,ngModelCtrl.$formatters.unshift(function(modelValue){return modelValue?new Date(modelValue):null});var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),secondsInputEl=inputs.eq(2),mousewheel=angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel;mousewheel&&this.setupMousewheelEvents(hoursInputEl,minutesInputEl,secondsInputEl);var arrowkeys=angular.isDefined($attrs.arrowkeys)?$scope.$parent.$eval($attrs.arrowkeys):timepickerConfig.arrowkeys;arrowkeys&&this.setupArrowkeyEvents(hoursInputEl,minutesInputEl,secondsInputEl),$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput,this.setupInputEvents(hoursInputEl,minutesInputEl,secondsInputEl)};var hourStep=timepickerConfig.hourStep;$attrs.hourStep&&watchers.push($scope.$parent.$watch($parse($attrs.hourStep),function(value){hourStep=+value}));var minuteStep=timepickerConfig.minuteStep;$attrs.minuteStep&&watchers.push($scope.$parent.$watch($parse($attrs.minuteStep),function(value){minuteStep=+value}));var min;watchers.push($scope.$parent.$watch($parse($attrs.min),function(value){var dt=new Date(value);min=isNaN(dt)?void 0:dt}));var max;watchers.push($scope.$parent.$watch($parse($attrs.max),function(value){var dt=new Date(value);max=isNaN(dt)?void 0:dt}));var disabled=!1;$attrs.ngDisabled&&watchers.push($scope.$parent.$watch($parse($attrs.ngDisabled),function(value){disabled=value})),$scope.noIncrementHours=function(){var incrementedSelected=addMinutes(selected,60*hourStep);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min},$scope.noDecrementHours=function(){var decrementedSelected=addMinutes(selected,60*-hourStep);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max},$scope.noIncrementMinutes=function(){var incrementedSelected=addMinutes(selected,minuteStep);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min},$scope.noDecrementMinutes=function(){var decrementedSelected=addMinutes(selected,-minuteStep);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max},$scope.noIncrementSeconds=function(){var incrementedSelected=addSeconds(selected,secondStep);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min},$scope.noDecrementSeconds=function(){var decrementedSelected=addSeconds(selected,-secondStep);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max},$scope.noToggleMeridian=function(){return selected.getHours()<12?disabled||addMinutes(selected,720)>max:disabled||addMinutes(selected,-720)<min};var secondStep=timepickerConfig.secondStep;$attrs.secondStep&&watchers.push($scope.$parent.$watch($parse($attrs.secondStep),function(value){secondStep=+value})),$scope.showSeconds=timepickerConfig.showSeconds,$attrs.showSeconds&&watchers.push($scope.$parent.$watch($parse($attrs.showSeconds),function(value){$scope.showSeconds=!!value})),$scope.showMeridian=timepickerConfig.showMeridian,$attrs.showMeridian&&watchers.push($scope.$parent.$watch($parse($attrs.showMeridian),function(value){if($scope.showMeridian=!!value,ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();angular.isDefined(hours)&&angular.isDefined(minutes)&&(selected.setHours(hours),refresh())}else updateTemplate()})),this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){var isScrollingUp=function(e){e.originalEvent&&(e=e.originalEvent);var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0};hoursInputEl.bind("mousewheel wheel",function(e){disabled||$scope.$apply(isScrollingUp(e)?$scope.incrementHours():$scope.decrementHours()),e.preventDefault()}),minutesInputEl.bind("mousewheel wheel",function(e){disabled||$scope.$apply(isScrollingUp(e)?$scope.incrementMinutes():$scope.decrementMinutes()),e.preventDefault()}),secondsInputEl.bind("mousewheel wheel",function(e){disabled||$scope.$apply(isScrollingUp(e)?$scope.incrementSeconds():$scope.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){hoursInputEl.bind("keydown",function(e){disabled||(38===e.which?(e.preventDefault(),$scope.incrementHours(),$scope.$apply()):40===e.which&&(e.preventDefault(),$scope.decrementHours(),$scope.$apply()))}),minutesInputEl.bind("keydown",function(e){disabled||(38===e.which?(e.preventDefault(),$scope.incrementMinutes(),$scope.$apply()):40===e.which&&(e.preventDefault(),$scope.decrementMinutes(),$scope.$apply()))}),secondsInputEl.bind("keydown",function(e){disabled||(38===e.which?(e.preventDefault(),$scope.incrementSeconds(),$scope.$apply()):40===e.which&&(e.preventDefault(),$scope.decrementSeconds(),$scope.$apply()))})},this.setupInputEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){if($scope.readonlyInput)return $scope.updateHours=angular.noop,$scope.updateMinutes=angular.noop,void($scope.updateSeconds=angular.noop);var invalidate=function(invalidHours,invalidMinutes,invalidSeconds){ngModelCtrl.$setViewValue(null),ngModelCtrl.$setValidity("time",!1),angular.isDefined(invalidHours)&&($scope.invalidHours=invalidHours),angular.isDefined(invalidMinutes)&&($scope.invalidMinutes=invalidMinutes),angular.isDefined(invalidSeconds)&&($scope.invalidSeconds=invalidSeconds)};$scope.updateHours=function(){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();ngModelCtrl.$setDirty(),angular.isDefined(hours)&&angular.isDefined(minutes)?(selected.setHours(hours),selected.setMinutes(minutes),selected<min||selected>max?invalidate(!0):refresh("h")):invalidate(!0)},hoursInputEl.bind("blur",function(e){ngModelCtrl.$setTouched(),null===$scope.hours||""===$scope.hours?invalidate(!0):!$scope.invalidHours&&$scope.hours<10&&$scope.$apply(function(){$scope.hours=pad($scope.hours,!padHours)})}),$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate(),hours=getHoursFromTemplate();ngModelCtrl.$setDirty(),angular.isDefined(minutes)&&angular.isDefined(hours)?(selected.setHours(hours),selected.setMinutes(minutes),selected<min||selected>max?invalidate(void 0,!0):refresh("m")):invalidate(void 0,!0)},minutesInputEl.bind("blur",function(e){ngModelCtrl.$setTouched(),null===$scope.minutes?invalidate(void 0,!0):!$scope.invalidMinutes&&$scope.minutes<10&&$scope.$apply(function(){$scope.minutes=pad($scope.minutes)})}),$scope.updateSeconds=function(){var seconds=getSecondsFromTemplate();ngModelCtrl.$setDirty(),angular.isDefined(seconds)?(selected.setSeconds(seconds),refresh("s")):invalidate(void 0,void 0,!0)},secondsInputEl.bind("blur",function(e){!$scope.invalidSeconds&&$scope.seconds<10&&$scope.$apply(function(){$scope.seconds=pad($scope.seconds)})})},this.render=function(){var date=ngModelCtrl.$viewValue;isNaN(date)?(ngModelCtrl.$setValidity("time",!1),$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(date&&(selected=date),selected<min||selected>max?(ngModelCtrl.$setValidity("time",!1),$scope.invalidHours=!0,$scope.invalidMinutes=!0):makeValid(),updateTemplate())},$scope.showSpinners=angular.isDefined($attrs.showSpinners)?$scope.$parent.$eval($attrs.showSpinners):timepickerConfig.showSpinners,$scope.incrementHours=function(){$scope.noIncrementHours()||addSecondsToSelected(60*hourStep*60)},$scope.decrementHours=function(){$scope.noDecrementHours()||addSecondsToSelected(60*-hourStep*60)},$scope.incrementMinutes=function(){$scope.noIncrementMinutes()||addSecondsToSelected(60*minuteStep)},$scope.decrementMinutes=function(){$scope.noDecrementMinutes()||addSecondsToSelected(60*-minuteStep)},$scope.incrementSeconds=function(){$scope.noIncrementSeconds()||addSecondsToSelected(secondStep)},$scope.decrementSeconds=function(){$scope.noDecrementSeconds()||addSecondsToSelected(-secondStep)},$scope.toggleMeridian=function(){var minutes=getMinutesFromTemplate(),hours=getHoursFromTemplate();$scope.noToggleMeridian()||(angular.isDefined(minutes)&&angular.isDefined(hours)?addSecondsToSelected(720*(selected.getHours()<12?60:-60)):$scope.meridian=$scope.meridian===meridians[0]?meridians[1]:meridians[0])},$scope.blur=function(){ngModelCtrl.$setTouched()},$scope.$on("$destroy",function(){for(;watchers.length;)watchers.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(uibTimepickerConfig){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(element,attrs){return attrs.templateUrl||uibTimepickerConfig.templateUrl},link:function(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&timepickerCtrl.init(ngModelCtrl,element.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+input+'".');return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(originalScope,element,attrs,$compile,$parse,$q,$timeout,$document,$window,$rootScope,$$debounce,$position,typeaheadParser){function fireRecalculating(){scope.moveInProgress||(scope.moveInProgress=!0,scope.$digest()),debouncedRecalculate()}function recalculatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top+=element.prop("offsetHeight")}var modelCtrl,ngModelOptions,HOT_KEYS=[9,13,27,38,40],eventDebounceTime=200,minLength=originalScope.$eval(attrs.typeaheadMinLength);minLength||0===minLength||(minLength=1),originalScope.$watch(attrs.typeaheadMinLength,function(newVal){minLength=newVal||0===newVal?newVal:1});var waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0,isEditable=originalScope.$eval(attrs.typeaheadEditable)!==!1;originalScope.$watch(attrs.typeaheadEditable,function(newVal){isEditable=newVal!==!1});var hasFocus,selected,isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,onSelectCallback=$parse(attrs.typeaheadOnSelect),isSelectOnBlur=!!angular.isDefined(attrs.typeaheadSelectOnBlur)&&originalScope.$eval(attrs.typeaheadSelectOnBlur),isNoResultsSetter=$parse(attrs.typeaheadNoResults).assign||angular.noop,inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0,appendToBody=!!attrs.typeaheadAppendToBody&&originalScope.$eval(attrs.typeaheadAppendToBody),appendTo=attrs.typeaheadAppendTo?originalScope.$eval(attrs.typeaheadAppendTo):null,focusFirst=originalScope.$eval(attrs.typeaheadFocusFirst)!==!1,selectOnExact=!!attrs.typeaheadSelectOnExact&&originalScope.$eval(attrs.typeaheadSelectOnExact),isOpenSetter=$parse(attrs.typeaheadIsOpen).assign||angular.noop,showHint=originalScope.$eval(attrs.typeaheadShowHint)||!1,parsedModel=$parse(attrs.ngModel),invokeModelSetter=$parse(attrs.ngModel+"($$$p)"),$setModelValue=function(scope,newValue){return angular.isFunction(parsedModel(originalScope))&&ngModelOptions&&ngModelOptions.$options&&ngModelOptions.$options.getterSetter?invokeModelSetter(scope,{$$$p:newValue}):parsedModel.assign(scope,newValue)},parserResult=typeaheadParser.parse(attrs.uibTypeahead),scope=originalScope.$new(),offDestroy=originalScope.$on("$destroy",function(){scope.$destroy()});scope.$on("$destroy",offDestroy);var popupId="typeahead-"+scope.$id+"-"+Math.floor(1e4*Math.random());element.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":popupId});var inputsContainer,hintInputElem;showHint&&(inputsContainer=angular.element("<div></div>"),inputsContainer.css("position","relative"),element.after(inputsContainer),hintInputElem=element.clone(),hintInputElem.attr("placeholder",""),hintInputElem.attr("tabindex","-1"),hintInputElem.val(""),hintInputElem.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),element.css({position:"relative","vertical-align":"top","background-color":"transparent"}),inputsContainer.append(hintInputElem),hintInputElem.after(element));var popUpEl=angular.element("<div uib-typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl),angular.isDefined(attrs.typeaheadPopupTemplateUrl)&&popUpEl.attr("popup-template-url",attrs.typeaheadPopupTemplateUrl);var resetHint=function(){showHint&&hintInputElem.val("")},resetMatches=function(){scope.matches=[],scope.activeIdx=-1,element.attr("aria-expanded",!1),resetHint()},getMatchId=function(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){index<0?element.removeAttr("aria-activedescendant"):element.attr("aria-activedescendant",getMatchId(index))});var inputIsExactMatch=function(inputValue,index){return!!(scope.matches.length>index&&inputValue)&&inputValue.toUpperCase()===scope.matches[index].label.toUpperCase()},getMatchesAsync=function(inputValue,evt){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),isNoResultsSetter(originalScope,!1),$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus)if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1,isNoResultsSetter(originalScope,!1),scope.matches.length=0;for(var i=0;i<matches.length;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]});if(scope.query=inputValue,recalculatePosition(),element.attr("aria-expanded",!0),selectOnExact&&1===scope.matches.length&&inputIsExactMatch(inputValue,0)&&(angular.isNumber(scope.debounceUpdate)||angular.isObject(scope.debounceUpdate)?$$debounce(function(){scope.select(0,evt)},angular.isNumber(scope.debounceUpdate)?scope.debounceUpdate:scope.debounceUpdate["default"]):scope.select(0,evt)),showHint){var firstLabel=scope.matches[0].label;angular.isString(inputValue)&&inputValue.length>0&&firstLabel.slice(0,inputValue.length).toUpperCase()===inputValue.toUpperCase()?hintInputElem.val(inputValue+firstLabel.slice(inputValue.length)):hintInputElem.val("")}}else resetMatches(),isNoResultsSetter(originalScope,!0);onCurrentRequest&&isLoadingSetter(originalScope,!1)},function(){resetMatches(),isLoadingSetter(originalScope,!1),isNoResultsSetter(originalScope,!0)})};appendToBody&&(angular.element($window).on("resize",fireRecalculating),$document.find("body").on("scroll",fireRecalculating));var debouncedRecalculate=$$debounce(function(){scope.matches.length&&recalculatePosition(),scope.moveInProgress=!1},eventDebounceTime);scope.moveInProgress=!1,scope.query=void 0;var timeoutPromise,scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)},cancelPreviousTimeout=function(){timeoutPromise&&$timeout.cancel(timeoutPromise)};resetMatches(),scope.assignIsOpen=function(isOpen){isOpenSetter(originalScope,isOpen)},scope.select=function(activeIdx,evt){var model,item,locals={};selected=!0,locals[parserResult.itemName]=item=scope.matches[activeIdx].model,model=parserResult.modelMapper(originalScope,locals),$setModelValue(originalScope,model),modelCtrl.$setValidity("editable",!0),modelCtrl.$setValidity("parse",!0),onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals),$event:evt}),resetMatches(),scope.$eval(attrs.typeaheadFocusOnSelect)!==!1&&$timeout(function(){element[0].focus()},0,!1)},element.on("keydown",function(evt){if(0!==scope.matches.length&&HOT_KEYS.indexOf(evt.which)!==-1){if(scope.activeIdx===-1&&(9===evt.which||13===evt.which)||9===evt.which&&evt.shiftKey)return resetMatches(),void scope.$digest();evt.preventDefault();var target;switch(evt.which){case 9:case 13:scope.$apply(function(){angular.isNumber(scope.debounceUpdate)||angular.isObject(scope.debounceUpdate)?$$debounce(function(){scope.select(scope.activeIdx,evt)},angular.isNumber(scope.debounceUpdate)?scope.debounceUpdate:scope.debounceUpdate["default"]):scope.select(scope.activeIdx,evt)});break;case 27:evt.stopPropagation(),resetMatches(),originalScope.$digest();break;case 38:scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1,scope.$digest(),target=popUpEl.find("li")[scope.activeIdx],target.parentNode.scrollTop=target.offsetTop;break;case 40:scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest(),target=popUpEl.find("li")[scope.activeIdx],target.parentNode.scrollTop=target.offsetTop}}}),element.bind("focus",function(evt){hasFocus=!0,0!==minLength||modelCtrl.$viewValue||$timeout(function(){getMatchesAsync(modelCtrl.$viewValue,evt)},0)}),element.bind("blur",function(evt){isSelectOnBlur&&scope.matches.length&&scope.activeIdx!==-1&&!selected&&(selected=!0,scope.$apply(function(){angular.isObject(scope.debounceUpdate)&&angular.isNumber(scope.debounceUpdate.blur)?$$debounce(function(){scope.select(scope.activeIdx,evt)},scope.debounceUpdate.blur):scope.select(scope.activeIdx,evt)})),!isEditable&&modelCtrl.$error.editable&&(modelCtrl.$viewValue="",modelCtrl.$setValidity("editable",!0),modelCtrl.$setValidity("parse",!0),element.val("")),hasFocus=!1,selected=!1});var dismissClickHandler=function(evt){element[0]!==evt.target&&3!==evt.which&&0!==scope.matches.length&&(resetMatches(),$rootScope.$$phase||originalScope.$digest())};$document.on("click",dismissClickHandler),originalScope.$on("$destroy",function(){$document.off("click",dismissClickHandler),(appendToBody||appendTo)&&$popup.remove(),appendToBody&&(angular.element($window).off("resize",fireRecalculating),$document.find("body").off("scroll",fireRecalculating)),popUpEl.remove(),showHint&&inputsContainer.remove()});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):appendTo?angular.element(appendTo).eq(0).append($popup):element.after($popup),this.init=function(_modelCtrl,_ngModelOptions){modelCtrl=_modelCtrl,ngModelOptions=_ngModelOptions,scope.debounceUpdate=modelCtrl.$options&&$parse(modelCtrl.$options.debounce)(originalScope),modelCtrl.$parsers.unshift(function(inputValue){return hasFocus=!0,0===minLength||inputValue&&inputValue.length>=minLength?waitTime>0?(cancelPreviousTimeout(),scheduleSearchWithTimeout(inputValue)):getMatchesAsync(inputValue):(isLoadingSetter(originalScope,!1),cancelPreviousTimeout(),resetMatches()),isEditable?inputValue:inputValue?void modelCtrl.$setValidity("editable",!1):(modelCtrl.$setValidity("editable",!0),null)}),modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue,locals={};return isEditable||modelCtrl.$setValidity("editable",!0),inputFormatter?(locals.$model=modelValue,inputFormatter(originalScope,locals)):(locals[parserResult.itemName]=modelValue,candidateViewValue=parserResult.viewMapper(originalScope,locals),locals[parserResult.itemName]=void 0,emptyViewValue=parserResult.viewMapper(originalScope,locals),candidateViewValue!==emptyViewValue?candidateViewValue:modelValue)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(originalScope,element,attrs,ctrls){ctrls[2].init(ctrls[0],ctrls[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function($$debounce){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(element,attrs){return attrs.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl,scope.isOpen=function(){var isDropdownOpen=scope.matches.length>0;return scope.assignIsOpen({isOpen:isDropdownOpen}),isDropdownOpen},scope.isActive=function(matchIdx){return scope.active===matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx,evt){var debounce=scope.debounce();angular.isNumber(debounce)||angular.isObject(debounce)?$$debounce(function(){scope.select({activeIdx:activeIdx,evt:evt})},angular.isNumber(debounce)?debounce:debounce["default"]):scope.select({activeIdx:activeIdx,evt:evt})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function($templateRequest,$compile,$parse){return{scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"uib/template/typeahead/typeahead-match.html";$templateRequest(tplUrl).then(function(tplContent){var tplEl=angular.element(tplContent.trim());element.replaceWith(tplEl),$compile(tplEl)(scope)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function($sce,$injector,$log){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function containsHtml(matchItem){return/<.*>/g.test(matchItem)}var isSanitizePresent;return isSanitizePresent=$injector.has("$sanitize"),function(matchItem,query){return!isSanitizePresent&&containsHtml(matchItem)&&$log.warn("Unsafe use of typeahead please use ngSanitize"),matchItem=query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem,isSanitizePresent||(matchItem=$sce.trustAsHtml(matchItem)),matchItem}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input style="width:50px;" type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0})},{}],166:[function(require,module,exports){require("./dist/ui-bootstrap-tpls"),module.exports="ui.bootstrap"},{"./dist/ui-bootstrap-tpls":165}],167:[function(require,module,exports){"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(window,angular,undefined){"use strict";function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function merge(dst){return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst.hasOwnProperty(key)||(dst[key]=value)})}),dst}function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}function objectKeys(object){if(Object.keys)return Object.keys(object);var result=[];return forEach(object,function(val,key){result.push(key)}),result}function indexOf(array,value){if(Array.prototype.indexOf)return array.indexOf(value,Number(arguments[2])||0);var len=array.length>>>0,from=Number(arguments[2])||0;for(from=from<0?Math.ceil(from):Math.floor(from),from<0&&(from+=len);from<len;from++)if(from in array&&array[from]===value)return from;return-1}function inheritParams(currentParams,newParams,$current,$to){var parentParams,parents=ancestors($current,$to),inherited={},inheritList=[];for(var i in parents)if(parents[i]&&parents[i].params&&(parentParams=objectKeys(parents[i].params),parentParams.length))for(var j in parentParams)indexOf(inheritList,parentParams[j])>=0||(inheritList.push(parentParams[j]),inherited[parentParams[j]]=currentParams[parentParams[j]]);return extend({},inherited,newParams)}function equalForKeys(a,b,keys){if(!keys){keys=[];for(var n in a)keys.push(n)}for(var i=0;i<keys.length;i++){var k=keys[i];if(a[k]!=b[k])return!1}return!0}function filterByKeys(keys,values){var filtered={};return forEach(keys,function(name){filtered[name]=values[name]}),filtered}function pick(obj){var copy={},keys=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return forEach(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy}function omit(obj){var copy={},keys=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var key in obj)indexOf(keys,key)==-1&&(copy[key]=obj[key]);return copy}function filter(collection,callback){var array=isArray(collection),result=array?[]:{};return forEach(collection,function(val,i){callback(val,i)&&(result[array?result.length:i]=val)}),result}function map(collection,callback){var result=isArray(collection)?[]:{};return forEach(collection,function(val,i){result[i]=callback(val,i)}),result}function $Resolve($q,$injector){var VISIT_IN_PROGRESS=1,VISIT_DONE=2,NOTHING={},NO_DEPENDENCIES=[],NO_LOCALS=NOTHING,NO_PARENT=extend($q.when(NOTHING),{$$promises:NOTHING,$$values:NOTHING});this.study=function(invocables){function visit(value,key){if(visited[key]!==VISIT_DONE){if(cycle.push(key),visited[key]===VISIT_IN_PROGRESS)throw cycle.splice(0,indexOf(cycle,key)),new Error("Cyclic dependency: "+cycle.join(" -> "));if(visited[key]=VISIT_IN_PROGRESS,isString(value))plan.push(key,[function(){return $injector.get(value)}],NO_DEPENDENCIES);else{var params=$injector.annotate(value);forEach(params,function(param){param!==key&&invocables.hasOwnProperty(param)&&visit(invocables[param],param)}),plan.push(key,value,params)}cycle.pop(),visited[key]=VISIT_DONE}}function isResolve(value){return isObject(value)&&value.then&&value.$$promises}if(!isObject(invocables))throw new Error("'invocables' must be an object");var invocableKeys=objectKeys(invocables||{}),plan=[],cycle=[],visited={};return forEach(invocables,visit),invocables=cycle=visited=null,function(locals,parent,self){function done(){--wait||(merged||merge(values,parent.$$values),result.$$values=values,result.$$promises=result.$$promises||!0,delete result.$$inheritedValues,resolution.resolve(values))}function fail(reason){result.$$failure=reason,resolution.reject(reason)}function invoke(key,invocable,params){function onfailure(reason){invocation.reject(reason),fail(reason)}function proceed(){if(!isDefined(result.$$failure))try{invocation.resolve($injector.invoke(invocable,self,values)),invocation.promise.then(function(result){values[key]=result,done()},onfailure)}catch(e){onfailure(e)}}var invocation=$q.defer(),waitParams=0;forEach(params,function(dep){promises.hasOwnProperty(dep)&&!locals.hasOwnProperty(dep)&&(waitParams++,promises[dep].then(function(result){values[dep]=result,--waitParams||proceed()},onfailure))}),waitParams||proceed(),promises[key]=invocation.promise}if(isResolve(locals)&&self===undefined&&(self=parent,parent=locals,locals=null),locals){if(!isObject(locals))throw new Error("'locals' must be an object")}else locals=NO_LOCALS;if(parent){if(!isResolve(parent))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else parent=NO_PARENT;var resolution=$q.defer(),result=resolution.promise,promises=result.$$promises={},values=extend({},locals),wait=1+plan.length/3,merged=!1;if(isDefined(parent.$$failure))return fail(parent.$$failure),result;parent.$$inheritedValues&&merge(values,omit(parent.$$inheritedValues,invocableKeys)),extend(promises,parent.$$promises),parent.$$values?(merged=merge(values,omit(parent.$$values,invocableKeys)),result.$$inheritedValues=omit(parent.$$values,invocableKeys),done()):(parent.$$inheritedValues&&(result.$$inheritedValues=omit(parent.$$inheritedValues,invocableKeys)),parent.then(done,fail));for(var i=0,ii=plan.length;i<ii;i+=3)locals.hasOwnProperty(plan[i])?done():invoke(plan[i],plan[i+1],plan[i+2]);return result}},this.resolve=function(invocables,locals,parent,self){return this.study(invocables)(locals,parent,self)}}function $TemplateFactory($http,$templateCache,$injector){this.fromConfig=function(config,params,locals){return isDefined(config.template)?this.fromString(config.template,params):isDefined(config.templateUrl)?this.fromUrl(config.templateUrl,params):isDefined(config.templateProvider)?this.fromProvider(config.templateProvider,params,locals):null},this.fromString=function(template,params){return isFunction(template)?template(params):template},this.fromUrl=function(url,params){return isFunction(url)&&(url=url(params)),null==url?null:$http.get(url,{cache:$templateCache,headers:{Accept:"text/html"}}).then(function(response){return response.data})},this.fromProvider=function(provider,params,locals){return $injector.invoke(provider,null,locals||{params:params})}}function UrlMatcher(pattern,config,parentMatcher){function addParameter(id,type,config,location){if(paramNames.push(id),parentParams[id])return parentParams[id];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(params[id])throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'");return params[id]=new $$UMFP.Param(id,type,config,location),params[id]}function quoteRegExp(string,pattern,squash,optional){var surroundPattern=["",""],result=string.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!pattern)return result;switch(squash){case!1:surroundPattern=["(",")"+(optional?"?":"")];break;case!0:result=result.replace(/\/$/,""),surroundPattern=["(?:/(",")|/)?"];break;default:surroundPattern=["("+squash+"|",")?"]}return result+surroundPattern[0]+pattern+surroundPattern[1]}function matchDetails(m,isSearch){var id,regexp,segment,type,cfg;return id=m[2]||m[3],cfg=config.params[id],segment=pattern.substring(last,m.index),regexp=isSearch?m[4]:m[4]||("*"==m[1]?".*":null),regexp&&(type=$$UMFP.type(regexp)||inherit($$UMFP.type("string"),{pattern:new RegExp(regexp,config.caseInsensitive?"i":undefined)})),{id:id,regexp:regexp,segment:segment,type:type,cfg:cfg}}config=extend({params:{}},isObject(config)?config:{});var m,placeholder=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,searchPlaceholder=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,compiled="^",last=0,segments=this.segments=[],parentParams=parentMatcher?parentMatcher.params:{},params=this.params=parentMatcher?parentMatcher.params.$$new():new $$UMFP.ParamSet,paramNames=[];this.source=pattern;for(var p,param,segment;(m=placeholder.exec(pattern))&&(p=matchDetails(m,!1),!(p.segment.indexOf("?")>=0));)param=addParameter(p.id,p.type,p.cfg,"path"),compiled+=quoteRegExp(p.segment,param.type.pattern.source,param.squash,param.isOptional),segments.push(p.segment),last=placeholder.lastIndex;segment=pattern.substring(last);var i=segment.indexOf("?");if(i>=0){var search=this.sourceSearch=segment.substring(i);if(segment=segment.substring(0,i),this.sourcePath=pattern.substring(0,last+i),search.length>0)for(last=0;m=searchPlaceholder.exec(search);)p=matchDetails(m,!0),param=addParameter(p.id,p.type,p.cfg,"search"),last=placeholder.lastIndex}else this.sourcePath=pattern,this.sourceSearch="";compiled+=quoteRegExp(segment)+(config.strict===!1?"/?":"")+"$",segments.push(segment),this.regexp=new RegExp(compiled,config.caseInsensitive?"i":undefined),this.prefix=segments[0],this.$$paramNames=paramNames}function Type(config){extend(this,config)}function $UrlMatcherFactory(){function valToString(val){return null!=val?val.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):val}function valFromString(val){return null!=val?val.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):val}function getDefaultConfig(){return{strict:isStrictMode,caseInsensitive:isCaseInsensitive}}function isInjectable(value){return isFunction(value)||isArray(value)&&isFunction(value[value.length-1])}function flushTypeQueue(){for(;typeQueue.length;){var type=typeQueue.shift();if(type.pattern)throw new Error("You cannot override a type's .pattern at runtime.");angular.extend($types[type.name],injector.invoke(type.def))}}function ParamSet(params){extend(this,params||{})}$$UMFP=this;var injector,isCaseInsensitive=!1,isStrictMode=!0,defaultSquashPolicy=!1,$types={},enqueue=!0,typeQueue=[],defaultTypes={string:{encode:valToString,decode:valFromString,is:function(val){return null==val||!isDefined(val)||"string"==typeof val},pattern:/[^\/]*/},"int":{encode:valToString,decode:function(val){return parseInt(val,10)},is:function(val){return isDefined(val)&&this.decode(val.toString())===val},pattern:/\d+/},bool:{encode:function(val){return val?1:0},decode:function(val){return 0!==parseInt(val,10)},is:function(val){return val===!0||val===!1},pattern:/0|1/},date:{encode:function(val){return this.is(val)?[val.getFullYear(),("0"+(val.getMonth()+1)).slice(-2),("0"+val.getDate()).slice(-2)].join("-"):undefined},decode:function(val){if(this.is(val))return val;var match=this.capture.exec(val);return match?new Date(match[1],match[2]-1,match[3]):undefined},is:function(val){return val instanceof Date&&!isNaN(val.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/
},json:{encode:angular.toJson,decode:angular.fromJson,is:angular.isObject,equals:angular.equals,pattern:/[^\/]*/},any:{encode:angular.identity,decode:angular.identity,equals:angular.equals,pattern:/.*/}};$UrlMatcherFactory.$$getDefaultValue=function(config){if(!isInjectable(config.value))return config.value;if(!injector)throw new Error("Injectable functions cannot be called at configuration time");return injector.invoke(config.value)},this.caseInsensitive=function(value){return isDefined(value)&&(isCaseInsensitive=value),isCaseInsensitive},this.strictMode=function(value){return isDefined(value)&&(isStrictMode=value),isStrictMode},this.defaultSquashPolicy=function(value){if(!isDefined(value))return defaultSquashPolicy;if(value!==!0&&value!==!1&&!isString(value))throw new Error("Invalid squash policy: "+value+". Valid policies: false, true, arbitrary-string");return defaultSquashPolicy=value,value},this.compile=function(pattern,config){return new UrlMatcher(pattern,extend(getDefaultConfig(),config))},this.isMatcher=function(o){if(!isObject(o))return!1;var result=!0;return forEach(UrlMatcher.prototype,function(val,name){isFunction(val)&&(result=result&&isDefined(o[name])&&isFunction(o[name]))}),result},this.type=function(name,definition,definitionFn){if(!isDefined(definition))return $types[name];if($types.hasOwnProperty(name))throw new Error("A type named '"+name+"' has already been defined.");return $types[name]=new Type(extend({name:name},definition)),definitionFn&&(typeQueue.push({name:name,def:definitionFn}),enqueue||flushTypeQueue()),this},forEach(defaultTypes,function(type,name){$types[name]=new Type(extend({name:name},type))}),$types=inherit($types,{}),this.$get=["$injector",function($injector){return injector=$injector,enqueue=!1,flushTypeQueue(),forEach(defaultTypes,function(type,name){$types[name]||($types[name]=new Type(type))}),this}],this.Param=function(id,type,config,location){function unwrapShorthand(config){var keys=isObject(config)?objectKeys(config):[],isShorthand=indexOf(keys,"value")===-1&&indexOf(keys,"type")===-1&&indexOf(keys,"squash")===-1&&indexOf(keys,"array")===-1;return isShorthand&&(config={value:config}),config.$$fn=isInjectable(config.value)?config.value:function(){return config.value},config}function getType(config,urlType,location){if(config.type&&urlType)throw new Error("Param '"+id+"' has two type configurations.");return urlType?urlType:config.type?angular.isString(config.type)?$types[config.type]:config.type instanceof Type?config.type:new Type(config.type):"config"===location?$types.any:$types.string}function getArrayMode(){var arrayDefaults={array:"search"===location&&"auto"},arrayParamNomenclature=id.match(/\[\]$/)?{array:!0}:{};return extend(arrayDefaults,arrayParamNomenclature,config).array}function getSquashPolicy(config,isOptional){var squash=config.squash;if(!isOptional||squash===!1)return!1;if(!isDefined(squash)||null==squash)return defaultSquashPolicy;if(squash===!0||isString(squash))return squash;throw new Error("Invalid squash policy: '"+squash+"'. Valid policies: false, true, or arbitrary string")}function getReplace(config,arrayMode,isOptional,squash){var replace,configuredKeys,defaultPolicy=[{from:"",to:isOptional||arrayMode?undefined:""},{from:null,to:isOptional||arrayMode?undefined:""}];return replace=isArray(config.replace)?config.replace:[],isString(squash)&&replace.push({from:squash,to:undefined}),configuredKeys=map(replace,function(item){return item.from}),filter(defaultPolicy,function(item){return indexOf(configuredKeys,item.from)===-1}).concat(replace)}function $$getDefaultValue(){if(!injector)throw new Error("Injectable functions cannot be called at configuration time");var defaultValue=injector.invoke(config.$$fn);if(null!==defaultValue&&defaultValue!==undefined&&!self.type.is(defaultValue))throw new Error("Default value ("+defaultValue+") for parameter '"+self.id+"' is not an instance of Type ("+self.type.name+")");return defaultValue}function $value(value){function hasReplaceVal(val){return function(obj){return obj.from===val}}function $replace(value){var replacement=map(filter(self.replace,hasReplaceVal(value)),function(obj){return obj.to});return replacement.length?replacement[0]:value}return value=$replace(value),isDefined(value)?self.type.$normalize(value):$$getDefaultValue()}function toString(){return"{Param:"+id+" "+type+" squash: '"+squash+"' optional: "+isOptional+"}"}var self=this;config=unwrapShorthand(config),type=getType(config,type,location);var arrayMode=getArrayMode();type=arrayMode?type.$asArray(arrayMode,"search"===location):type,"string"!==type.name||arrayMode||"path"!==location||config.value!==undefined||(config.value="");var isOptional=config.value!==undefined,squash=getSquashPolicy(config,isOptional),replace=getReplace(config,arrayMode,isOptional,squash);extend(this,{id:id,type:type,location:location,array:arrayMode,squash:squash,replace:replace,isOptional:isOptional,value:$value,dynamic:undefined,config:config,toString:toString})},ParamSet.prototype={$$new:function(){return inherit(this,extend(new ParamSet,{$$parent:this}))},$$keys:function(){for(var keys=[],chain=[],parent=this,ignore=objectKeys(ParamSet.prototype);parent;)chain.push(parent),parent=parent.$$parent;return chain.reverse(),forEach(chain,function(paramset){forEach(objectKeys(paramset),function(key){indexOf(keys,key)===-1&&indexOf(ignore,key)===-1&&keys.push(key)})}),keys},$$values:function(paramValues){var values={},self=this;return forEach(self.$$keys(),function(key){values[key]=self[key].value(paramValues&&paramValues[key])}),values},$$equals:function(paramValues1,paramValues2){var equal=!0,self=this;return forEach(self.$$keys(),function(key){var left=paramValues1&&paramValues1[key],right=paramValues2&&paramValues2[key];self[key].type.equals(left,right)||(equal=!1)}),equal},$$validates:function(paramValues){var i,param,rawVal,normalized,encoded,keys=this.$$keys();for(i=0;i<keys.length&&(param=this[keys[i]],rawVal=paramValues[keys[i]],rawVal!==undefined&&null!==rawVal||!param.isOptional);i++){if(normalized=param.type.$normalize(rawVal),!param.type.is(normalized))return!1;if(encoded=param.type.encode(normalized),angular.isString(encoded)&&!param.type.pattern.exec(encoded))return!1}return!0},$$parent:undefined},this.ParamSet=ParamSet}function $UrlRouterProvider($locationProvider,$urlMatcherFactory){function regExpPrefix(re){var prefix=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);return null!=prefix?prefix[1].replace(/\\(.)/g,"$1"):""}function interpolate(pattern,match){return pattern.replace(/\$(\$|\d{1,2})/,function(m,what){return match["$"===what?0:Number(what)]})}function handleIfMatch($injector,handler,match){if(!match)return!1;var result=$injector.invoke(handler,handler,{$match:match});return!isDefined(result)||result}function $get($location,$rootScope,$injector,$browser,$sniffer){function appendBasePath(url,isHtml5,absolute){return"/"===baseHref?url:isHtml5?baseHref.slice(0,-1)+url:absolute?baseHref.slice(1)+url:url}function update(evt){function check(rule){var handled=rule($injector,$location);return!!handled&&(isString(handled)&&$location.replace().url(handled),!0)}if(!evt||!evt.defaultPrevented){lastPushedUrl&&$location.url()===lastPushedUrl;lastPushedUrl=undefined;var i,n=rules.length;for(i=0;i<n;i++)if(check(rules[i]))return;otherwise&&check(otherwise)}}function listen(){return listener=listener||$rootScope.$on("$locationChangeSuccess",update)}var lastPushedUrl,baseHref=$browser.baseHref(),location=$location.url();return interceptDeferred||listen(),{sync:function(){update()},listen:function(){return listen()},update:function(read){return read?void(location=$location.url()):void($location.url()!==location&&($location.url(location),$location.replace()))},push:function(urlMatcher,params,options){var url=urlMatcher.format(params||{});null!==url&&params&&params["#"]&&(url+="#"+params["#"]),$location.url(url),lastPushedUrl=options&&options.$$avoidResync?$location.url():undefined,options&&options.replace&&$location.replace()},href:function(urlMatcher,params,options){if(!urlMatcher.validates(params))return null;var isHtml5=$locationProvider.html5Mode();angular.isObject(isHtml5)&&(isHtml5=isHtml5.enabled),isHtml5=isHtml5&&$sniffer.history;var url=urlMatcher.format(params);if(options=options||{},isHtml5||null===url||(url="#"+$locationProvider.hashPrefix()+url),null!==url&&params&&params["#"]&&(url+="#"+params["#"]),url=appendBasePath(url,isHtml5,options.absolute),!options.absolute||!url)return url;var slash=!isHtml5&&url?"/":"",port=$location.port();return port=80===port||443===port?"":":"+port,[$location.protocol(),"://",$location.host(),port,slash,url].join("")}}}var listener,rules=[],otherwise=null,interceptDeferred=!1;this.rule=function(rule){if(!isFunction(rule))throw new Error("'rule' must be a function");return rules.push(rule),this},this.otherwise=function(rule){if(isString(rule)){var redirect=rule;rule=function(){return redirect}}else if(!isFunction(rule))throw new Error("'rule' must be a function");return otherwise=rule,this},this.when=function(what,handler){var redirect,handlerIsString=isString(handler);if(isString(what)&&(what=$urlMatcherFactory.compile(what)),!handlerIsString&&!isFunction(handler)&&!isArray(handler))throw new Error("invalid 'handler' in when()");var strategies={matcher:function(what,handler){return handlerIsString&&(redirect=$urlMatcherFactory.compile(handler),handler=["$match",function($match){return redirect.format($match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path(),$location.search()))},{prefix:isString(what.prefix)?what.prefix:""})},regex:function(what,handler){if(what.global||what.sticky)throw new Error("when() RegExp must not be global or sticky");return handlerIsString&&(redirect=handler,handler=["$match",function($match){return interpolate(redirect,$match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path()))},{prefix:regExpPrefix(what)})}},check={matcher:$urlMatcherFactory.isMatcher(what),regex:what instanceof RegExp};for(var n in check)if(check[n])return this.rule(strategies[n](what,handler));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(defer){defer===undefined&&(defer=!0),interceptDeferred=defer},this.$get=$get,$get.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function $StateProvider($urlRouterProvider,$urlMatcherFactory){function isRelative(stateName){return 0===stateName.indexOf(".")||0===stateName.indexOf("^")}function findState(stateOrName,base){if(!stateOrName)return undefined;var isStr=isString(stateOrName),name=isStr?stateOrName:stateOrName.name,path=isRelative(name);if(path){if(!base)throw new Error("No reference point given for path '"+name+"'");base=findState(base);for(var rel=name.split("."),i=0,pathLength=rel.length,current=base;i<pathLength;i++)if(""!==rel[i]||0!==i){if("^"!==rel[i])break;if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+base.name+"'");current=current.parent}else current=base;rel=rel.slice(i).join("."),name=current.name+(current.name&&rel?".":"")+rel}var state=states[name];return!state||!isStr&&(isStr||state!==stateOrName&&state.self!==stateOrName)?undefined:state}function queueState(parentName,state){queue[parentName]||(queue[parentName]=[]),queue[parentName].push(state)}function flushQueuedChildren(parentName){for(var queued=queue[parentName]||[];queued.length;)registerState(queued.shift())}function registerState(state){state=inherit(state,{self:state,resolve:state.resolve||{},toString:function(){return this.name}});var name=state.name;if(!isString(name)||name.indexOf("@")>=0)throw new Error("State must have a valid name");if(states.hasOwnProperty(name))throw new Error("State '"+name+"' is already defined");var parentName=name.indexOf(".")!==-1?name.substring(0,name.lastIndexOf(".")):isString(state.parent)?state.parent:isObject(state.parent)&&isString(state.parent.name)?state.parent.name:"";if(parentName&&!states[parentName])return queueState(parentName,state.self);for(var key in stateBuilder)isFunction(stateBuilder[key])&&(state[key]=stateBuilder[key](state,stateBuilder.$delegates[key]));return states[name]=state,!state[abstractKey]&&state.url&&$urlRouterProvider.when(state.url,["$match","$stateParams",function($match,$stateParams){$state.$current.navigable==state&&equalForKeys($match,$stateParams)||$state.transitionTo(state,$match,{inherit:!0,location:!1})}]),flushQueuedChildren(name),state}function isGlob(text){return text.indexOf("*")>-1}function doesStateMatchGlob(glob){for(var globSegments=glob.split("."),segments=$state.$current.name.split("."),i=0,l=globSegments.length;i<l;i++)"*"===globSegments[i]&&(segments[i]="*");return"**"===globSegments[0]&&(segments=segments.slice(indexOf(segments,globSegments[1])),segments.unshift("**")),"**"===globSegments[globSegments.length-1]&&(segments.splice(indexOf(segments,globSegments[globSegments.length-2])+1,Number.MAX_VALUE),segments.push("**")),globSegments.length==segments.length&&segments.join("")===globSegments.join("")}function decorator(name,func){return isString(name)&&!isDefined(func)?stateBuilder[name]:isFunction(func)&&isString(name)?(stateBuilder[name]&&!stateBuilder.$delegates[name]&&(stateBuilder.$delegates[name]=stateBuilder[name]),stateBuilder[name]=func,this):this}function state(name,definition){return isObject(name)?definition=name:definition.name=name,registerState(definition),this}function $get($rootScope,$q,$view,$injector,$resolve,$stateParams,$urlRouter,$location,$urlMatcherFactory){function handleRedirect(redirect,state,params,options){var evt=$rootScope.$broadcast("$stateNotFound",redirect,state,params);if(evt.defaultPrevented)return $urlRouter.update(),TransitionAborted;if(!evt.retry)return null;if(options.$retry)return $urlRouter.update(),TransitionFailed;var retryTransition=$state.transition=$q.when(evt.retry);return retryTransition.then(function(){return retryTransition!==$state.transition?TransitionSuperseded:(redirect.options.$retry=!0,$state.transitionTo(redirect.to,redirect.toParams,redirect.options))},function(){return TransitionAborted}),$urlRouter.update(),retryTransition}function resolveState(state,params,paramsAreFiltered,inherited,dst,options){function resolveViews(){var viewsPromises=[];return forEach(state.views,function(view,name){var injectables=view.resolve&&view.resolve!==state.resolve?view.resolve:{};injectables.$template=[function(){return $view.load(name,{view:view,locals:dst.globals,params:$stateParams,notify:options.notify})||""}],viewsPromises.push($resolve.resolve(injectables,dst.globals,dst.resolve,state).then(function(result){if(isFunction(view.controllerProvider)||isArray(view.controllerProvider)){var injectLocals=angular.extend({},injectables,dst.globals);result.$$controller=$injector.invoke(view.controllerProvider,null,injectLocals)}else result.$$controller=view.controller;result.$$state=state,result.$$controllerAs=view.controllerAs,dst[name]=result}))}),$q.all(viewsPromises).then(function(){return dst.globals})}var $stateParams=paramsAreFiltered?params:filterByKeys(state.params.$$keys(),params),locals={$stateParams:$stateParams};dst.resolve=$resolve.resolve(state.resolve,locals,dst.resolve,state);var promises=[dst.resolve.then(function(globals){dst.globals=globals})];return inherited&&promises.push(inherited),$q.all(promises).then(resolveViews).then(function(values){return dst})}var TransitionSuperseded=$q.reject(new Error("transition superseded")),TransitionPrevented=$q.reject(new Error("transition prevented")),TransitionAborted=$q.reject(new Error("transition aborted")),TransitionFailed=$q.reject(new Error("transition failed"));return root.locals={resolve:null,globals:{$stateParams:{}}},$state={params:{},current:root.self,$current:root,transition:null},$state.reload=function(state){return $state.transitionTo($state.current,$stateParams,{reload:state||!0,inherit:!1,notify:!0})},$state.go=function(to,params,options){return $state.transitionTo(to,params,extend({inherit:!0,relative:$state.$current},options))},$state.transitionTo=function(to,toParams,options){toParams=toParams||{},options=extend({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},options||{});var evt,from=$state.$current,fromParams=$state.params,fromPath=from.path,toState=findState(to,options.relative),hash=toParams["#"];if(!isDefined(toState)){var redirect={to:to,toParams:toParams,options:options},redirectResult=handleRedirect(redirect,from.self,fromParams,options);if(redirectResult)return redirectResult;if(to=redirect.to,toParams=redirect.toParams,options=redirect.options,toState=findState(to,options.relative),!isDefined(toState)){if(!options.relative)throw new Error("No such state '"+to+"'");throw new Error("Could not resolve '"+to+"' from state '"+options.relative+"'")}}if(toState[abstractKey])throw new Error("Cannot transition to abstract state '"+to+"'");if(options.inherit&&(toParams=inheritParams($stateParams,toParams||{},$state.$current,toState)),!toState.params.$$validates(toParams))return TransitionFailed;toParams=toState.params.$$values(toParams),to=toState;var toPath=to.path,keep=0,state=toPath[keep],locals=root.locals,toLocals=[];if(options.reload){if(isString(options.reload)||isObject(options.reload)){if(isObject(options.reload)&&!options.reload.name)throw new Error("Invalid reload state object");var reloadState=options.reload===!0?fromPath[0]:findState(options.reload);if(options.reload&&!reloadState)throw new Error("No such reload state '"+(isString(options.reload)?options.reload:options.reload.name)+"'");for(;state&&state===fromPath[keep]&&state!==reloadState;)locals=toLocals[keep]=state.locals,keep++,state=toPath[keep]}}else for(;state&&state===fromPath[keep]&&state.ownParams.$$equals(toParams,fromParams);)locals=toLocals[keep]=state.locals,keep++,state=toPath[keep];if(shouldSkipReload(to,toParams,from,fromParams,locals,options))return hash&&(toParams["#"]=hash),$state.params=toParams,copy($state.params,$stateParams),copy(filterByKeys(to.params.$$keys(),$stateParams),to.locals.globals.$stateParams),options.location&&to.navigable&&to.navigable.url&&($urlRouter.push(to.navigable.url,toParams,{$$avoidResync:!0,replace:"replace"===options.location}),$urlRouter.update(!0)),$state.transition=null,$q.when($state.current);if(toParams=filterByKeys(to.params.$$keys(),toParams||{}),hash&&(toParams["#"]=hash),options.notify&&$rootScope.$broadcast("$stateChangeStart",to.self,toParams,from.self,fromParams,options).defaultPrevented)return $rootScope.$broadcast("$stateChangeCancel",to.self,toParams,from.self,fromParams),null==$state.transition&&$urlRouter.update(),TransitionPrevented;for(var resolved=$q.when(locals),l=keep;l<toPath.length;l++,state=toPath[l])locals=toLocals[l]=inherit(locals),resolved=resolveState(state,toParams,state===to,resolved,locals,options);var transition=$state.transition=resolved.then(function(){var l,entering,exiting;if($state.transition!==transition)return TransitionSuperseded;for(l=fromPath.length-1;l>=keep;l--)exiting=fromPath[l],exiting.self.onExit&&$injector.invoke(exiting.self.onExit,exiting.self,exiting.locals.globals),exiting.locals=null;for(l=keep;l<toPath.length;l++)entering=toPath[l],entering.locals=toLocals[l],entering.self.onEnter&&$injector.invoke(entering.self.onEnter,entering.self,entering.locals.globals);return $state.transition!==transition?TransitionSuperseded:($state.$current=to,$state.current=to.self,$state.params=toParams,copy($state.params,$stateParams),$state.transition=null,options.location&&to.navigable&&$urlRouter.push(to.navigable.url,to.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===options.location}),options.notify&&$rootScope.$broadcast("$stateChangeSuccess",to.self,toParams,from.self,fromParams),$urlRouter.update(!0),$state.current)},function(error){return $state.transition!==transition?TransitionSuperseded:($state.transition=null,evt=$rootScope.$broadcast("$stateChangeError",to.self,toParams,from.self,fromParams,error),evt.defaultPrevented||$urlRouter.update(),$q.reject(error))});return transition},$state.is=function(stateOrName,params,options){options=extend({relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);return isDefined(state)?$state.$current===state&&(!params||equalForKeys(state.params.$$values(params),$stateParams)):undefined},$state.includes=function(stateOrName,params,options){if(options=extend({relative:$state.$current},options||{}),isString(stateOrName)&&isGlob(stateOrName)){if(!doesStateMatchGlob(stateOrName))return!1;stateOrName=$state.$current.name}var state=findState(stateOrName,options.relative);return isDefined(state)?!!isDefined($state.$current.includes[state.name])&&(!params||equalForKeys(state.params.$$values(params),$stateParams,objectKeys(params))):undefined},$state.href=function(stateOrName,params,options){options=extend({lossy:!0,inherit:!0,absolute:!1,relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);if(!isDefined(state))return null;options.inherit&&(params=inheritParams($stateParams,params||{},$state.$current,state));var nav=state&&options.lossy?state.navigable:state;return nav&&nav.url!==undefined&&null!==nav.url?$urlRouter.href(nav.url,filterByKeys(state.params.$$keys().concat("#"),params||{}),{absolute:options.absolute}):null},$state.get=function(stateOrName,context){if(0===arguments.length)return map(objectKeys(states),function(name){return states[name].self});var state=findState(stateOrName,context||$state.$current);return state&&state.self?state.self:null},$state}function shouldSkipReload(to,toParams,from,fromParams,locals,options){function nonSearchParamsEqual(fromAndToState,fromParams,toParams){function notSearchParam(key){return"search"!=fromAndToState.params[key].location}var nonQueryParamKeys=fromAndToState.params.$$keys().filter(notSearchParam),nonQueryParams=pick.apply({},[fromAndToState.params].concat(nonQueryParamKeys)),nonQueryParamSet=new $$UMFP.ParamSet(nonQueryParams);return nonQueryParamSet.$$equals(fromParams,toParams)}if(!options.reload&&to===from&&(locals===from.locals||to.self.reloadOnSearch===!1&&nonSearchParamsEqual(from,fromParams,toParams)))return!0}var root,$state,states={},queue={},abstractKey="abstract",stateBuilder={parent:function(state){if(isDefined(state.parent)&&state.parent)return findState(state.parent);var compositeName=/^(.+)\.[^.]+$/.exec(state.name);return compositeName?findState(compositeName[1]):root},data:function(state){return state.parent&&state.parent.data&&(state.data=state.self.data=inherit(state.parent.data,state.data)),state.data},url:function(state){var url=state.url,config={params:state.params||{}};if(isString(url))return"^"==url.charAt(0)?$urlMatcherFactory.compile(url.substring(1),config):(state.parent.navigable||root).url.concat(url,config);if(!url||$urlMatcherFactory.isMatcher(url))return url;throw new Error("Invalid url '"+url+"' in state '"+state+"'")},navigable:function(state){return state.url?state:state.parent?state.parent.navigable:null},ownParams:function(state){var params=state.url&&state.url.params||new $$UMFP.ParamSet;return forEach(state.params||{},function(config,id){params[id]||(params[id]=new $$UMFP.Param(id,null,config,"config"))}),params},params:function(state){var ownParams=pick(state.ownParams,state.ownParams.$$keys());return state.parent&&state.parent.params?extend(state.parent.params.$$new(),ownParams):new $$UMFP.ParamSet},views:function(state){var views={};return forEach(isDefined(state.views)?state.views:{"":state},function(view,name){name.indexOf("@")<0&&(name+="@"+state.parent.name),views[name]=view}),views},path:function(state){return state.parent?state.parent.path.concat(state):[]},includes:function(state){var includes=state.parent?extend({},state.parent.includes):{};return includes[state.name]=!0,includes},$delegates:{}};root=registerState({name:"",url:"^",views:null,"abstract":!0}),root.navigable=null,this.decorator=decorator,this.state=state,this.$get=$get,$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $ViewProvider(){function $get($rootScope,$templateFactory){return{load:function(name,options){var result,defaults={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return options=extend(defaults,options),options.view&&(result=$templateFactory.fromConfig(options.view,options.params,options.locals)),result}}}this.$get=$get,$get.$inject=["$rootScope","$templateFactory"]}function $ViewScrollProvider(){var useAnchorScroll=!1;this.useAnchorScroll=function(){useAnchorScroll=!0},this.$get=["$anchorScroll","$timeout",function($anchorScroll,$timeout){return useAnchorScroll?$anchorScroll:function($element){return $timeout(function(){$element[0].scrollIntoView()},0,!1)}}]}function $ViewDirective($state,$injector,$uiViewScroll,$interpolate){function getService(){return $injector.has?function(service){return $injector.has(service)?$injector.get(service):null}:function(service){try{return $injector.get(service)}catch(e){return null}}}function getRenderer(attrs,scope){function animEnabled(element){return 1===ngMajorVer&&ngMinorVer>=4?!!$animate.enabled(element):1===ngMajorVer&&ngMinorVer>=2?!!$animate.enabled():!!$animator}var statics={enter:function(element,target,cb){target.after(element),cb()},leave:function(element,cb){element.remove(),cb()}};if(attrs.noanimation)return statics;if($animate)return{enter:function(element,target,cb){animEnabled(element)?angular.version.minor>2?$animate.enter(element,null,target).then(cb):$animate.enter(element,null,target,cb):statics.enter(element,target,cb)},leave:function(element,cb){animEnabled(element)?angular.version.minor>2?$animate.leave(element).then(cb):$animate.leave(element,cb):statics.leave(element,cb)}};if($animator){var animate=$animator&&$animator(scope,attrs);return{enter:function(element,target,cb){animate.enter(element,null,target),cb()},leave:function(element,cb){animate.leave(element),cb()}}}return statics}var service=getService(),$animator=service("$animator"),$animate=service("$animate"),directive={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(tElement,tAttrs,$transclude){return function(scope,$element,attrs){function cleanupLastView(){function cleanOld(){_previousEl&&_previousEl.remove(),_currentScope&&_currentScope.$destroy()}var _previousEl=previousEl,_currentScope=currentScope;_currentScope&&(_currentScope._willBeDestroyed=!0),currentEl?(renderer.leave(currentEl,function(){cleanOld(),previousEl=null}),previousEl=currentEl):(cleanOld(),previousEl=null),currentEl=null,currentScope=null}function updateView(firstTime){var newScope,name=getUiViewName(scope,attrs,$element,$interpolate),previousLocals=name&&$state.$current&&$state.$current.locals[name];if((firstTime||previousLocals!==latestLocals)&&!scope._willBeDestroyed){newScope=scope.$new(),latestLocals=$state.$current.locals[name],newScope.$emit("$viewContentLoading",name);var clone=$transclude(newScope,function(clone){renderer.enter(clone,$element,function(){currentScope&&currentScope.$emit("$viewContentAnimationEnded"),(angular.isDefined(autoScrollExp)&&!autoScrollExp||scope.$eval(autoScrollExp))&&$uiViewScroll(clone)}),cleanupLastView()});currentEl=clone,currentScope=newScope,currentScope.$emit("$viewContentLoaded",name),currentScope.$eval(onloadExp)}}var previousEl,currentEl,currentScope,latestLocals,onloadExp=attrs.onload||"",autoScrollExp=attrs.autoscroll,renderer=getRenderer(attrs,scope);scope.$on("$stateChangeSuccess",function(){updateView(!1)}),updateView(!0)}}};return directive}function $ViewDirectiveFill($compile,$controller,$state,$interpolate){return{restrict:"ECA",priority:-400,compile:function(tElement){var initial=tElement.html();return function(scope,$element,attrs){var current=$state.$current,name=getUiViewName(scope,attrs,$element,$interpolate),locals=current&&current.locals[name];if(locals){$element.data("$uiView",{name:name,state:locals.$$state}),$element.html(locals.$template?locals.$template:initial);var link=$compile($element.contents());if(locals.$$controller){locals.$scope=scope,locals.$element=$element;var controller=$controller(locals.$$controller,locals);locals.$$controllerAs&&(scope[locals.$$controllerAs]=controller),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)}link(scope)}}}}}function getUiViewName(scope,attrs,element,$interpolate){var name=$interpolate(attrs.uiView||attrs.name||"")(scope),inherited=element.inheritedData("$uiView");return name.indexOf("@")>=0?name:name+"@"+(inherited?inherited.state.name:"")}function parseStateRef(ref,current){var parsed,preparsed=ref.match(/^\s*({[^}]*})\s*$/);if(preparsed&&(ref=current+"("+preparsed[1]+")"),parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!parsed||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1],paramExpr:parsed[3]||null}}function stateContext(el){var stateData=el.parent().inheritedData("$uiView");if(stateData&&stateData.state&&stateData.state.name)return stateData.state}function getTypeInfo(el){var isSvg="[object SVGAnimatedString]"===Object.prototype.toString.call(el.prop("href")),isForm="FORM"===el[0].nodeName;return{attr:isForm?"action":isSvg?"xlink:href":"href",isAnchor:"A"===el.prop("tagName").toUpperCase(),clickable:!isForm}}function clickHook(el,$state,$timeout,type,current){return function(e){var button=e.which||e.button,target=current();if(!(button>1||e.ctrlKey||e.metaKey||e.shiftKey||el.attr("target"))){var transition=$timeout(function(){$state.go(target.state,target.params,target.options)});e.preventDefault();var ignorePreventDefaultCount=type.isAnchor&&!target.href?1:0;e.preventDefault=function(){ignorePreventDefaultCount--<=0&&$timeout.cancel(transition)}}}}function defaultOpts(el,$state){return{relative:stateContext(el)||$state.$current,inherit:!0}}function $StateRefDirective($state,$timeout){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){var ref=parseStateRef(attrs.uiSref,$state.current.name),def={state:ref.state,href:null,params:null},type=getTypeInfo(element),active=uiSrefActive[1]||uiSrefActive[0];def.options=extend(defaultOpts(element,$state),attrs.uiSrefOpts?scope.$eval(attrs.uiSrefOpts):{});var update=function(val){val&&(def.params=angular.copy(val)),def.href=$state.href(ref.state,def.params,def.options),active&&active.$$addStateInfo(ref.state,def.params),null!==def.href&&attrs.$set(type.attr,def.href)};ref.paramExpr&&(scope.$watch(ref.paramExpr,function(val){val!==def.params&&update(val)},!0),def.params=angular.copy(scope.$eval(ref.paramExpr))),update(),type.clickable&&element.bind("click",clickHook(element,$state,$timeout,type,function(){return def}))}}}function $StateRefDynamicDirective($state,$timeout){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){function runStateRefLink(group){def.state=group[0],def.params=group[1],def.options=group[2],def.href=$state.href(def.state,def.params,def.options),active&&active.$$addStateInfo(def.state,def.params),def.href&&attrs.$set(type.attr,def.href)}var type=getTypeInfo(element),active=uiSrefActive[1]||uiSrefActive[0],group=[attrs.uiState,attrs.uiStateParams||null,attrs.uiStateOpts||null],watch="["+group.map(function(val){return val||"null"}).join(", ")+"]",def={state:null,params:null,options:null,href:null};scope.$watch(watch,runStateRefLink,!0),runStateRefLink(scope.$eval(watch)),type.clickable&&element.bind("click",clickHook(element,$state,$timeout,type,function(){return def}))}}}function $StateRefActiveDirective($state,$stateParams,$interpolate){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function($scope,$element,$attrs,$timeout){
function addState(stateName,stateParams,activeClass){var state=$state.get(stateName,stateContext($element)),stateHash=createStateHash(stateName,stateParams);states.push({state:state||{name:stateName},params:stateParams,hash:stateHash}),activeClasses[stateHash]=activeClass}function createStateHash(state,params){if(!isString(state))throw new Error("state should be a string");return isObject(params)?state+toJson(params):(params=$scope.$eval(params),isObject(params)?state+toJson(params):state)}function update(){for(var i=0;i<states.length;i++)anyMatch(states[i].state,states[i].params)?addClass($element,activeClasses[states[i].hash]):removeClass($element,activeClasses[states[i].hash]),exactMatch(states[i].state,states[i].params)?addClass($element,activeEqClass):removeClass($element,activeEqClass)}function addClass(el,className){$timeout(function(){el.addClass(className)})}function removeClass(el,className){el.removeClass(className)}function anyMatch(state,params){return $state.includes(state.name,params)}function exactMatch(state,params){return $state.is(state.name,params)}var activeEqClass,uiSrefActive,states=[],activeClasses={};activeEqClass=$interpolate($attrs.uiSrefActiveEq||"",!1)($scope);try{uiSrefActive=$scope.$eval($attrs.uiSrefActive)}catch(e){}uiSrefActive=uiSrefActive||$interpolate($attrs.uiSrefActive||"",!1)($scope),isObject(uiSrefActive)&&forEach(uiSrefActive,function(stateOrName,activeClass){if(isString(stateOrName)){var ref=parseStateRef(stateOrName,$state.current.name);addState(ref.state,$scope.$eval(ref.paramExpr),activeClass)}}),this.$$addStateInfo=function(newState,newParams){isObject(uiSrefActive)&&states.length>0||(addState(newState,newParams,uiSrefActive),update())},$scope.$on("$stateChangeSuccess",update),update()}]}}function $IsStateFilter($state){var isFilter=function(state,params){return $state.is(state,params)};return isFilter.$stateful=!0,isFilter}function $IncludedByStateFilter($state){var includesFilter=function(state,params,options){return $state.includes(state,params,options)};return includesFilter.$stateful=!0,includesFilter}var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,toJson=angular.toJson;angular.module("ui.router.util",["ng"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util"]),angular.module("ui.router",["ui.router.state"]),angular.module("ui.router.compat",["ui.router"]),$Resolve.$inject=["$q","$injector"],angular.module("ui.router.util").service("$resolve",$Resolve),$TemplateFactory.$inject=["$http","$templateCache","$injector"],angular.module("ui.router.util").service("$templateFactory",$TemplateFactory);var $$UMFP;UrlMatcher.prototype.concat=function(pattern,config){var defaultConfig={caseInsensitive:$$UMFP.caseInsensitive(),strict:$$UMFP.strictMode(),squash:$$UMFP.defaultSquashPolicy()};return new UrlMatcher(this.sourcePath+pattern+this.sourceSearch,extend(defaultConfig,config),this)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(path,searchParams){function decodePathArray(string){function reverseString(str){return str.split("").reverse().join("")}function unquoteDashes(str){return str.replace(/\\-/g,"-")}var split=reverseString(string).split(/-(?!\\)/),allReversed=map(split,reverseString);return map(allReversed,unquoteDashes).reverse()}var m=this.regexp.exec(path);if(!m)return null;searchParams=searchParams||{};var i,j,paramName,paramNames=this.parameters(),nTotal=paramNames.length,nPath=this.segments.length-1,values={};if(nPath!==m.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var param,paramVal;for(i=0;i<nPath;i++){for(paramName=paramNames[i],param=this.params[paramName],paramVal=m[i+1],j=0;j<param.replace.length;j++)param.replace[j].from===paramVal&&(paramVal=param.replace[j].to);paramVal&&param.array===!0&&(paramVal=decodePathArray(paramVal)),isDefined(paramVal)&&(paramVal=param.type.decode(paramVal)),values[paramName]=param.value(paramVal)}for(;i<nTotal;i++){for(paramName=paramNames[i],values[paramName]=this.params[paramName].value(searchParams[paramName]),param=this.params[paramName],paramVal=searchParams[paramName],j=0;j<param.replace.length;j++)param.replace[j].from===paramVal&&(paramVal=param.replace[j].to);isDefined(paramVal)&&(paramVal=param.type.decode(paramVal)),values[paramName]=param.value(paramVal)}return values},UrlMatcher.prototype.parameters=function(param){return isDefined(param)?this.params[param]||null:this.$$paramNames},UrlMatcher.prototype.validates=function(params){return this.params.$$validates(params)},UrlMatcher.prototype.format=function(values){function encodeDashes(str){return encodeURIComponent(str).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})}values=values||{};var segments=this.segments,params=this.parameters(),paramset=this.params;if(!this.validates(values))return null;var i,search=!1,nPath=segments.length-1,nTotal=params.length,result=segments[0];for(i=0;i<nTotal;i++){var isPathParam=i<nPath,name=params[i],param=paramset[name],value=param.value(values[name]),isDefaultValue=param.isOptional&&param.type.equals(param.value(),value),squash=!!isDefaultValue&&param.squash,encoded=param.type.encode(value);if(isPathParam){var nextSegment=segments[i+1],isFinalPathParam=i+1===nPath;if(squash===!1)null!=encoded&&(result+=isArray(encoded)?map(encoded,encodeDashes).join("-"):encodeURIComponent(encoded)),result+=nextSegment;else if(squash===!0){var capture=result.match(/\/$/)?/\/?(.*)/:/(.*)/;result+=nextSegment.match(capture)[1]}else isString(squash)&&(result+=squash+nextSegment);isFinalPathParam&&param.squash===!0&&"/"===result.slice(-1)&&(result=result.slice(0,-1))}else{if(null==encoded||isDefaultValue&&squash!==!1)continue;if(isArray(encoded)||(encoded=[encoded]),0===encoded.length)continue;encoded=map(encoded,encodeURIComponent).join("&"+name+"="),result+=(search?"&":"?")+(name+"="+encoded),search=!0}}return result},Type.prototype.is=function(val,key){return!0},Type.prototype.encode=function(val,key){return val},Type.prototype.decode=function(val,key){return val},Type.prototype.equals=function(a,b){return a==b},Type.prototype.$subPattern=function(){var sub=this.pattern.toString();return sub.substr(1,sub.length-2)},Type.prototype.pattern=/.*/,Type.prototype.toString=function(){return"{Type:"+this.name+"}"},Type.prototype.$normalize=function(val){return this.is(val)?val:this.decode(val)},Type.prototype.$asArray=function(mode,isSearch){function ArrayType(type,mode){function bindTo(type,callbackName){return function(){return type[callbackName].apply(type,arguments)}}function arrayWrap(val){return isArray(val)?val:isDefined(val)?[val]:[]}function arrayUnwrap(val){switch(val.length){case 0:return undefined;case 1:return"auto"===mode?val[0]:val;default:return val}}function falsey(val){return!val}function arrayHandler(callback,allTruthyMode){return function(val){if(isArray(val)&&0===val.length)return val;val=arrayWrap(val);var result=map(val,callback);return allTruthyMode===!0?0===filter(result,falsey).length:arrayUnwrap(result)}}function arrayEqualsHandler(callback){return function(val1,val2){var left=arrayWrap(val1),right=arrayWrap(val2);if(left.length!==right.length)return!1;for(var i=0;i<left.length;i++)if(!callback(left[i],right[i]))return!1;return!0}}this.encode=arrayHandler(bindTo(type,"encode")),this.decode=arrayHandler(bindTo(type,"decode")),this.is=arrayHandler(bindTo(type,"is"),!0),this.equals=arrayEqualsHandler(bindTo(type,"equals")),this.pattern=type.pattern,this.$normalize=arrayHandler(bindTo(type,"$normalize")),this.name=type.name,this.$arrayMode=mode}if(!mode)return this;if("auto"===mode&&!isSearch)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,mode)},angular.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory),angular.module("ui.router.util").run(["$urlMatcherFactory",function($urlMatcherFactory){}]),$UrlRouterProvider.$inject=["$locationProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",$StateProvider),$ViewProvider.$inject=[],angular.module("ui.router.state").provider("$view",$ViewProvider),angular.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider);var ngMajorVer=angular.version.major,ngMinorVer=angular.version.minor;$ViewDirective.$inject=["$state","$injector","$uiViewScroll","$interpolate"],$ViewDirectiveFill.$inject=["$compile","$controller","$state","$interpolate"],angular.module("ui.router.state").directive("uiView",$ViewDirective),angular.module("ui.router.state").directive("uiView",$ViewDirectiveFill),$StateRefDirective.$inject=["$state","$timeout"],$StateRefDynamicDirective.$inject=["$state","$timeout"],$StateRefActiveDirective.$inject=["$state","$stateParams","$interpolate"],angular.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateRefActiveDirective).directive("uiSrefActiveEq",$StateRefActiveDirective).directive("uiState",$StateRefDynamicDirective),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],angular.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter)}(window,window.angular)},{}],168:[function(require,module,exports){!function(window,document,undefined){"use strict";function minErr(module,ErrorConstructor){return ErrorConstructor=ErrorConstructor||Error,function(){var paramPrefix,i,SKIP_INDEXES=2,templateArgs=arguments,code=templateArgs[0],message="["+(module?module+":":"")+code+"] ",template=templateArgs[1];for(message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1),shiftedIndex=index+SKIP_INDEXES;return shiftedIndex<templateArgs.length?toDebugString(templateArgs[shiftedIndex]):match}),message+="\nhttp://errors.angularjs.org/1.4.9/"+(module?module+"/":"")+code,i=SKIP_INDEXES,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="&")message+=paramPrefix+"p"+(i-SKIP_INDEXES)+"="+encodeURIComponent(toDebugString(templateArgs[i]));return new ErrorConstructor(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;if(isArray(obj)||isString(obj)||jqLite&&obj instanceof jqLite)return!0;var length="length"in Object(obj)&&obj.length;return isNumber(length)&&(length>=0&&(length-1 in obj||obj instanceof Array)||"function"==typeof obj.item)}function forEach(obj,iterator,context){var key,length;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key,obj);else if(isArray(obj)||isArrayLike(obj)){var isPrimitive="object"!=typeof obj;for(key=0,length=obj.length;key<length;key++)(isPrimitive||key in obj)&&iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else if(isBlankObject(obj))for(key in obj)iterator.call(context,obj[key],key,obj);else if("function"==typeof obj.hasOwnProperty)for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);else for(key in obj)hasOwnProperty.call(obj,key)&&iterator.call(context,obj[key],key,obj);return obj}function forEachSorted(obj,iterator,context){for(var keys=Object.keys(obj).sort(),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function baseExtend(dst,objs,deep){for(var h=dst.$$hashKey,i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(isObject(obj)||isFunction(obj))for(var keys=Object.keys(obj),j=0,jj=keys.length;j<jj;j++){var key=keys[j],src=obj[key];deep&&isObject(src)?isDate(src)?dst[key]=new Date(src.valueOf()):isRegExp(src)?dst[key]=new RegExp(src):src.nodeName?dst[key]=src.cloneNode(!0):isElement(src)?dst[key]=src.clone():(isObject(dst[key])||(dst[key]=isArray(src)?[]:{}),baseExtend(dst[key],[src],!0)):dst[key]=src}}return setHashKey(dst,h),dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),!1)}function merge(dst){return baseExtend(dst,slice.call(arguments,1),!0)}function toInt(str){return parseInt(str,10)}function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==toString}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!==value&&"object"==typeof value}function isBlankObject(value){return null!==value&&"object"==typeof value&&!getPrototypeOf(value)}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isFormData(obj){return"[object FormData]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isBoolean(value){return"boolean"==typeof value}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isTypedArray(value){return value&&isNumber(value.length)&&TYPED_ARRAY_REGEXP.test(toString.call(value))}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function arrayRemove(array,value){var index=array.indexOf(value);return index>=0&&array.splice(index,1),index}function copy(source,destination){function copyRecurse(source,destination){var key,h=destination.$$hashKey;if(isArray(source))for(var i=0,ii=source.length;i<ii;i++)destination.push(copyElement(source[i]));else if(isBlankObject(source))for(key in source)destination[key]=copyElement(source[key]);else if(source&&"function"==typeof source.hasOwnProperty)for(key in source)source.hasOwnProperty(key)&&(destination[key]=copyElement(source[key]));else for(key in source)hasOwnProperty.call(source,key)&&(destination[key]=copyElement(source[key]));return setHashKey(destination,h),destination}function copyElement(source){if(!isObject(source))return source;var index=stackSource.indexOf(source);if(index!==-1)return stackDest[index];if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var destination,needsRecurse=!1;return isArray(source)?(destination=[],needsRecurse=!0):isTypedArray(source)?destination=new source.constructor(source):isDate(source)?destination=new Date(source.getTime()):isRegExp(source)?(destination=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]),destination.lastIndex=source.lastIndex):isFunction(source.cloneNode)?destination=source.cloneNode(!0):(destination=Object.create(getPrototypeOf(source)),needsRecurse=!0),stackSource.push(source),stackDest.push(destination),needsRecurse?copyRecurse(source,destination):destination}var stackSource=[],stackDest=[];if(destination){if(isTypedArray(destination))throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");return isArray(destination)?destination.length=0:forEach(destination,function(value,key){"$$hashKey"!==key&&delete destination[key]}),stackSource.push(source),stackDest.push(destination),copyRecurse(source,destination)}return copyElement(source)}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key])}return dst||src}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return!!isDate(o2)&&equals(o1.getTime(),o2.getTime());if(isRegExp(o1))return!!isRegExp(o2)&&o1.toString()==o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return!1;keySet=createMap();for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!(key in keySet)&&"$"!==key.charAt(0)&&isDefined(o2[key])&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;key<length;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)&&"$"===key.charAt(1)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return"undefined"==typeof obj?undefined:(isNumber(pretty)||(pretty=pretty?2:null),JSON.stringify(obj,toJsonReplacer,pretty))}function fromJson(json){return isString(json)?JSON.parse(json):json}function timezoneToOffset(timezone,fallback){var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){return date=new Date(date.getTime()),date.setMinutes(date.getMinutes()+minutes),date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var timezoneOffset=timezoneToOffset(timezone,date.getTimezoneOffset());return addDateMinutes(date,reverse*(timezoneOffset-date.getTimezoneOffset()))}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var obj={};return forEach((keyValue||"").split("&"),function(keyValue){var splitPoint,key,val;keyValue&&(key=keyValue=keyValue.replace(/\+/g,"%20"),splitPoint=keyValue.indexOf("="),splitPoint!==-1&&(key=keyValue.substring(0,splitPoint),val=keyValue.substring(splitPoint+1)),key=tryDecodeURIComponent(key),isDefined(key)&&(val=!isDefined(val)||tryDecodeURIComponent(val),hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val))}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i)if(attr=ngAttrPrefixes[i]+ngAttr,isString(attr=element.getAttribute(attr)))return attr;return null}function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";!appElement&&element.hasAttribute&&element.hasAttribute(name)&&(appElement=element,module=element.getAttribute(name))}),forEach(ngAttrPrefixes,function(prefix){var candidate,name=prefix+"app";!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))&&(appElement=candidate,module=candidate.getAttribute(name))}),appElement&&(config.strictDi=null!==getNgAttribute(appElement,"strict-di"),bootstrap(appElement,module?[module]:[],config))}function bootstrap(element,modules,config){isObject(config)||(config={});var defaultConfig={strictDi:!1};config=extend(defaultConfig,config);var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),config.debugInfoEnabled&&modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!0)}]),modules.unshift("ng");var injector=createInjector(modules,config.strictDi);return injector.invoke(["$rootScope","$rootElement","$compile","$injector",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/,NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&NG_ENABLE_DEBUG_INFO.test(window.name)&&(config.debugInfoEnabled=!0,window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")),window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),angular.resumeBootstrap=function(extraModules){return forEach(extraModules,function(module){modules.push(module)}),doBootstrap()},void(isFunction(angular.resumeDeferredBootstrap)&&angular.resumeDeferredBootstrap()))}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name,window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector)throw ngMinErr("test","no injector found for element argument to getTestability");return injector.get("$$testability")}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){var originalCleanData;if(!bindJQueryFired){var jqName=jq();jQuery=isUndefined(jqName)?window.jQuery:jqName?window[jqName]:undefined,jQuery&&jQuery.fn.on?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),originalCleanData=jQuery.cleanData,jQuery.cleanData=function(elems){var events;if(skipDestroyOnNextJQueryCleanData)skipDestroyOnNextJQueryCleanData=!1;else for(var elem,i=0;null!=(elem=elems[i]);i++)events=jQuery._data(elem,"events"),events&&events.$destroy&&jQuery(elem).triggerHandler("$destroy");originalCleanData(elems)}):jqLite=JQLite,angular.element=jqLite,bindJQueryFired=!0}}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;i<len;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockNodes(nodes){for(var blockNodes,node=nodes[0],endNode=nodes[nodes.length-1],i=1;node!==endNode&&(node=node.nextSibling);i++)(blockNodes||nodes[i]!==node)&&(blockNodes||(blockNodes=jqLite(slice.call(nodes,0,i))),blockNodes.push(node));return blockNodes||nodes}function createMap(){return Object.create(null)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod,queue){return queue||(queue=invokeQueue),function(){return queue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}function invokeLaterAndSetModuleName(provider,method){return function(recipeName,factoryFunction){return factoryFunction&&isFunction(factoryFunction)&&(factoryFunction.$$moduleName=name),invokeQueue.push([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],configBlocks=[],runBlocks=[],config=invokeLater("$injector","invoke","push",configBlocks),moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator"),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function serializeObject(obj){var seen=[];return JSON.stringify(obj,function(key,val){if(val=toJsonReplacer(key,val),isObject(val)){if(seen.indexOf(val)>=0)return"...";seen.push(val)}return val})}function toDebugString(obj){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):isUndefined(obj)?"undefined":"string"!=typeof obj?serializeObject(obj):obj}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},getTestability:getTestability,$$minErr:minErr,$$csp:csp,reloadWithDebugInfo:reloadWithDebugInfo}),(angularModule=setupModuleLoader(window))("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateJs:$$CoreAnimateJsProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$AnimateRunnerFactoryProvider,$$animateAsyncRun:$$AnimateAsyncRunFactoryProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$HashMap:$$HashMapProvider,$$cookieReader:$$CookieReaderProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339])return!0;return!1}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,i,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase(),
wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2],i=wrap[0];i--;)tmp=tmp.lastChild;nodes=concat(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}return fragment.textContent="",fragment.innerHTML="",forEach(nodes,function(node){fragment.appendChild(node)}),fragment}function jqLiteParseHTML(html,context){context=context||document;var parsed;return(parsed=SINGLE_TAG_REGEXP.exec(html))?[context.createElement(parsed[1])]:(parsed=jqLiteBuildFragment(html,context))?parsed.childNodes:[]}function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)&&(element=trim(element),argIsString=!0),!(this instanceof JQLite)){if(argIsString&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}argIsString?jqLiteAddNodes(this,jqLiteParseHTML(element)):jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element,onlyDescendants){if(onlyDescendants||jqLiteRemoveData(element),element.querySelectorAll)for(var descendants=element.querySelectorAll("*"),i=0,l=descendants.length;i<l;i++)jqLiteRemoveData(descendants[i])}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,handle=expandoStore&&expandoStore.handle;if(handle)if(type){var removeHandler=function(type){var listenerFns=events[type];isDefined(fn)&&arrayRemove(listenerFns||[],fn),isDefined(fn)&&listenerFns&&listenerFns.length>0||(removeEventListenerFn(element,type,handle),delete events[type])};forEach(type.split(" "),function(type){removeHandler(type),MOUSE_EVENT_MAP[type]&&removeHandler(MOUSE_EVENT_MAP[type])})}else for(type in events)"$destroy"!==type&&removeEventListenerFn(element,type,handle),delete events[type]}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name)return void delete expandoStore.data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element.ng339=undefined}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];return createIfNecessary&&!expandoStore&&(element.ng339=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}),expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var isSimpleSetter=isDefined(value),isSimpleGetter=!isSimpleSetter&&key&&!isObject(key),massGetter=!key,expandoStore=jqLiteExpandoStore(element,!isSimpleGetter),data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[key]=value;else{if(massGetter)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}}function jqLiteHasClass(element,selector){return!!element.getAttribute&&(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),existingClasses.indexOf(" "+cssClass+" ")===-1&&(existingClasses+=cssClass+" ")}),element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){if(elements)if(elements.nodeType)root[root.length++]=elements;else{var length=elements.length;if("number"==typeof length&&elements.window!==elements){if(length)for(var i=0;i<length;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element.nodeType==NODE_TYPE_DOCUMENT&&(element=element.documentElement);for(var names=isArray(name)?name:[name];element;){for(var i=0,ii=names.length;i<ii;i++)if(isDefined(value=jqLite.data(element,names[i])))return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){for(jqLiteDealoc(element,!0);element.firstChild;)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){keepData||jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window,"complete"===win.document.readyState?win.setTimeout(action):jqLite(win).on("load",action)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(name){return ALIASED_ATTR[name]}function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type],eventFnsLength=eventFns?eventFns.length:0;if(eventFnsLength){if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=!0,event.stopPropagation&&event.stopPropagation(),originalStopImmediatePropagation&&originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===!0};var handlerWrapper=eventFns.specialHandlerWrapper||defaultHandlerWrapper;eventFnsLength>1&&(eventFns=shallowCopy(eventFns));for(var i=0;i<eventFnsLength;i++)event.isImmediatePropagationStopped()||handlerWrapper(element,event,eventFns[i])}};return eventHandler.elem=element,eventHandler}function defaultHandlerWrapper(element,event,handler){handler.call(element,event)}function specialMouseHandlerWrapper(target,event,handler){var related=event.relatedTarget;related&&(related===target||jqLiteContains.call(target,related))||handler.call(target,event)}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteHasClass(node,classes)},addClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteAddClass(node,classes)},removeClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key)return"function"==typeof key&&(key=obj.$$hashKey()),key;var objType=typeof obj;return key="function"==objType||"object"==objType&&null!==obj?obj.$$hashKey=objType+":"+(nextUidFn||nextUid)():objType+":"+obj}function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid}}forEach(array,this.put,this)}function anonFn(fn){var fnText=fn.toString().replace(STRIP_COMMENTS,""),args=fnText.match(FN_ARGS);return args?"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(fn,strictDi,name){var $inject,fnText,argDecl,last;if("function"==typeof fn){if(!($inject=fn.$inject)){if($inject=[],fn.length){if(strictDi)throw isString(name)&&name||(name=fn.name||anonFn(fn)),$injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name);fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0);return $inject}function createInjector(modulesToLoad,strictDi){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==!1?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),!1)}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),"modulesToLoad","not an array");var moduleFn,runBlocks=[];return forEach(modulesToLoad,function(module){function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}if(!loadedModules.get(module)){loadedModules.put(module,!0);try{isString(module)?(moduleFn=angularModule(module),runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),runInvokeQueue(moduleFn._invokeQueue),runInvokeQueue(moduleFn._configBlocks)):isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&e.stack.indexOf(e.message)==-1&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName,caller)}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function invoke(fn,self,locals,serviceName){"string"==typeof locals&&(serviceName=locals,locals=null);var length,i,key,args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(i=0,length=$inject.length;i<length;i++){if(key=$inject[i],"string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return isArray(fn)&&(fn=fn[length]),fn.apply(self,args)}function instantiate(Type,locals,serviceName){var instance=Object.create((isArray(Type)?Type[Type.length-1]:Type).prototype||null),returnedValue=invoke(Type,instance,locals,serviceName);return isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}strictDi=strictDi===!0;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap([],(!0)),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){throw angular.isString(caller)&&path.push(caller),$injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)});return forEach(loadModules(modulesToLoad),function(fn){fn&&instanceInjector.invoke(fn)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return Array.prototype.some.call(list,function(element){if("a"===nodeName_(element))return result=element,!0}),result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){var elem=offset[0],style=$window.getComputedStyle(elem);offset="fixed"!==style.position?0:elem.getBoundingClientRect().bottom}else isNumber(offset)||(offset=0);return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(hash){hash=isString(hash)?hash:$location.hash();var elm;hash?(elm=document.getElementById(hash))?scrollTo(elm):(elm=getFirstAnchor(document.getElementsByName(hash)))?scrollTo(elm):"top"===hash&&scrollTo(null):scrollTo(null)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(newVal,oldVal){newVal===oldVal&&""===newVal||jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})}),scroll}]}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE)return elm}}function splitClasses(classes){isString(classes)&&(classes=classes.split(" "));var obj=createMap();return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function getHash(url){var index=url.indexOf("#");return index===-1?"":url.substr(index)}function cacheStateAndFireUrlChange(){pendingLocation=null,cacheState(),fireUrlChange()}function getCurrentState(){try{return history.state}catch(e){}}function cacheState(){cachedState=getCurrentState(),cachedState=isUndefined(cachedState)?null:cachedState,equals(cachedState,lastCachedState)&&(cachedState=lastCachedState),lastCachedState=cachedState}function fireUrlChange(){lastBrowserUrl===self.url()&&lastHistoryState===cachedState||(lastBrowserUrl=self.url(),lastHistoryState=cachedState,forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)}))}var self=this,location=(document[0],window.location),history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),pendingLocation=null;cacheState(),lastHistoryState=cachedState,self.url=function(url,replace,state){if(isUndefined(state)&&(state=null),location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return self;var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);return lastBrowserUrl=url,lastHistoryState=state,!$sniffer.history||sameBase&&sameState?(sameBase&&!pendingLocation||(pendingLocation=url),replace?location.replace(url):sameBase?location.hash=getHash(url):location.href=url,location.href!==url&&(pendingLocation=url)):(history[replace?"replaceState":"pushState"](state,"",url),cacheState(),lastHistoryState=cachedState),self}return pendingLocation||location.href.replace(/%27/g,"'")},self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=!1,lastCachedState=null;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",cacheStateAndFireUrlChange),jqLite(window).on("hashchange",cacheStateAndFireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.$$applicationDestroyed=function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)},self.$$checkUrlChange=fireUrlChange,self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return!!pendingDeferIds[deferId]&&(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0)}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data=createMap(),capacity=options&&options.capacity||Number.MAX_VALUE,lruHash=createMap(),freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(!isUndefined(value)){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}return key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value}},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}key in data&&(delete data[key],size--)},removeAll:function(){data=createMap(),size=0,lruHash=createMap(),freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,bindings={};return forEach(scope,function(definition,scopeName){var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition");bindings[scopeName]={mode:match[1][0],collection:"*"===match[2],optional:"?"===match[3],attrName:match[4]||scopeName}}),bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)&&(directive.bindToController===!0?(bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,!0),bindings.isolateScope={}):bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,!1)),isObject(directive.bindToController)&&(bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,!0)),isObject(bindings.bindToController)){var controller=directive.controller,controllerAs=directive.controllerAs;if(!controller)throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName);if(!identifierForController(controller,controllerAs))throw $compileMinErr("noident","Cannot bind to controller without identifier for directive '{0}'.",directiveName)}return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter))throw $compileMinErr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",name);if(name!==name.trim())throw $compileMinErr("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name)}var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){return assertNotHasOwnProperty(name,"directive"),isString(name)?(assertValidDirectiveName(name),assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"EA";var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);isObject(bindings.isolateScope)&&(directive.$$isolateBindings=bindings.isolateScope),directive.$$moduleName=directiveFactory.$$moduleName,directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()};var debugInfoEnabled=!0;this.debugInfoEnabled=function(enabled){return isDefined(enabled)?(debugInfoEnabled=enabled,this):debugInfoEnabled},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$sce,$animate,$$sanitizeUri){function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){node.nodeType==NODE_TYPE_TEXT&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=jqLite(node).wrap("<span></span>").parent()[0])});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function(scope,cloneConnectFn,options){assertArg(scope,"scope"),previousCompileContext&&previousCompileContext.needsNewScope&&(scope=scope.$parent.$new()),options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude&&(parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude),namespace||(namespace=detectNamespaceForChildElements(futureParentElement));var $linkNode;if($linkNode="html"!==namespace?jqLite(wrapTemplate(namespace,jqLite("<div>").append($compileNodes).html())):cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes,transcludeControllers)for(var controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);return compile.$$addScopeInfo($linkNode,scope),cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn),$linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];return node&&"foreignobject"!==nodeName_(node)&&node.toString().match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn,stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;for(stableNodeList=new Array(nodeListLength),i=0;i<linkFns.length;i+=3)idx=linkFns[i],stableNodeList[idx]=nodeList[idx]}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;i<ii;)node=stableNodeList[linkFns[i++]],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn?(nodeLinkFn.scope?(childScope=scope.$new(),compile.$$addScopeInfo(jqLite(node),childScope)):childScope=scope,childBoundTranscludeFn=nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null,nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)):childLinkFn&&childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&compile.$$addScopeClass(attrs.$$element),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn),(nodeLinkFn||childLinkFn)&&(linkFns.push(i,nodeLinkFn,childLinkFn),linkFnFound=!0,nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn),previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){var boundTranscludeFn=function(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){return transcludedScope||(transcludedScope=scope.$new(!1,containingScope),transcludedScope.$$transcluded=!0),transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})};return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=!1,attrEndName=!1;attr=nAttrs[j],name=attr.name,value=trim(attr.value),ngAttrName=directiveNormalize(name),(isNgAttr=NG_ATTR_BINDING.test(ngAttrName))&&(name=name.replace(PREFIX_REGEXP,"").substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()}));var multiElementMatch=ngAttrName.match(MULTI_ELEMENT_DIR_RE);multiElementMatch&&directiveIsMultiElement(multiElementMatch[1])&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,!isNgAttr&&attrs.hasOwnProperty(nName)||(attrs[nName]=value,getBooleanAttrName(node,nName)&&(attrs[nName]=!0)),addAttrInterpolateDirective(node,directives,value,nName,isNgAttr),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}if(className=node.className,isObject(className)&&(className=className.animVal),isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case NODE_TYPE_TEXT:if(11===msie)for(;node.parentNode&&node.nextSibling&&node.nextSibling.nodeType===NODE_TYPE_TEXT;)node.nodeValue=node.nodeValue+node.nextSibling.nodeValue,node.parentNode.removeChild(node.nextSibling);addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);node.nodeType==NODE_TYPE_ELEMENT&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),
linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,pre.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,post.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP),name=require.substring(match[0].length),inheritType=match[1]||match[3],optional="?"===match[2];if("^^"===inheritType?$element=$element.parent():(value=elementControllers&&elementControllers[name],value=value&&value.instance),!value){var dataName="$"+name+"Controller";value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}if(!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",name,directiveName)}else if(isArray(require)){value=[];for(var i=0,ii=require.length;i<ii;i++)value[i]=getControllers(directiveName,require[i],$element,elementControllers)}return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey],locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn},controller=directive.controller;"@"==controller&&(controller=attrs[directive.name]);var controllerInstance=$controller(controller,locals,!0,directive.controllerAs);elementControllers[directive.name]=controllerInstance,hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement){var transcludeControllers;return isScope(scope)||(futureParentElement=cloneAttachFn,cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),futureParentElement||(futureParentElement=hasElementTranscludeDirective?$element.parent():$element),boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}var linkFn,isolateScope,controllerScope,elementControllers,transcludeFn,$element,attrs,removeScopeBindingWatches,removeControllerBindingWatches;compileNode===linkNode?(attrs=templateAttrs,$element=templateAttrs.$$element):($element=jqLite(linkNode),attrs=new Attributes($element,templateAttrs)),controllerScope=scope,newIsolateScopeDirective?isolateScope=scope.$new(!0):newScopeDirective&&(controllerScope=scope.$parent),boundTranscludeFn&&(transcludeFn=controllersBoundTransclude,transcludeFn.$$boundTransclude=boundTranscludeFn),controllerDirectives&&(elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope)),newIsolateScopeDirective&&(compile.$$addScopeInfo($element,isolateScope,!0,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective))),compile.$$addScopeClass($element,!0),isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,removeScopeBindingWatches=initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective),removeScopeBindingWatches&&isolateScope.$on("$destroy",removeScopeBindingWatches));for(var name in elementControllers){var controllerDirective=controllerDirectives[name],controller=elementControllers[name],bindings=controllerDirective.$$bindings.bindToController;controller.identifier&&bindings&&(removeControllerBindingWatches=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective));var controllerResult=controller();controllerResult!==controller.instance&&(controller.instance=controllerResult,$element.data("$"+controllerDirective.name+"Controller",controllerResult),removeControllerBindingWatches&&removeControllerBindingWatches(),removeControllerBindingWatches=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective))}for(i=0,ii=preLinkFns.length;i<ii;i++)linkFn=preLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)linkFn=postLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}previousCompileContext=previousCompileContext||{};for(var directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,i=0,ii=directives.length;i<ii;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(directive.templateUrl||(isObject(directiveValue)?(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode),newIsolateScopeDirective=directive):assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)),newScopeDirective=newScopeDirective||directive),directiveName=directive.name,!directive.templateUrl&&directive.controller&&(directiveValue=directive.controller,controllerDirectives=controllerDirectives||createMap(),assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"==directiveValue?(hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=$compileNode,$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,sliceArgs($template),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})):($template=jqLite(jqLiteClone(compileNode)).contents(),$compileNode.empty(),childTranscludeFn=compile($template,transcludeFn,undefined,undefined,{needsNewScope:directive.$$isolateScope||directive.$$newScope}))),directive.template)if(hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLiteIsTextNode(directiveValue)?[]:removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));(newIsolateScopeDirective||newScopeDirective)&&markDirectiveScope(templateDirectives,newIsolateScopeDirective,newScopeDirective),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective,nodeLinkFn.templateOnThisElement=hasTemplate,nodeLinkFn.transclude=childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function markDirectiveScope(directives,isolateScope,newScope){for(var j=0,jj=directives.length;j<jj;j++)directives[j]=inherit(directives[j],{$$isolateScope:isolateScope,$$newScope:newScope})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++)try{directive=directives[i],(isUndefined(maxPriority)||maxPriority>directive.priority)&&directive.restrict.indexOf(location)!=-1&&(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),tDirectives.push(directive),match=directive)}catch(e){$exceptionHandler(e)}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++)if(directive=directives[i],directive.multiElement)return!0;return!1}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&src[key]!==value&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?($element.attr("style",$element.attr("style")+";"+value),dst.style=(dst.style?dst.style+";":"")+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;return $compileNode.empty(),$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLiteIsTextNode(content)?[]:removeComments(wrapTemplate(templateNamespace,trim(content))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectiveScope(templateDirectives,!0),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(!scope.$$destroyed){if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}}linkQueue=null}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;scope.$$destroyed||(linkQueue?linkQueue.push(scope,node,rootElement,childBoundTranscludeFn):(afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)),afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)))}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:function(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;return hasCompileParent&&compile.$$addBindingClass(templateNodeParent),function(scope,node){var parent=node.parent();hasCompileParent||compile.$$addBindingClass(parent),compile.$$addBindingInfo(parent,interpolateFn.expressions),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){switch(type=lowercase(type||"html")){case"svg":case"math":var wrapper=document.createElement("div");return wrapper.innerHTML="<"+type+">"+template+"</"+type+">",wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"xlinkHref"==attrNormalizedName||"form"==tag&&"action"==attrNormalizedName||"img"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName)?$sce.RESOURCE_URL:void 0}function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var trustedContext=getTrustedContext(node,name);allOrNothing=ALL_OR_NOTHING_ATTRS[name]||allOrNothing;var interpolateFn=$interpolate(value,!0,trustedContext,allOrNothing);if(interpolateFn){if("multiple"===name&&"select"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers=createMap());if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var newValue=attr[name];newValue!==value&&(interpolateFn=newValue&&$interpolate(newValue,!0,trustedContext,allOrNothing),value=newValue),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;i<ii;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++)j2<jj?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1,$rootElement.context===firstElementToRemove&&($rootElement.context=newNode);break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove),jqLite.hasData(firstElementToRemove)&&(jqLite.data(newNode,jqLite.data(firstElementToRemove)),jQuery?(skipDestroyOnNextJQueryCleanData=!0,jQuery.cleanData([firstElementToRemove])):delete jqLite.cache[firstElementToRemove[jqLite.expando]]);for(var k=1,kk=elementsToRemove.length;k<kk;k++){var element=elementsToRemove[k];jqLite(element).remove(),fragment.appendChild(element),delete elementsToRemove[k]}elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive){var removeWatchCollection=[];return forEach(bindings,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,attrName=definition.attrName,optional=definition.optional,mode=definition.mode;switch(mode){case"@":optional||hasOwnProperty.call(attrs,attrName)||(destination[scopeName]=attrs[attrName]=void 0),attrs.$observe(attrName,function(value){isString(value)&&(destination[scopeName]=value)}),attrs.$$observers[attrName].$$scope=scope,isString(attrs[attrName])&&(destination[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;attrs[attrName]=void 0}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:function(a,b){return a===b||a!==a&&b!==b},parentSet=parentGet.assign||function(){throw lastValue=destination[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],directive.name)},lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function(parentValue){return compare(parentValue,destination[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=destination[scopeName]):destination[scopeName]=parentValue),lastValue=parentValue};parentValueWatch.$stateful=!0;var removeWatch;removeWatch=definition.collection?scope.$watchCollection(attrs[attrName],parentValueWatch):scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal),removeWatchCollection.push(removeWatch);break;case"&":if(parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop,parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)}}}),removeWatchCollection.length&&function(){for(var i=0,ii=removeWatchCollection.length;i<ii;++i)removeWatchCollection[i]()}}var Attributes=function(element,attributesToCopy){if(attributesToCopy){var i,l,key,keys=Object.keys(attributesToCopy);for(i=0,l=keys.length;i<l;i++)key=keys[i],this[key]=attributesToCopy[key]}else this.$attr={};this.$$element=element};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);toAdd&&toAdd.length&&$animate.addClass(this.$$element,toAdd);var toRemove=tokenDifference(oldClasses,newClasses);toRemove&&toRemove.length&&$animate.removeClass(this.$$element,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(key),observer=key;if(booleanKey?(this.$$element.prop(key,value),attrName=booleanKey):aliasedKey&&(this[aliasedKey]=value,observer=aliasedKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),"a"===nodeName&&"href"===key||"img"===nodeName&&"src"===key)this[key]=value=$$sanitizeUri(value,"src"===key);else if("img"===nodeName&&"srcset"===key){for(var result="",trimmedSrcset=trim(value),srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/,rawUris=trimmedSrcset.split(pattern),nbrUrisWith2parts=Math.floor(rawUris.length/2),i=0;i<nbrUrisWith2parts;i++){var innerIdx=2*i;result+=$$sanitizeUri(trim(rawUris[innerIdx]),!0),result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[2*i]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),!0),2===lastTuple.length&&(result+=" "+trim(lastTuple[1])),this[key]=value=result}writeAttr!==!1&&(null===value||isUndefined(value)?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){listeners.$$inter||!attrs.hasOwnProperty(key)||isUndefined(attrs[key])||fn(attrs[key])}),function(){arrayRemove(listeners,fn)}}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/,MULTI_ELEMENT_DIR_RE=/^(.+)Start$/;return compile.$$addBindingInfo=debugInfoEnabled?function($element,binding){var bindings=$element.data("$binding")||[];isArray(binding)?bindings=bindings.concat(binding):bindings.push(binding),$element.data("$binding",bindings)}:noop,compile.$$addBindingClass=debugInfoEnabled?function($element){safeAddClass($element,"ng-binding")}:noop,compile.$$addScopeInfo=debugInfoEnabled?function($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop,compile.$$addScopeClass=debugInfoEnabled?function($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop,compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(i<=1)return jqNodes;for(;i--;){var node=jqNodes[i];node.nodeType===NODE_TYPE_COMMENT&&splice.call(jqNodes,i,1)}return jqNodes}function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers={},globals=!1;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.allowGlobals=function(){globals=!0},this.$get=["$injector","$window",function($injector,$window){function addIdentifier(locals,identifier,instance,name){if(!locals||!isObject(locals.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}return function(expression,locals,later,ident){var instance,match,constructor,identifier;if(later=later===!0,ident&&isString(ident)&&(identifier=ident),isString(expression)){if(match=expression.match(CNTRL_REG),!match)throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",expression);constructor=match[1],identifier=identifier||match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||(globals?getter($window,constructor,!0):undefined),assertArgFn(expression,constructor,!0)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=Object.create(controllerPrototype||null),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name);var instantiate;return instantiate=extend(function(){var result=$injector.invoke(expression,instance,locals,constructor);return result!==instance&&(isObject(result)||isFunction(result))&&(instance=result,identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name)),instance},{instance:instance,identifier:identifier})}return instance=$injector.instantiate(expression,locals,constructor),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}function serializeValue(v){return isObject(v)?isDate(v)?v.toISOString():toJson(v):v}function $HttpParamSerializerProvider(){this.$get=function(){return function(params){if(!params)return"";var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||(isArray(value)?forEach(value,function(v,k){parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(v)))}):parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(value))))}),parts.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function(params){function serialize(toSerialize,prefix,topLevel){null===toSerialize||isUndefined(toSerialize)||(isArray(toSerialize)?forEach(toSerialize,function(value,index){serialize(value,prefix+"["+(isObject(value)?index:"")+"]")}):isObject(toSerialize)&&!isDate(toSerialize)?forEachSorted(toSerialize,function(value,key){serialize(value,prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))}):parts.push(encodeUriQuery(prefix)+"="+encodeUriQuery(serializeValue(toSerialize))))}if(!params)return"";var parts=[];return serialize(params,"",!0),parts.join("&")}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");(contentType&&0===contentType.indexOf(APPLICATION_JSON)||isJsonLike(tempData))&&(data=fromJson(tempData))}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){function fillInParsed(key,val){key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}var i,parsed=createMap();return isString(headers)?forEach(headers.split("\n"),function(line){i=line.indexOf(":"),fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))}):isObject(headers)&&forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))}),parsed}function headersGetter(headers){var headersObj;return function(name){if(headersObj||(headersObj=parseHeaders(headers)),name){var value=headersObj[lowercase(name)];return void 0===value&&(value=null),value}return headersObj}}function transformData(data,headers,status,fns){return isFunction(fns)?fns(data,headers,status):(forEach(fns,function(fn){data=fn(data,headers,status)}),data)}function isSuccess(status){return 200<=status&&status<300}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return!isObject(d)||isFile(d)||isBlob(d)||isFormData(d)?d:toJson(d)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},useApplyAsync=!1;this.useApplyAsync=function(value){return isDefined(value)?(useApplyAsync=!!value,this):useApplyAsync};var useLegacyPromise=!0;this.useLegacyPromiseExtensions=function(value){return isDefined(value)?(useLegacyPromise=!!value,this):useLegacyPromise};var interceptorFactories=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response);return resp.data=transformData(response.data,response.headers,response.status,config.transformResponse),isSuccess(response.status)?resp:$q.reject(resp)}function executeHeaderFns(headers,config){
var headerContent,processedHeaders={};return forEach(headers,function(headerFn,header){isFunction(headerFn)?(headerContent=headerFn(config),null!=headerContent&&(processedHeaders[header]=headerContent)):processedHeaders[header]=headerFn}),processedHeaders}function mergeHeaders(config){var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}if(!angular.isObject(requestConfig))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig);if(!isString(requestConfig.url))throw minErr("$http")("badreq","Http request configuration url must be a string.  Received: {0}",requestConfig.url);var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer},requestConfig);config.headers=mergeHeaders(requestConfig),config.method=uppercase(config.method),config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer;var serverRequest=function(config){var headers=config.headers,reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);return isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return useLegacyPromise?(promise.success=function(fn){return assertArgFn(fn,"fn"),promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return assertArgFn(fn,"fn"),promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise}):(promise.success=$httpMinErrLegacyFn("success"),promise.error=$httpMinErrLegacyFn("error")),promise}function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){function done(status,response,headersString,statusText){function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText)}cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText]):cache.remove(url)),useApplyAsync?$rootScope.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),$rootScope.$$phase||$rootScope.$apply())}function resolvePromise(response,status,headers,statusText){status=status>=-1?status:0,(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);idx!==-1&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,reqHeaders=config.headers,url=buildUrl(config.url,config.paramSerializer(config.params));if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache&&(cachedResp=cache.get(url),isDefined(cachedResp)?isPromiseLike(cachedResp)?cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult):isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]):resolvePromise(cachedResp,200,{},"OK"):cache.put(url,promise)),isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue),$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType)}return promise}function buildUrl(url,serializedParams){return serializedParams.length>0&&(url+=(url.indexOf("?")==-1?"?":"&")+serializedParams),url}var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=defaults,$http}]}function $xhrFactoryProvider(){this.$get=function(){return function(){return new window.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$window","$document","$xhrFactory",function($browser,$window,$document,$xhrFactory){return createHttpBackend($browser,$xhrFactory,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackId,done){var script=rawDocument.createElement("script"),callback=null;return script.type="text/javascript",script.src=url,script.async=!0,callback=function(event){removeEventListenerFn(script,"load",callback),removeEventListenerFn(script,"error",callback),rawDocument.body.removeChild(script),script=null;var status=-1,text="unknown";event&&("load"!==event.type||callbacks[callbackId].called||(event={type:"error"}),text=event.type,status="error"===event.type?404:200),done&&done(status,text)},addEventListenerFn(script,"load",callback),addEventListenerFn(script,"error",callback),rawDocument.body.appendChild(script),callback}return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText){isDefined(timeoutId)&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,callback(status,response,headersString,statusText),$browser.$$completeOutstandingRequest(noop)}if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data,callbacks[callbackId].called=!0};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text),callbacks[callbackId]=noop})}else{var xhr=createXhr(method,url);xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onload=function(){var statusText=xhr.statusText||"",response="response"in xhr?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:"file"==urlResolve(url).protocol?404:0),completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText)};var requestError=function(){completeRequest(callback,-1,null,null,"")};if(xhr.onerror=requestError,xhr.onabort=requestError,withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(isUndefined(post)?null:post)}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else isPromiseLike(timeout)&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function escape(ch){return"\\\\\\"+ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function stringify(value){if(null==value)return"";switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=toJson(value)}return value}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){function parseStringifyInterceptor(value){try{return value=getValue(value),allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}allOrNothing=!!allOrNothing;for(var startIndex,endIndex,exp,index=0,expressions=[],parseFns=[],textLength=text.length,concat=[],expressionPositions=[];index<textLength;){if((startIndex=text.indexOf(startSymbol,index))==-1||(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))==-1){index!==textLength&&concat.push(unescapeText(text.substring(index)));break}index!==startIndex&&concat.push(unescapeText(text.substring(index,startIndex))),exp=text.substring(startIndex+startSymbolLength,endIndex),expressions.push(exp),parseFns.push($parse(exp,parseStringifyInterceptor)),index=endIndex+endSymbolLength,expressionPositions.push(concat.length),concat.push("")}if(trustedContext&&concat.length>1&&$interpolateMinErr.throwNoconcat(text),!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return concat.join("")},getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value)};return extend(function(context){var i=0,ii=expressions.length,values=new Array(ii);try{for(;i<ii;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function(values,oldValues){var currValue=compute(values);isFunction(listener)&&listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope),lastValue=currValue})}})}}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q",function($rootScope,$window,$q,$$q){function interval(fn,delay,count,invokeApply){var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return count=isDefined(count)?count:0,promise.then(null,null,hasParams?function(){fn.apply(null,args)}:fn),promise.$$intervalId=setInterval(function(){deferred.notify(iteration++),count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return!!(promise&&promise.$$intervalId in intervals)&&(intervals[promise.$$intervalId].reject("canceled"),$window.clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0)},interval}]}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj){var prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);var match=urlResolve(relativeUrl);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){if(0===whole.indexOf(begin))return whole.substr(begin.length)}function stripHash(url){var index=url.indexOf("#");return index==-1?url:url.substr(0,index)}function trimEmptyHash(url){return url.replace(/(#.+)|#$/,"$1")}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"",parseAbsoluteUrl(appBase,this),this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var appUrl,prevAppUrl,rewrittenUrl;return isDefined(appUrl=beginsWith(appBase,url))?(prevAppUrl=appUrl,rewrittenUrl=isDefined(appUrl=beginsWith(basePrefix,appUrl))?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):isDefined(appUrl=beginsWith(appBaseNoFile,url))?rewrittenUrl=appBaseNoFile+appUrl:appBaseNoFile==url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl}}function LocationHashbangUrl(appBase,appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;return 0===url.indexOf(base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutHashUrl,withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url);isUndefined(withoutBaseUrl)||"#"!==withoutBaseUrl.charAt(0)?this.$$html5?withoutHashUrl=withoutBaseUrl:(withoutHashUrl="",isUndefined(withoutBaseUrl)&&(appBase=url,this.replace())):(withoutHashUrl=beginsWith(hashPrefix,withoutBaseUrl),isUndefined(withoutHashUrl)&&(withoutHashUrl=withoutBaseUrl)),parseAppUrl(withoutHashUrl,this),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$parseLinkUrl=function(url,relHref){return stripHash(appBase)==stripHash(url)&&(this.$$parse(url),!0)}}function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments),this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var rewrittenUrl,appUrl;return appBase==stripHash(url)?rewrittenUrl=url:(appUrl=beginsWith(appBaseNoFile,url))?rewrittenUrl=appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+hashPrefix+this.$$url}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isBoolean(mode)?(html5Mode.enabled=mode,this):isObject(mode)?(isBoolean(mode.enabled)&&(html5Mode.enabled=mode.enabled),isBoolean(mode.requireBase)&&(html5Mode.requireBase=mode.requireBase),isBoolean(mode.rewriteLinks)&&(html5Mode.rewriteLinks=mode.rewriteLinks),this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url(),oldState=$location.$$state;try{$browser.url(url,replace,state),$location.$$state=$browser.state()}catch(e){throw $location.url(oldUrl),$location.$$state=oldState,e}}function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl;var appBaseNoFile=stripFile(appBase);$location=new LocationMode(appBase,appBaseNoFile,"#"+hashPrefix),$location.$$parseLinkUrl(initialUrl,initialUrl),$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){if(html5Mode.rewriteLinks&&!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&2!=event.which&&2!=event.button){for(var elm=jqLite(event.target);"a"!==nodeName_(elm[0]);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href"),relHref=elm.attr("href")||elm.attr("xlink:href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href),IGNORE_URI_REGEXP.test(absHref)||!absHref||elm.attr("target")||event.isDefaultPrevented()||$location.$$parseLinkUrl(absHref,relHref)&&(event.preventDefault(),$location.absUrl()!=$browser.url()&&($rootScope.$apply(),$window.angular["ff-684208-preventDefault"]=!0))}}),trimEmptyHash($location.absUrl())!=trimEmptyHash(initialUrl)&&$browser.url($location.absUrl(),!0);var initializing=!0;return $browser.onUrlChange(function(newUrl,newState){return isUndefined(beginsWith(appBaseNoFile,newUrl))?void($window.location.href=newUrl):($rootScope.$evalAsync(function(){var defaultPrevented,oldUrl=$location.absUrl(),oldState=$location.$$state;newUrl=trimEmptyHash(newUrl),$location.$$parse(newUrl),$location.$$state=newState,defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented,$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState,setBrowserUrlWithFallback(oldUrl,!1,oldState)):(initializing=!1,afterLocationChange(oldUrl,oldState)))}),void($rootScope.$$phase||$rootScope.$digest()))}),$rootScope.$watch(function(){var oldUrl=trimEmptyHash($browser.url()),newUrl=trimEmptyHash($location.absUrl()),oldState=$browser.state(),currentReplace=$location.$$replace,urlOrStateChanged=oldUrl!==newUrl||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;(initializing||urlOrStateChanged)&&(initializing=!1,$rootScope.$evalAsync(function(){var newUrl=$location.absUrl(),defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState):(urlOrStateChanged&&setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state),afterLocationChange(oldUrl,oldState)))})),$location.$$replace=!1}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&arg.stack.indexOf(arg.message)===-1?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}return hasApply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("__defineGetter__"===name||"__defineSetter__"===name||"__lookupGetter__"===name||"__lookupSetter__"===name||"__proto__"===name)throw $parseMinErr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",fullExpression);return name}function getStringValue(name,fullExpression){if(name+="",!isString(name))throw $parseMinErr("iseccst","Cannot convert object to primitive value! Expression: {0}",fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.window===obj)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===Object)throw $parseMinErr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===CALL||obj===APPLY||obj===BIND)throw $parseMinErr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",fullExpression)}}function ensureSafeAssignContext(obj,fullExpression){if(obj&&(obj===(0).constructor||obj===(!1).constructor||obj==="".constructor||obj==={}.constructor||obj===[].constructor||obj===Function.constructor))throw $parseMinErr("isecaf","Assigning to a constructor is disallowed! Expression: {0}",fullExpression)}function ifDefined(v,d){return"undefined"!=typeof v?v:d}function plusFn(l,r){return"undefined"==typeof l?r:"undefined"==typeof r?l:l+r}function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful}function findConstantAndWatchExpressions(ast,$filter){var allConstants,argsToWatch;switch(ast.type){case AST.Program:allConstants=!0,forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter),allConstants=allConstants&&expr.expression.constant}),ast.constant=allConstants;break;case AST.Literal:ast.constant=!0,ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter),ast.constant=ast.argument.constant,ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter),findConstantAndWatchExpressions(ast.alternate,$filter),findConstantAndWatchExpressions(ast.consequent,$filter),ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=!1,ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter),ast.computed&&findConstantAndWatchExpressions(ast.property,$filter),ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant),ast.toWatch=[ast];break;case AST.CallExpression:allConstants=!!ast.filter&&isStateless($filter,ast.callee.name),argsToWatch=[],forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter),allConstants=allConstants&&expr.constant,expr.constant||argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=ast.filter&&isStateless($filter,ast.callee.name)?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=!0,argsToWatch=[],forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter),allConstants=allConstants&&expr.constant,expr.constant||argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=!0,argsToWatch=[],forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter),allConstants=allConstants&&property.value.constant,property.value.constant||argsToWatch.push.apply(argsToWatch,property.value.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=!1,ast.toWatch=[]}}function getInputs(body){if(1==body.length){var lastExpression=body[0].expression,candidate=lastExpression.toWatch;return 1!==candidate.length?candidate:candidate[0]!==lastExpression?candidate:undefined}}function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){if(1===ast.body.length&&isAssignable(ast.body[0].expression))return{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"="}}function isLiteral(ast){return 0===ast.body.length||1===ast.body.length&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}function ASTCompiler(astBuilder,$filter){this.astBuilder=astBuilder,this.$filter=$filter}function ASTInterpreter(astBuilder,$filter){this.astBuilder=astBuilder,this.$filter=$filter}function isPossiblyDangerousMemberName(name){return"constructor"==name}function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var cacheDefault=createMap(),cacheExpensive=createMap();this.$get=["$filter",function($filter){function expressionInputDirtyCheck(newValue,oldValueOfValue){return null==newValue||null==oldValueOfValue?newValue===oldValueOfValue:("object"!=typeof newValue||(newValue=getValueOf(newValue),"object"!=typeof newValue))&&(newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue)}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var lastResult,inputExpressions=parsedExpression.inputs;if(1===inputExpressions.length){var oldInputValueOf=expressionInputDirtyCheck;return inputExpressions=inputExpressions[0],scope.$watch(function(scope){var newInputValue=inputExpressions(scope);return expressionInputDirtyCheck(newInputValue,oldInputValueOf)||(lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]),oldInputValueOf=newInputValue&&getValueOf(newInputValue)),lastResult},listener,objectEquality,prettyPrintExpression)}for(var oldInputValueOfValues=[],oldInputValues=[],i=0,ii=inputExpressions.length;i<ii;i++)oldInputValueOfValues[i]=expressionInputDirtyCheck,oldInputValues[i]=null;return scope.$watch(function(scope){for(var changed=!1,i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i])))&&(oldInputValues[i]=newInputValue,oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue))}return changed&&(lastResult=parsedExpression(scope,undefined,undefined,oldInputValues)),lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.apply(this,arguments),isDefined(value)&&scope.$$postDigest(function(){isDefined(lastValue)&&unwatch()})},objectEquality)}function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){function isAllDefined(value){var allDefined=!0;return forEach(value,function(val){isDefined(val)||(allDefined=!1)}),allDefined}var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.call(this,value,old,scope),isAllDefined(value)&&scope.$$postDigest(function(){isAllDefined(lastValue)&&unwatch()})},objectEquality)}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){isFunction(listener)&&listener.apply(this,arguments),unwatch()},objectEquality)}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate,useInputs=!1,regularWatch=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate,fn=regularWatch?function(scope,locals,assign,inputs){var value=useInputs&&inputs?inputs[0]:parsedExpression(scope,locals,assign,inputs);return interceptorFn(value,scope,locals)}:function(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs),result=interceptorFn(value,scope,locals);return isDefined(value)?result:value};return parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate?fn.$$watchDelegate=parsedExpression.$$watchDelegate:interceptorFn.$stateful||(fn.$$watchDelegate=inputsWatchDelegate,
useInputs=!parsedExpression.inputs,fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression]),fn}var noUnsafeEval=csp().noUnsafeEval,$parseOptions={csp:noUnsafeEval,expensiveChecks:!1},$parseOptionsExpensive={csp:noUnsafeEval,expensiveChecks:!0};return function(exp,interceptorFn,expensiveChecks){var parsedExpression,oneTime,cacheKey;switch(typeof exp){case"string":exp=exp.trim(),cacheKey=exp;var cache=expensiveChecks?cacheExpensive:cacheDefault;if(parsedExpression=cache[cacheKey],!parsedExpression){":"===exp.charAt(0)&&":"===exp.charAt(1)&&(oneTime=!0,exp=exp.substring(2));var parseOptions=expensiveChecks?$parseOptionsExpensive:$parseOptions,lexer=new Lexer(parseOptions),parser=new Parser(lexer,$filter,parseOptions);parsedExpression=parser.parse(exp),parsedExpression.constant?parsedExpression.$$watchDelegate=constantWatchDelegate:oneTime?parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate:parsedExpression.inputs&&(parsedExpression.$$watchDelegate=inputsWatchDelegate),cache[cacheKey]=parsedExpression}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function callOnce(self,resolveFn,rejectFn){function wrap(fn){return function(value){called||(called=!0,fn.call(self,value))}}var called=!1;return[wrap(resolveFn),wrap(rejectFn)]}function Promise(){this.$$state={status:0}}function simpleBind(context,fn){return function(value){fn.call(context,value)}}function processQueue(state){var fn,deferred,pending;pending=state.pending,state.processScheduled=!1,state.pending=undefined;for(var i=0,ii=pending.length;i<ii;++i){deferred=pending[i][0],fn=pending[i][state.status];try{isFunction(fn)?deferred.resolve(fn(state.value)):1===state.status?deferred.resolve(state.value):deferred.reject(state.value)}catch(e){deferred.reject(e),exceptionHandler(e)}}}function scheduleProcessQueue(state){!state.processScheduled&&state.pending&&(state.processScheduled=!0,nextTick(function(){processQueue(state)}))}function Deferred(){this.promise=new Promise,this.resolve=simpleBind(this,this.resolve),this.reject=simpleBind(this,this.reject),this.notify=simpleBind(this,this.notify)}function all(promises){var deferred=new Deferred,counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,when(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise}var $qMinErr=minErr("$q",TypeError),defer=function(){return new Deferred};extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack))return this;var result=new Deferred;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,!0,callback)},function(error){return handleCallback(error,!1,callback)},progressBack)}}),extend(Deferred.prototype,{resolve:function(val){this.promise.$$state.status||(val===this.promise?this.$$reject($qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val)):this.$$resolve(val))},$$resolve:function(val){var then,fns;fns=callOnce(this,this.$$resolve,this.$$reject);try{(isObject(val)||isFunction(val))&&(then=val&&val.then),isFunction(then)?(this.promise.$$state.status=-1,then.call(val,fns[0],fns[1],this.notify)):(this.promise.$$state.value=val,this.promise.$$state.status=1,scheduleProcessQueue(this.promise.$$state))}catch(e){fns[1](e),exceptionHandler(e)}},reject:function(reason){this.promise.$$state.status||this.$$reject(reason)},$$reject:function(reason){this.promise.$$state.value=reason,this.promise.$$state.status=2,scheduleProcessQueue(this.promise.$$state)},notify:function(progress){var callbacks=this.promise.$$state.pending;this.promise.$$state.status<=0&&callbacks&&callbacks.length&&nextTick(function(){for(var callback,result,i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0],callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}});var reject=function(reason){var result=new Deferred;return result.reject(reason),result.promise},makePromise=function(value,resolved){var result=new Deferred;return resolved?result.resolve(value):result.reject(value),result.promise},handleCallback=function(value,isResolved,callback){var callbackOutput=null;try{isFunction(callback)&&(callbackOutput=callback())}catch(e){return makePromise(e,!1)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)},when=function(value,callback,errback,progressBack){var result=new Deferred;return result.resolve(value),result.promise.then(callback,errback,progressBack)},resolve=when,$Q=function Q(resolver){function resolveFn(value){deferred.resolve(value)}function rejectFn(reason){deferred.reject(reason)}if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);if(!(this instanceof Q))return new Q(resolver);var deferred=new Deferred;return resolver(resolveFn,rejectFn),deferred.promise};return $Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.resolve=resolve,$Q.all=all,$Q}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};return raf.supported=rafSupported,raf}]}function $RootScopeProvider(){function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null}return ChildScope.prototype=parent,ChildScope}var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null,applyAsyncId=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=!0}function cleanUpScope($scope){9===msie&&($scope.$$childHead&&cleanUpScope($scope.$$childHead),$scope.$$nextSibling&&cleanUpScope($scope.$$nextSibling)),$scope.$parent=$scope.$$nextSibling=$scope.$$prevSibling=$scope.$$childHead=$scope.$$childTail=$scope.$root=$scope.$$watchers=null}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){do current.$$watchersCount+=count;while(current=current.$parent)}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;applyAsyncQueue.length;)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){null===applyAsyncId&&(applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;return parent=parent||this,isolate?(child=new Scope,child.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),child=new this.$$ChildScope),child.$parent=parent,child.$$prevSibling=parent.$$childTail,parent.$$childHead?(parent.$$childTail.$$nextSibling=child,parent.$$childTail=child):parent.$$childHead=parent.$$childTail=child,(isolate||parent!=this)&&child.$on("$destroy",destroyChildScope),child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp);if(get.$$watchDelegate)return get.$$watchDelegate(this,listener,objectEquality,get,watchExp);var scope=this,array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};return lastDirtyWatch=null,isFunction(listener)||(watcher.fn=noop),array||(array=scope.$$watchers=[]),array.unshift(watcher),incrementWatchersCount(this,1),function(){arrayRemove(array,watcher)>=0&&incrementWatchersCount(scope,-1),lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){function watchGroupAction(){changeReactionScheduled=!1,firstRun?(firstRun=!1,listener(newValues,newValues,self)):listener(newValues,oldValues,self)}var oldValues=new Array(watchExpressions.length),newValues=new Array(watchExpressions.length),deregisterFns=[],self=this,changeReactionScheduled=!1,firstRun=!0;if(!watchExpressions.length){var shouldCall=!0;return self.$evalAsync(function(){shouldCall&&listener(newValues,newValues,self)}),function(){shouldCall=!1}}return 1===watchExpressions.length?this.$watch(watchExpressions[0],function(value,oldValue,scope){newValues[0]=value,oldValues[0]=oldValue,listener(newValues,value===oldValue?newValues:oldValues,scope)}):(forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function(value,oldValue){newValues[i]=value,oldValues[i]=oldValue,changeReactionScheduled||(changeReactionScheduled=!0,self.$evalAsync(watchGroupAction))});deregisterFns.push(unwatchFn)}),function(){for(;deregisterFns.length;)deregisterFns.shift()()})},$watchCollection:function(obj,listener){function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(!isUndefined(newValue)){if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;i<newLength;i++)oldItem=oldValue[i],newItem=newValue[i],bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[i]=newItem)}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)hasOwnProperty.call(newValue,key)&&(newLength++,newItem=newValue[key],oldItem=oldValue[key],key in oldValue?(bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[key]=newItem)):(oldLength++,oldValue[key]=newItem,changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)hasOwnProperty.call(newValue,key)||(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}}function $watchCollectionAction(){if(initRun?(initRun=!1,listener(newValue,newValue,self)):listener(newValue,veryOldValue,self),trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(var key in newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key])}else veryOldValue=newValue}$watchCollectionInterceptor.$stateful=!0;var newValue,oldValue,veryOldValue,self=this,trackVeryOldValue=listener.length>1,changeDetected=0,changeDetector=$parse(obj,$watchCollectionInterceptor),internalArray=[],internalObject={},initRun=!0,oldLength=0;return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,asyncTask,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),$browser.$$checkUrlChange(),this===$rootScope&&null!==applyAsyncId&&($browser.defer.cancel(applyAsyncId),flushApplyAsync()),lastDirtyWatch=null;do{for(dirty=!1,current=target;asyncQueue.length;){try{asyncTask=asyncQueue.shift(),asyncTask.scope.$eval(asyncTask.expression,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{if(watch=watchers[length])if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value,null):value,watch.fn(value,last===initWatchVal?value:last,current),ttl<5&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last}))}catch(e){$exceptionHandler(e)}if(!(next=current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,watchLog)}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$rootScope&&$browser.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);parent&&parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent&&parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$$nextSibling=null,cleanUpScope(this)}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){$rootScope.$$phase||asyncQueue.length||$browser.defer(function(){asyncQueue.length&&$rootScope.$digest()}),asyncQueue.push({scope:this,expression:expr,locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{beginPhase("$apply");try{return this.$eval(expr)}finally{clearPhase()}}catch(e){$exceptionHandler(e)}finally{try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$applyAsync:function(expr){function $applyAsyncExpression(){scope.$eval(expr)}var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression),scheduleApplyAsync()},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);indexOfListener!==-1&&(namedListeners[indexOfListener]=null,decrementListenerCount(self,1,name))}},$emit:function(name,args){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;i<length;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)return event.currentScope=null,event;scope=scope.$parent}while(scope);return event.currentScope=null,event},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1};if(!target.$$listenerCount[name])return event;for(var listeners,i,length,listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;i<length;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event.currentScope=null,event}};var $rootScope=new Scope,asyncQueue=$rootScope.$$asyncQueue=[],postDigestQueue=$rootScope.$$postDigestQueue=[],applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return normalizedVal=urlResolve(uri).href,""===normalizedVal||normalizedVal.match(regex)?uri:"unsafe:"+normalizedVal}}}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;i<n;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;i<n;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||isUndefined(trustedValue)||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||isUndefined(maybeTrusted)||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(html){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&msie<8)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:$parse(expr,function(value){return sce.getTrusted(type,value)})};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorRegex=/^(Moz|webkit|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"),transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle),!android||transitions&&animations||(transitions=isString(bodyStyle.webkitTransition),animations=isString(bodyStyle.webkitAnimation))}return{history:!(!$window.history||!$window.history.pushState||android<4||boxee),hasEvent:function(event){if("input"===event&&msie<=11)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android}}]}function $TemplateRequestProvider(){this.$get=["$templateCache","$http","$q","$sce",function($templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){function handleError(resp){if(!ignoreRequestError)throw $compileMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText);return $q.reject(resp)}handleRequestFn.totalPendingRequests++,isString(tpl)&&$templateCache.get(tpl)||(tpl=$sce.getTrustedResourceUrl(tpl));var transformResponse=$http.defaults&&$http.defaults.transformResponse;isArray(transformResponse)?transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform}):transformResponse===defaultHttpResponseTransform&&(transformResponse=null);var httpOptions={cache:$templateCache,transformResponse:transformResponse};return $http.get(tpl,httpOptions)["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){return $templateCache.put(tpl,response.data),response.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};return testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding"),matches=[];return forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");dataBinding&&forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");matcher.test(bindingName)&&matches.push(binding)}else bindingName.indexOf(expression)!=-1&&matches.push(binding)})}),matches},testability.findModels=function(element,expression,opt_exactMatch){for(var prefixes=["ng-","data-ng-","ng\\:"],p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=",selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]',elements=element.querySelectorAll(selector);if(elements.length)return elements}},testability.getLocation=function(){return $location.url()},testability.setLocation=function(url){url!==$location.url()&&($location.url(url),$rootScope.$digest())},testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)},testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){function timeout(fn,delay,invokeApply){isFunction(fn)||(invokeApply=delay,delay=fn,fn=noop);var timeoutId,args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args))}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return!!(promise&&promise.$$timeoutId in deferreds)&&(deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId))},timeout}]}function urlResolve(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}var rawDocument=$document[0]||{},lastCookies={},lastCookieString="";return function(){var cookieArray,cookie,i,index,name,currentCookieString=rawDocument.cookie||"";if(currentCookieString!==lastCookieString)for(lastCookieString=currentCookieString,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=safeDecodeURIComponent(cookie.substring(0,index)),isUndefined(lastCookies[name])&&(lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))));return lastCookies}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){if(!isArrayLike(array)){if(null==array)return array;throw minErr("filter")("notarray","Expected array but received: {0}",array)}var predicateFn,matchAgainstAnyProp,expressionType=getTypeForFilter(expression);switch(expressionType){case"function":predicateFn=expression;break;case"boolean":case"null":case"number":case"string":matchAgainstAnyProp=!0;case"object":predicateFn=createPredicateFn(expression,comparator,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,matchAgainstAnyProp){var predicateFn,shouldMatchPrimitives=isObject(expression)&&"$"in expression;return comparator===!0?comparator=equals:isFunction(comparator)||(comparator=function(actual,expected){return!isUndefined(actual)&&(null===actual||null===expected?actual===expected:!(isObject(expected)||isObject(actual)&&!hasCustomToString(actual))&&(actual=lowercase(""+actual),
expected=lowercase(""+expected),actual.indexOf(expected)!==-1))}),predicateFn=function(item){return shouldMatchPrimitives&&!isObject(item)?deepCompare(item,expression.$,comparator,!1):deepCompare(item,expression,comparator,matchAgainstAnyProp)}}function deepCompare(actual,expected,comparator,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual),expectedType=getTypeForFilter(expected);if("string"===expectedType&&"!"===expected.charAt(0))return!deepCompare(actual,expected.substring(1),comparator,matchAgainstAnyProp);if(isArray(actual))return actual.some(function(item){return deepCompare(item,expected,comparator,matchAgainstAnyProp)});switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual)if("$"!==key.charAt(0)&&deepCompare(actual[key],expected,comparator,!0))return!0;return!dontMatchWholeObject&&deepCompare(actual,expected,comparator,!1)}if("object"===expectedType){for(key in expected){var expectedVal=expected[key];if(!isFunction(expectedVal)&&!isUndefined(expectedVal)){var matchAnyProperty="$"===key,actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,matchAnyProperty,matchAnyProperty))return!1}}return!0}return comparator(actual,expected);case"function":return!1;default:return comparator(actual,expected)}}function getTypeForFilter(val){return null===val?"null":typeof val}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),isUndefined(fractionSize)&&(fractionSize=formats.PATTERNS[1].maxFrac),null==amount?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return null==number?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function parse(numStr){var digits,numberOfIntegerDigits,i,j,zeros,exponent=0;for((numberOfIntegerDigits=numStr.indexOf(DECIMAL_SEP))>-1&&(numStr=numStr.replace(DECIMAL_SEP,"")),(i=numStr.search(/e/i))>0?(numberOfIntegerDigits<0&&(numberOfIntegerDigits=i),numberOfIntegerDigits+=+numStr.slice(i+1),numStr=numStr.substring(0,i)):numberOfIntegerDigits<0&&(numberOfIntegerDigits=numStr.length),i=0;numStr.charAt(i)==ZERO_CHAR;i++);if(i==(zeros=numStr.length))digits=[0],numberOfIntegerDigits=1;else{for(zeros--;numStr.charAt(zeros)==ZERO_CHAR;)zeros--;for(numberOfIntegerDigits-=i,digits=[],j=0;i<=zeros;i++,j++)digits[j]=+numStr.charAt(i)}return numberOfIntegerDigits>MAX_DIGITS&&(digits=digits.splice(0,MAX_DIGITS-1),exponent=numberOfIntegerDigits-1,numberOfIntegerDigits=1),{d:digits,e:exponent,i:numberOfIntegerDigits}}function roundNumber(parsedNumber,fractionSize,minFrac,maxFrac){var digits=parsedNumber.d,fractionLen=digits.length-parsedNumber.i;fractionSize=isUndefined(fractionSize)?Math.min(Math.max(minFrac,fractionLen),maxFrac):+fractionSize;var roundAt=fractionSize+parsedNumber.i,digit=digits[roundAt];if(roundAt>0)digits.splice(roundAt);else{parsedNumber.i=1,digits.length=roundAt=fractionSize+1;for(var i=0;i<roundAt;i++)digits[i]=0}for(digit>=5&&digits[roundAt-1]++;fractionLen<fractionSize;fractionLen++)digits.push(0);var carry=digits.reduceRight(function(carry,d,i,digits){return d+=carry,digits[i]=d%10,Math.floor(d/10)},0);carry&&(digits.unshift(carry),parsedNumber.i++)}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!isString(number)&&!isNumber(number)||isNaN(number))return"";var parsedNumber,isInfinity=!isFinite(number),isZero=!1,numStr=Math.abs(number)+"",formattedText="";if(isInfinity)formattedText="∞";else{parsedNumber=parse(numStr),roundNumber(parsedNumber,fractionSize,pattern.minFrac,pattern.maxFrac);var digits=parsedNumber.d,integerLen=parsedNumber.i,exponent=parsedNumber.e,decimals=[];for(isZero=digits.reduce(function(isZero,d){return isZero&&!d},!0);integerLen<0;)digits.unshift(0),integerLen++;integerLen>0?decimals=digits.splice(integerLen):(decimals=digits,digits=[0]);var groups=[];for(digits.length>pattern.lgSize&&groups.unshift(digits.splice(-pattern.lgSize).join(""));digits.length>pattern.gSize;)groups.unshift(digits.splice(-pattern.gSize).join(""));digits.length&&groups.unshift(digits.join("")),formattedText=groups.join(groupSep),decimals.length&&(formattedText+=decimalSep+decimals.join("")),exponent&&(formattedText+="e+"+exponent)}return number<0&&!isZero?pattern.negPre+formattedText+pattern.negSuf:pattern.posPre+formattedText+pattern.posSuf}function padNumber(num,digits,trim){var neg="";for(num<0&&(neg="-",num=-num),num=""+num;num.length<digits;)num=ZERO_CHAR+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&offset==-12&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset,paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(dayOfWeekOnFirst<=4?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date),diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=toInt(match[9]+match[10]),tzMin=toInt(match[9]+match[11])),dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour,m=toInt(match[5]||0)-tzMin,s=toInt(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format,timezone){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date)||!isFinite(date.getTime()))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);var dateTimezoneOffset=date.getTimezoneOffset();return timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,date.getTimezoneOffset()),date=convertTimezoneToLocal(date,timezone,!0)),forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object,spacing){return isUndefined(spacing)&&(spacing=2),toJson(object,spacing)}}function limitToFilter(){return function(input,limit,begin){return limit=Math.abs(Number(limit))===1/0?Number(limit):toInt(limit),isNaN(limit)?input:(isNumber(input)&&(input=input.toString()),isArray(input)||isString(input)?(begin=!begin||isNaN(begin)?0:toInt(begin),begin=begin<0?Math.max(0,input.length+begin):begin,limit>=0?input.slice(begin,begin+limit):0===begin?input.slice(limit,input.length):input.slice(Math.max(0,begin+limit),begin)):input)}}function orderByFilter($parse){function processPredicates(sortPredicate,reverseOrder){return reverseOrder=reverseOrder?-1:1,sortPredicate.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate))get=predicate;else if(isString(predicate)&&("+"!=predicate.charAt(0)&&"-"!=predicate.charAt(0)||(descending="-"==predicate.charAt(0)?-1:1,predicate=predicate.substring(1)),""!==predicate&&(get=$parse(predicate),get.constant))){var key=get();get=function(value){return value[key]}}return{get:get,descending:descending*reverseOrder}})}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(value,index){return"function"==typeof value.valueOf&&(value=value.valueOf(),isPrimitive(value))?value:hasCustomToString(value)&&(value=value.toString(),isPrimitive(value))?value:index}function getPredicateValue(value,index){var type=typeof value;return null===value?(type="string",value="null"):"string"===type?value=value.toLowerCase():"object"===type&&(value=objectValue(value,index)),{value:value,type:type}}function compare(v1,v2){var result=0;return v1.type===v2.type?v1.value!==v2.value&&(result=v1.value<v2.value?-1:1):result=v1.type<v2.type?-1:1,result}return function(array,sortPredicate,reverseOrder){function getComparisonObject(value,index){return{value:value,predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index)})}}function doComparison(v1,v2){for(var result=0,index=0,length=predicates.length;index<length&&!(result=compare(v1.predicateValues[index],v2.predicateValues[index])*predicates[index].descending);++index);return result}if(!isArrayLike(array))return array;isArray(sortPredicate)||(sortPredicate=[sortPredicate]),0===sortPredicate.length&&(sortPredicate=["+"]);var predicates=processPredicates(sortPredicate,reverseOrder);predicates.push({get:function(){return{}},descending:reverseOrder?-1:1});var compareValues=Array.prototype.map.call(array,getComparisonObject);return compareValues.sort(doComparison),array=compareValues.map(function(item){return item.value})}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function nullFormRenameControl(control,name){control.$name=name}function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[];form.$error={},form.$$success={},form.$pending=undefined,form.$name=$interpolate(attrs.name||attrs.ngForm||"")($scope),form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,form.$submitted=!1,form.$$parentForm=nullFormCtrl,form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue()})},form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue()})},form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input"),controls.push(control),control.$name&&(form[control.$name]=control),control.$$parentForm=form},form.$$renameControl=function(control,newName){var oldName=control.$name;form[oldName]===control&&delete form[oldName],form[newName]=control,control.$name=newName},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(form.$pending,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$error,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$$success,function(value,name){form.$setValidity(name,null,control)}),arrayRemove(controls,control),control.$$parentForm=nullFormCtrl},addSetValidityMethod({ctrl:this,$element:element,set:function(object,property,controller){var list=object[property];if(list){var index=list.indexOf(controller);index===-1&&list.push(controller)}else object[property]=[controller]},unset:function(object,property,controller){var list=object[property];list&&(arrayRemove(list,controller),0===list.length&&delete object[property])},$animate:$animate}),form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS),$animate.addClass(element,DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,form.$$parentForm.$setDirty()},form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS),form.$dirty=!1,form.$pristine=!0,form.$submitted=!1,forEach(controls,function(control){control.$setPristine()})},form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched()})},form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS),form.$submitted=!0,form.$$parentForm.$setSubmitted()}}function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(data){composing=!0}),element.on("compositionend",function(){composing=!1,listener()})}var listener=function(ev){if(timeout&&($browser.defer.cancel(timeout),timeout=null),!composing){var value=element.val(),event=ev&&ev.type;"password"===type||attr.ngTrim&&"false"===attr.ngTrim||(value=trim(value)),(ctrl.$viewValue!==value||""===value&&ctrl.$$hasNativeValidators)&&ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var timeout,deferListener=function(ev,input,origValue){timeout||(timeout=$browser.defer(function(){timeout=null,input&&input.value===origValue||listener(ev)}))};element.on("keydown",function(event){var key=event.keyCode;91===key||15<key&&key<19||37<=key&&key<=40||deferListener(event,this,this.value)}),$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener),ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue;element.val()!==value&&element.val(value)}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);return existingDate&&(hours=existingDate.getHours(),minutes=existingDate.getMinutes(),seconds=existingDate.getSeconds(),milliseconds=existingDate.getMilliseconds()),new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return NaN}function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso))return iso;if(isString(iso)){if('"'==iso.charAt(0)&&'"'==iso.charAt(iso.length-1)&&(iso=iso.substring(1,iso.length-1)),ISO_DATE_REGEXP.test(iso))return new Date(iso);if(regexp.lastIndex=0,parts=regexp.exec(iso))return parts.shift(),map=date?{yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)}),new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,1e3*map.sss||0)}return NaN}}function createDateInputType(type,regexp,parseDate,format){return function(scope,element,attr,ctrl,$sniffer,$browser,$filter){function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)&&!isDate(val)?parseDate(val)||undefined:val}badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var previousDate,timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;if(ctrl.$$parserName=type,ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);return timezone&&(parsedDate=convertTimezoneToLocal(parsedDate,timezone)),parsedDate}return undefined}),ctrl.$formatters.push(function(value){if(value&&!isDate(value))throw ngModelMinErr("datefmt","Expected `{0}` to be a date",value);return isValidDate(value)?(previousDate=value,previousDate&&timezone&&(previousDate=convertTimezoneToLocal(previousDate,timezone,!0)),$filter("date")(value,format,timezone)):(previousDate=null,"")}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal},attr.$observe("min",function(val){minVal=parseObservedDateValue(val),ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal},attr.$observe("max",function(val){maxVal=parseObservedDateValue(val),ctrl.$validate()})}}}function badInputChecker(scope,element,attr,ctrl){var node=element[0],nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);nativeValidation&&ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput&&!validity.typeMismatch?undefined:value})}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$$parserName="number",ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:NUMBER_REGEXP.test(value)?parseFloat(value):undefined}),ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal},attr.$observe("min",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),minVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||value<=maxVal},attr.$observe("max",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),maxVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="url",ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="email",ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid());var listener=function(ev){element[0].checked&&ctrl.$setViewValue(attr.value,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){if(parseFn=$parse(expression),!parseFn.constant)throw ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,!0),falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,!1),listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value===!1},ctrl.$formatters.push(function(value){return equals(value,trueValue)}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,["$animate",function($animate){function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values.push(token)}return values}function arrayClasses(classVal){var classes=[];return isArray(classVal)?(forEach(classVal,function(v){classes=classes.concat(arrayClasses(v))}),classes):isString(classVal)?classVal.split(" "):isObject(classVal)?(forEach(classVal,function(v,k){v&&(classes=classes.concat(k.split(" ")))}),classes):classVal}return{restrict:"AC",link:function(scope,element,attr){function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses)}function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses)}function digestClassCounts(classes,count){var classCounts=element.data("$classCounts")||createMap(),classesToUpdate=[];return forEach(classes,function(className){(count>0||classCounts[className])&&(classCounts[className]=(classCounts[className]||0)+count,classCounts[className]===+(count>0)&&classesToUpdate.push(className))}),element.data("$classCounts",classCounts),classesToUpdate.join(" ")}function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses),toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1),toRemove=digestClassCounts(toRemove,-1),toAdd&&toAdd.length&&$animate.addClass(element,toAdd),toRemove&&toRemove.length&&$animate.removeClass(element,toRemove)}function ngClassWatchAction(newVal){if(selector===!0||scope.$index%2===selector){var newClasses=arrayClasses(newVal||[]);if(oldVal){if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses)}}else addClasses(newClasses)}oldVal=shallowCopy(newVal)}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(value){ngClassWatchAction(scope.$eval(attr[name]))}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;if(mod!==(1&old$index)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes)}})}}}]}function addSetValidityMethod(context){function setValidity(validationErrorKey,state,controller){isUndefined(state)?createAndSet("$pending",validationErrorKey,controller):unsetAndCleanup("$pending",validationErrorKey,controller),isBoolean(state)?state?(unset(ctrl.$error,validationErrorKey,controller),set(ctrl.$$success,validationErrorKey,controller)):(set(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)):(unset(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)),ctrl.$pending?(cachedToggleClass(PENDING_CLASS,!0),ctrl.$valid=ctrl.$invalid=undefined,toggleValidationCss("",null)):(cachedToggleClass(PENDING_CLASS,!1),ctrl.$valid=isObjectEmpty(ctrl.$error),ctrl.$invalid=!ctrl.$valid,toggleValidationCss("",ctrl.$valid));var combinedState;combinedState=ctrl.$pending&&ctrl.$pending[validationErrorKey]?undefined:!ctrl.$error[validationErrorKey]&&(!!ctrl.$$success[validationErrorKey]||null),toggleValidationCss(validationErrorKey,combinedState),ctrl.$$parentForm.$setValidity(validationErrorKey,combinedState,ctrl)}function createAndSet(name,value,controller){ctrl[name]||(ctrl[name]={}),set(ctrl[name],value,controller)}function unsetAndCleanup(name,value,controller){ctrl[name]&&unset(ctrl[name],value,controller),isObjectEmpty(ctrl[name])&&(ctrl[name]=undefined)}function cachedToggleClass(className,switchValue){switchValue&&!classCache[className]?($animate.addClass($element,className),classCache[className]=!0):!switchValue&&classCache[className]&&($animate.removeClass($element,className),classCache[className]=!1)}function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===!0),cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===!1)}var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS)),ctrl.$setValidity=setValidity}function isObjectEmpty(obj){if(obj)for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0}function chromeHack(optionElement){optionElement[0].hasAttribute("selected")&&(optionElement[0].selected=!0)}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/,VALIDITY_STATE_PROPERTY="validity",lowercase=function(string){return isString(string)?string.toLowerCase():string},hasOwnProperty=Object.prototype.hasOwnProperty,uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)&-33)}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=0;msie=document.documentMode,noop.$inject=[],identity.$inject=[];var skipDestroyOnNextJQueryCleanData,isArray=Array.isArray,TYPED_ARRAY_REGEXP=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,trim=function(value){return isString(value)?value.trim():value},escapeForRegexp=function(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},csp=function(){function noUnsafeEval(){try{return new Function(""),!1}catch(e){return!0}}if(!isDefined(csp.rules)){var ngCspElement=document.querySelector("[ng-csp]")||document.querySelector("[data-ng-csp]");if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute("ng-csp")||ngCspElement.getAttribute("data-ng-csp");csp.rules={noUnsafeEval:!ngCspAttribute||ngCspAttribute.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!ngCspAttribute||ngCspAttribute.indexOf("no-inline-style")!==-1}}else csp.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:!1}}return csp.rules},jq=function(){if(isDefined(jq.name_))return jq.name_;var el,i,prefix,name,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i)if(prefix=ngAttrPrefixes[i],el=document.querySelector("["+prefix.replace(":","\\:")+"jq]")){name=el.getAttribute(prefix+"jq");break}return jq.name_=name},ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"],SNAKE_CASE_REGEXP=/[A-Z]/g,bindJQueryFired=!1,NODE_TYPE_ELEMENT=1,NODE_TYPE_ATTRIBUTE=2,NODE_TYPE_TEXT=3,NODE_TYPE_COMMENT=8,NODE_TYPE_DOCUMENT=9,NODE_TYPE_DOCUMENT_FRAGMENT=11,version={full:"1.4.9",major:1,minor:4,dot:9,codeName:"implicit-superannuation"};JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,!1)},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,!1)};JQLite._data=function(node){return this.cache[node[this.expando]]||{}};var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"},jqLiteMinErr=minErr("jqLite"),SINGLE_TAG_REGEXP=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,HTML_REGEXP=/<|&#?\w+;/,TAG_NAME_REGEXP=/<([\w:-]+)/,XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var jqLiteContains=Node.prototype.contains||function(arg){return!!(16&this.compareDocumentPosition(arg))},JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(window).on("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=!0});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData},function(fn,name){JQLite[name]=fn}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){return name=camelCase(name),isDefined(value)?void(element.style[name]=value):element.style[name]},attr:function(element,name,value){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_TEXT&&nodeType!==NODE_TYPE_ATTRIBUTE&&nodeType!==NODE_TYPE_COMMENT){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}return getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&"select"===nodeName_(element)){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),0===result.length?null:result}return element.value}element.value=value},html:function(element,value){return isUndefined(value)?element.innerHTML:(jqLiteDealoc(element,!0),void(element.innerHTML=value))},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,nodeCount=this.length;if(fn!==jqLiteEmpty&&isUndefined(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)){if(isObject(arg1)){
for(i=0;i<nodeCount;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=isUndefined(value)?Math.min(nodeCount,1):nodeCount,j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;i<nodeCount;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,on:function(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(element)){var expandoStore=jqLiteExpandoStore(element,!0),events=expandoStore.events,handle=expandoStore.handle;handle||(handle=expandoStore.handle=createEventHandler(element,events));for(var types=type.indexOf(" ")>=0?type.split(" "):[type],i=types.length,addHandler=function(type,specialHandlerWrapper,noEventListener){var eventFns=events[type];eventFns||(eventFns=events[type]=[],eventFns.specialHandlerWrapper=specialHandlerWrapper,"$destroy"===type||noEventListener||addEventListenerFn(element,type,handle)),eventFns.push(fn)};i--;)type=types[i],MOUSE_EVENT_MAP[type]?(addHandler(MOUSE_EVENT_MAP[type],specialMouseHandlerWrapper),addHandler(type,undefined,!0)):addHandler(type)}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){element.nodeType===NODE_TYPE_ELEMENT&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_DOCUMENT_FRAGMENT){node=new JQLite(node);for(var i=0,ii=node.length;i<ii;i++){var child=node[i];element.appendChild(child)}}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode).eq(0).clone()[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,!0)},after:function(element,newElement){var index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling),index=node}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,eventFns=events&&events[eventName];eventFns&&(dummyEvent={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:eventName,target:element},event.type&&(dummyEvent=extend(dummyEvent,event)),eventFnsCopy=shallowCopy(eventFns),handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent],forEach(eventFnsCopy,function(fn){dummyEvent.isImmediatePropagationStopped()||fn.apply(element,handlerArgs)}))}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0,ii=this.length;i<ii;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value},get:function(key){return this[hashKey(key,this.nextUid)]},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];return delete this[key],value}};var $$HashMapProvider=[function(){this.$get=[function(){return HashMap}]}],FN_ARGS=/^[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector");createInjector.$$annotate=annotate;var $animateMinErr=minErr("$animate"),ELEMENT_NODE=1,NG_ANIMATE_CLASSNAME="ng-animate",$$CoreAnimateJsProvider=function(){this.$get=function(){}},$$CoreAnimateQueueProvider=function(){var postDigestQueue=new HashMap,postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){function updateData(data,classes,value){var changed=!1;return classes&&(classes=isString(classes)?classes.split(" "):isArray(classes)?classes:[],forEach(classes,function(className){className&&(changed=!0,data[className]=value)})),changed}function handleCSSClassChanges(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class")),toAdd="",toRemove="";forEach(data,function(status,className){var hasClass=!!existing[className];status!==hasClass&&(status?toAdd+=(toAdd.length?" ":"")+className:toRemove+=(toRemove.length?" ":"")+className)}),forEach(element,function(elm){toAdd&&jqLiteAddClass(elm,toAdd),toRemove&&jqLiteRemoveClass(elm,toRemove)}),postDigestQueue.remove(element)}}),postDigestElements.length=0}function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element)||{},classesAdded=updateData(data,add,!0),classesRemoved=updateData(data,remove,!1);(classesAdded||classesRemoved)&&(postDigestQueue.put(element,data),postDigestElements.push(element),1===postDigestElements.length&&$rootScope.$$postDigest(handleCSSClassChanges))}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){domOperation&&domOperation(),options=options||{},options.from&&element.css(options.from),options.to&&element.css(options.to),(options.addClass||options.removeClass)&&addRemoveClassesPostDigest(element,options.addClass,options.removeClass);var runner=new $$AnimateRunner;return runner.complete(),runner}}}]},$AnimateProvider=["$provide",function($provide){var provider=this;this.$$registeredAnimations=Object.create(null),this.register=function(name,factory){if(name&&"."!==name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key,$provide.factory(key,factory)},this.classNameFilter=function(expression){if(1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null,this.$$classNameFilter)){var reservedRegex=new RegExp("(\\s+|\\/)"+NG_ANIMATE_CLASSNAME+"(\\s+|\\/)");if(reservedRegex.test(this.$$classNameFilter.toString()))throw $animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME)}return this.$$classNameFilter},this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);!afterNode||afterNode.parentNode||afterNode.previousElementSibling||(afterElement=null)}afterElement?afterElement.after(element):parentElement.prepend(element)}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){runner.end&&runner.end()},enter:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addclass,className),$$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){return options=prepareAnimateOptions(options),options.removeClass=mergeClasses(options.removeClass,className),$$animateQueue.push(element,"removeClass",options)},setClass:function(element,add,remove,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addClass,add),options.removeClass=mergeClasses(options.removeClass,remove),$$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){return options=prepareAnimateOptions(options),options.from=options.from?extend(options.from,from):from,options.to=options.to?extend(options.to,to):to,className=className||"ng-inline-animate",options.tempClasses=mergeClasses(options.tempClasses,className),$$animateQueue.push(element,"animate",options)}}}]}],$$AnimateAsyncRunFactoryProvider=function(){this.$get=["$$rAF",function($$rAF){function waitForTick(fn){waitQueue.push(fn),waitQueue.length>1||$$rAF(function(){for(var i=0;i<waitQueue.length;i++)waitQueue[i]();waitQueue=[]})}var waitQueue=[];return function(){var passed=!1;return waitForTick(function(){passed=!0}),function(callback){passed?callback():waitForTick(callback)}}}]},$$AnimateRunnerFactoryProvider=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function($q,$sniffer,$$animateAsyncRun,$document,$timeout){function AnimateRunner(host){this.setHost(host);var rafTick=$$animateAsyncRun(),timeoutTick=function(fn){$timeout(fn,0,!1)};this._doneCallbacks=[],this._tick=function(fn){var doc=$document[0];doc&&doc.hidden?timeoutTick(fn):rafTick(fn)},this._state=0}var INITIAL_STATE=0,DONE_PENDING_STATE=1,DONE_COMPLETE_STATE=2;return AnimateRunner.chain=function(chain,callback){function next(){return index===chain.length?void callback(!0):void chain[index](function(response){return response===!1?void callback(!1):(index++,void next())})}var index=0;next()},AnimateRunner.all=function(runners,callback){function onProgress(response){status=status&&response,++count===runners.length&&callback(status)}var count=0,status=!0;forEach(runners,function(runner){runner.done(onProgress)})},AnimateRunner.prototype={setHost:function(host){this.host=host||{}},done:function(fn){this._state===DONE_COMPLETE_STATE?fn():this._doneCallbacks.push(fn)},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){status===!1?reject():resolve()})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},"catch":function(handler){return this.getPromise()["catch"](handler)},"finally":function(handler){return this.getPromise()["finally"](handler)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(response){var self=this;self._state===INITIAL_STATE&&(self._state=DONE_PENDING_STATE,self._tick(function(){self._resolve(response)}))},_resolve:function(response){this._state!==DONE_COMPLETE_STATE&&(forEach(this._doneCallbacks,function(fn){fn(response)}),this._doneCallbacks.length=0,this._state=DONE_COMPLETE_STATE)}},AnimateRunner}]},$CoreAnimateCssProvider=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function($$rAF,$q,$$AnimateRunner){return function(element,initialOptions){function run(){return $$rAF(function(){applyAnimationContents(),closed||runner.complete(),closed=!0}),runner}function applyAnimationContents(){options.addClass&&(element.addClass(options.addClass),options.addClass=null),options.removeClass&&(element.removeClass(options.removeClass),options.removeClass=null),options.to&&(element.css(options.to),options.to=null)}var options=initialOptions||{};options.$$prepared||(options=copy(options)),options.cleanupStyles&&(options.from=options.to=null),options.from&&(element.css(options.from),options.from=null);var closed,runner=new $$AnimateRunner;return{start:run,end:run}}}]},$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];var PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i,$controllerMinErr=minErr("$controller"),CNTRL_REG=/^(\S+)(\s+as\s+([\w$]+))?$/,$$ForceReflowProvider=function(){this.$get=["$document",function($document){return function(domNode){return domNode?!domNode.nodeType&&domNode instanceof jqLite&&(domNode=domNode[0]):domNode=$document[0].body,domNode.offsetWidth+1}}]},APPLICATION_JSON="application/json",CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"},JSON_START=/^\[|^\{(?!\{)/,JSON_ENDS={"[":/]$/,"{":/}$/},JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/,$httpMinErr=minErr("$http"),$httpMinErrLegacyFn=function(method){return function(){throw $httpMinErr("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",method)}},$interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text)},$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};var PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location"),locationPrototype={$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return(match[1]||""===url)&&this.path(decodeURIComponent(match[1])),(match[2]||match[1]||""===url)&&this.search(match[3]||""),this.hash(match[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return path=null!==path?path.toString():"","/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search))search=search.toString(),this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");search=copy(search,{}),forEach(search,function(value,key){null==value&&delete search[key]}),this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(hash){return null!==hash?hash.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype),Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5)throw $locationMinErr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(state)?null:state,this}});var $parseMinErr=minErr("$parse"),CALL=Function.prototype.call,APPLY=Function.prototype.apply,BIND=Function.prototype.bind,OPERATORS=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(operator){OPERATORS[operator]=!0});var ESCAPE={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){for(this.text=text,this.index=0,this.tokens=[];this.index<this.text.length;){var ch=this.text.charAt(this.index);if('"'===ch||"'"===ch)this.readString(ch);else if(this.isNumber(ch)||"."===ch&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(ch))this.readIdent();else if(this.is(ch,"(){}[].,;:?"))this.tokens.push({index:this.index,text:ch}),this.index++;else if(this.isWhitespace(ch))this.index++;else{var ch2=ch+this.peek(),ch3=ch2+this.peek(2),op1=OPERATORS[ch],op2=OPERATORS[ch2],op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:!0}),this.index+=token.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(ch,chars){return chars.indexOf(ch)!==-1},peek:function(i){var num=i||1;return this.index+num<this.text.length&&this.text.charAt(this.index+num)},isNumber:function(ch){return"0"<=ch&&ch<="9"&&"string"==typeof ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"\t"===ch||"\n"===ch||"\x0B"===ch||" "===ch},isIdent:function(ch){return"a"<=ch&&ch<="z"||"A"<=ch&&ch<="Z"||"_"===ch||"$"===ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:start,text:number,constant:!0,value:Number(number)})},readIdent:function(){for(var start=this.index;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(!this.isIdent(ch)&&!this.isNumber(ch))break;this.index++}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:!0})},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,constant:!0,value:string});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var AST=function(lexer,options){this.lexer=lexer,this.options=options};AST.Program="Program",AST.ExpressionStatement="ExpressionStatement",AST.AssignmentExpression="AssignmentExpression",AST.ConditionalExpression="ConditionalExpression",AST.LogicalExpression="LogicalExpression",AST.BinaryExpression="BinaryExpression",AST.UnaryExpression="UnaryExpression",AST.CallExpression="CallExpression",AST.MemberExpression="MemberExpression",AST.Identifier="Identifier",AST.Literal="Literal",AST.ArrayExpression="ArrayExpression",AST.Property="Property",AST.ObjectExpression="ObjectExpression",AST.ThisExpression="ThisExpression",AST.NGValueParameter="NGValueParameter",AST.prototype={ast:function(text){this.text=text,this.tokens=this.lexer.lex(text);var value=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value},program:function(){for(var body=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&body.push(this.expressionStatement()),!this.expect(";"))return{type:AST.Program,body:body}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var token,left=this.expression();token=this.expect("|");)left=this.filter(left);return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();return this.expect("=")&&(result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:"="}),result},ternary:function(){var alternate,consequent,test=this.logicalOR();return this.expect("?")&&(alternate=this.expression(),this.consume(":"))?(consequent=this.expression(),{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}):test},logicalOR:function(){for(var left=this.logicalAND();this.expect("||");)left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()};return left},logicalAND:function(){for(var left=this.equality();this.expect("&&");)left={type:AST.LogicalExpression,operator:"&&",left:left,right:this.equality()};return left},equality:function(){for(var token,left=this.relational();token=this.expect("==","!=","===","!==");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()};return left},relational:function(){for(var token,left=this.additive();token=this.expect("<",">","<=",">=");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()};return left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()};return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()};return left},unary:function(){var token;return(token=this.expect("+","-","!"))?{type:AST.UnaryExpression,operator:token.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var primary;this.expect("(")?(primary=this.filterChain(),this.consume(")")):this.expect("[")?primary=this.arrayDeclaration():this.expect("{")?primary=this.object():this.constants.hasOwnProperty(this.peek().text)?primary=copy(this.constants[this.consume().text]):this.peek().identifier?primary=this.identifier():this.peek().constant?primary=this.constant():this.throwError("not a primary expression",this.peek());for(var next;next=this.expect("(","[",".");)"("===next.text?(primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()},this.consume(")")):"["===next.text?(primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:!0},this.consume("]")):"."===next.text?primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return primary},filter:function(baseExpression){for(var args=[baseExpression],result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:!0};this.expect(":");)args.push(this.expression());return result},parseArguments:function(){var args=[];if(")"!==this.peekToken().text)do args.push(this.expression());while(this.expect(","));return args},identifier:function(){var token=this.consume();return token.identifier||this.throwError("is not a valid identifier",token),{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;elements.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:AST.ArrayExpression,elements:elements}},object:function(){var property,properties=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;property={type:AST.Property,kind:"init"},this.peek().constant?property.key=this.constant():this.peek().identifier?property.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),property.value=this.expression(),properties.push(property)}while(this.expect(","));return this.consume("}"),{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},consume:function(e1){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);var token=this.expect(e1);return token||this.throwError("is unexpected, expecting ["+e1+"]",this.peek()),token},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return!!token&&(this.tokens.shift(),token)},constants:{"true":{type:AST.Literal,value:!0},"false":{type:AST.Literal,value:!1},"null":{type:AST.Literal,value:null},undefined:{type:AST.Literal,value:undefined},"this":{type:AST.ThisExpression}}},ASTCompiler.prototype={compile:function(expression,expensiveChecks){var self=this,ast=this.astBuilder.ast(expression);this.state={nextId:0,filters:{},expensiveChecks:expensiveChecks,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(ast,self.$filter);var assignable,extra="";if(this.stage="assign",assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result),this.return_(result),extra="fn.assign="+this.generateFunction("assign","s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs",forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}},self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId),self.return_(intoId),self.state.inputs.push(fnKey),watch.watchId=key}),this.state.computing="fn",this.stage="main",this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+extra+this.watchFns()+"return fn;",fn=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",fnString)(this.$filter,ensureSafeMemberName,ensureSafeObject,ensureSafeFunction,getStringValue,ensureSafeAssignContext,ifDefined,plusFn,expression);return this.state=this.stage=undefined,fn.literal=isLiteral(ast),fn.constant=isConstant(ast),fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[],fns=this.state.inputs,self=this;return forEach(fns,function(name){result.push("var "+name+"="+self.generateFunction(name,"s"))}),fns.length&&result.push("fn.inputs=["+fns.join(",")+"];"),result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[],self=this;return forEach(this.state.filters,function(id,filter){parts.push(id+"=$filter("+self.escape(filter)+")")}),parts.length?"var "+parts.join(",")+";":""},varsPrefix:function(section){return this.state[section].vars.length?"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,args,expression,self=this;if(recursionFn=recursionFn||noop,!skipWatchIdCheck&&isDefined(ast.watchId))return intoId=intoId||this.nextId(),void this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,!0));switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr}),pos!==ast.body.length-1?self.current().body.push(right,";"):self.return_(right)});break;case AST.Literal:expression=this.escape(ast.value),this.assign(intoId,expression),recursionFn(expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr}),expression=ast.operator+"("+this.ifDefined(right,0)+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr}),this.recurse(ast.right,undefined,undefined,function(expr){right=expr}),expression="+"===ast.operator?this.plus(left,right):"-"===ast.operator?this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0):"("+left+")"+ast.operator+"("+right+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId(),self.recurse(ast.left,intoId),self.if_("&&"===ast.operator?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId)),recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId(),self.recurse(ast.test,intoId),self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId)),recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId(),nameId&&(nameId.context="inputs"===self.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",ast.name)+"?l:s"),nameId.computed=!1,nameId.name=ast.name),ensureSafeMemberName(ast.name),self.if_("inputs"===self.stage||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_("inputs"===self.stage||"s",function(){create&&1!==create&&self.if_(self.not(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}")),self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name))),(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.name))&&self.addEnsureSafeObject(intoId),recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId(),intoId=intoId||this.nextId(),self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){ast.computed?(right=self.nextId(),self.recurse(ast.property,right),self.getStringValue(right),self.addEnsureSafeMemberName(right),create&&1!==create&&self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}")),expression=self.ensureSafeObject(self.computedMember(left,right)),self.assign(intoId,expression),nameId&&(nameId.computed=!0,nameId.name=right)):(ensureSafeMemberName(ast.property.name),create&&1!==create&&self.if_(self.not(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}")),expression=self.nonComputedMember(left,ast.property.name),(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.property.name))&&(expression=self.ensureSafeObject(expression)),
self.assign(intoId,expression),nameId&&(nameId.computed=!1,nameId.name=ast.property.name))},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId(),ast.filter?(right=self.filter(ast.callee.name),args=[],forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument),args.push(argument)}),expression=right+"("+args.join(",")+")",self.assign(intoId,expression),recursionFn(intoId)):(right=self.nextId(),left={},args=[],self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){self.addEnsureSafeFunction(right),forEach(ast.arguments,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(self.ensureSafeObject(argument))})}),left.name?(self.state.expensiveChecks||self.addEnsureSafeObject(left.context),expression=self.member(left.context,left.name,left.computed)+"("+args.join(",")+")"):expression=right+"("+args.join(",")+")",expression=self.ensureSafeObject(expression),self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)}));break;case AST.AssignmentExpression:if(right=this.nextId(),left={},!isAssignable(ast.left))throw $parseMinErr("lval","Trying to assign a value to a non l-value");this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right),self.addEnsureSafeObject(self.member(left.context,left.name,left.computed)),self.addEnsureSafeAssignContext(left.context),expression=self.member(left.context,left.name,left.computed)+ast.operator+right,self.assign(intoId,expression),recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[],forEach(ast.elements,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(argument)})}),expression="["+args.join(",")+"]",this.assign(intoId,expression),recursionFn(expression);break;case AST.ObjectExpression:args=[],forEach(ast.properties,function(property){self.recurse(property.value,self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})}),expression="{"+args.join(",")+"}",this.assign(intoId,expression),recursionFn(expression);break;case AST.ThisExpression:this.assign(intoId,"s"),recursionFn("s");break;case AST.NGValueParameter:this.assign(intoId,"v"),recursionFn("v")}},getHasOwnProperty:function(element,property){var key=element+"."+property,own=this.current().own;return own.hasOwnProperty(key)||(own[key]=this.nextId(!1,element+"&&("+this.escape(property)+" in "+element+")")),own[key]},assign:function(id,value){if(id)return this.current().body.push(id,"=",value,";"),id},filter:function(filterName){return this.state.filters.hasOwnProperty(filterName)||(this.state.filters[filterName]=this.nextId(!0)),this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(test===!0)alternate();else{var body=this.current().body;body.push("if(",test,"){"),alternate(),body.push("}"),consequent&&(body.push("else{"),consequent(),body.push("}"))}},not:function(expression){return"!("+expression+")"},notNull:function(expression){return expression+"!=null"},nonComputedMember:function(left,right){return left+"."+right},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){return computed?this.computedMember(left,right):this.nonComputedMember(left,right)},addEnsureSafeObject:function(item){this.current().body.push(this.ensureSafeObject(item),";")},addEnsureSafeMemberName:function(item){this.current().body.push(this.ensureSafeMemberName(item),";")},addEnsureSafeFunction:function(item){this.current().body.push(this.ensureSafeFunction(item),";")},addEnsureSafeAssignContext:function(item){this.current().body.push(this.ensureSafeAssignContext(item),";")},ensureSafeObject:function(item){return"ensureSafeObject("+item+",text)"},ensureSafeMemberName:function(item){return"ensureSafeMemberName("+item+",text)"},ensureSafeFunction:function(item){return"ensureSafeFunction("+item+",text)"},getStringValue:function(item){this.assign(item,"getStringValue("+item+",text)")},ensureSafeAssignContext:function(item){return"ensureSafeAssignContext("+item+",text)"},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(value===!0)return"true";if(value===!1)return"false";if(null===value)return"null";if("undefined"==typeof value)return"undefined";throw $parseMinErr("esc","IMPOSSIBLE")},nextId:function(skip,init){var id="v"+this.state.nextId++;return skip||this.current().vars.push(id+(init?"="+init:"")),id},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(expression,expensiveChecks){var self=this,ast=this.astBuilder.ast(expression);this.expression=expression,this.expensiveChecks=expensiveChecks,findConstantAndWatchExpressions(ast,self.$filter);var assignable,assign;(assignable=assignableAST(ast))&&(assign=this.recurse(assignable));var inputs,toWatch=getInputs(ast.body);toWatch&&(inputs=[],forEach(toWatch,function(watch,key){var input=self.recurse(watch);watch.input=input,inputs.push(input),watch.watchId=key}));var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=0===ast.body.length?function(){}:1===ast.body.length?expressions[0]:function(scope,locals){var lastValue;return forEach(expressions,function(exp){lastValue=exp(scope,locals)}),lastValue};return assign&&(fn.assign=function(scope,value,locals){return assign(scope,locals,value)}),inputs&&(fn.inputs=inputs),fn.literal=isLiteral(ast),fn.constant=isConstant(ast),fn},recurse:function(ast,context,create){var left,right,args,self=this;if(ast.input)return this.inputs(ast.input,ast.watchId);switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:return right=this.recurse(ast.argument),this["unary"+ast.operator](right,context);case AST.BinaryExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.LogicalExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:return ensureSafeMemberName(ast.name,self.expression),self.identifier(ast.name,self.expensiveChecks||isPossiblyDangerousMemberName(ast.name),context,create,self.expression);case AST.MemberExpression:return left=this.recurse(ast.object,!1,!!create),ast.computed||(ensureSafeMemberName(ast.property.name,self.expression),right=ast.property.name),ast.computed&&(right=this.recurse(ast.property)),ast.computed?this.computedMember(left,right,context,create,self.expression):this.nonComputedMember(left,right,self.expensiveChecks,context,create,self.expression);case AST.CallExpression:return args=[],forEach(ast.arguments,function(expr){args.push(self.recurse(expr))}),ast.filter&&(right=this.$filter(ast.callee.name)),ast.filter||(right=this.recurse(ast.callee,!0)),ast.filter?function(scope,locals,assign,inputs){for(var values=[],i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value}:function(scope,locals,assign,inputs){var value,rhs=right(scope,locals,assign,inputs);if(null!=rhs.value){ensureSafeObject(rhs.context,self.expression),ensureSafeFunction(rhs.value,self.expression);for(var values=[],i=0;i<args.length;++i)values.push(ensureSafeObject(args[i](scope,locals,assign,inputs),self.expression));value=ensureSafeObject(rhs.value.apply(rhs.context,values),self.expression)}return context?{value:value}:value};case AST.AssignmentExpression:return left=this.recurse(ast.left,!0,1),right=this.recurse(ast.right),function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs);return ensureSafeObject(lhs.value,self.expression),ensureSafeAssignContext(lhs.context),lhs.context[lhs.name]=rhs,context?{value:rhs}:rhs};case AST.ArrayExpression:return args=[],forEach(ast.elements,function(expr){args.push(self.recurse(expr))}),function(scope,locals,assign,inputs){for(var value=[],i=0;i<args.length;++i)value.push(args[i](scope,locals,assign,inputs));return context?{value:value}:value};case AST.ObjectExpression:return args=[],forEach(ast.properties,function(property){args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,value:self.recurse(property.value)})}),function(scope,locals,assign,inputs){for(var value={},i=0;i<args.length;++i)value[args[i].key]=args[i].value(scope,locals,assign,inputs);return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.NGValueParameter:return function(scope,locals,assign,inputs){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?+arg:0,context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?-arg:0,context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=plusFn(lhs,rhs);return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary===":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary&&":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg}},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value}},identifier:function(name,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var base=locals&&name in locals?locals:scope;create&&1!==create&&base&&!base[name]&&(base[name]={});var value=base?base[name]:undefined;return expensiveChecks&&ensureSafeObject(value,expression),context?{context:base,name:name,value:value}:value}},computedMember:function(left,right,context,create,expression){return function(scope,locals,assign,inputs){var rhs,value,lhs=left(scope,locals,assign,inputs);return null!=lhs&&(rhs=right(scope,locals,assign,inputs),rhs=getStringValue(rhs),ensureSafeMemberName(rhs,expression),create&&1!==create&&lhs&&!lhs[rhs]&&(lhs[rhs]={}),value=lhs[rhs],ensureSafeObject(value,expression)),context?{context:lhs,name:rhs,value:value}:value}},nonComputedMember:function(left,right,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);create&&1!==create&&lhs&&!lhs[right]&&(lhs[right]={});var value=null!=lhs?lhs[right]:undefined;return(expensiveChecks||isPossiblyDangerousMemberName(right))&&ensureSafeObject(value,expression),context?{context:lhs,name:right,value:value}:value}},inputs:function(input,watchId){return function(scope,value,locals,inputs){return inputs?inputs[watchId]:input(scope,value,locals)}}};var Parser=function(lexer,$filter,options){this.lexer=lexer,this.$filter=$filter,this.options=options,this.ast=new AST(this.lexer),this.astCompiler=options.csp?new ASTInterpreter(this.ast,$filter):new ASTCompiler(this.ast,$filter)};Parser.prototype={constructor:Parser,parse:function(text){return this.astCompiler.compile(text,this.options.expensiveChecks)}};var objectValueOf=Object.prototype.valueOf,$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},$compileMinErr=minErr("$compile"),urlParsingNode=document.createElement("a"),originUrl=urlResolve(window.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"];var MAX_DIGITS=22,DECIMAL_SEP=".",ZERO_CHAR="0";currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){if(!attr.href&&!attr.xlinkHref)return function(scope,element){if("a"===element[0].nodeName.toLowerCase()){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}if("multiple"!=propName){var normalized=directiveNormalize("ng-"+attrName),linkFn=defaultLinkFn;"checked"===propName&&(linkFn=function(scope,element,attr){attr.ngModel!==attr[normalized]&&defaultLinkFn(scope,element,attr)}),ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}}}),forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if("ngPattern"===ngAttr&&"/"==attr.ngPattern.charAt(0)){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match)return void attr.$set("ngPattern",new RegExp(match[1],match[2]))}scope.$watch(attr[ngAttr],function(value){attr.$set(ngAttr,value)})}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){return value?(attr.$set(name,value),void(msie&&propName&&element.prop(propName,attr[name]))):void("href"===attrName&&attr.$set(name,null))})}}}});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},SUBMITTED_CLASS="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var formDirectiveFactory=function(isNgForm){return["$timeout","$parse",function($timeout,$parse){function getSetter(expression){return""===expression?$parse('this[""]').assign:$parse(expression).assign||noop}var formDirective={name:"form",restrict:isNgForm?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":!(!isNgForm||!attr.ngForm)&&"ngForm";return{pre:function(scope,formElement,attr,ctrls){var controller=ctrls[0];if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue(),controller.$setSubmitted()}),event.preventDefault()};addEventListenerFn(formElement[0],"submit",handleFormSubmission),formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",handleFormSubmission)},0,!1)})}var parentFormCtrl=ctrls[1]||controller.$$parentForm;parentFormCtrl.$addControl(controller);var setter=nameAttr?getSetter(controller.$name):noop;nameAttr&&(setter(scope,controller),attr.$observe(nameAttr,function(newValue){controller.$name!==newValue&&(setter(scope,undefined),controller.$$parentForm.$$renameControl(controller,newValue),(setter=getSetter(controller.$name))(scope,controller))})),formElement.on("$destroy",function(){controller.$$parentForm.$removeControl(controller),setter(scope,undefined),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),ISO_DATE_REGEXP=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,URL_REGEXP=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,DATE_REGEXP=/^(\d{4})-(\d{2})-(\d{2})$/,DATETIMELOCAL_REGEXP=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,WEEK_REGEXP=/^(\d{4})-W(\d\d)$/,MONTH_REGEXP=/^(\d{4})-(\d\d)$/,TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){ctrls[0]&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}],CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{restrict:"A",priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}},ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind),element=element[0],scope.$watch(attr.ngBind,function(value){element.textContent=isUndefined(value)?"":value})}}}}],ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions),element=element[0],attr.$observe("ngBindTemplate",function(value){element.textContent=isUndefined(value)?"":value})}}}}],ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml),ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function(value){return(value||"").toString()});return $compile.$$addBindingClass(tElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml),scope.$watch(ngBindHtmlWatch,function(){element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope))||"")})}}}}],ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ngEventDirectives={},forceAsyncEvents={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName],null,!0);return function(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});var ngIfDirective=["$animate",function($animate){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){value?childScope||$transclude(function(clone,newScope){childScope=newScope,clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" "),block={clone:clone},$animate.enter(clone,$element.parent(),$element)}):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockNodes(block.clone),$animate.leave(previousElements).then(function(){previousElements=null}),block=null))})}}}],ngIncludeDirective=["$templateRequest","$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch(srcExp,function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(!scope.$$destroyed&&thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element).then(afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src),scope.$eval(onloadExp)}},function(){scope.$$destroyed||thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){return/SVG/.test($element[0].toString())?($element.empty(),void $compile(jqLiteBuildFragment(ctrl.template,document).childNodes)(scope,function(clone){$element.append(clone)},{futureParentElement:$element})):($element.html(ctrl.template),void $compile($element.contents())(scope))}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||", ",trimValues="false"!==attr.ngTrim,separator=trimValues?trim(ngList):ngList,parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trimValues?trim(value):value)}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(ngList):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",PENDING_CLASS="ng-pending",ngModelMinErr=minErr("ngModel"),NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=undefined,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=undefined,this.$name=$interpolate($attr.name||"",!1)($scope),this.$$parentForm=nullFormCtrl;var parserValid,parsedNgModel=$parse($attr.ngModel),parsedNgModelAssign=parsedNgModel.assign,ngModelGet=parsedNgModel,ngModelSet=parsedNgModelAssign,pendingDebounce=null,ctrl=this;this.$$setOptions=function(options){if(ctrl.$options=options,options&&options.getterSetter){var invokeModelGetter=$parse($attr.ngModel+"()"),invokeModelSetter=$parse($attr.ngModel+"($$$p)");ngModelGet=function($scope){var modelValue=parsedNgModel($scope);return isFunction(modelValue)&&(modelValue=invokeModelGetter($scope)),modelValue},ngModelSet=function($scope,newValue){isFunction(parsedNgModel($scope))?invokeModelSetter($scope,{$$$p:ctrl.$modelValue}):parsedNgModelAssign($scope,ctrl.$modelValue)}}else if(!parsedNgModel.assign)throw ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element))},this.$render=noop,this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};var currentValidationRunId=0;addSetValidityMethod({ctrl:this,$element:$element,set:function(object,property){object[property]=!0},unset:function(object,property){delete object[property]},$animate:$animate}),this.$setPristine=function(){ctrl.$dirty=!1,ctrl.$pristine=!0,$animate.removeClass($element,DIRTY_CLASS),$animate.addClass($element,PRISTINE_CLASS)},this.$setDirty=function(){ctrl.$dirty=!0,ctrl.$pristine=!1,$animate.removeClass($element,PRISTINE_CLASS),$animate.addClass($element,DIRTY_CLASS),ctrl.$$parentForm.$setDirty()},this.$setUntouched=function(){ctrl.$touched=!1,ctrl.$untouched=!0,$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS)},this.$setTouched=function(){ctrl.$touched=!0,ctrl.$untouched=!1,$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS)},this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce),ctrl.$viewValue=ctrl.$$lastCommittedViewValue,ctrl.$render()},this.$validate=function(){if(!isNumber(ctrl.$modelValue)||!isNaN(ctrl.$modelValue)){var viewValue=ctrl.$$lastCommittedViewValue,modelValue=ctrl.$$rawModelValue,prevValid=ctrl.$valid,prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$runValidators(modelValue,viewValue,function(allValid){allowInvalid||prevValid===allValid||(ctrl.$modelValue=allValid?modelValue:undefined,ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope())})}},this.$$runValidators=function(modelValue,viewValue,doneCallback){function processParseErrors(){var errorKey=ctrl.$$parserName||"parse";return isUndefined(parserValid)?(setValidity(errorKey,null),
!0):(parserValid||(forEach(ctrl.$validators,function(v,name){setValidity(name,null)}),forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)})),setValidity(errorKey,parserValid),parserValid)}function processSyncValidators(){var syncValidatorsValid=!0;return forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result,setValidity(name,result)}),!!syncValidatorsValid||(forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)}),!1)}function processAsyncValidators(){var validatorPromises=[],allValid=!0;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw ngModelMinErr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,undefined),validatorPromises.push(promise.then(function(){setValidity(name,!0)},function(error){allValid=!1,setValidity(name,!1)}))}),validatorPromises.length?$q.all(validatorPromises).then(function(){validationDone(allValid)},noop):validationDone(!0)}function setValidity(name,isValid){localValidationRunId===currentValidationRunId&&ctrl.$setValidity(name,isValid)}function validationDone(allValid){localValidationRunId===currentValidationRunId&&doneCallback(allValid)}currentValidationRunId++;var localValidationRunId=currentValidationRunId;return processParseErrors()&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce),(ctrl.$$lastCommittedViewValue!==viewValue||""===viewValue&&ctrl.$$hasNativeValidators)&&(ctrl.$$lastCommittedViewValue=viewValue,ctrl.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function writeToModelIfNeeded(){ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope()}var viewValue=ctrl.$$lastCommittedViewValue,modelValue=viewValue;if(parserValid=!isUndefined(modelValue)||undefined)for(var i=0;i<ctrl.$parsers.length;i++)if(modelValue=ctrl.$parsers[i](modelValue),isUndefined(modelValue)){parserValid=!1;break}isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)&&(ctrl.$modelValue=ngModelGet($scope));var prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$rawModelValue=modelValue,allowInvalid&&(ctrl.$modelValue=modelValue,writeToModelIfNeeded()),ctrl.$$runValidators(modelValue,ctrl.$$lastCommittedViewValue,function(allValid){allowInvalid||(ctrl.$modelValue=allValid?modelValue:undefined,writeToModelIfNeeded())})},this.$$writeModelToScope=function(){ngModelSet($scope,ctrl.$modelValue),forEach(ctrl.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}})},this.$setViewValue=function(value,trigger){ctrl.$viewValue=value,ctrl.$options&&!ctrl.$options.updateOnDefault||ctrl.$$debounceViewValueCommit(trigger)},this.$$debounceViewValueCommit=function(trigger){var debounce,debounceDelay=0,options=ctrl.$options;options&&isDefined(options.debounce)&&(debounce=options.debounce,isNumber(debounce)?debounceDelay=debounce:isNumber(debounce[trigger])?debounceDelay=debounce[trigger]:isNumber(debounce["default"])&&(debounceDelay=debounce["default"])),$timeout.cancel(pendingDebounce),debounceDelay?pendingDebounce=$timeout(function(){ctrl.$commitViewValue()},debounceDelay):$rootScope.$$phase?ctrl.$commitViewValue():$scope.$apply(function(){ctrl.$commitViewValue()})},$scope.$watch(function(){var modelValue=ngModelGet($scope);if(modelValue!==ctrl.$modelValue&&(ctrl.$modelValue===ctrl.$modelValue||modelValue===modelValue)){ctrl.$modelValue=ctrl.$$rawModelValue=modelValue,parserValid=undefined;for(var formatters=ctrl.$formatters,idx=formatters.length,viewValue=modelValue;idx--;)viewValue=formatters[idx](viewValue);ctrl.$viewValue!==viewValue&&(ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue,ctrl.$render(),ctrl.$$runValidators(modelValue,viewValue,noop))}return modelValue})}],ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function(element){return element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS),{pre:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||modelCtrl.$$parentForm;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options),formCtrl.$addControl(modelCtrl),attr.$observe("name",function(newValue){modelCtrl.$name!==newValue&&modelCtrl.$$parentForm.$$renameControl(modelCtrl,newValue)}),scope.$on("$destroy",function(){modelCtrl.$$parentForm.$removeControl(modelCtrl)})},post:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$options&&modelCtrl.$options.updateOn&&element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type)}),element.on("blur",function(ev){modelCtrl.$touched||($rootScope.$$phase?scope.$evalAsync(modelCtrl.$setTouched):scope.$apply(modelCtrl.$setTouched))})}}}}}],DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/,ngModelOptionsDirective=function(){return{restrict:"A",controller:["$scope","$attrs",function($scope,$attrs){var that=this;this.$options=copy($scope.$eval($attrs.ngModelOptions)),isDefined(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){return that.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngOptionsMinErr=minErr("ngOptions"),NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ngOptionsDirective=["$compile","$parse",function($compile,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue,this.viewValue=viewValue,this.label=label,this.group=group,this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues))optionValuesKeys=optionValues;else{optionValuesKeys=[];for(var itemKey in optionValues)optionValues.hasOwnProperty(itemKey)&&"$"!==itemKey.charAt(0)&&optionValuesKeys.push(itemKey)}return optionValuesKeys}var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match)throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var valueName=match[5]||match[7],keyName=match[6],selectAs=/ as /.test(match[0])&&match[1],trackBy=match[9],valueFn=$parse(match[2]?match[1]:valueName),selectAsFn=selectAs&&$parse(selectAs),viewValueFn=selectAsFn||valueFn,trackByFn=trackBy&&$parse(trackBy),getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function(value){return hashKey(value)},getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))},displayFn=$parse(match[2]||match[1]),groupByFn=$parse(match[3]||""),disableWhenFn=$parse(match[4]||""),valuesFn=$parse(match[8]),locals={},getLocals=keyName?function(value,key){return locals[keyName]=key,locals[valueName]=value,locals}:function(value){return locals[valueName]=value,locals};return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];for(var optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],locals=(optionValues[key],getLocals(optionValues[key],key)),selectValue=getTrackByValueFn(optionValues[key],locals);if(watchedArray.push(selectValue),match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){for(var optionItems=[],selectValueMap={},optionValues=valuesFn(scope)||[],optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],value=optionValues[key],locals=getLocals(value,key),viewValue=viewValueFn(scope,locals),selectValue=getTrackByValueFn(viewValue,locals),label=displayFn(scope,locals),group=groupByFn(scope,locals),disabled=disableWhenFn(scope,locals),optionItem=new Option(selectValue,viewValue,label,group,disabled);optionItems.push(optionItem),selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?angular.copy(option.viewValue):option.viewValue}}}}}function ngOptionsPostLink(scope,selectElement,attr,ctrls){function updateOptionElement(option,element){option.element=element,element.disabled=option.disabled,option.label!==element.label&&(element.label=option.label,element.textContent=option.label),option.value!==element.value&&(element.value=option.selectValue)}function addOrReuseElement(parent,current,type,templateElement){var element;return current&&lowercase(current.nodeName)===type?element=current:(element=templateElement.cloneNode(!1),current?parent.insertBefore(element,current):parent.appendChild(element)),element}function removeExcessElements(current){for(var next;current;)next=current.nextSibling,jqLiteRemove(current),current=next}function skipEmptyAndUnknownOptions(current){var emptyOption_=emptyOption&&emptyOption[0],unknownOption_=unknownOption&&unknownOption[0];if(emptyOption_||unknownOption_)for(;current&&(current===emptyOption_||current===unknownOption_||current.nodeType===NODE_TYPE_COMMENT||"option"===nodeName_(current)&&""===current.value);)current=current.nextSibling;return current}function updateOptions(){var previousValue=options&&selectCtrl.readValue();options=ngOptions.getOptions();var groupMap={},currentElement=selectElement[0].firstChild;if(providedEmptyOption&&selectElement.prepend(emptyOption),currentElement=skipEmptyAndUnknownOptions(currentElement),options.items.forEach(function(option){var group,groupElement,optionElement;option.group?(group=groupMap[option.group],group||(groupElement=addOrReuseElement(selectElement[0],currentElement,"optgroup",optGroupTemplate),currentElement=groupElement.nextSibling,groupElement.label=option.group,group=groupMap[option.group]={groupElement:groupElement,currentOptionElement:groupElement.firstChild}),optionElement=addOrReuseElement(group.groupElement,group.currentOptionElement,"option",optionTemplate),updateOptionElement(option,optionElement),group.currentOptionElement=optionElement.nextSibling):(optionElement=addOrReuseElement(selectElement[0],currentElement,"option",optionTemplate),updateOptionElement(option,optionElement),currentElement=optionElement.nextSibling)}),Object.keys(groupMap).forEach(function(key){removeExcessElements(groupMap[key].currentOptionElement)}),removeExcessElements(currentElement),ngModelCtrl.$render(),!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue(),isNotPrimitive=ngOptions.trackBy||multiple;(isNotPrimitive?equals(previousValue,nextValue):previousValue===nextValue)||(ngModelCtrl.$setViewValue(nextValue),ngModelCtrl.$render())}}var ngModelCtrl=ctrls[1];if(ngModelCtrl){for(var emptyOption,selectCtrl=ctrls[0],multiple=attr.multiple,i=0,children=selectElement.children(),ii=children.length;i<ii;i++)if(""===children[i].value){emptyOption=children.eq(i);break}var providedEmptyOption=!!emptyOption,unknownOption=jqLite(optionTemplate.cloneNode(!1));unknownOption.val("?");var options,ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope),renderEmptyOption=function(){providedEmptyOption||selectElement.prepend(emptyOption),selectElement.val(""),emptyOption.prop("selected",!0),emptyOption.attr("selected",!0)},removeEmptyOption=function(){providedEmptyOption||emptyOption.remove()},renderUnknownOption=function(){selectElement.prepend(unknownOption),selectElement.val("?"),unknownOption.prop("selected",!0),unknownOption.attr("selected",!0)},removeUnknownOption=function(){unknownOption.remove()};multiple?(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length},selectCtrl.writeValue=function(value){options.items.forEach(function(option){option.element.selected=!1}),value&&value.forEach(function(item){var option=options.getOptionFromViewValue(item);option&&!option.disabled&&(option.element.selected=!0)})},selectCtrl.readValue=function(){var selectedValues=selectElement.val()||[],selections=[];return forEach(selectedValues,function(value){var option=options.selectValueMap[value];option&&!option.disabled&&selections.push(options.getViewValueFromOption(option))}),selections},ngOptions.trackBy&&scope.$watchCollection(function(){if(isArray(ngModelCtrl.$viewValue))return ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)})},function(){ngModelCtrl.$render()})):(selectCtrl.writeValue=function(value){var option=options.getOptionFromViewValue(value);option&&!option.disabled?selectElement[0].value!==option.selectValue&&(removeUnknownOption(),removeEmptyOption(),selectElement[0].value=option.selectValue,option.element.selected=!0,option.element.setAttribute("selected","selected")):null===value||providedEmptyOption?(removeUnknownOption(),renderEmptyOption()):(removeEmptyOption(),renderUnknownOption())},selectCtrl.readValue=function(){var selectedOption=options.selectValueMap[selectElement.val()];return selectedOption&&!selectedOption.disabled?(removeEmptyOption(),removeUnknownOption(),options.getViewValueFromOption(selectedOption)):null},ngOptions.trackBy&&scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})),providedEmptyOption?(emptyOption.remove(),$compile(emptyOption)(scope),emptyOption.removeClass("ng-scope")):emptyOption=jqLite(optionTemplate.cloneNode(!1)),updateOptions(),scope.$watchCollection(ngOptions.getWatchables,updateOptions)}}var optionTemplate=document.createElement("option"),optGroupTemplate=document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(scope,selectElement,attr,ctrls){ctrls[0].registerOption=noop},post:ngOptionsPostLink}}}],ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){function updateElementText(newText){element.text(newText||"")}var lastCount,numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))}),scope.$watch(numberExp,function(newVal){var count=parseFloat(newVal),countIsNaN=isNaN(count);if(countIsNaN||count in whens||(count=$locale.pluralCat(count-offset)),count!==lastCount&&!(countIsNaN&&isNumber(lastCount)&&isNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];isUndefined(whenExpFn)?(null!=newVal&&$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp),watchRemover=noop,updateElementText()):watchRemover=scope.$watch(whenExpFn,updateElementText),lastCount=count}})}}}],ngRepeatDirective=["$parse","$animate",function($parse,$animate){var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat"),updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value,keyIdentifier&&(scope[keyIdentifier]=key),scope.$index=index,scope.$first=0===index,scope.$last=index===arrayLength-1,scope.$middle=!(scope.$first||scope.$last),scope.$odd=!(scope.$even=0===(1&index))},getBlockStart=function(block){return block.clone[0]},getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function($element,$attr){var expression=$attr.ngRepeat,ngRepeatEndComment=document.createComment(" end ngRepeat: "+expression+" "),match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var lhs=match[1],rhs=match[2],aliasAs=match[3],trackByExp=match[4];if(match=lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);var valueIdentifier=match[3]||match[1],keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,hashFnLocals={$id:hashKey};return trackByExp?trackByExpGetter=$parse(trackByExp):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),function($scope,$element,$attr,ctrl,$transclude){trackByExpGetter&&(trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)});var lastBlockMap=createMap();$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove,previousNode=$element[0],nextBlockMap=createMap();if(aliasAs&&($scope[aliasAs]=collection),isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(var itemKey in collection)hasOwnProperty.call(collection,itemKey)&&"$"!==itemKey.charAt(0)&&collectionKeys.push(itemKey)}for(collectionLength=collectionKeys.length,nextBlockOrder=new Array(collectionLength),index=0;index<collectionLength;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),lastBlockMap[trackById])block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap[trackById])throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined},nextBlockMap[trackById]=!0}for(var blockKey in lastBlockMap){if(block=lastBlockMap[blockKey],elementsToRemove=getBlockNodes(block.clone),$animate.leave(elementsToRemove),elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;index<length;index++)elementsToRemove[index][NG_REMOVED]=!0;block.scope.$destroy()}for(index=0;index<collectionLength;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],block.scope){nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockNodes(block.clone),null,jqLite(previousNode)),previousNode=getBlockEnd(block),updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(!1);clone[clone.length++]=endNode,$animate.enter(clone,null,jqLite(previousNode)),previousNode=endNode,block.clone=clone,nextBlockMap[block.id]=block,updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)});lastBlockMap=nextBlockMap})}}}}],NG_HIDE_CLASS="ng-hide",NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate",ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)},!0)}),ngSwitchDirective=["$animate",function($animate){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[],spliceFactory=function(array,index){return function(){array.splice(index,1)}};scope.$watch(watchExpr,function(value){var i,ii;for(i=0,ii=previousLeaveAnimations.length;i<ii;++i)$animate.cancel(previousLeaveAnimations[i]);for(previousLeaveAnimations.length=0,i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0,selectedScopes.length=0,(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=document.createComment(" end ngSwitchWhen: ");var block={clone:caseElement};selectedElements.push(block),$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeDirective=ngDirective({restrict:"EAC",link:function($scope,$element,$attrs,controller,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$transclude(function(clone){$element.empty(),$element.append(clone)})}}),scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],noopNgModelController={$setViewValue:noop,$render:noop},SelectController=["$element","$scope","$attrs",function($element,$scope,$attrs){var self=this,optionsMap=new HashMap;self.ngModelCtrl=noopNgModelController,self.unknownOption=jqLite(document.createElement("option")),self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";self.unknownOption.val(unknownVal),$element.prepend(self.unknownOption),$element.val(unknownVal)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop}),self.removeUnknownOption=function(){self.unknownOption.parent()&&self.unknownOption.remove()},self.readValue=function(){return self.removeUnknownOption(),$element.val()},self.writeValue=function(value){self.hasOption(value)?(self.removeUnknownOption(),$element.val(value),""===value&&self.emptyOption.prop("selected",!0)):null==value&&self.emptyOption?(self.removeUnknownOption(),$element.val("")):self.renderUnknownOption(value)},self.addOption=function(value,element){assertNotHasOwnProperty(value,'"option value"'),""===value&&(self.emptyOption=element);var count=optionsMap.get(value)||0;optionsMap.put(value,count+1),self.ngModelCtrl.$render(),chromeHack(element)},self.removeOption=function(value){var count=optionsMap.get(value);count&&(1===count?(optionsMap.remove(value),""===value&&(self.emptyOption=undefined)):optionsMap.put(value,count-1))},self.hasOption=function(value){return!!optionsMap.get(value)},self.registerOption=function(optionScope,optionElement,optionAttrs,interpolateValueFn,interpolateTextFn){if(interpolateValueFn){var oldVal;optionAttrs.$observe("value",function(newVal){isDefined(oldVal)&&self.removeOption(oldVal),oldVal=newVal,self.addOption(newVal,optionElement)})}else interpolateTextFn?optionScope.$watch(interpolateTextFn,function(newVal,oldVal){optionAttrs.$set("value",newVal),oldVal!==newVal&&self.removeOption(oldVal),self.addOption(newVal,optionElement)}):self.addOption(optionAttrs.value,optionElement);optionElement.on("$destroy",function(){self.removeOption(optionAttrs.value),self.ngModelCtrl.$render()})}}],selectDirective=function(){function selectPreLink(scope,element,attr,ctrls){var ngModelCtrl=ctrls[1];if(ngModelCtrl){var selectCtrl=ctrls[0];if(selectCtrl.ngModelCtrl=ngModelCtrl,element.on("change",function(){scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})}),attr.multiple){selectCtrl.readValue=function(){var array=[];return forEach(element.find("option"),function(option){option.selected&&array.push(option.value)}),array},selectCtrl.writeValue=function(value){var items=new HashMap(value);forEach(element.find("option"),function(option){option.selected=isDefined(items.get(option.value))})};var lastView,lastViewRef=NaN;scope.$watch(function(){lastViewRef!==ngModelCtrl.$viewValue||equals(lastView,ngModelCtrl.$viewValue)||(lastView=shallowCopy(ngModelCtrl.$viewValue),ngModelCtrl.$render()),lastViewRef=ngModelCtrl.$viewValue}),ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}}}}function selectPostLink(scope,element,attrs,ctrls){var ngModelCtrl=ctrls[1];if(ngModelCtrl){var selectCtrl=ctrls[0];ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:SelectController,priority:1,link:{pre:selectPreLink,post:selectPostLink}}},optionDirective=["$interpolate",function($interpolate){return{restrict:"E",priority:100,compile:function(element,attr){if(isDefined(attr.value))var interpolateValueFn=$interpolate(attr.value,!0);else{var interpolateTextFn=$interpolate(element.text(),!0);interpolateTextFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.registerOption(scope,element,attr,interpolateValueFn,interpolateTextFn)}}}}],styleDirective=valueFn({restrict:"E",terminal:!1}),requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){ctrl&&(attr.required=!0,ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)},attr.$observe("required",function(){ctrl.$validate()}))}}},patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0&&(regex=new RegExp("^"+regex+"$")),regex&&!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));regexp=regex||undefined,ctrl.$validate()}),ctrl.$validators.pattern=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue)}}}}},maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=toInt(value);maxlength=isNaN(intVal)?-1:intVal,ctrl.$validate()}),ctrl.$validators.maxlength=function(modelValue,viewValue){return maxlength<0||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}}},minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var minlength=0;attr.$observe("minlength",function(value){minlength=toInt(value)||0,ctrl.$validate()}),ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}}};return window.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(bindJQuery(),publishExternalAPI(angular),angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;undefined===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}]),void jqLite(document).ready(function(){angularInit(document,bootstrap)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
},{}],169:[function(require,module,exports){require("./angular"),module.exports=angular},{"./angular":168}],170:[function(require,module,exports){"use strict";function init(){for(var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");placeHolders="="===b64[len-2]?2:"="===b64[len-1]?1:0,arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array;init()},{}],171:[function(require,module,exports){require("../../js/transition.js"),require("../../js/alert.js"),require("../../js/button.js"),require("../../js/carousel.js"),require("../../js/collapse.js"),require("../../js/dropdown.js"),require("../../js/modal.js"),require("../../js/tooltip.js"),require("../../js/popover.js"),require("../../js/scrollspy.js"),require("../../js/tab.js"),require("../../js/affix.js")},{"../../js/affix.js":172,"../../js/alert.js":173,"../../js/button.js":174,"../../js/carousel.js":175,"../../js/collapse.js":176,"../../js/dropdown.js":177,"../../js/modal.js":178,"../../js/popover.js":179,"../../js/scrollspy.js":180,"../../js/tab.js":181,"../../js/tooltip.js":182,"../../js/transition.js":183}],172:[function(require,module,exports){+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==typeof option&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})}var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};Affix.VERSION="3.3.6",Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0,target:window},Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop(),position=this.$element.offset(),targetHeight=this.$target.height();if(null!=offsetTop&&"top"==this.affixed)return scrollTop<offsetTop&&"top";if("bottom"==this.affixed)return null!=offsetTop?!(scrollTop+this.unpin<=position.top)&&"bottom":!(scrollTop+targetHeight<=scrollHeight-offsetBottom)&&"bottom";var initializing=null==this.affixed,colliderTop=initializing?scrollTop:position.top,colliderHeight=initializing?targetHeight:height;return null!=offsetTop&&scrollTop<=offsetTop?"top":null!=offsetBottom&&colliderTop+colliderHeight>=scrollHeight-offsetBottom&&"bottom"},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var height=this.$element.height(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom,scrollHeight=Math.max($(document).height(),$(document.body).height());"object"!=typeof offset&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top(this.$element)),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom(this.$element));var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom);if(this.affixed!=affix){null!=this.unpin&&this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:""),e=$.Event(affixType+".bs.affix");if(this.$element.trigger(e),e.isDefaultPrevented())return;this.affixed=affix,this.unpin="bottom"==affix?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix","affixed")+".bs.affix")}"bottom"==affix&&this.$element.offset({top:scrollHeight-height-offsetBottom})}};var old=$.fn.affix;$.fn.affix=Plugin,$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},null!=data.offsetBottom&&(data.offset.bottom=data.offsetBottom),null!=data.offsetTop&&(data.offset.top=data.offsetTop),Plugin.call($spy,data)})})}(jQuery)},{}],173:[function(require,module,exports){+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})}var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.3.6",Alert.TRANSITION_DURATION=150,Alert.prototype.close=function(e){function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$(selector);e&&e.preventDefault(),$parent.length||($parent=$this.closest(".alert")),$parent.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement())};var old=$.fn.alert;$.fn.alert=Plugin,$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery)},{}],174:[function(require,module,exports){+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==typeof option&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})}var Button=function(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1};Button.VERSION="3.3.6",Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",null==data.resetText&&$el.data("resetText",$el[val]()),setTimeout($.proxy(function(){$el[val](null==data[state]?this.options[state]:data[state]),"loadingText"==state?(this.isLoading=!0,$el.addClass(d).attr(d,d)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d))},this),0)},Button.prototype.toggle=function(){var changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");"radio"==$input.prop("type")?($input.prop("checked")&&(changed=!1),$parent.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==$input.prop("type")&&($input.prop("checked")!==this.$element.hasClass("active")&&(changed=!1),this.$element.toggleClass("active")),$input.prop("checked",this.$element.hasClass("active")),changed&&$input.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=Plugin,$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),Plugin.call($btn,"toggle"),$(e.target).is('input[type="radio"]')||$(e.target).is('input[type="checkbox"]')||e.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){$(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery)},{}],175:[function(require,module,exports){+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})}var Carousel=function(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.3.6",Carousel.TRANSITION_DURATION=600,Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},Carousel.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getItemIndex=function(item){return this.$items=item.parent().children(".item"),this.$items.index(item||this.$active)},Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active),willWrap="prev"==direction&&0===activeIndex||"next"==direction&&activeIndex==this.$items.length-1;if(willWrap&&!this.options.wrap)return active;var delta="prev"==direction?-1:1,itemIndex=(activeIndex+delta)%this.$items.length;return this.$items.eq(itemIndex)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(pos>this.$items.length-1||pos<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",this.$items.eq(pos))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){if(!this.sliding)return this.slide("next")},Carousel.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||this.getItemForDirection(type,$active),isCycling=this.interval,direction="next"==type?"left":"right",that=this;if($next.hasClass("active"))return this.sliding=!1;var relatedTarget=$next[0],slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if(this.$element.trigger(slideEvent),!slideEvent.isDefaultPrevented()){if(this.sliding=!0,isCycling&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});return $.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger(slidEvent)),isCycling&&this.cycle(),this}};var old=$.fn.carousel;$.fn.carousel=Plugin,$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this};var clickHandler=function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if($target.hasClass("carousel")){var options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),Plugin.call($target,options),slideIndex&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}};$(document).on("click.bs.carousel.data-api","[data-slide]",clickHandler).on("click.bs.carousel.data-api","[data-slide-to]",clickHandler),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery)},{}],176:[function(require,module,exports){+function($){"use strict";function getTargetFromTrigger($trigger){var href,target=$trigger.attr("data-target")||(href=$trigger.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");return $(target)}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);!data&&options.toggle&&/show|hide/.test(option)&&(options.toggle=!1),data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})}var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.$trigger=$('[data-toggle="collapse"][href="#'+element.id+'"],[data-toggle="collapse"][data-target="#'+element.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};Collapse.VERSION="3.3.6",Collapse.TRANSITION_DURATION=350,Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var activesData,actives=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(actives&&actives.length&&(activesData=actives.data("bs.collapse"),activesData&&activesData.transitioning))){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){actives&&actives.length&&(Plugin.call(actives,"hide"),activesData||actives.data("bs.collapse",null));var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])}}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return $.support.transition?void this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION):complete.call(this)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element);this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()},Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass("in");$element.attr("aria-expanded",isOpen),$trigger.toggleClass("collapsed",!isOpen).attr("aria-expanded",isOpen)};var old=$.fn.collapse;$.fn.collapse=Plugin,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this);$this.attr("data-target")||e.preventDefault();var $target=getTargetFromTrigger($this),data=$target.data("bs.collapse"),option=data?"toggle":$this.data();Plugin.call($target,option)})}(jQuery)},{}],177:[function(require,module,exports){+function($){"use strict";function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function clearMenus(e){e&&3===e.which||($(backdrop).remove(),$(toggle).each(function(){var $this=$(this),$parent=getParent($this),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&(e&&"click"==e.type&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target)||($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||($this.attr("aria-expanded","false"),$parent.removeClass("open").trigger($.Event("hidden.bs.dropdown",relatedTarget)))))}))}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})}var backdrop=".dropdown-backdrop",toggle='[data-toggle="dropdown"]',Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.3.6",Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",clearMenus);var relatedTarget={relatedTarget:this};if($parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget)),e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true"),$parent.toggleClass("open").trigger($.Event("shown.bs.dropdown",relatedTarget))}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive&&27!=e.which||isActive&&27==e.which)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");var desc=" li:not(.disabled):visible a",$items=$parent.find(".dropdown-menu"+desc);if($items.length){var index=$items.index(e.target);38==e.which&&index>0&&index--,40==e.which&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus")}}}};var old=$.fn.dropdown;$.fn.dropdown=Plugin,$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",Dropdown.prototype.keydown)}(jQuery)},{}],178:[function(require,module,exports){+function($){"use strict";function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}var Modal=function(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.VERSION="3.3.6",Modal.TRANSITION_DURATION=300,Modal.BACKDROP_TRANSITION_DURATION=150,Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){that.$element.one("mouseup.dismiss.bs.modal",function(e){$(e.target).is(that.$element)&&(that.ignoreBackdropClick=!0)})}),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),that.adjustDialog(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in"),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},Modal.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$body.removeClass("modal-open"),that.resetAdjustments(),that.resetScrollbar(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+animate).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else callback&&callback()},Modal.prototype.handleUpdate=function(){this.adjustDialog()},Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})},Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth,this.scrollbarWidth=this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,option,this)})}(jQuery)},{}],179:[function(require,module,exports){+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]())})}var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.3.6",Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof content?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var old=$.fn.popover;$.fn.popover=Plugin,$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery)},{}],180:[function(require,module,exports){+function($){"use strict";function ScrollSpy(element,options){this.$body=$(document.body),this.$scrollElement=$($(element).is(document.body)?window:element),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this)),this.refresh(),this.process()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==typeof option&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})}ScrollSpy.VERSION="3.3.6",ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},ScrollSpy.prototype.refresh=function(){var that=this,offsetMethod="offset",offsetBase=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),$.isWindow(this.$scrollElement[0])||(offsetMethod="position",offsetBase=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null;
}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0]),that.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.getScrollHeight(),maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(this.scrollHeight!=scrollHeight&&this.refresh(),scrollTop>=maxScroll)return activeTarget!=(i=targets[targets.length-1])&&this.activate(i);if(activeTarget&&scrollTop<offsets[0])return this.activeTarget=null,this.clear();for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(void 0===offsets[i+1]||scrollTop<offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,this.clear();var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate.bs.scrollspy")},ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var old=$.fn.scrollspy;$.fn.scrollspy=Plugin,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery)},{}],181:[function(require,module,exports){+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})}var Tab=function(element){this.element=$(element)};Tab.VERSION="3.3.6",Tab.TRANSITION_DURATION=150,Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");if(selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),!$this.parent("li").hasClass("active")){var $previous=$ul.find(".active:last a"),hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]}),showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]});if($previous.trigger(hideEvent),$this.trigger(showEvent),!showEvent.isDefaultPrevented()&&!hideEvent.isDefaultPrevented()){var $target=$(selector);this.activate($this.closest("li"),$ul),this.activate($target,$target.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]}),$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})}}},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu").length&&element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this};var clickHandler=function(e){e.preventDefault(),Plugin.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery)},{}],182:[function(require,module,exports){+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]())})}var Tooltip=function(element,options){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",element,options)};Tooltip.VERSION="3.3.6",Tooltip.TRANSITION_DURATION=150,Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){if(this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focusin",eventOut="hover"==trigger?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);return self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),obj instanceof $.Event&&(self.inState["focusin"==obj.type?"focus":"hover"]=!0),self.tip().hasClass("in")||"in"==self.hoverState?void(self.hoverState="in"):(clearTimeout(self.timeout),self.hoverState="in",self.options.delay&&self.options.delay.show?void(self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show)):self.show())},Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState)if(this.inState[key])return!0;return!1},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),obj instanceof $.Event&&(self.inState["focusout"==obj.type?"focus":"hover"]=!1),!self.isInStateTrue())return clearTimeout(self.timeout),self.hoverState="out",self.options.delay&&self.options.delay.hide?void(self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide)):self.hide()},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this,$tip=this.tip(),tipId=this.getUID(this.type);this.setContent(),$tip.attr("id",tipId),this.$element.attr("aria-describedby",tipId),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,viewportDim=this.getPosition(this.$viewport);placement="bottom"==placement&&pos.bottom+actualHeight>viewportDim.bottom?"top":"top"==placement&&pos.top-actualHeight<viewportDim.top?"bottom":"right"==placement&&pos.right+actualWidth>viewportDim.width?"left":"left"==placement&&pos.left-actualWidth<viewportDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type),that.hoverState=null,"out"==prevHoverState&&that.leave(that)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top+=marginTop,offset.left+=marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;"top"==placement&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var isVertical=/top|bottom/.test(placement),arrowDelta=isVertical?2*delta.left-width+actualWidth:2*delta.top-height+actualHeight,arrowOffsetPosition=isVertical?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)},Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?"left":"top",50*(1-delta/dimension)+"%").css(isVertical?"top":"left","")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(callback){function complete(){"in"!=that.hoverState&&$tip.detach(),that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type),callback&&callback()}var that=this,$tip=$(this.$tip),e=$.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return $tip.removeClass("in"),$.support.transition&&$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete(),this.hoverState=null,this},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0],isBody="BODY"==el.tagName,elRect=el.getBoundingClientRect();null==elRect.width&&(elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top}));var elOffset=isBody?{top:0,left:0}:$element.offset(),scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()},outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},elRect,scroll,outerDims,elOffset)},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.right&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.getUID=function(prefix){do prefix+=~~(1e6*Math.random());while(document.getElementById(prefix));return prefix},Tooltip.prototype.tip=function(){if(!this.$tip&&(this.$tip=$(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=this;e&&(self=$(e.currentTarget).data("bs."+this.type),self||(self=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,self))),e?(self.inState.click=!self.inState.click,self.isInStateTrue()?self.enter(self):self.leave(self)):self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout),this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type),that.$tip&&that.$tip.detach(),that.$tip=null,that.$arrow=null,that.$viewport=null})};var old=$.fn.tooltip;$.fn.tooltip=Plugin,$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery)},{}],183:[function(require,module,exports){+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one("bsTransitionEnd",function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery)},{}],184:[function(require,module,exports){},{}],185:[function(require,module,exports){"use strict";var styleElementsInsertedAtTop=[],insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName("head")[0],lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if(options=options||{},options.insertAt=options.insertAt||"bottom","top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");head.appendChild(styleElement)}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName("head")[0],link=document.createElement("link");link.href=href,link.rel="stylesheet";for(var key in attributes)if(attributes.hasOwnProperty(key)){var value=attributes[key];link.setAttribute("data-"+key,value)}head.appendChild(link)},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement("style");style.type="text/css";for(var key in attributes)if(attributes.hasOwnProperty(key)){var value=attributes[key];style.setAttribute("data-"+key,value)}style.sheet?(style.innerHTML=cssText,style.sheet.cssText=cssText,insertStyleElement(style,{insertAt:extraOptions.insertAt})):style.styleSheet?(insertStyleElement(style,{insertAt:extraOptions.insertAt}),style.styleSheet.cssText=cssText):(style.appendChild(document.createTextNode(cssText)),insertStyleElement(style,{insertAt:extraOptions.insertAt}))}}},{}],186:[function(require,module,exports){(function(Buffer){!function(){"use strict";function btoa(str){var buffer;return buffer=str instanceof Buffer?str:new Buffer(str.toString(),"binary"),buffer.toString("base64")}module.exports=btoa}()}).call(this,require("buffer").Buffer)},{buffer:187}],187:[function(require,module,exports){(function(global){"use strict";function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromString(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val=255&val,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=String(encoding).toLowerCase(),"ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else foundIndex!==-1&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(codePoint=string.charCodeAt(i),codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128);
}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len,start<0&&(start=0)):start>len&&(start=len),end<0?(end+=len,end<0&&(end=0)):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,(void 0));for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?(255-this[offset]+1)*-1:this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val=255&val);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":170,ieee754:193,isarray:188}],188:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],189:[function(require,module,exports){function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],190:[function(require,module,exports){!function(){"use strict";function CookieAccessInfo(domain,path,secure,script){return this instanceof CookieAccessInfo?(this.domain=domain||void 0,this.path=path||"/",this.secure=!!secure,this.script=!!script,this):new CookieAccessInfo(domain,path,secure,script)}function Cookie(cookiestr,request_domain,request_path){return cookiestr instanceof Cookie?cookiestr:this instanceof Cookie?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(request_path||"/"),this.explicit_path=!1,this.domain=request_domain||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,cookiestr&&this.parse(cookiestr,request_domain,request_path),this):new Cookie(cookiestr,request_domain,request_path)}function CookieJar(){var cookies,cookies_list,collidable_cookie;return this instanceof CookieJar?(cookies=Object.create(null),this.setCookie=function(cookie,request_domain,request_path){var remove,i;if(cookie=new Cookie(cookie,request_domain,request_path),remove=cookie.expiration_date<=Date.now(),void 0!==cookies[cookie.name]){for(cookies_list=cookies[cookie.name],i=0;i<cookies_list.length;i+=1)if(collidable_cookie=cookies_list[i],collidable_cookie.collidesWith(cookie))return remove?(cookies_list.splice(i,1),0===cookies_list.length&&delete cookies[cookie.name],!1):(cookies_list[i]=cookie,cookie);return!remove&&(cookies_list.push(cookie),cookie)}return!remove&&(cookies[cookie.name]=[cookie],cookies[cookie.name])},this.getCookie=function(cookie_name,access_info){var cookie,i;if(cookies_list=cookies[cookie_name])for(i=0;i<cookies_list.length;i+=1)if(cookie=cookies_list[i],cookie.expiration_date<=Date.now())0===cookies_list.length&&delete cookies[cookie.name];else if(cookie.matches(access_info))return cookie},this.getCookies=function(access_info){var cookie_name,cookie,matches=[];for(cookie_name in cookies)cookie=this.getCookie(cookie_name,access_info),cookie&&matches.push(cookie);return matches.toString=function(){return matches.join(":")},matches.toValueString=function(){return matches.map(function(c){return c.toValueString()}).join(";")},matches},this):new CookieJar}exports.CookieAccessInfo=CookieAccessInfo,exports.Cookie=Cookie,Cookie.prototype.toString=function(){var str=[this.name+"="+this.value];return this.expiration_date!==1/0&&str.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&str.push("domain="+this.domain),this.path&&str.push("path="+this.path),this.secure&&str.push("secure"),this.noscript&&str.push("httponly"),str.join("; ")},Cookie.prototype.toValueString=function(){return this.name+"="+this.value};var cookie_str_splitter=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;Cookie.prototype.parse=function(str,request_domain,request_path){if(this instanceof Cookie){var i,parts=str.split(";").filter(function(value){return!!value}),pair=parts[0].match(/([^=]+)=([\s\S]*)/),key=pair[1],value=pair[2];for(this.name=key,this.value=value,i=1;i<parts.length;i+=1)switch(pair=parts[i].match(/([^=]+)(?:=([\s\S]*))?/),key=pair[1].trim().toLowerCase(),value=pair[2],key){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=value?Number(Date.parse(value)):1/0;break;case"path":this.path=value?value.trim():"",this.explicit_path=!0;break;case"domain":this.domain=value?value.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=request_path||"/"),this.explicit_domain||(this.domain=request_domain),this}return(new Cookie).parse(str,request_domain,request_path)},Cookie.prototype.matches=function(access_info){return!(this.noscript&&access_info.script||this.secure&&!access_info.secure||!this.collidesWith(access_info))},Cookie.prototype.collidesWith=function(access_info){if(this.path&&!access_info.path||this.domain&&!access_info.domain)return!1;if(this.path&&0!==access_info.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==access_info.path.indexOf(this.path))return!1;var access_domain=access_info.domain&&access_info.domain.replace(/^[\.]/,""),cookie_domain=this.domain&&this.domain.replace(/^[\.]/,"");if(cookie_domain===access_domain)return!0;if(cookie_domain){if(!this.explicit_domain)return!1;var wildcard=access_domain.indexOf(cookie_domain);return wildcard!==-1&&wildcard===access_domain.length-cookie_domain.length}return!0},exports.CookieJar=CookieJar,CookieJar.prototype.setCookies=function(cookies,request_domain,request_path){cookies=Array.isArray(cookies)?cookies:cookies.split(cookie_str_splitter);var i,cookie,successful=[];for(cookies=cookies.map(function(item){return new Cookie(item,request_domain,request_path)}),i=0;i<cookies.length;i+=1)cookie=cookies[i],this.setCookie(cookie,request_domain,request_path)&&successful.push(cookie);return successful}}()},{}],191:[function(require,module,exports){!function(){function d3_documentElement(node){return node&&(node.ownerDocument||node.document||node).documentElement}function d3_window(node){return node&&(node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView)}function d3_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function d3_number(x){return null===x?NaN:+x}function d3_numeric(x){return!isNaN(x)}function d3_bisector(compare){return{left:function(a,x,lo,hi){for(arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(arguments.length<3&&(lo=0),arguments.length<4&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}function d3_transposeLength(d){return d.length}function d3_range_integerScale(x){for(var k=1;x*k%1;)k*=10;return k}function d3_class(ctor,properties){for(var key in properties)Object.defineProperty(ctor.prototype,key,{value:properties[key],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(key){return(key+="")===d3_map_proto||key[0]===d3_map_zero?d3_map_zero+key:key}function d3_map_unescape(key){return(key+="")[0]===d3_map_zero?key.slice(1):key}function d3_map_has(key){return d3_map_escape(key)in this._}function d3_map_remove(key){return(key=d3_map_escape(key))in this._&&delete this._[key]}function d3_map_keys(){var keys=[];for(var key in this._)keys.push(d3_map_unescape(key));return keys}function d3_map_size(){var size=0;for(var key in this._)++size;return size}function d3_map_empty(){for(var key in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(d){return d}function d3_rebind(target,source,method){return function(){var value=method.apply(source,arguments);return value===source?target:value}}function d3_vendorSymbol(object,name){if(name in object)return name;name=name.charAt(0).toUpperCase()+name.slice(1);for(var i=0,n=d3_vendorPrefixes.length;i<n;++i){var prefixName=d3_vendorPrefixes[i]+name;if(prefixName in object)return prefixName}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(dispatch){function event(){for(var l,z=listeners,i=-1,n=z.length;++i<n;)(l=z[i].on)&&l.apply(this,arguments);return dispatch}var listeners=[],listenerByName=new d3_Map;return event.on=function(name,listener){var i,l=listenerByName.get(name);return arguments.length<2?l&&l.on:(l&&(l.on=null,listeners=listeners.slice(0,i=listeners.indexOf(l)).concat(listeners.slice(i+1)),listenerByName.remove(name)),listener&&listeners.push(listenerByName.set(name,{on:listener})),dispatch)},event}function d3_eventPreventDefault(){d3.event.preventDefault()}function d3_eventSource(){for(var s,e=d3.event;s=e.sourceEvent;)e=s;return e}function d3_eventDispatch(target){for(var dispatch=new d3_dispatch,i=0,n=arguments.length;++i<n;)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch.of=function(thiz,argumentz){return function(e1){try{var e0=e1.sourceEvent=d3.event;e1.target=target,d3.event=e1,dispatch[e1.type].apply(thiz,argumentz)}finally{d3.event=e0}}},dispatch}function d3_selection(groups){return d3_subclass(groups,d3_selectionPrototype),groups}function d3_selection_selector(selector){return"function"==typeof selector?selector:function(){return d3_select(selector,this)}}function d3_selection_selectorAll(selector){return"function"==typeof selector?selector:function(){return d3_selectAll(selector,this)}}function d3_selection_attr(name,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrConstant(){this.setAttribute(name,value)}function attrConstantNS(){this.setAttributeNS(name.space,name.local,value)}function attrFunction(){var x=value.apply(this,arguments);null==x?this.removeAttribute(name):this.setAttribute(name,x)}function attrFunctionNS(){var x=value.apply(this,arguments);null==x?this.removeAttributeNS(name.space,name.local):this.setAttributeNS(name.space,name.local,x)}return name=d3.ns.qualify(name),null==value?name.local?attrNullNS:attrNull:"function"==typeof value?name.local?attrFunctionNS:attrFunction:name.local?attrConstantNS:attrConstant}function d3_collapse(s){return s.trim().replace(/\s+/g," ")}function d3_selection_classedRe(name){return new RegExp("(?:^|\\s+)"+d3.requote(name)+"(?:\\s+|$)","g")}function d3_selection_classes(name){return(name+"").trim().split(/^|\s+/)}function d3_selection_classed(name,value){function classedConstant(){for(var i=-1;++i<n;)name[i](this,value)}function classedFunction(){for(var i=-1,x=value.apply(this,arguments);++i<n;)name[i](this,x)}name=d3_selection_classes(name).map(d3_selection_classedName);var n=name.length;return"function"==typeof value?classedFunction:classedConstant}function d3_selection_classedName(name){var re=d3_selection_classedRe(name);return function(node,value){if(c=node.classList)return value?c.add(name):c.remove(name);var c=node.getAttribute("class")||"";value?(re.lastIndex=0,re.test(c)||node.setAttribute("class",d3_collapse(c+" "+name))):node.setAttribute("class",d3_collapse(c.replace(re," ")))}}function d3_selection_style(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleConstant(){this.style.setProperty(name,value,priority)}function styleFunction(){var x=value.apply(this,arguments);null==x?this.style.removeProperty(name):this.style.setProperty(name,x,priority)}return null==value?styleNull:"function"==typeof value?styleFunction:styleConstant}function d3_selection_property(name,value){function propertyNull(){delete this[name]}function propertyConstant(){this[name]=value}function propertyFunction(){var x=value.apply(this,arguments);null==x?delete this[name]:this[name]=x}return null==value?propertyNull:"function"==typeof value?propertyFunction:propertyConstant}function d3_selection_creator(name){function create(){var document=this.ownerDocument,namespace=this.namespaceURI;return namespace===d3_nsXhtml&&document.documentElement.namespaceURI===d3_nsXhtml?document.createElement(name):document.createElementNS(namespace,name)}function createNS(){return this.ownerDocument.createElementNS(name.space,name.local)}return"function"==typeof name?name:(name=d3.ns.qualify(name)).local?createNS:create}function d3_selectionRemove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function d3_selection_dataNode(data){return{__data__:data}}function d3_selection_filter(selector){return function(){return d3_selectMatches(this,selector)}}function d3_selection_sortComparator(comparator){return arguments.length||(comparator=d3_ascending),function(a,b){return a&&b?comparator(a.__data__,b.__data__):!a-!b}}function d3_selection_each(groups,callback){for(var j=0,m=groups.length;j<m;j++)for(var node,group=groups[j],i=0,n=group.length;i<n;i++)(node=group[i])&&callback(node,i,j);return groups}function d3_selection_enter(selection){return d3_subclass(selection,d3_selection_enterPrototype),selection}function d3_selection_enterInsertBefore(enter){var i0,j0;return function(d,i,j){var node,group=enter[j].update,n=group.length;for(j!=j0&&(j0=j,i0=0),i>=i0&&(i0=i+1);!(node=group[i0])&&++i0<n;);return node}}function d3_selection_on(type,listener,capture){function onRemove(){var l=this[name];l&&(this.removeEventListener(type,l,l.$),delete this[name])}function onAdd(){var l=wrap(listener,d3_array(arguments));onRemove.call(this),this.addEventListener(type,this[name]=l,l.$=capture),l._=listener}function removeAll(){var match,re=new RegExp("^__on([^.]+)"+d3.requote(type)+"$");for(var name in this)if(match=name.match(re)){var l=this[name];this.removeEventListener(match[1],l,l.$),delete this[name]}}var name="__on"+type,i=type.indexOf("."),wrap=d3_selection_onListener;i>0&&(type=type.slice(0,i));var filter=d3_selection_onFilters.get(type);return filter&&(type=filter,wrap=d3_selection_onFilter),i?listener?onAdd:onRemove:listener?d3_noop:removeAll}function d3_selection_onListener(listener,argumentz){return function(e){var o=d3.event;d3.event=e,argumentz[0]=this.__data__;try{listener.apply(this,argumentz)}finally{d3.event=o}}}function d3_selection_onFilter(listener,argumentz){var l=d3_selection_onListener(listener,argumentz);return function(e){var target=this,related=e.relatedTarget;related&&(related===target||8&related.compareDocumentPosition(target))||l.call(target,e);
}}function d3_event_dragSuppress(node){var name=".dragsuppress-"+ ++d3_event_dragId,click="click"+name,w=d3.select(d3_window(node)).on("touchmove"+name,d3_eventPreventDefault).on("dragstart"+name,d3_eventPreventDefault).on("selectstart"+name,d3_eventPreventDefault);if(null==d3_event_dragSelect&&(d3_event_dragSelect=!("onselectstart"in node)&&d3_vendorSymbol(node.style,"userSelect")),d3_event_dragSelect){var style=d3_documentElement(node).style,select=style[d3_event_dragSelect];style[d3_event_dragSelect]="none"}return function(suppressClick){if(w.on(name,null),d3_event_dragSelect&&(style[d3_event_dragSelect]=select),suppressClick){var off=function(){w.on(click,null)};w.on(click,function(){d3_eventPreventDefault(),off()},!0),setTimeout(off,0)}}}function d3_mousePoint(container,e){e.changedTouches&&(e=e.changedTouches[0]);var svg=container.ownerSVGElement||container;if(svg.createSVGPoint){var point=svg.createSVGPoint();if(d3_mouse_bug44083<0){var window=d3_window(container);if(window.scrollX||window.scrollY){svg=d3.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ctm=svg[0][0].getScreenCTM();d3_mouse_bug44083=!(ctm.f||ctm.e),svg.remove()}}return d3_mouse_bug44083?(point.x=e.pageX,point.y=e.pageY):(point.x=e.clientX,point.y=e.clientY),point=point.matrixTransform(container.getScreenCTM().inverse()),[point.x,point.y]}var rect=container.getBoundingClientRect();return[e.clientX-rect.left-container.clientLeft,e.clientY-rect.top-container.clientTop]}function d3_behavior_dragTouchId(){return d3.event.changedTouches[0].identifier}function d3_sgn(x){return x>0?1:x<0?-1:0}function d3_cross2d(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function d3_acos(x){return x>1?0:x<-1?π:Math.acos(x)}function d3_asin(x){return x>1?halfπ:x<-1?-halfπ:Math.asin(x)}function d3_sinh(x){return((x=Math.exp(x))-1/x)/2}function d3_cosh(x){return((x=Math.exp(x))+1/x)/2}function d3_tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}function d3_haversin(x){return(x=Math.sin(x/2))*x}function d3_color(){}function d3_hsl(h,s,l){return this instanceof d3_hsl?(this.h=+h,this.s=+s,void(this.l=+l)):arguments.length<2?h instanceof d3_hsl?new d3_hsl(h.h,h.s,h.l):d3_rgb_parse(""+h,d3_rgb_hsl,d3_hsl):new d3_hsl(h,s,l)}function d3_hsl_rgb(h,s,l){function v(h){return h>360?h-=360:h<0&&(h+=360),h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1}function vv(h){return Math.round(255*v(h))}var m1,m2;return h=isNaN(h)?0:(h%=360)<0?h+360:h,s=isNaN(s)?0:s<0?0:s>1?1:s,l=l<0?0:l>1?1:l,m2=l<=.5?l*(1+s):l+s-l*s,m1=2*l-m2,new d3_rgb(vv(h+120),vv(h),vv(h-120))}function d3_hcl(h,c,l){return this instanceof d3_hcl?(this.h=+h,this.c=+c,void(this.l=+l)):arguments.length<2?h instanceof d3_hcl?new d3_hcl(h.h,h.c,h.l):h instanceof d3_lab?d3_lab_hcl(h.l,h.a,h.b):d3_lab_hcl((h=d3_rgb_lab((h=d3.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new d3_hcl(h,c,l)}function d3_hcl_lab(h,c,l){return isNaN(h)&&(h=0),isNaN(c)&&(c=0),new d3_lab(l,Math.cos(h*=d3_radians)*c,Math.sin(h)*c)}function d3_lab(l,a,b){return this instanceof d3_lab?(this.l=+l,this.a=+a,void(this.b=+b)):arguments.length<2?l instanceof d3_lab?new d3_lab(l.l,l.a,l.b):l instanceof d3_hcl?d3_hcl_lab(l.h,l.c,l.l):d3_rgb_lab((l=d3_rgb(l)).r,l.g,l.b):new d3_lab(l,a,b)}function d3_lab_rgb(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;return x=d3_lab_xyz(x)*d3_lab_X,y=d3_lab_xyz(y)*d3_lab_Y,z=d3_lab_xyz(z)*d3_lab_Z,new d3_rgb(d3_xyz_rgb(3.2404542*x-1.5371385*y-.4985314*z),d3_xyz_rgb(-.969266*x+1.8760108*y+.041556*z),d3_xyz_rgb(.0556434*x-.2040259*y+1.0572252*z))}function d3_lab_hcl(l,a,b){return l>0?new d3_hcl(Math.atan2(b,a)*d3_degrees,Math.sqrt(a*a+b*b),l):new d3_hcl(NaN,NaN,l)}function d3_lab_xyz(x){return x>.206893034?x*x*x:(x-4/29)/7.787037}function d3_xyz_lab(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29}function d3_xyz_rgb(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055))}function d3_rgb(r,g,b){return this instanceof d3_rgb?(this.r=~~r,this.g=~~g,void(this.b=~~b)):arguments.length<2?r instanceof d3_rgb?new d3_rgb(r.r,r.g,r.b):d3_rgb_parse(""+r,d3_rgb,d3_hsl_rgb):new d3_rgb(r,g,b)}function d3_rgbNumber(value){return new d3_rgb(value>>16,value>>8&255,255&value)}function d3_rgbString(value){return d3_rgbNumber(value)+""}function d3_rgb_hex(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function d3_rgb_parse(format,rgb,hsl){var m1,m2,color,r=0,g=0,b=0;if(m1=/([a-z]+)\((.*)\)/.exec(format=format.toLowerCase()))switch(m2=m1[2].split(","),m1[1]){case"hsl":return hsl(parseFloat(m2[0]),parseFloat(m2[1])/100,parseFloat(m2[2])/100);case"rgb":return rgb(d3_rgb_parseNumber(m2[0]),d3_rgb_parseNumber(m2[1]),d3_rgb_parseNumber(m2[2]))}return(color=d3_rgb_names.get(format))?rgb(color.r,color.g,color.b):(null==format||"#"!==format.charAt(0)||isNaN(color=parseInt(format.slice(1),16))||(4===format.length?(r=(3840&color)>>4,r=r>>4|r,g=240&color,g=g>>4|g,b=15&color,b=b<<4|b):7===format.length&&(r=(16711680&color)>>16,g=(65280&color)>>8,b=255&color)),rgb(r,g,b))}function d3_rgb_hsl(r,g,b){var h,s,min=Math.min(r/=255,g/=255,b/=255),max=Math.max(r,g,b),d=max-min,l=(max+min)/2;return d?(s=l<.5?d/(max+min):d/(2-max-min),h=r==max?(g-b)/d+(g<b?6:0):g==max?(b-r)/d+2:(r-g)/d+4,h*=60):(h=NaN,s=l>0&&l<1?0:h),new d3_hsl(h,s,l)}function d3_rgb_lab(r,g,b){r=d3_rgb_xyz(r),g=d3_rgb_xyz(g),b=d3_rgb_xyz(b);var x=d3_xyz_lab((.4124564*r+.3575761*g+.1804375*b)/d3_lab_X),y=d3_xyz_lab((.2126729*r+.7151522*g+.072175*b)/d3_lab_Y),z=d3_xyz_lab((.0193339*r+.119192*g+.9503041*b)/d3_lab_Z);return d3_lab(116*y-16,500*(x-y),200*(y-z))}function d3_rgb_xyz(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function d3_rgb_parseNumber(c){var f=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*f):f}function d3_functor(v){return"function"==typeof v?v:function(){return v}}function d3_xhrType(response){return function(url,mimeType,callback){return 2===arguments.length&&"function"==typeof mimeType&&(callback=mimeType,mimeType=null),d3_xhr(url,mimeType,response,callback)}}function d3_xhr(url,mimeType,response,callback){function respond(){var result,status=request.status;if(!status&&d3_xhrHasResponse(request)||status>=200&&status<300||304===status){try{result=response.call(xhr,request)}catch(e){return void dispatch.error.call(xhr,e)}dispatch.load.call(xhr,result)}else dispatch.error.call(xhr,request)}var xhr={},dispatch=d3.dispatch("beforesend","progress","load","error"),headers={},request=new XMLHttpRequest,responseType=null;return!this.XDomainRequest||"withCredentials"in request||!/^(http(s)?:)?\/\//.test(url)||(request=new XDomainRequest),"onload"in request?request.onload=request.onerror=respond:request.onreadystatechange=function(){request.readyState>3&&respond()},request.onprogress=function(event){var o=d3.event;d3.event=event;try{dispatch.progress.call(xhr,request)}finally{d3.event=o}},xhr.header=function(name,value){return name=(name+"").toLowerCase(),arguments.length<2?headers[name]:(null==value?delete headers[name]:headers[name]=value+"",xhr)},xhr.mimeType=function(value){return arguments.length?(mimeType=null==value?null:value+"",xhr):mimeType},xhr.responseType=function(value){return arguments.length?(responseType=value,xhr):responseType},xhr.response=function(value){return response=value,xhr},["get","post"].forEach(function(method){xhr[method]=function(){return xhr.send.apply(xhr,[method].concat(d3_array(arguments)))}}),xhr.send=function(method,data,callback){if(2===arguments.length&&"function"==typeof data&&(callback=data,data=null),request.open(method,url,!0),null==mimeType||"accept"in headers||(headers.accept=mimeType+",*/*"),request.setRequestHeader)for(var name in headers)request.setRequestHeader(name,headers[name]);return null!=mimeType&&request.overrideMimeType&&request.overrideMimeType(mimeType),null!=responseType&&(request.responseType=responseType),null!=callback&&xhr.on("error",callback).on("load",function(request){callback(null,request)}),dispatch.beforesend.call(xhr,request),request.send(null==data?null:data),xhr},xhr.abort=function(){return request.abort(),xhr},d3.rebind(xhr,dispatch,"on"),null==callback?xhr:xhr.get(d3_xhr_fixCallback(callback))}function d3_xhr_fixCallback(callback){return 1===callback.length?function(error,request){callback(null==error?request:null)}:callback}function d3_xhrHasResponse(request){var type=request.responseType;return type&&"text"!==type?request.response:request.responseText}function d3_timer(callback,delay,then){var n=arguments.length;n<2&&(delay=0),n<3&&(then=Date.now());var time=then+delay,timer={c:callback,t:time,n:null};return d3_timer_queueTail?d3_timer_queueTail.n=timer:d3_timer_queueHead=timer,d3_timer_queueTail=timer,d3_timer_interval||(d3_timer_timeout=clearTimeout(d3_timer_timeout),d3_timer_interval=1,d3_timer_frame(d3_timer_step)),timer}function d3_timer_step(){var now=d3_timer_mark(),delay=d3_timer_sweep()-now;delay>24?(isFinite(delay)&&(clearTimeout(d3_timer_timeout),d3_timer_timeout=setTimeout(d3_timer_step,delay)),d3_timer_interval=0):(d3_timer_interval=1,d3_timer_frame(d3_timer_step))}function d3_timer_mark(){for(var now=Date.now(),timer=d3_timer_queueHead;timer;)now>=timer.t&&timer.c(now-timer.t)&&(timer.c=null),timer=timer.n;return now}function d3_timer_sweep(){for(var t0,t1=d3_timer_queueHead,time=1/0;t1;)t1.c?(t1.t<time&&(time=t1.t),t1=(t0=t1).n):t1=t0?t0.n=t1.n:d3_timer_queueHead=t1.n;return d3_timer_queueTail=t0,time}function d3_format_precision(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1)}function d3_formatPrefix(d,i){var k=Math.pow(10,3*abs(8-i));return{scale:i>8?function(d){return d/k}:function(d){return d*k},symbol:d}}function d3_locale_numberFormat(locale){var locale_decimal=locale.decimal,locale_thousands=locale.thousands,locale_grouping=locale.grouping,locale_currency=locale.currency,formatGroup=locale_grouping&&locale_thousands?function(value,width){for(var i=value.length,t=[],j=0,g=locale_grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=locale_grouping[j=(j+1)%locale_grouping.length];return t.reverse().join(locale_thousands)}:d3_identity;return function(specifier){var match=d3_format_re.exec(specifier),fill=match[1]||" ",align=match[2]||">",sign=match[3]||"-",symbol=match[4]||"",zfill=match[5],width=+match[6],comma=match[7],precision=match[8],type=match[9],scale=1,prefix="",suffix="",integer=!1,exponent=!0;switch(precision&&(precision=+precision.substring(1)),(zfill||"0"===fill&&"="===align)&&(zfill=fill="0",align="="),type){case"n":comma=!0,type="g";break;case"%":scale=100,suffix="%",type="f";break;case"p":scale=100,suffix="%",type="r";break;case"b":case"o":case"x":case"X":"#"===symbol&&(prefix="0"+type.toLowerCase());case"c":exponent=!1;case"d":integer=!0,precision=0;break;case"s":scale=-1,type="r"}"$"===symbol&&(prefix=locale_currency[0],suffix=locale_currency[1]),"r"!=type||precision||(type="g"),null!=precision&&("g"==type?precision=Math.max(1,Math.min(21,precision)):"e"!=type&&"f"!=type||(precision=Math.max(0,Math.min(20,precision)))),type=d3_format_types.get(type)||d3_format_typeDefault;var zcomma=zfill&&comma;return function(value){var fullSuffix=suffix;if(integer&&value%1)return"";var negative=value<0||0===value&&1/value<0?(value=-value,"-"):"-"===sign?"":sign;if(scale<0){var unit=d3.formatPrefix(value,precision);value=unit.scale(value),fullSuffix=unit.symbol+suffix}else value*=scale;value=type(value,precision);var before,after,i=value.lastIndexOf(".");if(i<0){var j=exponent?value.lastIndexOf("e"):-1;j<0?(before=value,after=""):(before=value.substring(0,j),after=value.substring(j))}else before=value.substring(0,i),after=locale_decimal+value.substring(i+1);!zfill&&comma&&(before=formatGroup(before,1/0));var length=prefix.length+before.length+after.length+(zcomma?0:negative.length),padding=length<width?new Array(length=width-length+1).join(fill):"";return zcomma&&(before=formatGroup(padding+before,padding.length?width-after.length:1/0)),negative+=prefix,value=before+after,("<"===align?negative+value+padding:">"===align?padding+negative+value:"^"===align?padding.substring(0,length>>=1)+negative+value+padding.substring(length):negative+(zcomma?value:padding+value))+fullSuffix}}}function d3_format_typeDefault(x){return x+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(local,step,number){function round(date){var d0=local(date),d1=offset(d0,1);return date-d0<d1-date?d0:d1}function ceil(date){return step(date=local(new d3_date(date-1)),1),date}function offset(date,k){return step(date=new d3_date((+date)),k),date}function range(t0,t1,dt){var time=ceil(t0),times=[];if(dt>1)for(;time<t1;)number(time)%dt||times.push(new Date((+time))),step(time,1);else for(;time<t1;)times.push(new Date((+time))),step(time,1);return times}function range_utc(t0,t1,dt){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=t0,range(utc,t1,dt)}finally{d3_date=Date}}local.floor=local,local.round=round,local.ceil=ceil,local.offset=offset,local.range=range;var utc=local.utc=d3_time_interval_utc(local);return utc.floor=utc,utc.round=d3_time_interval_utc(round),utc.ceil=d3_time_interval_utc(ceil),utc.offset=d3_time_interval_utc(offset),utc.range=range_utc,local}function d3_time_interval_utc(method){return function(date,k){try{d3_date=d3_date_utc;var utc=new d3_date_utc;return utc._=date,method(utc,k)._}finally{d3_date=Date}}}function d3_locale_timeFormat(locale){function d3_time_format(template){function format(date){for(var c,p,f,string=[],i=-1,j=0;++i<n;)37===template.charCodeAt(i)&&(string.push(template.slice(j,i)),null!=(p=d3_time_formatPads[c=template.charAt(++i)])&&(c=template.charAt(++i)),(f=d3_time_formats[c])&&(c=f(date,null==p?"e"===c?" ":"0":p)),string.push(c),j=i+1);return string.push(template.slice(j,i)),string.join("")}var n=template.length;return format.parse=function(string){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=d3_time_parse(d,template,string,0);if(i!=string.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var localZ=null!=d.Z&&d3_date!==d3_date_utc,date=new(localZ?d3_date_utc:d3_date);return"j"in d?date.setFullYear(d.y,0,d.j):"W"in d||"U"in d?("w"in d||(d.w="W"in d?1:0),date.setFullYear(d.y,0,1),date.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(date.getDay()+5)%7:d.w+7*d.U-(date.getDay()+6)%7)):date.setFullYear(d.y,d.m,d.d),date.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),localZ?date._:date},format.toString=function(){return template},format}function d3_time_parse(date,template,string,j){for(var c,p,t,i=0,n=template.length,m=string.length;i<n;){if(j>=m)return-1;if(c=template.charCodeAt(i++),37===c){if(t=template.charAt(i++),p=d3_time_parsers[t in d3_time_formatPads?template.charAt(i++):t],!p||(j=p(date,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}function d3_time_parseWeekdayAbbrev(date,string,i){d3_time_dayAbbrevRe.lastIndex=0;var n=d3_time_dayAbbrevRe.exec(string.slice(i));return n?(date.w=d3_time_dayAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseWeekday(date,string,i){d3_time_dayRe.lastIndex=0;var n=d3_time_dayRe.exec(string.slice(i));return n?(date.w=d3_time_dayLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonthAbbrev(date,string,i){d3_time_monthAbbrevRe.lastIndex=0;var n=d3_time_monthAbbrevRe.exec(string.slice(i));return n?(date.m=d3_time_monthAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonth(date,string,i){d3_time_monthRe.lastIndex=0;var n=d3_time_monthRe.exec(string.slice(i));return n?(date.m=d3_time_monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseLocaleFull(date,string,i){return d3_time_parse(date,d3_time_formats.c.toString(),string,i)}function d3_time_parseLocaleDate(date,string,i){return d3_time_parse(date,d3_time_formats.x.toString(),string,i)}function d3_time_parseLocaleTime(date,string,i){return d3_time_parse(date,d3_time_formats.X.toString(),string,i)}function d3_time_parseAmPm(date,string,i){var n=d3_time_periodLookup.get(string.slice(i,i+=2).toLowerCase());return null==n?-1:(date.p=n,i)}var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_days=locale.days,locale_shortDays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths;d3_time_format.utc=function(template){function format(date){try{d3_date=d3_date_utc;var utc=new d3_date;return utc._=date,local(utc)}finally{d3_date=Date}}var local=d3_time_format(template);return format.parse=function(string){try{d3_date=d3_date_utc;var date=local.parse(string);return date&&date._}finally{d3_date=Date}},format.toString=local.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d3_time_periodLookup=d3.map(),d3_time_dayRe=d3_time_formatRe(locale_days),d3_time_dayLookup=d3_time_formatLookup(locale_days),d3_time_dayAbbrevRe=d3_time_formatRe(locale_shortDays),d3_time_dayAbbrevLookup=d3_time_formatLookup(locale_shortDays),d3_time_monthRe=d3_time_formatRe(locale_months),d3_time_monthLookup=d3_time_formatLookup(locale_months),d3_time_monthAbbrevRe=d3_time_formatRe(locale_shortMonths),d3_time_monthAbbrevLookup=d3_time_formatLookup(locale_shortMonths);locale_periods.forEach(function(p,i){d3_time_periodLookup.set(p.toLowerCase(),i)});var d3_time_formats={a:function(d){return locale_shortDays[d.getDay()]},A:function(d){return locale_days[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:d3_time_format(locale_dateTime),d:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},e:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},H:function(d,p){return d3_time_formatPad(d.getHours(),p,2)},I:function(d,p){return d3_time_formatPad(d.getHours()%12||12,p,2)},j:function(d,p){return d3_time_formatPad(1+d3_time.dayOfYear(d),p,3)},L:function(d,p){return d3_time_formatPad(d.getMilliseconds(),p,3)},m:function(d,p){return d3_time_formatPad(d.getMonth()+1,p,2)},M:function(d,p){return d3_time_formatPad(d.getMinutes(),p,2)},p:function(d){return locale_periods[+(d.getHours()>=12)]},S:function(d,p){return d3_time_formatPad(d.getSeconds(),p,2)},U:function(d,p){return d3_time_formatPad(d3_time.sundayOfYear(d),p,2)},w:function(d){return d.getDay()},W:function(d,p){return d3_time_formatPad(d3_time.mondayOfYear(d),p,2)},x:d3_time_format(locale_date),X:d3_time_format(locale_time),y:function(d,p){return d3_time_formatPad(d.getFullYear()%100,p,2)},Y:function(d,p){return d3_time_formatPad(d.getFullYear()%1e4,p,4)},Z:d3_time_zone,"%":function(){return"%"}},d3_time_parsers={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function d3_time_formatRe(names){return new RegExp("^(?:"+names.map(d3.requote).join("|")+")","i")}function d3_time_formatLookup(names){for(var map=new d3_Map,i=-1,n=names.length;++i<n;)map.set(names[i].toLowerCase(),i);return map}function d3_time_parseWeekdayNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+1));return n?(date.w=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberSunday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.U=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberMonday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.W=+n[0],i+n[0].length):-1}function d3_time_parseFullYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+4));return n?(date.y=+n[0],i+n[0].length):-1}function d3_time_parseYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.y=d3_time_expandYear(+n[0]),i+n[0].length):-1}function d3_time_parseZone(date,string,i){return/^[+-]\d{4}$/.test(string=string.slice(i,i+5))?(date.Z=-string,i+5):-1}function d3_time_expandYear(d){return d+(d>68?1900:2e3)}function d3_time_parseMonthNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.m=n[0]-1,i+n[0].length):-1}function d3_time_parseDay(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.d=+n[0],i+n[0].length):-1}function d3_time_parseDayOfYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.j=+n[0],i+n[0].length):-1}function d3_time_parseHour24(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.H=+n[0],i+n[0].length):-1}function d3_time_parseMinutes(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.M=+n[0],i+n[0].length):-1}function d3_time_parseSeconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.S=+n[0],i+n[0].length):-1}function d3_time_parseMilliseconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.L=+n[0],i+n[0].length):-1}function d3_time_zone(d){var z=d.getTimezoneOffset(),zs=z>0?"-":"+",zh=abs(z)/60|0,zm=abs(z)%60;return zs+d3_time_formatPad(zh,"0",2)+d3_time_formatPad(zm,"0",2)}function d3_time_parseLiteralPercent(date,string,i){d3_time_percentRe.lastIndex=0;var n=d3_time_percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function d3_time_formatMulti(formats){for(var n=formats.length,i=-1;++i<n;)formats[i][0]=this(formats[i][0]);return function(date){for(var i=0,f=formats[i];!f[1](date);)f=formats[++i];return f[0](date)}}function d3_adder(){}function d3_adderSum(a,b,o){var x=o.s=a+b,bv=x-a,av=x-bv;o.t=a-av+(b-bv)}function d3_geo_streamGeometry(geometry,listener){geometry&&d3_geo_streamGeometryType.hasOwnProperty(geometry.type)&&d3_geo_streamGeometryType[geometry.type](geometry,listener)}function d3_geo_streamLine(coordinates,listener,closed){var coordinate,i=-1,n=coordinates.length-closed;for(listener.lineStart();++i<n;)coordinate=coordinates[i],listener.point(coordinate[0],coordinate[1],coordinate[2]);listener.lineEnd()}function d3_geo_streamPolygon(coordinates,listener){var i=-1,n=coordinates.length;for(listener.polygonStart();++i<n;)d3_geo_streamLine(coordinates[i],listener,1);listener.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(λ,φ){λ*=d3_radians,φ=φ*d3_radians/2+π/4;var dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,cosφ=Math.cos(φ),sinφ=Math.sin(φ),k=sinφ0*sinφ,u=cosφ0*cosφ+k*Math.cos(adλ),v=k*sdλ*Math.sin(adλ);d3_geo_areaRingSum.add(Math.atan2(v,u)),λ0=λ,cosφ0=cosφ,sinφ0=sinφ}var λ00,φ00,λ0,cosφ0,sinφ0;d3_geo_area.point=function(λ,φ){d3_geo_area.point=nextPoint,λ0=(λ00=λ)*d3_radians,cosφ0=Math.cos(φ=(φ00=φ)*d3_radians/2+π/4),sinφ0=Math.sin(φ)},d3_geo_area.lineEnd=function(){nextPoint(λ00,φ00)}}function d3_geo_cartesian(spherical){var λ=spherical[0],φ=spherical[1],cosφ=Math.cos(φ);return[cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ)]}function d3_geo_cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function d3_geo_cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function d3_geo_cartesianAdd(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function d3_geo_cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function d3_geo_cartesianNormalize(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}function d3_geo_spherical(cartesian){return[Math.atan2(cartesian[1],cartesian[0]),d3_asin(cartesian[2])]}function d3_geo_sphericalEqual(a,b){return abs(a[0]-b[0])<ε&&abs(a[1]-b[1])<ε}function d3_geo_centroidPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);d3_geo_centroidPointXYZ(cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ))}function d3_geo_centroidPointXYZ(x,y,z){++d3_geo_centroidW0,d3_geo_centroidX0+=(x-d3_geo_centroidX0)/d3_geo_centroidW0,d3_geo_centroidY0+=(y-d3_geo_centroidY0)/d3_geo_centroidW0,d3_geo_centroidZ0+=(z-d3_geo_centroidZ0)/d3_geo_centroidW0}function d3_geo_centroidLineStart(){function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),w=Math.atan2(Math.sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ),y0=cosφ*Math.sin(λ),z0=Math.sin(φ),d3_geo_centroid.point=nextPoint,d3_geo_centroidPointXYZ(x0,y0,z0)}}function d3_geo_centroidLineEnd(){d3_geo_centroid.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=Math.sqrt(cx*cx+cy*cy+cz*cz),u=x0*x+y0*y+z0*z,v=m&&-d3_acos(u)/m,w=Math.atan2(m,u);d3_geo_centroidX2+=v*cx,d3_geo_centroidY2+=v*cy,d3_geo_centroidZ2+=v*cz,d3_geo_centroidW1+=w,d3_geo_centroidX1+=w*(x0+(x0=x)),d3_geo_centroidY1+=w*(y0+(y0=y)),d3_geo_centroidZ1+=w*(z0+(z0=z)),d3_geo_centroidPointXYZ(x0,y0,z0)}var λ00,φ00,x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ00=λ,φ00=φ,d3_geo_centroid.point=nextPoint,λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ),y0=cosφ*Math.sin(λ),z0=Math.sin(φ),d3_geo_centroidPointXYZ(x0,y0,z0)},d3_geo_centroid.lineEnd=function(){nextPoint(λ00,φ00),d3_geo_centroid.lineEnd=d3_geo_centroidLineEnd,d3_geo_centroid.point=d3_geo_centroidPoint}}function d3_geo_compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener){var subject=[],clip=[];if(segments.forEach(function(segment){if(!((n=segment.length-1)<=0)){var n,p0=segment[0],p1=segment[n];if(d3_geo_sphericalEqual(p0,p1)){listener.lineStart();for(var i=0;i<n;++i)listener.point((p0=segment[i])[0],p0[1]);return void listener.lineEnd()}var a=new d3_geo_clipPolygonIntersection(p0,segment,null,(!0)),b=new d3_geo_clipPolygonIntersection(p0,null,a,(!1));a.o=b,subject.push(a),clip.push(b),a=new d3_geo_clipPolygonIntersection(p1,segment,null,(!1)),b=new d3_geo_clipPolygonIntersection(p1,null,a,(!0)),a.o=b,subject.push(a),clip.push(b)}}),clip.sort(compare),d3_geo_clipPolygonLinkCircular(subject),d3_geo_clipPolygonLinkCircular(clip),subject.length){for(var i=0,entry=clipStartInside,n=clip.length;i<n;++i)clip[i].e=entry=!entry;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,listener.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(var i=0,n=points.length;i<n;++i)listener.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,listener);current=current.n}else{if(isSubject){points=current.p.z;for(var i=points.length-1;i>=0;--i)listener.point((point=points[i])[0],point[1])}else interpolate(current.x,current.p.x,-1,listener);current=current.p}current=current.o,points=current.z,isSubject=!isSubject}while(!current.v);listener.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}function d3_geo_clipPolygonIntersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function d3_geo_clip(pointVisible,clipLine,interpolate,clipStart){return function(rotate,listener){function point(λ,φ){var point=rotate(λ,φ);pointVisible(λ=point[0],φ=point[1])&&listener.point(λ,φ)}function pointLine(λ,φ){var point=rotate(λ,φ);line.point(point[0],point[1])}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(λ,φ){ring.push([λ,φ]);var point=rotate(λ,φ);ringListener.point(point[0],point[1])}function ringStart(){ringListener.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringListener.lineEnd();var segment,clean=ringListener.clean(),ringSegments=buffer.buffer(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){segment=ringSegments[0];var point,n=segment.length-1,i=-1;if(n>0){for(polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart();++i<n;)listener.point((point=segment[i])[0],point[1]);listener.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(d3_geo_clipSegmentLength1))}var segments,polygon,ring,line=clipLine(listener),rotatedClipStart=rotate.invert(clipStart[0],clipStart[1]),clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=d3.merge(segments);var clipStartInside=d3_geo_pointInPolygon(rotatedClipStart,polygon);segments.length?(polygonStarted||(listener.polygonStart(),polygonStarted=!0),d3_geo_clipPolygon(segments,d3_geo_clipSort,clipStartInside,interpolate,listener)):clipStartInside&&(polygonStarted||(listener.polygonStart(),polygonStarted=!0),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),polygonStarted&&(listener.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){listener.polygonStart(),listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd(),listener.polygonEnd()}},buffer=d3_geo_clipBufferListener(),ringListener=clipLine(buffer),polygonStarted=!1;return clip}}function d3_geo_clipSegmentLength1(segment){return segment.length>1}function d3_geo_clipBufferListener(){var line,lines=[];return{lineStart:function(){lines.push(line=[])},point:function(λ,φ){line.push([λ,φ])},lineEnd:d3_noop,buffer:function(){var buffer=lines;return lines=[],line=null,buffer},rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))}}}function d3_geo_clipSort(a,b){return((a=a.x)[0]<0?a[1]-halfπ-ε:halfπ-a[1])-((b=b.x)[0]<0?b[1]-halfπ-ε:halfπ-b[1])}function d3_geo_clipAntimeridianLine(listener){var clean,λ0=NaN,φ0=NaN,sλ0=NaN;return{lineStart:function(){listener.lineStart(),clean=1},point:function(λ1,φ1){var sλ1=λ1>0?π:-π,dλ=abs(λ1-λ0);abs(dλ-π)<ε?(listener.point(λ0,φ0=(φ0+φ1)/2>0?halfπ:-halfπ),listener.point(sλ0,φ0),listener.lineEnd(),listener.lineStart(),listener.point(sλ1,φ0),listener.point(λ1,φ0),clean=0):sλ0!==sλ1&&dλ>=π&&(abs(λ0-sλ0)<ε&&(λ0-=sλ0*ε),abs(λ1-sλ1)<ε&&(λ1-=sλ1*ε),φ0=d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1),listener.point(sλ0,φ0),listener.lineEnd(),listener.lineStart(),listener.point(sλ1,φ0),clean=0),listener.point(λ0=λ1,φ0=φ1),sλ0=sλ1},lineEnd:function(){listener.lineEnd(),λ0=φ0=NaN},clean:function(){return 2-clean}}}function d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1){var cosφ0,cosφ1,sinλ0_λ1=Math.sin(λ0-λ1);return abs(sinλ0_λ1)>ε?Math.atan((Math.sin(φ0)*(cosφ1=Math.cos(φ1))*Math.sin(λ1)-Math.sin(φ1)*(cosφ0=Math.cos(φ0))*Math.sin(λ0))/(cosφ0*cosφ1*sinλ0_λ1)):(φ0+φ1)/2;
}function d3_geo_clipAntimeridianInterpolate(from,to,direction,listener){var φ;if(null==from)φ=direction*halfπ,listener.point(-π,φ),listener.point(0,φ),listener.point(π,φ),listener.point(π,0),listener.point(π,-φ),listener.point(0,-φ),listener.point(-π,-φ),listener.point(-π,0),listener.point(-π,φ);else if(abs(from[0]-to[0])>ε){var s=from[0]<to[0]?π:-π;φ=direction*s/2,listener.point(-s,φ),listener.point(0,φ),listener.point(s,φ)}else listener.point(to[0],to[1])}function d3_geo_pointInPolygon(point,polygon){var meridian=point[0],parallel=point[1],meridianNormal=[Math.sin(meridian),-Math.cos(meridian),0],polarAngle=0,winding=0;d3_geo_areaRingSum.reset();for(var i=0,n=polygon.length;i<n;++i){var ring=polygon[i],m=ring.length;if(m)for(var point0=ring[0],λ0=point0[0],φ0=point0[1]/2+π/4,sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),j=1;;){j===m&&(j=0),point=ring[j];var λ=point[0],φ=point[1]/2+π/4,sinφ=Math.sin(φ),cosφ=Math.cos(φ),dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,antimeridian=adλ>π,k=sinφ0*sinφ;if(d3_geo_areaRingSum.add(Math.atan2(k*sdλ*Math.sin(adλ),cosφ0*cosφ+k*Math.cos(adλ))),polarAngle+=antimeridian?dλ+sdλ*τ:dλ,antimeridian^λ0>=meridian^λ>=meridian){var arc=d3_geo_cartesianCross(d3_geo_cartesian(point0),d3_geo_cartesian(point));d3_geo_cartesianNormalize(arc);var intersection=d3_geo_cartesianCross(meridianNormal,arc);d3_geo_cartesianNormalize(intersection);var φarc=(antimeridian^dλ>=0?-1:1)*d3_asin(intersection[2]);(parallel>φarc||parallel===φarc&&(arc[0]||arc[1]))&&(winding+=antimeridian^dλ>=0?1:-1)}if(!j++)break;λ0=λ,sinφ0=sinφ,cosφ0=cosφ,point0=point}}return(polarAngle<-ε||polarAngle<ε&&d3_geo_areaRingSum<0)^1&winding}function d3_geo_clipCircle(radius){function visible(λ,φ){return Math.cos(λ)*Math.cos(φ)>cr}function clipLine(listener){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(λ,φ){var point2,point1=[λ,φ],v=visible(λ,φ),c=smallRadius?v?0:code(λ,φ):v?code(λ+(λ<0?π:-π),φ):0;if(!point0&&(v00=v0=v)&&listener.lineStart(),v!==v0&&(point2=intersect(point0,point1),(d3_geo_sphericalEqual(point0,point2)||d3_geo_sphericalEqual(point1,point2))&&(point1[0]+=ε,point1[1]+=ε,v=visible(point1[0],point1[1]))),v!==v0)clean=0,v?(listener.lineStart(),point2=intersect(point1,point0),listener.point(point2[0],point2[1])):(point2=intersect(point0,point1),listener.point(point2[0],point2[1]),listener.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(listener.lineStart(),listener.point(t[0][0],t[0][1]),listener.point(t[1][0],t[1][1]),listener.lineEnd()):(listener.point(t[1][0],t[1][1]),listener.lineEnd(),listener.lineStart(),listener.point(t[0][0],t[0][1])))}!v||point0&&d3_geo_sphericalEqual(point0,point1)||listener.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&listener.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}function intersect(a,b,two){var pa=d3_geo_cartesian(a),pb=d3_geo_cartesian(b),n1=[1,0,0],n2=d3_geo_cartesianCross(pa,pb),n2n2=d3_geo_cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=d3_geo_cartesianCross(n1,n2),A=d3_geo_cartesianScale(n1,c1),B=d3_geo_cartesianScale(n2,c2);d3_geo_cartesianAdd(A,B);var u=n1xn2,w=d3_geo_cartesianDot(A,u),uu=d3_geo_cartesianDot(u,u),t2=w*w-uu*(d3_geo_cartesianDot(A,A)-1);if(!(t2<0)){var t=Math.sqrt(t2),q=d3_geo_cartesianScale(u,(-w-t)/uu);if(d3_geo_cartesianAdd(q,A),q=d3_geo_spherical(q),!two)return q;var z,λ0=a[0],λ1=b[0],φ0=a[1],φ1=b[1];λ1<λ0&&(z=λ0,λ0=λ1,λ1=z);var δλ=λ1-λ0,polar=abs(δλ-π)<ε,meridian=polar||δλ<ε;if(!polar&&φ1<φ0&&(z=φ0,φ0=φ1,φ1=z),meridian?polar?φ0+φ1>0^q[1]<(abs(q[0]-λ0)<ε?φ0:φ1):φ0<=q[1]&&q[1]<=φ1:δλ>π^(λ0<=q[0]&&q[0]<=λ1)){var q1=d3_geo_cartesianScale(u,(-w+t)/uu);return d3_geo_cartesianAdd(q1,A),[q,d3_geo_spherical(q1)]}}}function code(λ,φ){var r=smallRadius?radius:π-radius,code=0;return λ<-r?code|=1:λ>r&&(code|=2),φ<-r?code|=4:φ>r&&(code|=8),code}var cr=Math.cos(radius),smallRadius=cr>0,notHemisphere=abs(cr)>ε,interpolate=d3_geo_circleInterpolate(radius,6*d3_radians);return d3_geo_clip(visible,clipLine,interpolate,smallRadius?[0,-radius]:[-π,radius-π])}function d3_geom_clipLine(x0,y0,x1,y1){return function(line){var r,a=line.a,b=line.b,ax=a.x,ay=a.y,bx=b.x,by=b.y,t0=0,t1=1,dx=bx-ax,dy=by-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(line.a={x:ax+t0*dx,y:ay+t0*dy}),t1<1&&(line.b={x:ax+t1*dx,y:ay+t1*dy}),line}}}}}}function d3_geo_clipExtent(x0,y0,x1,y1){function corner(p,direction){return abs(p[0]-x0)<ε?direction>0?0:3:abs(p[0]-x1)<ε?direction>0?2:1:abs(p[1]-y0)<ε?direction>0?1:0:direction>0?3:2}function compare(a,b){return comparePoints(a.x,b.x)}function comparePoints(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(listener){function insidePolygon(p){for(var wn=0,n=polygon.length,y=p[1],i=0;i<n;++i)for(var b,j=1,v=polygon[i],m=v.length,a=v[0];j<m;++j)b=v[j],a[1]<=y?b[1]>y&&d3_cross2d(a,b,p)>0&&++wn:b[1]<=y&&d3_cross2d(a,b,p)<0&&--wn,a=b;return 0!==wn}function interpolate(from,to,direction,listener){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoints(from,to)<0^direction>0){do listener.point(0===a||3===a?x0:x1,a>1?y1:y0);while((a=(a+direction+4)%4)!==a1)}else listener.point(to[0],to[1])}function pointVisible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function point(x,y){pointVisible(x,y)&&listener.point(x,y)}function lineStart(){clip.point=linePoint,polygon&&polygon.push(ring=[]),first=!0,v_=!1,x_=y_=NaN}function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferListener.rejoin(),segments.push(bufferListener.buffer())),clip.point=point,v_&&listener.lineEnd()}function linePoint(x,y){x=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,x)),y=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,y));var v=pointVisible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(listener.lineStart(),listener.point(x,y));else if(v&&v_)listener.point(x,y);else{var l={a:{x:x_,y:y_},b:{x:x,y:y}};clipLine(l)?(v_||(listener.lineStart(),listener.point(l.a.x,l.a.y)),listener.point(l.b.x,l.b.y),v||listener.lineEnd(),clean=!1):v&&(listener.lineStart(),listener.point(x,y),clean=!1)}x_=x,y_=y,v_=v}var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,listener_=listener,bufferListener=d3_geo_clipBufferListener(),clipLine=d3_geom_clipLine(x0,y0,x1,y1),clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){listener=bufferListener,segments=[],polygon=[],clean=!0},polygonEnd:function(){listener=listener_,segments=d3.merge(segments);var clipStartInside=insidePolygon([x0,y1]),inside=clean&&clipStartInside,visible=segments.length;(inside||visible)&&(listener.polygonStart(),inside&&(listener.lineStart(),interpolate(null,null,1,listener),listener.lineEnd()),visible&&d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener),listener.polygonEnd()),segments=polygon=ring=null}};return clip}}function d3_geo_conic(projectAt){var φ0=0,φ1=π/3,m=d3_geo_projectionMutator(projectAt),p=m(φ0,φ1);return p.parallels=function(_){return arguments.length?m(φ0=_[0]*π/180,φ1=_[1]*π/180):[φ0/π*180,φ1/π*180]},p}function d3_geo_conicEqualArea(φ0,φ1){function forward(λ,φ){var ρ=Math.sqrt(C-2*n*Math.sin(φ))/n;return[ρ*Math.sin(λ*=n),ρ0-ρ*Math.cos(λ)]}var sinφ0=Math.sin(φ0),n=(sinφ0+Math.sin(φ1))/2,C=1+sinφ0*(2*n-sinφ0),ρ0=Math.sqrt(C)/n;return forward.invert=function(x,y){var ρ0_y=ρ0-y;return[Math.atan2(x,ρ0_y)/n,d3_asin((C-(x*x+ρ0_y*ρ0_y)*n*n)/(2*n))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(x,y){d3_geo_pathAreaPolygon+=y0*x-x0*y,x0=x,y0=y}var x00,y00,x0,y0;d3_geo_pathArea.point=function(x,y){d3_geo_pathArea.point=nextPoint,x00=x0=x,y00=y0=y},d3_geo_pathArea.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathBoundsPoint(x,y){x<d3_geo_pathBoundsX0&&(d3_geo_pathBoundsX0=x),x>d3_geo_pathBoundsX1&&(d3_geo_pathBoundsX1=x),y<d3_geo_pathBoundsY0&&(d3_geo_pathBoundsY0=y),y>d3_geo_pathBoundsY1&&(d3_geo_pathBoundsY1=y)}function d3_geo_pathBuffer(){function point(x,y){buffer.push("M",x,",",y,pointCircle)}function pointLineStart(x,y){buffer.push("M",x,",",y),stream.point=pointLine}function pointLine(x,y){buffer.push("L",x,",",y)}function lineEnd(){stream.point=point}function lineEndPolygon(){buffer.push("Z")}var pointCircle=d3_geo_pathBufferCircle(4.5),buffer=[],stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointCircle=d3_geo_pathBufferCircle(_),stream},result:function(){if(buffer.length){var result=buffer.join("");return buffer=[],result}}};return stream}function d3_geo_pathBufferCircle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}function d3_geo_pathCentroidPoint(x,y){d3_geo_centroidX0+=x,d3_geo_centroidY0+=y,++d3_geo_centroidZ0}function d3_geo_pathCentroidLineStart(){function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x0=x,y0=y)}}function d3_geo_pathCentroidLineEnd(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2,d3_geo_centroidY1+=z*(y0+y)/2,d3_geo_centroidZ1+=z,z=y0*x-x0*y,d3_geo_centroidX2+=z*(x0+x),d3_geo_centroidY2+=z*(y0+y),d3_geo_centroidZ2+=3*z,d3_geo_pathCentroidPoint(x0=x,y0=y)}var x00,y00,x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint,d3_geo_pathCentroidPoint(x00=x0=x,y00=y0=y)},d3_geo_pathCentroid.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathContext(context){function point(x,y){context.moveTo(x+pointRadius,y),context.arc(x,y,pointRadius,0,τ)}function pointLineStart(x,y){context.moveTo(x,y),stream.point=pointLine}function pointLine(x,y){context.lineTo(x,y)}function lineEnd(){stream.point=point}function lineEndPolygon(){context.closePath()}var pointRadius=4.5,stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd,stream.point=point},pointRadius:function(_){return pointRadius=_,stream},result:d3_noop};return stream}function d3_geo_resample(project){function resample(stream){return(maxDepth?resampleRecursive:resampleNone)(stream)}function resampleNone(stream){return d3_geo_transformPoint(stream,function(x,y){x=project(x,y),stream.point(x[0],x[1])})}function resampleRecursive(stream){function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resample.point=linePoint,stream.lineStart()}function linePoint(λ,φ){var c=d3_geo_cartesian([λ,φ]),p=project(λ,φ);resampleLineTo(x0,y0,λ0,a0,b0,c0,x0=p[0],y0=p[1],λ0=λ,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resample.point=point,stream.lineEnd()}function ringStart(){lineStart(),resample.point=ringPoint,resample.lineEnd=ringEnd}function ringPoint(λ,φ){linePoint(λ00=λ,φ00=φ),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resample.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,λ0,a0,b0,c0,x00,y00,λ00,a00,b00,c00,maxDepth,stream),resample.lineEnd=lineEnd,lineEnd()}var λ00,φ00,x00,y00,a00,b00,c00,λ0,x0,y0,a0,b0,c0,resample={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resample.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resample.lineStart=lineStart}};return resample}function resampleLineTo(x0,y0,λ0,a0,b0,c0,x1,y1,λ1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*δ2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=Math.sqrt(a*a+b*b+c*c),φ2=Math.asin(c/=m),λ2=abs(abs(c)-1)<ε||abs(λ0-λ1)<ε?(λ0+λ1)/2:Math.atan2(b,a),p=project(λ2,φ2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>δ2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)&&(resampleLineTo(x0,y0,λ0,a0,b0,c0,x2,y2,λ2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,λ2,a,b,c,x1,y1,λ1,a1,b1,c1,depth,stream))}}var δ2=.5,cosMinDistance=Math.cos(30*d3_radians),maxDepth=16;return resample.precision=function(_){return arguments.length?(maxDepth=(δ2=_*_)>0&&16,resample):Math.sqrt(δ2)},resample}function d3_geo_pathProjectStream(project){var resample=d3_geo_resample(function(x,y){return project([x*d3_degrees,y*d3_degrees])});return function(stream){return d3_geo_projectionRadians(resample(stream))}}function d3_geo_transform(stream){this.stream=stream}function d3_geo_transformPoint(stream,point){return{point:point,sphere:function(){stream.sphere()},lineStart:function(){stream.lineStart()},lineEnd:function(){stream.lineEnd()},polygonStart:function(){stream.polygonStart()},polygonEnd:function(){stream.polygonEnd()}}}function d3_geo_projection(project){return d3_geo_projectionMutator(function(){return project})()}function d3_geo_projectionMutator(projectAt){function projection(point){return point=projectRotate(point[0]*d3_radians,point[1]*d3_radians),[point[0]*k+δx,δy-point[1]*k]}function invert(point){return point=projectRotate.invert((point[0]-δx)/k,(δy-point[1])/k),point&&[point[0]*d3_degrees,point[1]*d3_degrees]}function reset(){projectRotate=d3_geo_compose(rotate=d3_geo_rotation(δλ,δφ,δγ),project);var center=project(λ,φ);return δx=x-center[0]*k,δy=y+center[1]*k,invalidate()}function invalidate(){return stream&&(stream.valid=!1,stream=null),projection}var project,rotate,projectRotate,δx,δy,stream,projectResample=d3_geo_resample(function(x,y){return x=project(x,y),[x[0]*k+δx,δy-x[1]*k]}),k=150,x=480,y=250,λ=0,φ=0,δλ=0,δφ=0,δγ=0,preclip=d3_geo_clipAntimeridian,postclip=d3_identity,clipAngle=null,clipExtent=null;return projection.stream=function(output){return stream&&(stream.valid=!1),stream=d3_geo_projectionRadians(preclip(rotate,projectResample(postclip(output)))),stream.valid=!0,stream},projection.clipAngle=function(_){return arguments.length?(preclip=null==_?(clipAngle=_,d3_geo_clipAntimeridian):d3_geo_clipCircle((clipAngle=+_)*d3_radians),invalidate()):clipAngle},projection.clipExtent=function(_){return arguments.length?(clipExtent=_,postclip=_?d3_geo_clipExtent(_[0][0],_[0][1],_[1][0],_[1][1]):d3_identity,invalidate()):clipExtent},projection.scale=function(_){return arguments.length?(k=+_,reset()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],reset()):[x,y]},projection.center=function(_){return arguments.length?(λ=_[0]%360*d3_radians,φ=_[1]%360*d3_radians,reset()):[λ*d3_degrees,φ*d3_degrees]},projection.rotate=function(_){return arguments.length?(δλ=_[0]%360*d3_radians,δφ=_[1]%360*d3_radians,δγ=_.length>2?_[2]%360*d3_radians:0,reset()):[δλ*d3_degrees,δφ*d3_degrees,δγ*d3_degrees]},d3.rebind(projection,projectResample,"precision"),function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,reset()}}function d3_geo_projectionRadians(stream){return d3_geo_transformPoint(stream,function(x,y){stream.point(x*d3_radians,y*d3_radians)})}function d3_geo_equirectangular(λ,φ){return[λ,φ]}function d3_geo_identityRotation(λ,φ){return[λ>π?λ-τ:λ<-π?λ+τ:λ,φ]}function d3_geo_rotation(δλ,δφ,δγ){return δλ?δφ||δγ?d3_geo_compose(d3_geo_rotationλ(δλ),d3_geo_rotationφγ(δφ,δγ)):d3_geo_rotationλ(δλ):δφ||δγ?d3_geo_rotationφγ(δφ,δγ):d3_geo_identityRotation}function d3_geo_forwardRotationλ(δλ){return function(λ,φ){return λ+=δλ,[λ>π?λ-τ:λ<-π?λ+τ:λ,φ]}}function d3_geo_rotationλ(δλ){var rotation=d3_geo_forwardRotationλ(δλ);return rotation.invert=d3_geo_forwardRotationλ(-δλ),rotation}function d3_geo_rotationφγ(δφ,δγ){function rotation(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδφ+x*sinδφ;return[Math.atan2(y*cosδγ-k*sinδγ,x*cosδφ-z*sinδφ),d3_asin(k*cosδγ+y*sinδγ)]}var cosδφ=Math.cos(δφ),sinδφ=Math.sin(δφ),cosδγ=Math.cos(δγ),sinδγ=Math.sin(δγ);return rotation.invert=function(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδγ-y*sinδγ;return[Math.atan2(y*cosδγ+z*sinδγ,x*cosδφ+k*sinδφ),d3_asin(k*cosδφ-x*sinδφ)]},rotation}function d3_geo_circleInterpolate(radius,precision){var cr=Math.cos(radius),sr=Math.sin(radius);return function(from,to,direction,listener){var step=direction*precision;null!=from?(from=d3_geo_circleAngle(cr,from),to=d3_geo_circleAngle(cr,to),(direction>0?from<to:from>to)&&(from+=direction*τ)):(from=radius+direction*τ,to=radius-.5*step);for(var point,t=from;direction>0?t>to:t<to;t-=step)listener.point((point=d3_geo_spherical([cr,-sr*Math.cos(t),-sr*Math.sin(t)]))[0],point[1])}}function d3_geo_circleAngle(cr,point){var a=d3_geo_cartesian(point);a[0]-=cr,d3_geo_cartesianNormalize(a);var angle=d3_acos(-a[1]);return((-a[2]<0?-angle:angle)+2*Math.PI-ε)%(2*Math.PI)}function d3_geo_graticuleX(y0,y1,dy){var y=d3.range(y0,y1-ε,dy).concat(y1);return function(x){return y.map(function(y){return[x,y]})}}function d3_geo_graticuleY(x0,x1,dx){var x=d3.range(x0,x1-ε,dx).concat(x1);return function(y){return x.map(function(x){return[x,y]})}}function d3_source(d){return d.source}function d3_target(d){return d.target}function d3_geo_interpolate(x0,y0,x1,y1){var cy0=Math.cos(y0),sy0=Math.sin(y0),cy1=Math.cos(y1),sy1=Math.sin(y1),kx0=cy0*Math.cos(x0),ky0=cy0*Math.sin(x0),kx1=cy1*Math.cos(x1),ky1=cy1*Math.sin(x1),d=2*Math.asin(Math.sqrt(d3_haversin(y1-y0)+cy0*cy1*d3_haversin(x1-x0))),k=1/Math.sin(d),interpolate=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[Math.atan2(y,x)*d3_degrees,Math.atan2(z,Math.sqrt(x*x+y*y))*d3_degrees]}:function(){return[x0*d3_degrees,y0*d3_degrees]};return interpolate.distance=d,interpolate}function d3_geo_lengthLineStart(){function nextPoint(λ,φ){var sinφ=Math.sin(φ*=d3_radians),cosφ=Math.cos(φ),t=abs((λ*=d3_radians)-λ0),cosΔλ=Math.cos(t);d3_geo_lengthSum+=Math.atan2(Math.sqrt((t=cosφ*Math.sin(t))*t+(t=cosφ0*sinφ-sinφ0*cosφ*cosΔλ)*t),sinφ0*sinφ+cosφ0*cosφ*cosΔλ),λ0=λ,sinφ0=sinφ,cosφ0=cosφ}var λ0,sinφ0,cosφ0;d3_geo_length.point=function(λ,φ){λ0=λ*d3_radians,sinφ0=Math.sin(φ*=d3_radians),cosφ0=Math.cos(φ),d3_geo_length.point=nextPoint},d3_geo_length.lineEnd=function(){d3_geo_length.point=d3_geo_length.lineEnd=d3_noop}}function d3_geo_azimuthal(scale,angle){function azimuthal(λ,φ){var cosλ=Math.cos(λ),cosφ=Math.cos(φ),k=scale(cosλ*cosφ);return[k*cosφ*Math.sin(λ),k*Math.sin(φ)]}return azimuthal.invert=function(x,y){var ρ=Math.sqrt(x*x+y*y),c=angle(ρ),sinc=Math.sin(c),cosc=Math.cos(c);return[Math.atan2(x*sinc,ρ*cosc),Math.asin(ρ&&y*sinc/ρ)]},azimuthal}function d3_geo_conicConformal(φ0,φ1){function forward(λ,φ){F>0?φ<-halfπ+ε&&(φ=-halfπ+ε):φ>halfπ-ε&&(φ=halfπ-ε);var ρ=F/Math.pow(t(φ),n);return[ρ*Math.sin(n*λ),F-ρ*Math.cos(n*λ)]}var cosφ0=Math.cos(φ0),t=function(φ){return Math.tan(π/4+φ/2)},n=φ0===φ1?Math.sin(φ0):Math.log(cosφ0/Math.cos(φ1))/Math.log(t(φ1)/t(φ0)),F=cosφ0*Math.pow(t(φ0),n)/n;return n?(forward.invert=function(x,y){var ρ0_y=F-y,ρ=d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y);return[Math.atan2(x,ρ0_y)/n,2*Math.atan(Math.pow(F/ρ,1/n))-halfπ]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(φ0,φ1){function forward(λ,φ){var ρ=G-φ;return[ρ*Math.sin(n*λ),G-ρ*Math.cos(n*λ)]}var cosφ0=Math.cos(φ0),n=φ0===φ1?Math.sin(φ0):(cosφ0-Math.cos(φ1))/(φ1-φ0),G=cosφ0/n+φ0;return abs(n)<ε?d3_geo_equirectangular:(forward.invert=function(x,y){var ρ0_y=G-y;return[Math.atan2(x,ρ0_y)/n,G-d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y)]},forward)}function d3_geo_mercator(λ,φ){return[λ,Math.log(Math.tan(π/4+φ/2))]}function d3_geo_mercatorProjection(project){var clipAuto,m=d3_geo_projection(project),scale=m.scale,translate=m.translate,clipExtent=m.clipExtent;return m.scale=function(){var v=scale.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.translate=function(){var v=translate.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v},m.clipExtent=function(_){var v=clipExtent.apply(m,arguments);if(v===m){if(clipAuto=null==_){var k=π*scale(),t=translate();clipExtent([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]])}}else clipAuto&&(v=null);return v},m.clipExtent(null)}function d3_geo_transverseMercator(λ,φ){return[Math.log(Math.tan(π/4+φ/2)),-λ]}function d3_geom_pointX(d){return d[0]}function d3_geom_pointY(d){return d[1]}function d3_geom_hullUpper(points){for(var n=points.length,hull=[0,1],hs=2,i=2;i<n;i++){for(;hs>1&&d3_cross2d(points[hull[hs-2]],points[hull[hs-1]],points[i])<=0;)--hs;hull[hs++]=i}return hull.slice(0,hs)}function d3_geom_hullOrder(a,b){return a[0]-b[0]||a[1]-b[1]}function d3_geom_polygonInside(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0])}function d3_geom_polygonIntersect(c,d,a,b){var x1=c[0],x3=a[0],x21=d[0]-x1,x43=b[0]-x3,y1=c[1],y3=a[1],y21=d[1]-y1,y43=b[1]-y3,ua=(x43*(y1-y3)-y43*(x1-x3))/(y43*x21-x43*y21);return[x1+ua*x21,y1+ua*y21]}function d3_geom_polygonClosed(coordinates){var a=coordinates[0],b=coordinates[coordinates.length-1];return!(a[0]-b[0]||a[1]-b[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(site){var beach=d3_geom_voronoiBeachPool.pop()||new d3_geom_voronoiBeach;return beach.site=site,beach}function d3_geom_voronoiDetachBeach(beach){d3_geom_voronoiDetachCircle(beach),d3_geom_voronoiBeaches.remove(beach),d3_geom_voronoiBeachPool.push(beach),d3_geom_voronoiRedBlackNode(beach)}function d3_geom_voronoiRemoveBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex={x:x,y:y},previous=beach.P,next=beach.N,disappearing=[beach];d3_geom_voronoiDetachBeach(beach);for(var lArc=previous;lArc.circle&&abs(x-lArc.circle.x)<ε&&abs(y-lArc.circle.cy)<ε;)previous=lArc.P,disappearing.unshift(lArc),d3_geom_voronoiDetachBeach(lArc),lArc=previous;disappearing.unshift(lArc),d3_geom_voronoiDetachCircle(lArc);for(var rArc=next;rArc.circle&&abs(x-rArc.circle.x)<ε&&abs(y-rArc.circle.cy)<ε;)next=rArc.N,disappearing.push(rArc),d3_geom_voronoiDetachBeach(rArc),rArc=next;disappearing.push(rArc),d3_geom_voronoiDetachCircle(rArc);var iArc,nArcs=disappearing.length;for(iArc=1;iArc<nArcs;++iArc)rArc=disappearing[iArc],lArc=disappearing[iArc-1],d3_geom_voronoiSetEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex);lArc=disappearing[0],rArc=disappearing[nArcs-1],rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,rArc.site,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiAddBeach(site){for(var lArc,rArc,dxl,dxr,x=site.x,directrix=site.y,node=d3_geom_voronoiBeaches._;node;)if(dxl=d3_geom_voronoiLeftBreakPoint(node,directrix)-x,dxl>ε)node=node.L;else{if(dxr=x-d3_geom_voronoiRightBreakPoint(node,directrix),!(dxr>ε)){dxl>-ε?(lArc=node.P,rArc=node):dxr>-ε?(lArc=node,rArc=node.N):lArc=rArc=node;break}if(!node.R){lArc=node;break}node=node.R}var newArc=d3_geom_voronoiCreateBeach(site);if(d3_geom_voronoiBeaches.insert(lArc,newArc),lArc||rArc){if(lArc===rArc)return d3_geom_voronoiDetachCircle(lArc),rArc=d3_geom_voronoiCreateBeach(lArc.site),d3_geom_voronoiBeaches.insert(newArc,rArc),newArc.edge=rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site),d3_geom_voronoiAttachCircle(lArc),void d3_geom_voronoiAttachCircle(rArc);if(!rArc)return void(newArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site));d3_geom_voronoiDetachCircle(lArc),d3_geom_voronoiDetachCircle(rArc);var lSite=lArc.site,ax=lSite.x,ay=lSite.y,bx=site.x-ax,by=site.y-ay,rSite=rArc.site,cx=rSite.x-ax,cy=rSite.y-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex={x:(cy*hb-by*hc)/d+ax,y:(bx*hc-cx*hb)/d+ay};d3_geom_voronoiSetEdgeEnd(rArc.edge,lSite,rSite,vertex),newArc.edge=d3_geom_voronoiCreateEdge(lSite,site,null,vertex),rArc.edge=d3_geom_voronoiCreateEdge(site,rSite,null,vertex),d3_geom_voronoiAttachCircle(lArc),d3_geom_voronoiAttachCircle(rArc)}}function d3_geom_voronoiLeftBreakPoint(arc,directrix){var site=arc.site,rfocx=site.x,rfocy=site.y,pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-(1/0);site=lArc.site;var lfocx=site.x,lfocy=site.y,plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;return aby2?(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx:(rfocx+lfocx)/2}function d3_geom_voronoiRightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return d3_geom_voronoiLeftBreakPoint(rArc,directrix);var site=arc.site;return site.y===directrix?site.x:1/0}function d3_geom_voronoiCell(site){this.site=site,this.edges=[]}function d3_geom_voronoiCloseCells(extent){for(var x2,y2,x3,y3,cell,iHalfEdge,halfEdges,nHalfEdges,start,end,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],cells=d3_geom_voronoiCells,iCell=cells.length;iCell--;)if(cell=cells[iCell],cell&&cell.prepare())for(halfEdges=cell.edges,nHalfEdges=halfEdges.length,iHalfEdge=0;iHalfEdge<nHalfEdges;)end=halfEdges[iHalfEdge].end(),x3=end.x,y3=end.y,start=halfEdges[++iHalfEdge%nHalfEdges].start(),x2=start.x,y2=start.y,(abs(x3-x2)>ε||abs(y3-y2)>ε)&&(halfEdges.splice(iHalfEdge,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site,end,abs(x3-x0)<ε&&y1-y3>ε?{x:x0,y:abs(x2-x0)<ε?y2:y1}:abs(y3-y1)<ε&&x1-x3>ε?{x:abs(y2-y1)<ε?x2:x1,y:y1}:abs(x3-x1)<ε&&y3-y0>ε?{x:x1,y:abs(x2-x1)<ε?y2:y0}:abs(y3-y0)<ε&&x3-x0>ε?{x:abs(y2-y0)<ε?x2:x0,y:y0}:null),cell.site,null)),++nHalfEdges)}function d3_geom_voronoiHalfEdgeOrder(a,b){return b.angle-a.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(arc){var lArc=arc.P,rArc=arc.N;if(lArc&&rArc){var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite!==rSite){var bx=cSite.x,by=cSite.y,ax=lSite.x-bx,ay=lSite.y-by,cx=rSite.x-bx,cy=rSite.y-by,d=2*(ax*cy-ay*cx);if(!(d>=-ε2)){var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,cy=y+by,circle=d3_geom_voronoiCirclePool.pop()||new d3_geom_voronoiCircle;circle.arc=arc,circle.site=cSite,circle.x=x+bx,circle.y=cy+Math.sqrt(x*x+y*y),circle.cy=cy,arc.circle=circle;for(var before=null,node=d3_geom_voronoiCircles._;node;)if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(!node.L){before=node.P;break}node=node.L}else{if(!node.R){before=node;break}node=node.R}d3_geom_voronoiCircles.insert(before,circle),before||(d3_geom_voronoiFirstCircle=circle)}}}}function d3_geom_voronoiDetachCircle(arc){var circle=arc.circle;circle&&(circle.P||(d3_geom_voronoiFirstCircle=circle.N),d3_geom_voronoiCircles.remove(circle),d3_geom_voronoiCirclePool.push(circle),d3_geom_voronoiRedBlackNode(circle),arc.circle=null)}function d3_geom_voronoiClipEdges(extent){for(var e,edges=d3_geom_voronoiEdges,clip=d3_geom_clipLine(extent[0][0],extent[0][1],extent[1][0],extent[1][1]),i=edges.length;i--;)e=edges[i],(!d3_geom_voronoiConnectEdge(e,extent)||!clip(e)||abs(e.a.x-e.b.x)<ε&&abs(e.a.y-e.b.y)<ε)&&(e.a=e.b=null,edges.splice(i,1))}function d3_geom_voronoiConnectEdge(edge,extent){var vb=edge.b;if(vb)return!0;var fm,fb,va=edge.a,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],lSite=edge.l,rSite=edge.r,lx=lSite.x,ly=lSite.y,rx=rSite.x,ry=rSite.y,fx=(lx+rx)/2,fy=(ly+ry)/2;if(ry===ly){if(fx<x0||fx>=x1)return;if(lx>rx){if(va){if(va.y>=y1)return}else va={x:fx,y:y0};vb={x:fx,y:y1}}else{if(va){if(va.y<y0)return}else va={x:fx,y:y1};vb={x:fx,y:y0}}}else if(fm=(lx-rx)/(ry-ly),fb=fy-fm*fx,fm<-1||fm>1)if(lx>rx){if(va){if(va.y>=y1)return}else va={x:(y0-fb)/fm,y:y0};vb={x:(y1-fb)/fm,y:y1}}else{if(va){if(va.y<y0)return}else va={x:(y1-fb)/fm,y:y1};vb={x:(y0-fb)/fm,y:y0}}else if(ly<ry){if(va){if(va.x>=x1)return}else va={x:x0,y:fm*x0+fb};vb={x:x1,y:fm*x1+fb}}else{if(va){if(va.x<x0)return}else va={x:x1,y:fm*x1+fb};vb={x:x0,y:fm*x0+fb}}return edge.a=va,edge.b=vb,!0}function d3_geom_voronoiEdge(lSite,rSite){this.l=lSite,this.r=rSite,this.a=this.b=null}function d3_geom_voronoiCreateEdge(lSite,rSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,rSite);return d3_geom_voronoiEdges.push(edge),va&&d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,va),vb&&d3_geom_voronoiSetEdgeEnd(edge,rSite,lSite,vb),d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,lSite,rSite)),d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,rSite,lSite)),edge}function d3_geom_voronoiCreateBorderEdge(lSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,null);return edge.a=va,edge.b=vb,d3_geom_voronoiEdges.push(edge),edge}function d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,vertex){edge.a||edge.b?edge.l===rSite?edge.b=vertex:edge.a=vertex:(edge.a=vertex,edge.l=lSite,edge.r=rSite)}function d3_geom_voronoiHalfEdge(edge,lSite,rSite){var va=edge.a,vb=edge.b;this.edge=edge,this.site=lSite,this.angle=rSite?Math.atan2(rSite.y-lSite.y,rSite.x-lSite.x):edge.l===lSite?Math.atan2(vb.x-va.x,va.y-vb.y):Math.atan2(va.x-vb.x,vb.y-va.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}function d3_geom_voronoiRedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function d3_geom_voronoiRedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function d3_geom_voronoiRedBlackFirst(node){for(;node.L;)node=node.L;return node}function d3_geom_voronoi(sites,bbox){var x0,y0,circle,site=sites.sort(d3_geom_voronoiVertexOrder).pop();for(d3_geom_voronoiEdges=[],d3_geom_voronoiCells=new Array(sites.length),d3_geom_voronoiBeaches=new d3_geom_voronoiRedBlackTree,d3_geom_voronoiCircles=new d3_geom_voronoiRedBlackTree;;)if(circle=d3_geom_voronoiFirstCircle,site&&(!circle||site.y<circle.y||site.y===circle.y&&site.x<circle.x))site.x===x0&&site.y===y0||(d3_geom_voronoiCells[site.i]=new d3_geom_voronoiCell(site),d3_geom_voronoiAddBeach(site),x0=site.x,y0=site.y),site=sites.pop();else{if(!circle)break;d3_geom_voronoiRemoveBeach(circle.arc)}bbox&&(d3_geom_voronoiClipEdges(bbox),d3_geom_voronoiCloseCells(bbox));var diagram={cells:d3_geom_voronoiCells,edges:d3_geom_voronoiEdges};return d3_geom_voronoiBeaches=d3_geom_voronoiCircles=d3_geom_voronoiEdges=d3_geom_voronoiCells=null,diagram}function d3_geom_voronoiVertexOrder(a,b){return b.y-a.y||b.x-a.x}function d3_geom_voronoiTriangleArea(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function d3_geom_quadtreeCompatX(d){return d.x}function d3_geom_quadtreeCompatY(d){return d.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(f,node,x1,y1,x2,y2){if(!f(node,x1,y1,x2,y2)){var sx=.5*(x1+x2),sy=.5*(y1+y2),children=node.nodes;children[0]&&d3_geom_quadtreeVisit(f,children[0],x1,y1,sx,sy),children[1]&&d3_geom_quadtreeVisit(f,children[1],sx,y1,x2,sy),children[2]&&d3_geom_quadtreeVisit(f,children[2],x1,sy,sx,y2),children[3]&&d3_geom_quadtreeVisit(f,children[3],sx,sy,x2,y2)}}function d3_geom_quadtreeFind(root,x,y,x0,y0,x3,y3){var closestPoint,minDistance2=1/0;return function find(node,x1,y1,x2,y2){if(!(x1>x3||y1>y3||x2<x0||y2<y0)){if(point=node.point){var point,dx=x-node.x,dy=y-node.y,distance2=dx*dx+dy*dy;if(distance2<minDistance2){var distance=Math.sqrt(minDistance2=distance2);
x0=x-distance,y0=y-distance,x3=x+distance,y3=y+distance,closestPoint=point}}for(var children=node.nodes,xm=.5*(x1+x2),ym=.5*(y1+y2),right=x>=xm,below=y>=ym,i=below<<1|right,j=i+4;i<j;++i)if(node=children[3&i])switch(3&i){case 0:find(node,x1,y1,xm,ym);break;case 1:find(node,xm,y1,x2,ym);break;case 2:find(node,x1,ym,xm,y2);break;case 3:find(node,xm,ym,x2,y2)}}}(root,x0,y0,x3,y3),closestPoint}function d3_interpolateRgb(a,b){a=d3.rgb(a),b=d3.rgb(b);var ar=a.r,ag=a.g,ab=a.b,br=b.r-ar,bg=b.g-ag,bb=b.b-ab;return function(t){return"#"+d3_rgb_hex(Math.round(ar+br*t))+d3_rgb_hex(Math.round(ag+bg*t))+d3_rgb_hex(Math.round(ab+bb*t))}}function d3_interpolateObject(a,b){var k,i={},c={};for(k in a)k in b?i[k]=d3_interpolate(a[k],b[k]):c[k]=a[k];for(k in b)k in a||(c[k]=b[k]);return function(t){for(k in i)c[k]=i[k](t);return c}}function d3_interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function d3_interpolateString(a,b){var am,bm,bs,bi=d3_interpolate_numberA.lastIndex=d3_interpolate_numberB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=d3_interpolate_numberA.exec(a))&&(bm=d3_interpolate_numberB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:d3_interpolateNumber(am,bm)})),bi=d3_interpolate_numberB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+""}):function(){return b}:(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function d3_interpolate(a,b){for(var f,i=d3.interpolators.length;--i>=0&&!(f=d3.interpolators[i](a,b)););return f}function d3_interpolateArray(a,b){var i,x=[],c=[],na=a.length,nb=b.length,n0=Math.min(a.length,b.length);for(i=0;i<n0;++i)x.push(d3_interpolate(a[i],b[i]));for(;i<na;++i)c[i]=a[i];for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<n0;++i)c[i]=x[i](t);return c}}function d3_ease_clamp(f){return function(t){return t<=0?0:t>=1?1:f(t)}}function d3_ease_reverse(f){return function(t){return 1-f(1-t)}}function d3_ease_reflect(f){return function(t){return.5*(t<.5?f(2*t):2-f(2-2*t))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(t<=0)return 0;if(t>=1)return 1;var t2=t*t,t3=t2*t;return 4*(t<.5?t3:3*(t-t2)+t3-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(t){return 1-Math.cos(t*halfπ)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(a,p){var s;return arguments.length<2&&(p=.45),arguments.length?s=p/τ*Math.asin(1/a):(a=1,s=p/4),function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*τ/p)}}function d3_ease_back(s){return s||(s=1.70158),function(t){return t*t*((s+1)*t-s)}}function d3_ease_bounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function d3_interpolateHcl(a,b){a=d3.hcl(a),b=d3.hcl(b);var ah=a.h,ac=a.c,al=a.l,bh=b.h-ah,bc=b.c-ac,bl=b.l-al;return isNaN(bc)&&(bc=0,ac=isNaN(ac)?b.c:ac),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:bh<-180&&(bh+=360),function(t){return d3_hcl_lab(ah+bh*t,ac+bc*t,al+bl*t)+""}}function d3_interpolateHsl(a,b){a=d3.hsl(a),b=d3.hsl(b);var ah=a.h,as=a.s,al=a.l,bh=b.h-ah,bs=b.s-as,bl=b.l-al;return isNaN(bs)&&(bs=0,as=isNaN(as)?b.s:as),isNaN(bh)?(bh=0,ah=isNaN(ah)?b.h:ah):bh>180?bh-=360:bh<-180&&(bh+=360),function(t){return d3_hsl_rgb(ah+bh*t,as+bs*t,al+bl*t)+""}}function d3_interpolateLab(a,b){a=d3.lab(a),b=d3.lab(b);var al=a.l,aa=a.a,ab=a.b,bl=b.l-al,ba=b.a-aa,bb=b.b-ab;return function(t){return d3_lab_rgb(al+bl*t,aa+ba*t,ab+bb*t)+""}}function d3_interpolateRound(a,b){return b-=a,function(t){return Math.round(a+b*t)}}function d3_transform(m){var r0=[m.a,m.b],r1=[m.c,m.d],kx=d3_transformNormalize(r0),kz=d3_transformDot(r0,r1),ky=d3_transformNormalize(d3_transformCombine(r1,r0,-kz))||0;r0[0]*r1[1]<r1[0]*r0[1]&&(r0[0]*=-1,r0[1]*=-1,kx*=-1,kz*=-1),this.rotate=(kx?Math.atan2(r0[1],r0[0]):Math.atan2(-r1[0],r1[1]))*d3_degrees,this.translate=[m.e,m.f],this.scale=[kx,ky],this.skew=ky?Math.atan2(kz,ky)*d3_degrees:0}function d3_transformDot(a,b){return a[0]*b[0]+a[1]*b[1]}function d3_transformNormalize(a){var k=Math.sqrt(d3_transformDot(a,a));return k&&(a[0]/=k,a[1]/=k),k}function d3_transformCombine(a,b,k){return a[0]+=k*b[0],a[1]+=k*b[1],a}function d3_interpolateTransformPop(s){return s.length?s.pop()+",":""}function d3_interpolateTranslate(ta,tb,s,q){if(ta[0]!==tb[0]||ta[1]!==tb[1]){var i=s.push("translate(",null,",",null,")");q.push({i:i-4,x:d3_interpolateNumber(ta[0],tb[0])},{i:i-2,x:d3_interpolateNumber(ta[1],tb[1])})}else(tb[0]||tb[1])&&s.push("translate("+tb+")")}function d3_interpolateRotate(ra,rb,s,q){ra!==rb?(ra-rb>180?rb+=360:rb-ra>180&&(ra+=360),q.push({i:s.push(d3_interpolateTransformPop(s)+"rotate(",null,")")-2,x:d3_interpolateNumber(ra,rb)})):rb&&s.push(d3_interpolateTransformPop(s)+"rotate("+rb+")")}function d3_interpolateSkew(wa,wb,s,q){wa!==wb?q.push({i:s.push(d3_interpolateTransformPop(s)+"skewX(",null,")")-2,x:d3_interpolateNumber(wa,wb)}):wb&&s.push(d3_interpolateTransformPop(s)+"skewX("+wb+")")}function d3_interpolateScale(ka,kb,s,q){if(ka[0]!==kb[0]||ka[1]!==kb[1]){var i=s.push(d3_interpolateTransformPop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:d3_interpolateNumber(ka[0],kb[0])},{i:i-2,x:d3_interpolateNumber(ka[1],kb[1])})}else 1===kb[0]&&1===kb[1]||s.push(d3_interpolateTransformPop(s)+"scale("+kb+")")}function d3_interpolateTransform(a,b){var s=[],q=[];return a=d3.transform(a),b=d3.transform(b),d3_interpolateTranslate(a.translate,b.translate,s,q),d3_interpolateRotate(a.rotate,b.rotate,s,q),d3_interpolateSkew(a.skew,b.skew,s,q),d3_interpolateScale(a.scale,b.scale,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}function d3_uninterpolateNumber(a,b){return b=(b-=a=+a)||1/b,function(x){return(x-a)/b}}function d3_uninterpolateClamp(a,b){return b=(b-=a=+a)||1/b,function(x){return Math.max(0,Math.min(1,(x-a)/b))}}function d3_layout_bundlePath(link){for(var start=link.source,end=link.target,lca=d3_layout_bundleLeastCommonAncestor(start,end),points=[start];start!==lca;)start=start.parent,points.push(start);for(var k=points.length;end!==lca;)points.splice(k,0,end),end=end.parent;return points}function d3_layout_bundleAncestors(node){for(var ancestors=[],parent=node.parent;null!=parent;)ancestors.push(node),node=parent,parent=parent.parent;return ancestors.push(node),ancestors}function d3_layout_bundleLeastCommonAncestor(a,b){if(a===b)return a;for(var aNodes=d3_layout_bundleAncestors(a),bNodes=d3_layout_bundleAncestors(b),aNode=aNodes.pop(),bNode=bNodes.pop(),sharedNode=null;aNode===bNode;)sharedNode=aNode,aNode=aNodes.pop(),bNode=bNodes.pop();return sharedNode}function d3_layout_forceDragstart(d){d.fixed|=2}function d3_layout_forceDragend(d){d.fixed&=-7}function d3_layout_forceMouseover(d){d.fixed|=4,d.px=d.x,d.py=d.y}function d3_layout_forceMouseout(d){d.fixed&=-5}function d3_layout_forceAccumulate(quad,alpha,charges){var cx=0,cy=0;if(quad.charge=0,!quad.leaf)for(var c,nodes=quad.nodes,n=nodes.length,i=-1;++i<n;)c=nodes[i],null!=c&&(d3_layout_forceAccumulate(c,alpha,charges),quad.charge+=c.charge,cx+=c.charge*c.cx,cy+=c.charge*c.cy);if(quad.point){quad.leaf||(quad.point.x+=Math.random()-.5,quad.point.y+=Math.random()-.5);var k=alpha*charges[quad.point.index];quad.charge+=quad.pointCharge=k,cx+=k*quad.point.x,cy+=k*quad.point.y}quad.cx=cx/quad.charge,quad.cy=cy/quad.charge}function d3_layout_hierarchyRebind(object,hierarchy){return d3.rebind(object,hierarchy,"sort","children","value"),object.nodes=object,object.links=d3_layout_hierarchyLinks,object}function d3_layout_hierarchyVisitBefore(node,callback){for(var nodes=[node];null!=(node=nodes.pop());)if(callback(node),(children=node.children)&&(n=children.length))for(var n,children;--n>=0;)nodes.push(children[n])}function d3_layout_hierarchyVisitAfter(node,callback){for(var nodes=[node],nodes2=[];null!=(node=nodes.pop());)if(nodes2.push(node),(children=node.children)&&(n=children.length))for(var n,children,i=-1;++i<n;)nodes.push(children[i]);for(;null!=(node=nodes2.pop());)callback(node)}function d3_layout_hierarchyChildren(d){return d.children}function d3_layout_hierarchyValue(d){return d.value}function d3_layout_hierarchySort(a,b){return b.value-a.value}function d3_layout_hierarchyLinks(nodes){return d3.merge(nodes.map(function(parent){return(parent.children||[]).map(function(child){return{source:parent,target:child}})}))}function d3_layout_stackX(d){return d.x}function d3_layout_stackY(d){return d.y}function d3_layout_stackOut(d,y0,y){d.y0=y0,d.y=y}function d3_layout_stackOrderDefault(data){return d3.range(data.length)}function d3_layout_stackOffsetZero(data){for(var j=-1,m=data[0].length,y0=[];++j<m;)y0[j]=0;return y0}function d3_layout_stackMaxIndex(array){for(var k,i=1,j=0,v=array[0][1],n=array.length;i<n;++i)(k=array[i][1])>v&&(j=i,v=k);return j}function d3_layout_stackReduceSum(d){return d.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(p,d){return p+d[1]}function d3_layout_histogramBinSturges(range,values){return d3_layout_histogramBinFixed(range,Math.ceil(Math.log(values.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(range,n){for(var x=-1,b=+range[0],m=(range[1]-b)/n,f=[];++x<=n;)f[x]=m*x+b;return f}function d3_layout_histogramRange(values){return[d3.min(values),d3.max(values)]}function d3_layout_packSort(a,b){return a.value-b.value}function d3_layout_packInsert(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function d3_layout_packSplice(a,b){a._pack_next=b,b._pack_prev=a}function d3_layout_packIntersects(a,b){var dx=b.x-a.x,dy=b.y-a.y,dr=a.r+b.r;return.999*dr*dr>dx*dx+dy*dy}function d3_layout_packSiblings(node){function bound(node){xMin=Math.min(node.x-node.r,xMin),xMax=Math.max(node.x+node.r,xMax),yMin=Math.min(node.y-node.r,yMin),yMax=Math.max(node.y+node.r,yMax)}if((nodes=node.children)&&(n=nodes.length)){var nodes,a,b,c,i,j,k,n,xMin=1/0,xMax=-(1/0),yMin=1/0,yMax=-(1/0);if(nodes.forEach(d3_layout_packLink),a=nodes[0],a.x=-a.r,a.y=0,bound(a),n>1&&(b=nodes[1],b.x=b.r,b.y=0,bound(b),n>2))for(c=nodes[2],d3_layout_packPlace(a,b,c),bound(c),d3_layout_packInsert(a,c),a._pack_prev=c,d3_layout_packInsert(c,b),b=a._pack_next,i=3;i<n;i++){d3_layout_packPlace(a,b,c=nodes[i]);var isect=0,s1=1,s2=1;for(j=b._pack_next;j!==b;j=j._pack_next,s1++)if(d3_layout_packIntersects(j,c)){isect=1;break}if(1==isect)for(k=a._pack_prev;k!==j._pack_prev&&!d3_layout_packIntersects(k,c);k=k._pack_prev,s2++);isect?(s1<s2||s1==s2&&b.r<a.r?d3_layout_packSplice(a,b=j):d3_layout_packSplice(a=k,b),i--):(d3_layout_packInsert(a,c),b=c,bound(c))}var cx=(xMin+xMax)/2,cy=(yMin+yMax)/2,cr=0;for(i=0;i<n;i++)c=nodes[i],c.x-=cx,c.y-=cy,cr=Math.max(cr,c.r+Math.sqrt(c.x*c.x+c.y*c.y));node.r=cr,nodes.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(node){node._pack_next=node._pack_prev=node}function d3_layout_packUnlink(node){delete node._pack_next,delete node._pack_prev}function d3_layout_packTransform(node,x,y,k){var children=node.children;if(node.x=x+=k*node.x,node.y=y+=k*node.y,node.r*=k,children)for(var i=-1,n=children.length;++i<n;)d3_layout_packTransform(children[i],x,y,k)}function d3_layout_packPlace(a,b,c){var db=a.r+c.r,dx=b.x-a.x,dy=b.y-a.y;if(db&&(dx||dy)){var da=b.r+c.r,dc=dx*dx+dy*dy;da*=da,db*=db;var x=.5+(db-da)/(2*dc),y=Math.sqrt(Math.max(0,2*da*(db+dc)-(db-=dc)*db-da*da))/(2*dc);c.x=a.x+x*dx+y*dy,c.y=a.y+x*dy-y*dx}else c.x=a.x+db,c.y=a.y}function d3_layout_treeSeparation(a,b){return a.parent==b.parent?1:2}function d3_layout_treeLeft(v){var children=v.children;return children.length?children[0]:v.t}function d3_layout_treeRight(v){var n,children=v.children;return(n=children.length)?children[n-1]:v.t}function d3_layout_treeMove(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change,wp.s+=shift,wm.c+=change,wp.z+=shift,wp.m+=shift}function d3_layout_treeShift(v){for(var w,shift=0,change=0,children=v.children,i=children.length;--i>=0;)w=children[i],w.z+=shift,w.m+=shift,shift+=w.s+(change+=w.c)}function d3_layout_treeAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function d3_layout_clusterY(children){return 1+d3.max(children,function(child){return child.y})}function d3_layout_clusterX(children){return children.reduce(function(x,child){return x+child.x},0)/children.length}function d3_layout_clusterLeft(node){var children=node.children;return children&&children.length?d3_layout_clusterLeft(children[0]):node}function d3_layout_clusterRight(node){var n,children=node.children;return children&&(n=children.length)?d3_layout_clusterRight(children[n-1]):node}function d3_layout_treemapPadNull(node){return{x:node.x,y:node.y,dx:node.dx,dy:node.dy}}function d3_layout_treemapPad(node,padding){var x=node.x+padding[3],y=node.y+padding[0],dx=node.dx-padding[1]-padding[3],dy=node.dy-padding[0]-padding[2];return dx<0&&(x+=dx/2,dx=0),dy<0&&(y+=dy/2,dy=0),{x:x,y:y,dx:dx,dy:dy}}function d3_scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return start<stop?[start,stop]:[stop,start]}function d3_scaleRange(scale){return scale.rangeExtent?scale.rangeExtent():d3_scaleExtent(scale.range())}function d3_scale_bilinear(domain,range,uninterpolate,interpolate){var u=uninterpolate(domain[0],domain[1]),i=interpolate(range[0],range[1]);return function(x){return i(u(x))}}function d3_scale_nice(domain,nice){var dx,i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(dx=i0,i0=i1,i1=dx,dx=x0,x0=x1,x1=dx),domain[i0]=nice.floor(x0),domain[i1]=nice.ceil(x1),domain}function d3_scale_niceStep(step){return step?{floor:function(x){return Math.floor(x/step)*step},ceil:function(x){return Math.ceil(x/step)*step}}:d3_scale_niceIdentity}function d3_scale_polylinear(domain,range,uninterpolate,interpolate){var u=[],i=[],j=0,k=Math.min(domain.length,range.length)-1;for(domain[k]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++j<=k;)u.push(uninterpolate(domain[j-1],domain[j])),i.push(interpolate(range[j-1],range[j]));return function(x){var j=d3.bisect(domain,x,1,k)-1;return i[j](u[j](x))}}function d3_scale_linear(domain,range,interpolate,clamp){function rescale(){var linear=Math.min(domain.length,range.length)>2?d3_scale_polylinear:d3_scale_bilinear,uninterpolate=clamp?d3_uninterpolateClamp:d3_uninterpolateNumber;return output=linear(domain,range,uninterpolate,interpolate),input=linear(range,domain,uninterpolate,d3_interpolate),scale}function scale(x){return output(x)}var output,input;return scale.invert=function(y){return input(y)},scale.domain=function(x){return arguments.length?(domain=x.map(Number),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.rangeRound=function(x){return scale.range(x).interpolate(d3_interpolateRound)},scale.clamp=function(x){return arguments.length?(clamp=x,rescale()):clamp},scale.interpolate=function(x){return arguments.length?(interpolate=x,rescale()):interpolate},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return d3_scale_linearNice(domain,m),rescale()},scale.copy=function(){return d3_scale_linear(domain,range,interpolate,clamp)},rescale()}function d3_scale_linearRebind(scale,linear){return d3.rebind(scale,linear,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(domain,m){return d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2])),d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2])),domain}function d3_scale_linearTickRange(domain,m){null==m&&(m=10);var extent=d3_scaleExtent(domain),span=extent[1]-extent[0],step=Math.pow(10,Math.floor(Math.log(span/m)/Math.LN10)),err=m/span*step;return err<=.15?step*=10:err<=.35?step*=5:err<=.75&&(step*=2),extent[0]=Math.ceil(extent[0]/step)*step,extent[1]=Math.floor(extent[1]/step)*step+.5*step,extent[2]=step,extent}function d3_scale_linearTicks(domain,m){return d3.range.apply(d3,d3_scale_linearTickRange(domain,m))}function d3_scale_linearTickFormat(domain,m,format){var range=d3_scale_linearTickRange(domain,m);if(format){var match=d3_format_re.exec(format);if(match.shift(),"s"===match[8]){var prefix=d3.formatPrefix(Math.max(abs(range[0]),abs(range[1])));return match[7]||(match[7]="."+d3_scale_linearPrecision(prefix.scale(range[2]))),match[8]="f",format=d3.format(match.join("")),function(d){return format(prefix.scale(d))+prefix.symbol}}match[7]||(match[7]="."+d3_scale_linearFormatPrecision(match[8],range)),format=match.join("")}else format=",."+d3_scale_linearPrecision(range[2])+"f";return d3.format(format)}function d3_scale_linearPrecision(value){return-Math.floor(Math.log(value)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(type,range){var p=d3_scale_linearPrecision(range[2]);return type in d3_scale_linearFormatSignificant?Math.abs(p-d3_scale_linearPrecision(Math.max(abs(range[0]),abs(range[1]))))+ +("e"!==type):p-2*("%"===type)}function d3_scale_log(linear,base,positive,domain){function log(x){return(positive?Math.log(x<0?0:x):-Math.log(x>0?0:-x))/Math.log(base)}function pow(x){return positive?Math.pow(base,x):-Math.pow(base,-x)}function scale(x){return linear(log(x))}return scale.invert=function(x){return pow(linear.invert(x))},scale.domain=function(x){return arguments.length?(positive=x[0]>=0,linear.domain((domain=x.map(Number)).map(log)),scale):domain},scale.base=function(_){return arguments.length?(base=+_,linear.domain(domain.map(log)),scale):base},scale.nice=function(){var niced=d3_scale_nice(domain.map(log),positive?Math:d3_scale_logNiceNegative);return linear.domain(niced),domain=niced.map(pow),scale},scale.ticks=function(){var extent=d3_scaleExtent(domain),ticks=[],u=extent[0],v=extent[1],i=Math.floor(log(u)),j=Math.ceil(log(v)),n=base%1?2:base;if(isFinite(j-i)){if(positive){for(;i<j;i++)for(var k=1;k<n;k++)ticks.push(pow(i)*k);ticks.push(pow(i))}else for(ticks.push(pow(i));i++<j;)for(var k=n-1;k>0;k--)ticks.push(pow(i)*k);for(i=0;ticks[i]<u;i++);for(j=ticks.length;ticks[j-1]>v;j--);ticks=ticks.slice(i,j)}return ticks},scale.tickFormat=function(n,format){if(!arguments.length)return d3_scale_logFormat;arguments.length<2?format=d3_scale_logFormat:"function"!=typeof format&&(format=d3.format(format));var k=Math.max(1,base*n/scale.ticks().length);return function(d){var i=d/pow(Math.round(log(d)));return i*base<base-.5&&(i*=base),i<=k?format(d):""}},scale.copy=function(){return d3_scale_log(linear.copy(),base,positive,domain)},d3_scale_linearRebind(scale,linear)}function d3_scale_pow(linear,exponent,domain){function scale(x){return linear(powp(x))}var powp=d3_scale_powPow(exponent),powb=d3_scale_powPow(1/exponent);return scale.invert=function(x){return powb(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain((domain=x.map(Number)).map(powp)),scale):domain},scale.ticks=function(m){return d3_scale_linearTicks(domain,m)},scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},scale.nice=function(m){return scale.domain(d3_scale_linearNice(domain,m))},scale.exponent=function(x){return arguments.length?(powp=d3_scale_powPow(exponent=x),powb=d3_scale_powPow(1/exponent),linear.domain(domain.map(powp)),scale):exponent},scale.copy=function(){return d3_scale_pow(linear.copy(),exponent,domain)},d3_scale_linearRebind(scale,linear)}function d3_scale_powPow(e){return function(x){return x<0?-Math.pow(-x,e):Math.pow(x,e)}}function d3_scale_ordinal(domain,ranger){function scale(x){return range[((index.get(x)||("range"===ranger.t?index.set(x,domain.push(x)):NaN))-1)%range.length]}function steps(start,step){return d3.range(domain.length).map(function(i){return start+step*i})}var index,range,rangeBand;return scale.domain=function(x){if(!arguments.length)return domain;domain=[],index=new d3_Map;for(var xi,i=-1,n=x.length;++i<n;)index.has(xi=x[i])||index.set(xi,domain.push(xi));return scale[ranger.t].apply(scale,ranger.a)},scale.range=function(x){return arguments.length?(range=x,rangeBand=0,ranger={t:"range",a:arguments},scale):range},scale.rangePoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=(start+stop)/2,0):(stop-start)/(domain.length-1+padding);return range=steps(start+step*padding/2,step),rangeBand=0,ranger={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(x,padding){arguments.length<2&&(padding=0);var start=x[0],stop=x[1],step=domain.length<2?(start=stop=Math.round((start+stop)/2),0):(stop-start)/(domain.length-1+padding)|0;return range=steps(start+Math.round(step*padding/2+(stop-start-(domain.length-1+padding)*step)/2),step),rangeBand=0,ranger={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=(stop-start)/(domain.length-padding+2*outerPadding);return range=steps(start+step*outerPadding,step),reverse&&range.reverse(),rangeBand=step*(1-padding),ranger={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(x,padding,outerPadding){arguments.length<2&&(padding=0),arguments.length<3&&(outerPadding=padding);var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=Math.floor((stop-start)/(domain.length-padding+2*outerPadding));return range=steps(start+Math.round((stop-start-(domain.length-padding)*step)/2),step),reverse&&range.reverse(),rangeBand=Math.round(step*(1-padding)),ranger={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return rangeBand},scale.rangeExtent=function(){return d3_scaleExtent(ranger.a[0])},scale.copy=function(){return d3_scale_ordinal(domain,ranger)},scale.domain(domain)}function d3_scale_quantile(domain,range){function rescale(){var k=0,q=range.length;for(thresholds=[];++k<q;)thresholds[k-1]=d3.quantile(domain,k/q);return scale}function scale(x){if(!isNaN(x=+x))return range[d3.bisect(thresholds,x)]}var thresholds;return scale.domain=function(x){return arguments.length?(domain=x.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):domain},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.quantiles=function(){return thresholds},scale.invertExtent=function(y){return y=range.indexOf(y),y<0?[NaN,NaN]:[y>0?thresholds[y-1]:domain[0],y<thresholds.length?thresholds[y]:domain[domain.length-1]]},scale.copy=function(){return d3_scale_quantile(domain,range)},rescale()}function d3_scale_quantize(x0,x1,range){function scale(x){return range[Math.max(0,Math.min(i,Math.floor(kx*(x-x0))))]}function rescale(){return kx=range.length/(x1-x0),i=range.length-1,scale}var kx,i;return scale.domain=function(x){return arguments.length?(x0=+x[0],x1=+x[x.length-1],rescale()):[x0,x1]},scale.range=function(x){return arguments.length?(range=x,rescale()):range},scale.invertExtent=function(y){return y=range.indexOf(y),y=y<0?NaN:y/kx+x0,[y,y+1/kx]},scale.copy=function(){return d3_scale_quantize(x0,x1,range)},rescale()}function d3_scale_threshold(domain,range){function scale(x){if(x<=x)return range[d3.bisect(domain,x)]}return scale.domain=function(_){return arguments.length?(domain=_,scale):domain},scale.range=function(_){return arguments.length?(range=_,scale):range},scale.invertExtent=function(y){return y=range.indexOf(y),[domain[y-1],domain[y]]},scale.copy=function(){return d3_scale_threshold(domain,range)},scale}function d3_scale_identity(domain){function identity(x){return+x}return identity.invert=identity,identity.domain=identity.range=function(x){return arguments.length?(domain=x.map(identity),identity):domain},identity.ticks=function(m){return d3_scale_linearTicks(domain,m)},identity.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)},identity.copy=function(){return d3_scale_identity(domain)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(d){return d.innerRadius}function d3_svg_arcOuterRadius(d){return d.outerRadius}function d3_svg_arcStartAngle(d){return d.startAngle}function d3_svg_arcEndAngle(d){return d.endAngle}function d3_svg_arcPadAngle(d){return d&&d.padAngle}function d3_svg_arcSweep(x0,y0,x1,y1){return(x0-x1)*y0-(y0-y1)*x0>0?0:1}function d3_svg_arcCornerTangents(p0,p1,r1,rc,cw){var x01=p0[0]-p1[0],y01=p0[1]-p1[1],lo=(cw?rc:-rc)/Math.sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x1=p0[0]+ox,y1=p0[1]+oy,x2=p1[0]+ox,y2=p1[1]+oy,x3=(x1+x2)/2,y3=(y1+y2)/2,dx=x2-x1,dy=y2-y1,d2=dx*dx+dy*dy,r=r1-rc,D=x1*y2-x2*y1,d=(dy<0?-1:1)*Math.sqrt(Math.max(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x3,dy0=cy0-y3,dx1=cx1-x3,dy1=cy1-y3;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),[[cx0-ox,cy0-oy],[cx0*r1/r,cy0*r1/r]]}function d3_svg_line(projection){function line(data){function segment(){segments.push("M",interpolate(projection(points),tension))}for(var d,segments=[],points=[],i=-1,n=data.length,fx=d3_functor(x),fy=d3_functor(y);++i<n;)defined.call(this,d=data[i],i)?points.push([+fx.call(this,d,i),+fy.call(this,d,i)]):points.length&&(segment(),points=[]);return points.length&&segment(),segments.length?segments.join(""):null}var x=d3_geom_pointX,y=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,tension=.7;return line.x=function(_){return arguments.length?(x=_,line):x},line.y=function(_){return arguments.length?(y=_,line):y},line.defined=function(_){return arguments.length?(defined=_,line):defined},line.interpolate=function(_){return arguments.length?(interpolateKey="function"==typeof _?interpolate=_:(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,line):interpolateKey},line.tension=function(_){return arguments.length?(tension=_,line):tension},line}function d3_svg_lineLinear(points){return points.length>1?points.join("L"):points+"Z"}function d3_svg_lineLinearClosed(points){return points.join("L")+"Z"}function d3_svg_lineStep(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("H",(p[0]+(p=points[i])[0])/2,"V",p[1]);return n>1&&path.push("H",p[0]),path.join("")}function d3_svg_lineStepBefore(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("V",(p=points[i])[1],"H",p[0]);return path.join("")}function d3_svg_lineStepAfter(points){for(var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];++i<n;)path.push("H",(p=points[i])[0],"V",p[1]);return path.join("")}function d3_svg_lineCardinalOpen(points,tension){return points.length<4?d3_svg_lineLinear(points):points[1]+d3_svg_lineHermite(points.slice(1,-1),d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineCardinalClosed(points,tension){return points.length<3?d3_svg_lineLinearClosed(points):points[0]+d3_svg_lineHermite((points.push(points[0]),points),d3_svg_lineCardinalTangents([points[points.length-2]].concat(points,[points[1]]),tension))}function d3_svg_lineCardinal(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineHermite(points,tangents){if(tangents.length<1||points.length!=tangents.length&&points.length!=tangents.length+2)return d3_svg_lineLinear(points);var quad=points.length!=tangents.length,path="",p0=points[0],p=points[1],t0=tangents[0],t=t0,pi=1;if(quad&&(path+="Q"+(p[0]-2*t0[0]/3)+","+(p[1]-2*t0[1]/3)+","+p[0]+","+p[1],p0=points[1],pi=2),tangents.length>1){t=tangents[1],p=points[pi],pi++,path+="C"+(p0[0]+t0[0])+","+(p0[1]+t0[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<tangents.length;i++,pi++)p=points[pi],t=tangents[i],path+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1]}if(quad){var lp=points[pi];path+="Q"+(p[0]+2*t[0]/3)+","+(p[1]+2*t[1]/3)+","+lp[0]+","+lp[1]}return path}function d3_svg_lineCardinalTangents(points,tension){for(var p0,tangents=[],a=(1-tension)/2,p1=points[0],p2=points[1],i=1,n=points.length;++i<n;)p0=p1,p1=p2,p2=points[i],tangents.push([a*(p2[0]-p0[0]),a*(p2[1]-p0[1])]);return tangents}function d3_svg_lineBasis(points){if(points.length<3)return d3_svg_lineLinear(points);var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];for(points.push(points[n-1]);++i<=n;)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return points.pop(),path.push("L",pi),path.join("")}function d3_svg_lineBasisOpen(points){if(points.length<4)return d3_svg_lineLinear(points);for(var pi,path=[],i=-1,n=points.length,px=[0],py=[0];++i<3;)pi=points[i],px.push(pi[0]),py.push(pi[1]);for(path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3,px)+","+d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)),--i;++i<n;)pi=points[i],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBasisClosed(points){for(var path,pi,i=-1,n=points.length,m=n+4,px=[],py=[];++i<4;)pi=points[i%n],px.push(pi[0]),py.push(pi[1]);for(path=[d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)],--i;++i<m;)pi=points[i%n],px.shift(),px.push(pi[0]),py.shift(),py.push(pi[1]),d3_svg_lineBasisBezier(path,px,py);return path.join("")}function d3_svg_lineBundle(points,tension){var n=points.length-1;if(n)for(var p,t,x0=points[0][0],y0=points[0][1],dx=points[n][0]-x0,dy=points[n][1]-y0,i=-1;++i<=n;)p=points[i],t=i/n,p[0]=tension*p[0]+(1-tension)*(x0+t*dx),p[1]=tension*p[1]+(1-tension)*(y0+t*dy);return d3_svg_lineBasis(points)}function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y))}function d3_svg_lineSlope(p0,p1){return(p1[1]-p0[1])/(p1[0]-p0[0])}function d3_svg_lineFiniteDifferences(points){for(var i=0,j=points.length-1,m=[],p0=points[0],p1=points[1],d=m[0]=d3_svg_lineSlope(p0,p1);++i<j;)m[i]=(d+(d=d3_svg_lineSlope(p0=p1,p1=points[i+1])))/2;return m[i]=d,m}function d3_svg_lineMonotoneTangents(points){for(var d,a,b,s,tangents=[],m=d3_svg_lineFiniteDifferences(points),i=-1,j=points.length-1;++i<j;)d=d3_svg_lineSlope(points[i],points[i+1]),abs(d)<ε?m[i]=m[i+1]=0:(a=m[i]/d,b=m[i+1]/d,s=a*a+b*b,s>9&&(s=3*d/Math.sqrt(s),m[i]=s*a,m[i+1]=s*b));for(i=-1;++i<=j;)s=(points[Math.min(j,i+1)][0]-points[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i])),tangents.push([s||0,m[i]*s||0]);return tangents}function d3_svg_lineMonotone(points){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineMonotoneTangents(points))}function d3_svg_lineRadial(points){for(var point,r,a,i=-1,n=points.length;++i<n;)point=points[i],r=point[0],a=point[1]-halfπ,point[0]=r*Math.cos(a),point[1]=r*Math.sin(a);return points}function d3_svg_area(projection){function area(data){function segment(){segments.push("M",interpolate(projection(points1),tension),L,interpolateReverse(projection(points0.reverse()),tension),"Z")}for(var d,x,y,segments=[],points0=[],points1=[],i=-1,n=data.length,fx0=d3_functor(x0),fy0=d3_functor(y0),fx1=x0===x1?function(){return x}:d3_functor(x1),fy1=y0===y1?function(){return y}:d3_functor(y1);++i<n;)defined.call(this,d=data[i],i)?(points0.push([x=+fx0.call(this,d,i),y=+fy0.call(this,d,i)]),points1.push([+fx1.call(this,d,i),+fy1.call(this,d,i)])):points0.length&&(segment(),points0=[],points1=[]);return points0.length&&segment(),
segments.length?segments.join(""):null}var x0=d3_geom_pointX,x1=d3_geom_pointX,y0=0,y1=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,interpolateReverse=interpolate,L="L",tension=.7;return area.x=function(_){return arguments.length?(x0=x1=_,area):x1},area.x0=function(_){return arguments.length?(x0=_,area):x0},area.x1=function(_){return arguments.length?(x1=_,area):x1},area.y=function(_){return arguments.length?(y0=y1=_,area):y1},area.y0=function(_){return arguments.length?(y0=_,area):y0},area.y1=function(_){return arguments.length?(y1=_,area):y1},area.defined=function(_){return arguments.length?(defined=_,area):defined},area.interpolate=function(_){return arguments.length?(interpolateKey="function"==typeof _?interpolate=_:(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key,interpolateReverse=interpolate.reverse||interpolate,L=interpolate.closed?"M":"L",area):interpolateKey},area.tension=function(_){return arguments.length?(tension=_,area):tension},area}function d3_svg_chordRadius(d){return d.radius}function d3_svg_diagonalProjection(d){return[d.x,d.y]}function d3_svg_diagonalRadialProjection(projection){return function(){var d=projection.apply(this,arguments),r=d[0],a=d[1]-halfπ;return[r*Math.cos(a),r*Math.sin(a)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(size){var r=Math.sqrt(size/π);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z"}function d3_selection_interruptNS(ns){return function(){var lock,activeId,active;(lock=this[ns])&&(active=lock[activeId=lock.active])&&(active.timer.c=null,active.timer.t=NaN,--lock.count?delete lock[activeId]:delete this[ns],lock.active+=.5,active.event&&active.event.interrupt.call(this,this.__data__,active.index))}}function d3_transition(groups,ns,id){return d3_subclass(groups,d3_transitionPrototype),groups.namespace=ns,groups.id=id,groups}function d3_transition_tween(groups,name,value,tween){var id=groups.id,ns=groups.namespace;return d3_selection_each(groups,"function"==typeof value?function(node,i,j){node[ns][id].tween.set(name,tween(value.call(node,node.__data__,i,j)))}:(value=tween(value),function(node){node[ns][id].tween.set(name,value)}))}function d3_transition_text(b){return null==b&&(b=""),function(){this.textContent=b}}function d3_transitionNamespace(name){return null==name?"__transition__":"__transition_"+name+"__"}function d3_transitionNode(node,i,ns,id,inherit){function schedule(elapsed){var delay=transition.delay;return timer.t=delay+time,delay<=elapsed?start(elapsed-delay):void(timer.c=start)}function start(elapsed){var activeId=lock.active,active=lock[activeId];active&&(active.timer.c=null,active.timer.t=NaN,--lock.count,delete lock[activeId],active.event&&active.event.interrupt.call(node,node.__data__,active.index));for(var cancelId in lock)if(+cancelId<id){var cancel=lock[cancelId];cancel.timer.c=null,cancel.timer.t=NaN,--lock.count,delete lock[cancelId]}timer.c=tick,d3_timer(function(){return timer.c&&tick(elapsed||1)&&(timer.c=null,timer.t=NaN),1},0,time),lock.active=id,transition.event&&transition.event.start.call(node,node.__data__,i),tweens=[],transition.tween.forEach(function(key,value){(value=value.call(node,node.__data__,i))&&tweens.push(value)}),ease=transition.ease,duration=transition.duration}function tick(elapsed){for(var t=elapsed/duration,e=ease(t),n=tweens.length;n>0;)tweens[--n].call(node,e);if(t>=1)return transition.event&&transition.event.end.call(node,node.__data__,i),--lock.count?delete lock[id]:delete node[ns],1}var time,timer,duration,ease,tweens,lock=node[ns]||(node[ns]={active:0,count:0}),transition=lock[id];transition||(time=inherit.time,timer=d3_timer(schedule,0,time),transition=lock[id]={tween:new d3_Map,time:time,timer:timer,delay:inherit.delay,duration:inherit.duration,ease:inherit.ease,index:i},inherit=null,++lock.count)}function d3_svg_axisX(selection,x0,x1){selection.attr("transform",function(d){var v0=x0(d);return"translate("+(isFinite(v0)?v0:x1(d))+",0)"})}function d3_svg_axisY(selection,y0,y1){selection.attr("transform",function(d){var v0=y0(d);return"translate(0,"+(isFinite(v0)?v0:y1(d))+")"})}function d3_time_formatIsoNative(date){return date.toISOString()}function d3_time_scale(linear,methods,format){function scale(x){return linear(x)}function tickMethod(extent,count){var span=extent[1]-extent[0],target=span/count,i=d3.bisect(d3_time_scaleSteps,target);return i==d3_time_scaleSteps.length?[methods.year,d3_scale_linearTickRange(extent.map(function(d){return d/31536e6}),count)[2]]:i?methods[target/d3_time_scaleSteps[i-1]<d3_time_scaleSteps[i]/target?i-1:i]:[d3_time_scaleMilliseconds,d3_scale_linearTickRange(extent,count)[2]]}return scale.invert=function(x){return d3_time_scaleDate(linear.invert(x))},scale.domain=function(x){return arguments.length?(linear.domain(x),scale):linear.domain().map(d3_time_scaleDate)},scale.nice=function(interval,skip){function skipped(date){return!isNaN(date)&&!interval.range(date,d3_time_scaleDate(+date+1),skip).length}var domain=scale.domain(),extent=d3_scaleExtent(domain),method=null==interval?tickMethod(extent,10):"number"==typeof interval&&tickMethod(extent,interval);return method&&(interval=method[0],skip=method[1]),scale.domain(d3_scale_nice(domain,skip>1?{floor:function(date){for(;skipped(date=interval.floor(date));)date=d3_time_scaleDate(date-1);return date},ceil:function(date){for(;skipped(date=interval.ceil(date));)date=d3_time_scaleDate(+date+1);return date}}:interval))},scale.ticks=function(interval,skip){var extent=d3_scaleExtent(scale.domain()),method=null==interval?tickMethod(extent,10):"number"==typeof interval?tickMethod(extent,interval):!interval.range&&[{range:interval},skip];return method&&(interval=method[0],skip=method[1]),interval.range(extent[0],d3_time_scaleDate(+extent[1]+1),skip<1?1:skip)},scale.tickFormat=function(){return format},scale.copy=function(){return d3_time_scale(linear.copy(),methods,format)},d3_scale_linearRebind(scale,linear)}function d3_time_scaleDate(t){return new Date(t)}function d3_json(request){return JSON.parse(request.responseText)}function d3_html(request){var range=d3_document.createRange();return range.selectNode(d3_document.body),range.createContextualFragment(request.responseText)}var d3={version:"3.5.16"},d3_arraySlice=[].slice,d3_array=function(list){return d3_arraySlice.call(list)},d3_document=this.document;if(d3_document)try{d3_array(d3_document.documentElement.childNodes)[0].nodeType}catch(e){d3_array=function(list){for(var i=list.length,array=new Array(i);i--;)array[i]=list[i];return array}}if(Date.now||(Date.now=function(){return+new Date}),d3_document)try{d3_document.createElement("DIV").style.setProperty("opacity",0,"")}catch(error){var d3_element_prototype=this.Element.prototype,d3_element_setAttribute=d3_element_prototype.setAttribute,d3_element_setAttributeNS=d3_element_prototype.setAttributeNS,d3_style_prototype=this.CSSStyleDeclaration.prototype,d3_style_setProperty=d3_style_prototype.setProperty;d3_element_prototype.setAttribute=function(name,value){d3_element_setAttribute.call(this,name,value+"")},d3_element_prototype.setAttributeNS=function(space,local,value){d3_element_setAttributeNS.call(this,space,local,value+"")},d3_style_prototype.setProperty=function(name,value,priority){d3_style_setProperty.call(this,name,value+"",priority)}}d3.ascending=d3_ascending,d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},d3.min=function(array,f){var a,b,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=b;break}for(;++i<n;)null!=(b=array[i])&&a>b&&(a=b)}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&a>b&&(a=b)}return a},d3.max=function(array,f){var a,b,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=b;break}for(;++i<n;)null!=(b=array[i])&&b>a&&(a=b)}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&b>a&&(a=b)}return a},d3.extent=function(array,f){var a,b,c,i=-1,n=array.length;if(1===arguments.length){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=array[i])&&(a>b&&(a=b),c<b&&(c=b))}else{for(;++i<n;)if(null!=(b=f.call(array,array[i],i))&&b>=b){a=c=b;break}for(;++i<n;)null!=(b=f.call(array,array[i],i))&&(a>b&&(a=b),c<b&&(c=b))}return[a,c]},d3.sum=function(array,f){var a,s=0,n=array.length,i=-1;if(1===arguments.length)for(;++i<n;)d3_numeric(a=+array[i])&&(s+=a);else for(;++i<n;)d3_numeric(a=+f.call(array,array[i],i))&&(s+=a);return s},d3.mean=function(array,f){var a,s=0,n=array.length,i=-1,j=n;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))?s+=a:--j;else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))?s+=a:--j;if(j)return s/j},d3.quantile=function(values,p){var H=(values.length-1)*p+1,h=Math.floor(H),v=+values[h-1],e=H-h;return e?v+e*(values[h]-v):v},d3.median=function(array,f){var a,numbers=[],n=array.length,i=-1;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))&&numbers.push(a);else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&numbers.push(a);if(numbers.length)return d3.quantile(numbers.sort(d3_ascending),.5)},d3.variance=function(array,f){var a,d,n=array.length,m=0,s=0,i=-1,j=0;if(1===arguments.length)for(;++i<n;)d3_numeric(a=d3_number(array[i]))&&(d=a-m,m+=d/++j,s+=d*(a-m));else for(;++i<n;)d3_numeric(a=d3_number(f.call(array,array[i],i)))&&(d=a-m,m+=d/++j,s+=d*(a-m));if(j>1)return s/(j-1)},d3.deviation=function(){var v=d3.variance.apply(this,arguments);return v?Math.sqrt(v):v};var d3_bisect=d3_bisector(d3_ascending);d3.bisectLeft=d3_bisect.left,d3.bisect=d3.bisectRight=d3_bisect.right,d3.bisector=function(f){return d3_bisector(1===f.length?function(d,x){return d3_ascending(f(d),x)}:f)},d3.shuffle=function(array,i0,i1){(m=arguments.length)<3&&(i1=array.length,m<2&&(i0=0));for(var t,i,m=i1-i0;m;)i=Math.random()*m--|0,t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t;return array},d3.permute=function(array,indexes){for(var i=indexes.length,permutes=new Array(i);i--;)permutes[i]=array[indexes[i]];return permutes},d3.pairs=function(array){for(var p0,i=0,n=array.length-1,p1=array[0],pairs=new Array(n<0?0:n);i<n;)pairs[i]=[p0=p1,p1=array[++i]];return pairs},d3.transpose=function(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=d3.min(matrix,d3_transposeLength),transpose=new Array(m);++i<m;)for(var n,j=-1,row=transpose[i]=new Array(n);++j<n;)row[j]=matrix[j][i];return transpose},d3.zip=function(){return d3.transpose(arguments)},d3.keys=function(map){var keys=[];for(var key in map)keys.push(key);return keys},d3.values=function(map){var values=[];for(var key in map)values.push(map[key]);return values},d3.entries=function(map){var entries=[];for(var key in map)entries.push({key:key,value:map[key]});return entries},d3.merge=function(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(array=arrays[n],m=array.length;--m>=0;)merged[--j]=array[m];return merged};var abs=Math.abs;d3.range=function(start,stop,step){if(arguments.length<3&&(step=1,arguments.length<2&&(stop=start,start=0)),(stop-start)/step===1/0)throw new Error("infinite range");var j,range=[],k=d3_range_integerScale(abs(step)),i=-1;if(start*=k,stop*=k,step*=k,step<0)for(;(j=start+step*++i)>stop;)range.push(j/k);else for(;(j=start+step*++i)<stop;)range.push(j/k);return range},d3.map=function(object,f){var map=new d3_Map;if(object instanceof d3_Map)object.forEach(function(key,value){map.set(key,value)});else if(Array.isArray(object)){var o,i=-1,n=object.length;if(1===arguments.length)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(f.call(object,o=object[i],i),o)}else for(var key in object)map.set(key,object[key]);return map};var d3_map_proto="__proto__",d3_map_zero="\0";d3_class(d3_Map,{has:d3_map_has,get:function(key){return this._[d3_map_escape(key)]},set:function(key,value){return this._[d3_map_escape(key)]=value},remove:d3_map_remove,keys:d3_map_keys,values:function(){var values=[];for(var key in this._)values.push(this._[key]);return values},entries:function(){var entries=[];for(var key in this._)entries.push({key:d3_map_unescape(key),value:this._[key]});return entries},size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key),this._[key])}}),d3.nest=function(){function map(mapType,array,depth){if(depth>=keys.length)return rollup?rollup.call(nest,array):sortValues?array.sort(sortValues):array;for(var keyValue,object,setter,values,i=-1,n=array.length,key=keys[depth++],valuesByKey=new d3_Map;++i<n;)(values=valuesByKey.get(keyValue=key(object=array[i])))?values.push(object):valuesByKey.set(keyValue,[object]);return mapType?(object=mapType(),setter=function(keyValue,values){object.set(keyValue,map(mapType,values,depth))}):(object={},setter=function(keyValue,values){object[keyValue]=map(mapType,values,depth)}),valuesByKey.forEach(setter),object}function entries(map,depth){if(depth>=keys.length)return map;var array=[],sortKey=sortKeys[depth++];return map.forEach(function(key,keyMap){array.push({key:key,values:entries(keyMap,depth)})}),sortKey?array.sort(function(a,b){return sortKey(a.key,b.key)}):array}var sortValues,rollup,nest={},keys=[],sortKeys=[];return nest.map=function(array,mapType){return map(mapType,array,0)},nest.entries=function(array){return entries(map(d3.map,array,0),0)},nest.key=function(d){return keys.push(d),nest},nest.sortKeys=function(order){return sortKeys[keys.length-1]=order,nest},nest.sortValues=function(order){return sortValues=order,nest},nest.rollup=function(f){return rollup=f,nest},nest},d3.set=function(array){var set=new d3_Set;if(array)for(var i=0,n=array.length;i<n;++i)set.add(array[i]);return set},d3_class(d3_Set,{has:d3_map_has,add:function(key){return this._[d3_map_escape(key+="")]=!0,key},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key))}}),d3.behavior={},d3.rebind=function(target,source){for(var method,i=1,n=arguments.length;++i<n;)target[method=arguments[i]]=d3_rebind(target,source,source[method]);return target};var d3_vendorPrefixes=["webkit","ms","moz","Moz","o","O"];d3.dispatch=function(){for(var dispatch=new d3_dispatch,i=-1,n=arguments.length;++i<n;)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch},d3_dispatch.prototype.on=function(type,listener){var i=type.indexOf("."),name="";if(i>=0&&(name=type.slice(i+1),type=type.slice(0,i)),type)return arguments.length<2?this[type].on(name):this[type].on(name,listener);if(2===arguments.length){if(null==listener)for(type in this)this.hasOwnProperty(type)&&this[type].on(name,null);return this}},d3.event=null,d3.requote=function(s){return s.replace(d3_requote_re,"\\$&")};var d3_requote_re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,d3_subclass={}.__proto__?function(object,prototype){object.__proto__=prototype}:function(object,prototype){for(var property in prototype)object[property]=prototype[property]},d3_select=function(s,n){return n.querySelector(s)},d3_selectAll=function(s,n){return n.querySelectorAll(s)},d3_selectMatches=function(n,s){var d3_selectMatcher=n.matches||n[d3_vendorSymbol(n,"matchesSelector")];return(d3_selectMatches=function(n,s){return d3_selectMatcher.call(n,s)})(n,s)};"function"==typeof Sizzle&&(d3_select=function(s,n){return Sizzle(s,n)[0]||null},d3_selectAll=Sizzle,d3_selectMatches=Sizzle.matchesSelector),d3.selection=function(){return d3.select(d3_document.documentElement)};var d3_selectionPrototype=d3.selection.prototype=[];d3_selectionPrototype.select=function(selector){var subgroup,subnode,group,node,subgroups=[];selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(subnode=selector.call(node,node.__data__,i,j)),subnode&&"__data__"in node&&(subnode.__data__=node.__data__)):subgroup.push(null)}return d3_selection(subgroups)},d3_selectionPrototype.selectAll=function(selector){var subgroup,node,subgroups=[];selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&(subgroups.push(subgroup=d3_array(selector.call(node,node.__data__,i,j))),subgroup.parentNode=node);return d3_selection(subgroups)};var d3_nsXhtml="http://www.w3.org/1999/xhtml",d3_nsPrefix={svg:"http://www.w3.org/2000/svg",xhtml:d3_nsXhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:d3_nsPrefix,qualify:function(name){var i=name.indexOf(":"),prefix=name;return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),d3_nsPrefix.hasOwnProperty(prefix)?{space:d3_nsPrefix[prefix],local:name}:name}},d3_selectionPrototype.attr=function(name,value){if(arguments.length<2){if("string"==typeof name){var node=this.node();return name=d3.ns.qualify(name),name.local?node.getAttributeNS(name.space,name.local):node.getAttribute(name)}for(value in name)this.each(d3_selection_attr(value,name[value]));return this}return this.each(d3_selection_attr(name,value))},d3_selectionPrototype.classed=function(name,value){if(arguments.length<2){if("string"==typeof name){var node=this.node(),n=(name=d3_selection_classes(name)).length,i=-1;if(value=node.classList){for(;++i<n;)if(!value.contains(name[i]))return!1}else for(value=node.getAttribute("class");++i<n;)if(!d3_selection_classedRe(name[i]).test(value))return!1;return!0}for(value in name)this.each(d3_selection_classed(value,name[value]));return this}return this.each(d3_selection_classed(name,value))},d3_selectionPrototype.style=function(name,value,priority){var n=arguments.length;if(n<3){if("string"!=typeof name){n<2&&(value="");for(priority in name)this.each(d3_selection_style(priority,name[priority],value));return this}if(n<2){var node=this.node();return d3_window(node).getComputedStyle(node,null).getPropertyValue(name)}priority=""}return this.each(d3_selection_style(name,value,priority))},d3_selectionPrototype.property=function(name,value){if(arguments.length<2){if("string"==typeof name)return this.node()[name];for(value in name)this.each(d3_selection_property(value,name[value]));return this}return this.each(d3_selection_property(name,value))},d3_selectionPrototype.text=function(value){return arguments.length?this.each("function"==typeof value?function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}:null==value?function(){this.textContent=""}:function(){this.textContent=value}):this.node().textContent},d3_selectionPrototype.html=function(value){return arguments.length?this.each("function"==typeof value?function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}:null==value?function(){this.innerHTML=""}:function(){this.innerHTML=value}):this.node().innerHTML},d3_selectionPrototype.append=function(name){return name=d3_selection_creator(name),this.select(function(){return this.appendChild(name.apply(this,arguments))})},d3_selectionPrototype.insert=function(name,before){return name=d3_selection_creator(name),before=d3_selection_selector(before),this.select(function(){return this.insertBefore(name.apply(this,arguments),before.apply(this,arguments)||null)})},d3_selectionPrototype.remove=function(){return this.each(d3_selectionRemove)},d3_selectionPrototype.data=function(value,key){function bind(group,groupData){var i,node,nodeData,n=group.length,m=groupData.length,n0=Math.min(n,m),updateNodes=new Array(m),enterNodes=new Array(m),exitNodes=new Array(n);if(key){var keyValue,nodeByKeyValue=new d3_Map,keyValues=new Array(n);for(i=-1;++i<n;)(node=group[i])&&(nodeByKeyValue.has(keyValue=key.call(node,node.__data__,i))?exitNodes[i]=node:nodeByKeyValue.set(keyValue,node),keyValues[i]=keyValue);for(i=-1;++i<m;)(node=nodeByKeyValue.get(keyValue=key.call(groupData,nodeData=groupData[i],i)))?node!==!0&&(updateNodes[i]=node,node.__data__=nodeData):enterNodes[i]=d3_selection_dataNode(nodeData),nodeByKeyValue.set(keyValue,!0);for(i=-1;++i<n;)i in keyValues&&nodeByKeyValue.get(keyValues[i])!==!0&&(exitNodes[i]=group[i])}else{for(i=-1;++i<n0;)node=group[i],nodeData=groupData[i],node?(node.__data__=nodeData,updateNodes[i]=node):enterNodes[i]=d3_selection_dataNode(nodeData);for(;i<m;++i)enterNodes[i]=d3_selection_dataNode(groupData[i]);for(;i<n;++i)exitNodes[i]=group[i]}enterNodes.update=updateNodes,enterNodes.parentNode=updateNodes.parentNode=exitNodes.parentNode=group.parentNode,enter.push(enterNodes),update.push(updateNodes),exit.push(exitNodes)}var group,node,i=-1,n=this.length;if(!arguments.length){for(value=new Array(n=(group=this[0]).length);++i<n;)(node=group[i])&&(value[i]=node.__data__);return value}var enter=d3_selection_enter([]),update=d3_selection([]),exit=d3_selection([]);if("function"==typeof value)for(;++i<n;)bind(group=this[i],value.call(group,group.parentNode.__data__,i));else for(;++i<n;)bind(group=this[i],value);return update.enter=function(){return enter},update.exit=function(){return exit},update},d3_selectionPrototype.datum=function(value){return arguments.length?this.property("__data__",value):this.property("__data__")},d3_selectionPrototype.filter=function(filter){var subgroup,group,node,subgroups=[];"function"!=typeof filter&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]),subgroup.parentNode=(group=this[j]).parentNode;for(var i=0,n=group.length;i<n;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_selection(subgroups)},d3_selectionPrototype.order=function(){for(var j=-1,m=this.length;++j<m;)for(var node,group=this[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&next!==node.nextSibling&&next.parentNode.insertBefore(node,next),next=node);return this},d3_selectionPrototype.sort=function(comparator){comparator=d3_selection_sortComparator.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort(comparator);return this.order()},d3_selectionPrototype.each=function(callback){return d3_selection_each(this,function(node,i,j){callback.call(node,node.__data__,i,j)})},d3_selectionPrototype.call=function(callback){var args=d3_array(arguments);return callback.apply(args[0]=this,args),this},d3_selectionPrototype.empty=function(){return!this.node()},d3_selectionPrototype.node=function(){for(var j=0,m=this.length;j<m;j++)for(var group=this[j],i=0,n=group.length;i<n;i++){var node=group[i];if(node)return node}return null},d3_selectionPrototype.size=function(){var n=0;return d3_selection_each(this,function(){++n}),n};var d3_selection_enterPrototype=[];d3.selection.enter=d3_selection_enter,d3.selection.enter.prototype=d3_selection_enterPrototype,d3_selection_enterPrototype.append=d3_selectionPrototype.append,d3_selection_enterPrototype.empty=d3_selectionPrototype.empty,d3_selection_enterPrototype.node=d3_selectionPrototype.node,d3_selection_enterPrototype.call=d3_selectionPrototype.call,d3_selection_enterPrototype.size=d3_selectionPrototype.size,d3_selection_enterPrototype.select=function(selector){for(var subgroup,subnode,upgroup,group,node,subgroups=[],j=-1,m=this.length;++j<m;){upgroup=(group=this[j]).update,subgroups.push(subgroup=[]),subgroup.parentNode=group.parentNode;for(var i=-1,n=group.length;++i<n;)(node=group[i])?(subgroup.push(upgroup[i]=subnode=selector.call(group.parentNode,node.__data__,i,j)),subnode.__data__=node.__data__):subgroup.push(null)}return d3_selection(subgroups)},d3_selection_enterPrototype.insert=function(name,before){return arguments.length<2&&(before=d3_selection_enterInsertBefore(this)),d3_selectionPrototype.insert.call(this,name,before)},d3.select=function(node){var group;return"string"==typeof node?(group=[d3_select(node,d3_document)],group.parentNode=d3_document.documentElement):(group=[node],group.parentNode=d3_documentElement(node)),d3_selection([group])},d3.selectAll=function(nodes){var group;return"string"==typeof nodes?(group=d3_array(d3_selectAll(nodes,d3_document)),group.parentNode=d3_document.documentElement):(group=d3_array(nodes),group.parentNode=null),d3_selection([group])},d3_selectionPrototype.on=function(type,listener,capture){var n=arguments.length;if(n<3){if("string"!=typeof type){n<2&&(listener=!1);for(capture in type)this.each(d3_selection_on(capture,type[capture],listener));return this}if(n<2)return(n=this.node()["__on"+type])&&n._;capture=!1}return this.each(d3_selection_on(type,listener,capture))};var d3_selection_onFilters=d3.map({mouseenter:"mouseover",mouseleave:"mouseout"});d3_document&&d3_selection_onFilters.forEach(function(k){"on"+k in d3_document&&d3_selection_onFilters.remove(k)});var d3_event_dragSelect,d3_event_dragId=0;d3.mouse=function(container){return d3_mousePoint(container,d3_eventSource())};var d3_mouse_bug44083=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;d3.touch=function(container,touches,identifier){if(arguments.length<3&&(identifier=touches,touches=d3_eventSource().changedTouches),touches)for(var touch,i=0,n=touches.length;i<n;++i)if((touch=touches[i]).identifier===identifier)return d3_mousePoint(container,touch)},d3.behavior.drag=function(){function drag(){this.on("mousedown.drag",mousedown).on("touchstart.drag",touchstart)}function dragstart(id,position,subject,move,end){return function(){function moved(){var dx,dy,position1=position(parent,dragId);position1&&(dx=position1[0]-position0[0],dy=position1[1]-position0[1],dragged|=dx|dy,position0=position1,dispatch({type:"drag",x:position1[0]+dragOffset[0],y:position1[1]+dragOffset[1],dx:dx,dy:dy}))}function ended(){position(parent,dragId)&&(dragSubject.on(move+dragName,null).on(end+dragName,null),dragRestore(dragged),dispatch({type:"dragend"}))}var dragOffset,that=this,target=d3.event.target.correspondingElement||d3.event.target,parent=that.parentNode,dispatch=event.of(that,arguments),dragged=0,dragId=id(),dragName=".drag"+(null==dragId?"":"-"+dragId),dragSubject=d3.select(subject(target)).on(move+dragName,moved).on(end+dragName,ended),dragRestore=d3_event_dragSuppress(target),position0=position(parent,dragId);origin?(dragOffset=origin.apply(that,arguments),dragOffset=[dragOffset.x-position0[0],dragOffset.y-position0[1]]):dragOffset=[0,0],dispatch({type:"dragstart"})}}var event=d3_eventDispatch(drag,"drag","dragstart","dragend"),origin=null,mousedown=dragstart(d3_noop,d3.mouse,d3_window,"mousemove","mouseup"),touchstart=dragstart(d3_behavior_dragTouchId,d3.touch,d3_identity,"touchmove","touchend");return drag.origin=function(x){return arguments.length?(origin=x,drag):origin},d3.rebind(drag,event,"on")},d3.touches=function(container,touches){return arguments.length<2&&(touches=d3_eventSource().touches),touches?d3_array(touches).map(function(touch){var point=d3_mousePoint(container,touch);return point.identifier=touch.identifier,point}):[]};var ε=1e-6,ε2=ε*ε,π=Math.PI,τ=2*π,τε=τ-ε,halfπ=π/2,d3_radians=π/180,d3_degrees=180/π,ρ=Math.SQRT2,ρ2=2,ρ4=4;d3.interpolateZoom=function(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy;if(d2<ε2)S=Math.log(w1/w0)/ρ,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(ρ*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+ρ4*d2)/(2*w0*ρ2*d1),b1=(w1*w1-w0*w0-ρ4*d2)/(2*w1*ρ2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/ρ,i=function(t){var s=t*S,coshr0=d3_cosh(r0),u=w0/(ρ2*d1)*(coshr0*d3_tanh(ρ*s+r0)-d3_sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/d3_cosh(ρ*s+r0)]}}return i.duration=1e3*S,i},d3.behavior.zoom=function(){function zoom(g){g.on(mousedown,mousedowned).on(d3_behavior_zoomWheel+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(touchstart,touchstarted)}function location(p){return[(p[0]-view.x)/view.k,(p[1]-view.y)/view.k]}function point(l){return[l[0]*view.k+view.x,l[1]*view.k+view.y]}function scaleTo(s){view.k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],s))}function translateTo(p,l){l=point(l),view.x+=p[0]-l[0],view.y+=p[1]-l[1]}function zoomTo(that,p,l,k){that.__chart__={x:view.x,y:view.y,k:view.k},scaleTo(Math.pow(2,k)),translateTo(center0=p,l),that=d3.select(that),duration>0&&(that=that.transition().duration(duration)),that.call(zoom.event)}function rescale(){x1&&x1.domain(x0.range().map(function(x){return(x-view.x)/view.k}).map(x0.invert)),y1&&y1.domain(y0.range().map(function(y){return(y-view.y)/view.k}).map(y0.invert))}function zoomstarted(dispatch){zooming++||dispatch({type:"zoomstart"})}function zoomed(dispatch){rescale(),dispatch({type:"zoom",scale:view.k,translate:[view.x,view.y]})}function zoomended(dispatch){--zooming||(dispatch({type:"zoomend"}),center0=null)}function mousedowned(){function moved(){dragged=1,translateTo(d3.mouse(that),location0),zoomed(dispatch)}function ended(){subject.on(mousemove,null).on(mouseup,null),dragRestore(dragged),zoomended(dispatch)}var that=this,dispatch=event.of(that,arguments),dragged=0,subject=d3.select(d3_window(that)).on(mousemove,moved).on(mouseup,ended),location0=location(d3.mouse(that)),dragRestore=d3_event_dragSuppress(that);d3_selection_interrupt.call(that),zoomstarted(dispatch)}function touchstarted(){function relocate(){var touches=d3.touches(that);return scale0=view.k,touches.forEach(function(t){t.identifier in locations0&&(locations0[t.identifier]=location(t))}),touches}function started(){var target=d3.event.target;d3.select(target).on(touchmove,moved).on(touchend,ended),targets.push(target);for(var changed=d3.event.changedTouches,i=0,n=changed.length;i<n;++i)locations0[changed[i].identifier]=null;var touches=relocate(),now=Date.now();if(1===touches.length){if(now-touchtime<500){var p=touches[0];zoomTo(that,p,locations0[p.identifier],Math.floor(Math.log(view.k)/Math.LN2)+1),d3_eventPreventDefault()}touchtime=now}else if(touches.length>1){var p=touches[0],q=touches[1],dx=p[0]-q[0],dy=p[1]-q[1];distance0=dx*dx+dy*dy}}function moved(){var p0,l0,p1,l1,touches=d3.touches(that);d3_selection_interrupt.call(that);for(var i=0,n=touches.length;i<n;++i,l1=null)if(p1=touches[i],l1=locations0[p1.identifier]){if(l0)break;p0=p1,l0=l1}if(l1){var distance1=(distance1=p1[0]-p0[0])*distance1+(distance1=p1[1]-p0[1])*distance1,scale1=distance0&&Math.sqrt(distance1/distance0);p0=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l0=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2],scaleTo(scale1*scale0)}touchtime=null,translateTo(p0,l0),zoomed(dispatch)}function ended(){if(d3.event.touches.length){for(var changed=d3.event.changedTouches,i=0,n=changed.length;i<n;++i)delete locations0[changed[i].identifier];for(var identifier in locations0)return void relocate()}d3.selectAll(targets).on(zoomName,null),subject.on(mousedown,mousedowned).on(touchstart,touchstarted),dragRestore(),zoomended(dispatch)}var scale0,that=this,dispatch=event.of(that,arguments),locations0={},distance0=0,zoomName=".zoom-"+d3.event.changedTouches[0].identifier,touchmove="touchmove"+zoomName,touchend="touchend"+zoomName,targets=[],subject=d3.select(that),dragRestore=d3_event_dragSuppress(that);started(),zoomstarted(dispatch),subject.on(mousedown,null).on(touchstart,started)}function mousewheeled(){var dispatch=event.of(this,arguments);mousewheelTimer?clearTimeout(mousewheelTimer):(d3_selection_interrupt.call(this),translate0=location(center0=center||d3.mouse(this)),zoomstarted(dispatch)),mousewheelTimer=setTimeout(function(){mousewheelTimer=null,zoomended(dispatch)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*d3_behavior_zoomDelta())*view.k),translateTo(center0,translate0),zoomed(dispatch)}function dblclicked(){var p=d3.mouse(this),k=Math.log(view.k)/Math.LN2;zoomTo(this,p,location(p),d3.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1)}var translate0,center0,center,mousewheelTimer,touchtime,x0,x1,y0,y1,view={x:0,y:0,k:1},size=[960,500],scaleExtent=d3_behavior_zoomInfinity,duration=250,zooming=0,mousedown="mousedown.zoom",mousemove="mousemove.zoom",mouseup="mouseup.zoom",touchstart="touchstart.zoom",event=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");
return d3_behavior_zoomWheel||(d3_behavior_zoomWheel="onwheel"in d3_document?(d3_behavior_zoomDelta=function(){return-d3.event.deltaY*(d3.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d3_document?(d3_behavior_zoomDelta=function(){return d3.event.wheelDelta},"mousewheel"):(d3_behavior_zoomDelta=function(){return-d3.event.detail},"MozMousePixelScroll")),zoom.event=function(g){g.each(function(){var dispatch=event.of(this,arguments),view1=view;d3_transitionInheritId?d3.select(this).transition().each("start.zoom",function(){view=this.__chart__||{x:0,y:0,k:1},zoomstarted(dispatch)}).tween("zoom:zoom",function(){var dx=size[0],dy=size[1],cx=center0?center0[0]:dx/2,cy=center0?center0[1]:dy/2,i=d3.interpolateZoom([(cx-view.x)/view.k,(cy-view.y)/view.k,dx/view.k],[(cx-view1.x)/view1.k,(cy-view1.y)/view1.k,dx/view1.k]);return function(t){var l=i(t),k=dx/l[2];this.__chart__=view={x:cx-l[0]*k,y:cy-l[1]*k,k:k},zoomed(dispatch)}}).each("interrupt.zoom",function(){zoomended(dispatch)}).each("end.zoom",function(){zoomended(dispatch)}):(this.__chart__=view,zoomstarted(dispatch),zoomed(dispatch),zoomended(dispatch))})},zoom.translate=function(_){return arguments.length?(view={x:+_[0],y:+_[1],k:view.k},rescale(),zoom):[view.x,view.y]},zoom.scale=function(_){return arguments.length?(view={x:view.x,y:view.y,k:null},scaleTo(+_),rescale(),zoom):view.k},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent=null==_?d3_behavior_zoomInfinity:[+_[0],+_[1]],zoom):scaleExtent},zoom.center=function(_){return arguments.length?(center=_&&[+_[0],+_[1]],zoom):center},zoom.size=function(_){return arguments.length?(size=_&&[+_[0],+_[1]],zoom):size},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.x=function(z){return arguments.length?(x1=z,x0=z.copy(),view={x:0,y:0,k:1},zoom):x1},zoom.y=function(z){return arguments.length?(y1=z,y0=z.copy(),view={x:0,y:0,k:1},zoom):y1},d3.rebind(zoom,event,"on")};var d3_behavior_zoomDelta,d3_behavior_zoomWheel,d3_behavior_zoomInfinity=[0,1/0];d3.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},d3.hsl=d3_hsl;var d3_hslPrototype=d3_hsl.prototype=new d3_color;d3_hslPrototype.brighter=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,this.l/k)},d3_hslPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_hsl(this.h,this.s,k*this.l)},d3_hslPrototype.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},d3.hcl=d3_hcl;var d3_hclPrototype=d3_hcl.prototype=new d3_color;d3_hclPrototype.brighter=function(k){return new d3_hcl(this.h,this.c,Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.darker=function(k){return new d3_hcl(this.h,this.c,Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)))},d3_hclPrototype.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},d3.lab=d3_lab;var d3_lab_K=18,d3_lab_X=.95047,d3_lab_Y=1,d3_lab_Z=1.08883,d3_labPrototype=d3_lab.prototype=new d3_color;d3_labPrototype.brighter=function(k){return new d3_lab(Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.darker=function(k){return new d3_lab(Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)),this.a,this.b)},d3_labPrototype.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},d3.rgb=d3_rgb;var d3_rgbPrototype=d3_rgb.prototype=new d3_color;d3_rgbPrototype.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;return r||g||b?(r&&r<i&&(r=i),g&&g<i&&(g=i),b&&b<i&&(b=i),new d3_rgb(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k))):new d3_rgb(i,i,i)},d3_rgbPrototype.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new d3_rgb(k*this.r,k*this.g,k*this.b)},d3_rgbPrototype.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},d3_rgbPrototype.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var d3_rgb_names=d3.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});d3_rgb_names.forEach(function(key,value){d3_rgb_names.set(key,d3_rgbNumber(value))}),d3.functor=d3_functor,d3.xhr=d3_xhrType(d3_identity),d3.dsv=function(delimiter,mimeType){function dsv(url,row,callback){arguments.length<3&&(callback=row,row=null);var xhr=d3_xhr(url,mimeType,null==row?response:typedResponse(row),callback);return xhr.row=function(_){return arguments.length?xhr.response(null==(row=_)?response:typedResponse(_)):row},xhr}function response(request){return dsv.parse(request.responseText)}function typedResponse(f){return function(request){return dsv.parse(request.responseText,f)}}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(text){return reFormat.test(text)?'"'+text.replace(/\"/g,'""')+'"':text}var reFormat=new RegExp('["'+delimiter+"\n]"),delimiterCode=delimiter.charCodeAt(0);return dsv.parse=function(text,f){var o;return dsv.parseRows(text,function(row,i){if(o)return o(row,i-1);var a=new Function("d","return {"+row.map(function(name,i){return JSON.stringify(name)+": d["+i+"]"}).join(",")+"}");o=f?function(row,i){return f(a(row),i)}:a})},dsv.parseRows=function(text,f){function token(){if(I>=N)return EOF;if(eol)return eol=!1,EOL;var j=I;if(34===text.charCodeAt(j)){for(var i=j;i++<N;)if(34===text.charCodeAt(i)){if(34!==text.charCodeAt(i+1))break;++i}I=i+2;var c=text.charCodeAt(i+1);return 13===c?(eol=!0,10===text.charCodeAt(i+2)&&++I):10===c&&(eol=!0),text.slice(j+1,i).replace(/""/g,'"')}for(;I<N;){var c=text.charCodeAt(I++),k=1;if(10===c)eol=!0;else if(13===c)eol=!0,10===text.charCodeAt(I)&&(++I,++k);else if(c!==delimiterCode)continue;return text.slice(j,I-k)}return text.slice(j)}for(var t,eol,EOL={},EOF={},rows=[],N=text.length,I=0,n=0;(t=token())!==EOF;){for(var a=[];t!==EOL&&t!==EOF;)a.push(t),t=token();f&&null==(a=f(a,n++))||rows.push(a)}return rows},dsv.format=function(rows){if(Array.isArray(rows[0]))return dsv.formatRows(rows);var fieldSet=new d3_Set,fields=[];return rows.forEach(function(row){for(var field in row)fieldSet.has(field)||fields.push(fieldSet.add(field))}),[fields.map(formatValue).join(delimiter)].concat(rows.map(function(row){return fields.map(function(field){return formatValue(row[field])}).join(delimiter)})).join("\n")},dsv.formatRows=function(rows){return rows.map(formatRow).join("\n")},dsv},d3.csv=d3.dsv(",","text/csv"),d3.tsv=d3.dsv("\t","text/tab-separated-values");var d3_timer_queueHead,d3_timer_queueTail,d3_timer_interval,d3_timer_timeout,d3_timer_frame=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(callback){setTimeout(callback,17)};d3.timer=function(){d3_timer.apply(this,arguments)},d3.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},d3.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x)};var d3_formatPrefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);d3.formatPrefix=function(value,precision){var i=0;return(value=+value)&&(value<0&&(value*=-1),precision&&(value=d3.round(value,d3_format_precision(value,precision))),i=1+Math.floor(1e-12+Math.log(value)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),d3_formatPrefixes[8+i/3]};var d3_format_re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,d3_format_types=d3.map({b:function(x){return x.toString(2)},c:function(x){return String.fromCharCode(x)},o:function(x){return x.toString(8)},x:function(x){return x.toString(16)},X:function(x){return x.toString(16).toUpperCase()},g:function(x,p){return x.toPrecision(p)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},r:function(x,p){return(x=d3.round(x,d3_format_precision(x,p))).toFixed(Math.max(0,Math.min(20,d3_format_precision(x*(1+1e-15),p))))}}),d3_time=d3.time={},d3_date=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){d3_time_prototype.setUTCDate.apply(this._,arguments)},setDay:function(){d3_time_prototype.setUTCDay.apply(this._,arguments)},setFullYear:function(){d3_time_prototype.setUTCFullYear.apply(this._,arguments)},setHours:function(){d3_time_prototype.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){d3_time_prototype.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){d3_time_prototype.setUTCMinutes.apply(this._,arguments)},setMonth:function(){d3_time_prototype.setUTCMonth.apply(this._,arguments)},setSeconds:function(){d3_time_prototype.setUTCSeconds.apply(this._,arguments)},setTime:function(){d3_time_prototype.setTime.apply(this._,arguments)}};var d3_time_prototype=Date.prototype;d3_time.year=d3_time_interval(function(date){return date=d3_time.day(date),date.setMonth(0,1),date},function(date,offset){date.setFullYear(date.getFullYear()+offset)},function(date){return date.getFullYear()}),d3_time.years=d3_time.year.range,d3_time.years.utc=d3_time.year.utc.range,d3_time.day=d3_time_interval(function(date){var day=new d3_date(2e3,0);return day.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),day},function(date,offset){date.setDate(date.getDate()+offset)},function(date){return date.getDate()-1}),d3_time.days=d3_time.day.range,d3_time.days.utc=d3_time.day.utc.range,d3_time.dayOfYear=function(date){var year=d3_time.year(date);return Math.floor((date-year-6e4*(date.getTimezoneOffset()-year.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(day,i){i=7-i;var interval=d3_time[day]=d3_time_interval(function(date){return(date=d3_time.day(date)).setDate(date.getDate()-(date.getDay()+i)%7),date},function(date,offset){date.setDate(date.getDate()+7*Math.floor(offset))},function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)-(day!==i)});d3_time[day+"s"]=interval.range,d3_time[day+"s"].utc=interval.utc.range,d3_time[day+"OfYear"]=function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)}}),d3_time.week=d3_time.sunday,d3_time.weeks=d3_time.sunday.range,d3_time.weeks.utc=d3_time.sunday.utc.range,d3_time.weekOfYear=d3_time.sundayOfYear;var d3_time_formatPads={"-":"",_:" ",0:"0"},d3_time_numberRe=/^\s*\d+/,d3_time_percentRe=/^%/;d3.locale=function(locale){return{numberFormat:d3_locale_numberFormat(locale),timeFormat:d3_locale_timeFormat(locale)}};var d3_locale_enUS=d3.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});d3.format=d3_locale_enUS.numberFormat,d3.geo={},d3_adder.prototype={s:0,t:0,add:function(y){d3_adderSum(y,this.t,d3_adderTemp),d3_adderSum(d3_adderTemp.s,this.s,this),this.s?this.t+=d3_adderTemp.t:this.s=d3_adderTemp.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var d3_adderTemp=new d3_adder;d3.geo.stream=function(object,listener){object&&d3_geo_streamObjectType.hasOwnProperty(object.type)?d3_geo_streamObjectType[object.type](object,listener):d3_geo_streamGeometry(object,listener)};var d3_geo_streamObjectType={Feature:function(feature,listener){d3_geo_streamGeometry(feature.geometry,listener)},FeatureCollection:function(object,listener){for(var features=object.features,i=-1,n=features.length;++i<n;)d3_geo_streamGeometry(features[i].geometry,listener)}},d3_geo_streamGeometryType={Sphere:function(object,listener){listener.sphere()},Point:function(object,listener){object=object.coordinates,listener.point(object[0],object[1],object[2])},MultiPoint:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],listener.point(object[0],object[1],object[2])},LineString:function(object,listener){d3_geo_streamLine(object.coordinates,listener,0)},MultiLineString:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)d3_geo_streamLine(coordinates[i],listener,0)},Polygon:function(object,listener){d3_geo_streamPolygon(object.coordinates,listener)},MultiPolygon:function(object,listener){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)d3_geo_streamPolygon(coordinates[i],listener)},GeometryCollection:function(object,listener){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)d3_geo_streamGeometry(geometries[i],listener)}};d3.geo.area=function(object){return d3_geo_areaSum=0,d3.geo.stream(object,d3_geo_area),d3_geo_areaSum};var d3_geo_areaSum,d3_geo_areaRingSum=new d3_adder,d3_geo_area={sphere:function(){d3_geo_areaSum+=4*π},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_areaRingSum.reset(),d3_geo_area.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var area=2*d3_geo_areaRingSum;d3_geo_areaSum+=area<0?4*π+area:area,d3_geo_area.lineStart=d3_geo_area.lineEnd=d3_geo_area.point=d3_noop}};d3.geo.bounds=function(){function point(λ,φ){ranges.push(range=[λ0=λ,λ1=λ]),φ<φ0&&(φ0=φ),φ>φ1&&(φ1=φ)}function linePoint(λ,φ){var p=d3_geo_cartesian([λ*d3_radians,φ*d3_radians]);if(p0){var normal=d3_geo_cartesianCross(p0,p),equatorial=[normal[1],-normal[0],0],inflection=d3_geo_cartesianCross(equatorial,normal);d3_geo_cartesianNormalize(inflection),inflection=d3_geo_spherical(inflection);var dλ=λ-λ_,s=dλ>0?1:-1,λi=inflection[0]*d3_degrees*s,antimeridian=abs(dλ)>180;if(antimeridian^(s*λ_<λi&&λi<s*λ)){var φi=inflection[1]*d3_degrees;φi>φ1&&(φ1=φi)}else if(λi=(λi+360)%360-180,antimeridian^(s*λ_<λi&&λi<s*λ)){var φi=-inflection[1]*d3_degrees;φi<φ0&&(φ0=φi)}else φ<φ0&&(φ0=φ),φ>φ1&&(φ1=φ);antimeridian?λ<λ_?angle(λ0,λ)>angle(λ0,λ1)&&(λ1=λ):angle(λ,λ1)>angle(λ0,λ1)&&(λ0=λ):λ1>=λ0?(λ<λ0&&(λ0=λ),λ>λ1&&(λ1=λ)):λ>λ_?angle(λ0,λ)>angle(λ0,λ1)&&(λ1=λ):angle(λ,λ1)>angle(λ0,λ1)&&(λ0=λ)}else point(λ,φ);p0=p,λ_=λ}function lineStart(){bound.point=linePoint}function lineEnd(){range[0]=λ0,range[1]=λ1,bound.point=point,p0=null}function ringPoint(λ,φ){if(p0){var dλ=λ-λ_;dλSum+=abs(dλ)>180?dλ+(dλ>0?360:-360):dλ}else λ__=λ,φ__=φ;d3_geo_area.point(λ,φ),linePoint(λ,φ)}function ringStart(){d3_geo_area.lineStart()}function ringEnd(){ringPoint(λ__,φ__),d3_geo_area.lineEnd(),abs(dλSum)>ε&&(λ0=-(λ1=180)),range[0]=λ0,range[1]=λ1,p0=null}function angle(λ0,λ1){return(λ1-=λ0)<0?λ1+360:λ1}function compareRanges(a,b){return a[0]-b[0]}function withinRange(x,range){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}var λ0,φ0,λ1,φ1,λ_,λ__,φ__,p0,dλSum,ranges,range,bound={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){bound.point=ringPoint,bound.lineStart=ringStart,bound.lineEnd=ringEnd,dλSum=0,d3_geo_area.polygonStart()},polygonEnd:function(){d3_geo_area.polygonEnd(),bound.point=point,bound.lineStart=lineStart,bound.lineEnd=lineEnd,d3_geo_areaRingSum<0?(λ0=-(λ1=180),φ0=-(φ1=90)):dλSum>ε?φ1=90:dλSum<-ε&&(φ0=-90),range[0]=λ0,range[1]=λ1}};return function(feature){φ1=λ1=-(λ0=φ0=1/0),ranges=[],d3.geo.stream(feature,bound);var n=ranges.length;if(n){ranges.sort(compareRanges);for(var b,i=1,a=ranges[0],merged=[a];i<n;++i)b=ranges[i],withinRange(b[0],a)||withinRange(b[1],a)?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(var dλ,b,best=-(1/0),n=merged.length-1,i=0,a=merged[n];i<=n;a=b,++i)b=merged[i],(dλ=angle(a[1],b[0]))>best&&(best=dλ,λ0=b[0],λ1=a[1])}return ranges=range=null,λ0===1/0||φ0===1/0?[[NaN,NaN],[NaN,NaN]]:[[λ0,φ0],[λ1,φ1]]}}(),d3.geo.centroid=function(object){d3_geo_centroidW0=d3_geo_centroidW1=d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,d3_geo_centroid);var x=d3_geo_centroidX2,y=d3_geo_centroidY2,z=d3_geo_centroidZ2,m=x*x+y*y+z*z;return m<ε2&&(x=d3_geo_centroidX1,y=d3_geo_centroidY1,z=d3_geo_centroidZ1,d3_geo_centroidW1<ε&&(x=d3_geo_centroidX0,y=d3_geo_centroidY0,z=d3_geo_centroidZ0),m=x*x+y*y+z*z,m<ε2)?[NaN,NaN]:[Math.atan2(y,x)*d3_degrees,d3_asin(z/Math.sqrt(m))*d3_degrees]};var d3_geo_centroidW0,d3_geo_centroidW1,d3_geo_centroidX0,d3_geo_centroidY0,d3_geo_centroidZ0,d3_geo_centroidX1,d3_geo_centroidY1,d3_geo_centroidZ1,d3_geo_centroidX2,d3_geo_centroidY2,d3_geo_centroidZ2,d3_geo_centroid={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){d3_geo_centroid.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){d3_geo_centroid.lineStart=d3_geo_centroidLineStart}},d3_geo_clipAntimeridian=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-π,-π/2]),d3_geo_clipExtentMAX=1e9;d3.geo.clipExtent=function(){var x0,y0,x1,y1,stream,clip,clipExtent={stream:function(output){return stream&&(stream.valid=!1),stream=clip(output),stream.valid=!0,stream},extent:function(_){return arguments.length?(clip=d3_geo_clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),stream&&(stream.valid=!1,stream=null),clipExtent):[[x0,y0],[x1,y1]]}};return clipExtent.extent([[0,0],[960,500]])},(d3.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,d3.geo.albers=function(){return d3.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},d3.geo.albersUsa=function(){function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point(x,y),point||(alaskaPoint(x,y),point)||hawaiiPoint(x,y),point}var point,lower48Point,alaskaPoint,hawaiiPoint,lower48=d3.geo.albers(),alaska=d3.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=d3.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){var lower48Stream=lower48.stream(stream),alaskaStream=alaska.stream(stream),hawaiiStream=hawaii.stream(stream);return{point:function(x,y){lower48Stream.point(x,y),alaskaStream.point(x,y),hawaiiStream.point(x,y)},sphere:function(){lower48Stream.sphere(),alaskaStream.sphere(),hawaiiStream.sphere()},lineStart:function(){lower48Stream.lineStart(),alaskaStream.lineStart(),hawaiiStream.lineStart()},lineEnd:function(){lower48Stream.lineEnd(),alaskaStream.lineEnd(),hawaiiStream.lineEnd()},polygonStart:function(){lower48Stream.polygonStart(),alaskaStream.polygonStart(),hawaiiStream.polygonStart()},polygonEnd:function(){lower48Stream.polygonEnd(),alaskaStream.polygonEnd(),hawaiiStream.polygonEnd()}}},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),albersUsa):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream).point,alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+ε,y+.12*k+ε],[x-.214*k-ε,y+.234*k-ε]]).stream(pointStream).point,hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+ε,y+.166*k+ε],[x-.115*k-ε,y+.234*k-ε]]).stream(pointStream).point,albersUsa},albersUsa.scale(1070)};var d3_geo_pathAreaSum,d3_geo_pathAreaPolygon,d3_geo_pathBoundsX0,d3_geo_pathBoundsY0,d3_geo_pathBoundsX1,d3_geo_pathBoundsY1,d3_geo_pathArea={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_pathAreaPolygon=0,d3_geo_pathArea.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){d3_geo_pathArea.lineStart=d3_geo_pathArea.lineEnd=d3_geo_pathArea.point=d3_noop,d3_geo_pathAreaSum+=abs(d3_geo_pathAreaPolygon/2)}},d3_geo_pathBounds={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_pathCentroid={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint,d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidLineStart,d3_geo_pathCentroid.lineEnd=d3_geo_pathCentroidLineEnd}};d3.geo.path=function(){function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),cacheStream&&cacheStream.valid||(cacheStream=projectStream(contextStream)),d3.geo.stream(object,cacheStream)),contextStream.result()}function reset(){return cacheStream=null,path}var projection,context,projectStream,contextStream,cacheStream,pointRadius=4.5;return path.area=function(object){return d3_geo_pathAreaSum=0,d3.geo.stream(object,projectStream(d3_geo_pathArea)),d3_geo_pathAreaSum},path.centroid=function(object){return d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0,d3.geo.stream(object,projectStream(d3_geo_pathCentroid)),d3_geo_centroidZ2?[d3_geo_centroidX2/d3_geo_centroidZ2,d3_geo_centroidY2/d3_geo_centroidZ2]:d3_geo_centroidZ1?[d3_geo_centroidX1/d3_geo_centroidZ1,d3_geo_centroidY1/d3_geo_centroidZ1]:d3_geo_centroidZ0?[d3_geo_centroidX0/d3_geo_centroidZ0,d3_geo_centroidY0/d3_geo_centroidZ0]:[NaN,NaN]},path.bounds=function(object){return d3_geo_pathBoundsX1=d3_geo_pathBoundsY1=-(d3_geo_pathBoundsX0=d3_geo_pathBoundsY0=1/0),d3.geo.stream(object,projectStream(d3_geo_pathBounds)),[[d3_geo_pathBoundsX0,d3_geo_pathBoundsY0],[d3_geo_pathBoundsX1,d3_geo_pathBoundsY1]]},path.projection=function(_){return arguments.length?(projectStream=(projection=_)?_.stream||d3_geo_pathProjectStream(_):d3_identity,reset()):projection},path.context=function(_){return arguments.length?(contextStream=null==(context=_)?new d3_geo_pathBuffer:new d3_geo_pathContext(_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),reset()):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(d3.geo.albersUsa()).context(null)},d3.geo.transform=function(methods){return{stream:function(stream){var transform=new d3_geo_transform(stream);for(var k in methods)transform[k]=methods[k];return transform}}},d3_geo_transform.prototype={point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},d3.geo.projection=d3_geo_projection,d3.geo.projectionMutator=d3_geo_projectionMutator,(d3.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,d3.geo.rotation=function(rotate){function forward(coordinates){return coordinates=rotate(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates}return rotate=d3_geo_rotation(rotate[0]%360*d3_radians,rotate[1]*d3_radians,rotate.length>2?rotate[2]*d3_radians:0),forward.invert=function(coordinates){return coordinates=rotate.invert(coordinates[0]*d3_radians,coordinates[1]*d3_radians),coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,d3.geo.circle=function(){function circle(){var center="function"==typeof origin?origin.apply(this,arguments):origin,rotate=d3_geo_rotation(-center[0]*d3_radians,-center[1]*d3_radians,0).invert,ring=[];return interpolate(null,null,1,{point:function(x,y){ring.push(x=rotate(x,y)),x[0]*=d3_degrees,x[1]*=d3_degrees}}),{type:"Polygon",coordinates:[ring]}}var angle,interpolate,origin=[0,0],precision=6;return circle.origin=function(x){return arguments.length?(origin=x,circle):origin},circle.angle=function(x){return arguments.length?(interpolate=d3_geo_circleInterpolate((angle=+x)*d3_radians,precision*d3_radians),circle):angle},circle.precision=function(_){return arguments.length?(interpolate=d3_geo_circleInterpolate(angle*d3_radians,(precision=+_)*d3_radians),circle):precision},circle.angle(90)},d3.geo.distance=function(a,b){var t,Δλ=(b[0]-a[0])*d3_radians,φ0=a[1]*d3_radians,φ1=b[1]*d3_radians,sinΔλ=Math.sin(Δλ),cosΔλ=Math.cos(Δλ),sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),sinφ1=Math.sin(φ1),cosφ1=Math.cos(φ1);return Math.atan2(Math.sqrt((t=cosφ1*sinΔλ)*t+(t=cosφ0*sinφ1-sinφ0*cosφ1*cosΔλ)*t),sinφ0*sinφ1+cosφ0*cosφ1*cosΔλ)},d3.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return d3.range(Math.ceil(X0/DX)*DX,X1,DX).map(X).concat(d3.range(Math.ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(d3.range(Math.ceil(x0/dx)*dx,x1,dx).filter(function(x){return abs(x%DX)>ε}).map(x)).concat(d3.range(Math.ceil(y0/dy)*dy,y1,dy).filter(function(y){return abs(y%DY)>ε}).map(y))}var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;return graticule.lines=function(){return lines().map(function(coordinates){return{type:"LineString",coordinates:coordinates}})},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.majorExtent(_).minorExtent(_):graticule.minorExtent()},graticule.majorExtent=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.minorExtent=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.majorStep(_).minorStep(_):graticule.minorStep()},graticule.majorStep=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.minorStep=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=d3_geo_graticuleX(y0,y1,90),y=d3_geo_graticuleY(x0,x1,precision),X=d3_geo_graticuleX(Y0,Y1,90),Y=d3_geo_graticuleY(X0,X1,precision),graticule):precision},graticule.majorExtent([[-180,-90+ε],[180,90-ε]]).minorExtent([[-180,-80-ε],[180,80+ε]])},d3.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[source_||source.apply(this,arguments),target_||target.apply(this,arguments)]}}var source_,target_,source=d3_source,target=d3_target;return greatArc.distance=function(){return d3.geo.distance(source_||source.apply(this,arguments),target_||target.apply(this,arguments))},greatArc.source=function(_){return arguments.length?(source=_,source_="function"==typeof _?null:_,greatArc):source},greatArc.target=function(_){return arguments.length?(target=_,target_="function"==typeof _?null:_,greatArc):target},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},d3.geo.interpolate=function(source,target){return d3_geo_interpolate(source[0]*d3_radians,source[1]*d3_radians,target[0]*d3_radians,target[1]*d3_radians)},d3.geo.length=function(object){return d3_geo_lengthSum=0,d3.geo.stream(object,d3_geo_length),d3_geo_lengthSum};var d3_geo_lengthSum,d3_geo_length={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},d3_geo_azimuthalEqualArea=d3_geo_azimuthal(function(cosλcosφ){return Math.sqrt(2/(1+cosλcosφ))},function(ρ){return 2*Math.asin(ρ/2)});(d3.geo.azimuthalEqualArea=function(){return d3_geo_projection(d3_geo_azimuthalEqualArea)}).raw=d3_geo_azimuthalEqualArea;var d3_geo_azimuthalEquidistant=d3_geo_azimuthal(function(cosλcosφ){var c=Math.acos(cosλcosφ);return c&&c/Math.sin(c)},d3_identity);(d3.geo.azimuthalEquidistant=function(){return d3_geo_projection(d3_geo_azimuthalEquidistant)}).raw=d3_geo_azimuthalEquidistant,(d3.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(d3.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;
var d3_geo_gnomonic=d3_geo_azimuthal(function(cosλcosφ){return 1/cosλcosφ},Math.atan);(d3.geo.gnomonic=function(){return d3_geo_projection(d3_geo_gnomonic)}).raw=d3_geo_gnomonic,d3_geo_mercator.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-halfπ]},(d3.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var d3_geo_orthographic=d3_geo_azimuthal(function(){return 1},Math.asin);(d3.geo.orthographic=function(){return d3_geo_projection(d3_geo_orthographic)}).raw=d3_geo_orthographic;var d3_geo_stereographic=d3_geo_azimuthal(function(cosλcosφ){return 1/(1+cosλcosφ)},function(ρ){return 2*Math.atan(ρ)});(d3.geo.stereographic=function(){return d3_geo_projection(d3_geo_stereographic)}).raw=d3_geo_stereographic,d3_geo_transverseMercator.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-halfπ]},(d3.geo.transverseMercator=function(){var projection=d3_geo_mercatorProjection(d3_geo_transverseMercator),center=projection.center,rotate=projection.rotate;return projection.center=function(_){return _?center([-_[1],_[0]]):(_=center(),[_[1],-_[0]])},projection.rotate=function(_){return _?rotate([_[0],_[1],_.length>2?_[2]+90:90]):(_=rotate(),[_[0],_[1],_[2]-90])},rotate([0,0,90])}).raw=d3_geo_transverseMercator,d3.geom={},d3.geom.hull=function(vertices){function hull(data){if(data.length<3)return[];var i,fx=d3_functor(x),fy=d3_functor(y),n=data.length,points=[],flippedPoints=[];for(i=0;i<n;i++)points.push([+fx.call(this,data[i],i),+fy.call(this,data[i],i),i]);for(points.sort(d3_geom_hullOrder),i=0;i<n;i++)flippedPoints.push([points[i][0],-points[i][1]]);var upper=d3_geom_hullUpper(points),lower=d3_geom_hullUpper(flippedPoints),skipLeft=lower[0]===upper[0],skipRight=lower[lower.length-1]===upper[upper.length-1],polygon=[];for(i=upper.length-1;i>=0;--i)polygon.push(data[points[upper[i]][2]]);for(i=+skipLeft;i<lower.length-skipRight;++i)polygon.push(data[points[lower[i]][2]]);return polygon}var x=d3_geom_pointX,y=d3_geom_pointY;return arguments.length?hull(vertices):(hull.x=function(_){return arguments.length?(x=_,hull):x},hull.y=function(_){return arguments.length?(y=_,hull):y},hull)},d3.geom.polygon=function(coordinates){return d3_subclass(coordinates,d3_geom_polygonPrototype),coordinates};var d3_geom_polygonPrototype=d3.geom.polygon.prototype=[];d3_geom_polygonPrototype.area=function(){for(var a,i=-1,n=this.length,b=this[n-1],area=0;++i<n;)a=b,b=this[i],area+=a[1]*b[0]-a[0]*b[1];return.5*area},d3_geom_polygonPrototype.centroid=function(k){var a,c,i=-1,n=this.length,x=0,y=0,b=this[n-1];for(arguments.length||(k=-1/(6*this.area()));++i<n;)a=b,b=this[i],c=a[0]*b[1]-b[0]*a[1],x+=(a[0]+b[0])*c,y+=(a[1]+b[1])*c;return[x*k,y*k]},d3_geom_polygonPrototype.clip=function(subject){for(var input,j,m,b,c,d,closed=d3_geom_polygonClosed(subject),i=-1,n=this.length-d3_geom_polygonClosed(this),a=this[n-1];++i<n;){for(input=subject.slice(),subject.length=0,b=this[i],c=input[(m=input.length-closed)-1],j=-1;++j<m;)d=input[j],d3_geom_polygonInside(d,a,b)?(d3_geom_polygonInside(c,a,b)||subject.push(d3_geom_polygonIntersect(c,d,a,b)),subject.push(d)):d3_geom_polygonInside(c,a,b)&&subject.push(d3_geom_polygonIntersect(c,d,a,b)),c=d;closed&&subject.push(subject[0]),a=b}return subject};var d3_geom_voronoiEdges,d3_geom_voronoiCells,d3_geom_voronoiBeaches,d3_geom_voronoiFirstCircle,d3_geom_voronoiCircles,d3_geom_voronoiBeachPool=[],d3_geom_voronoiCirclePool=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var edge,halfEdges=this.edges,iHalfEdge=halfEdges.length;iHalfEdge--;)edge=halfEdges[iHalfEdge].edge,edge.b&&edge.a||halfEdges.splice(iHalfEdge,1);return halfEdges.sort(d3_geom_voronoiHalfEdgeOrder),halfEdges.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(after,node){var parent,grandpa,uncle;if(after){if(node.P=after,node.N=after.N,after.N&&(after.N.P=node),after.N=node,after.R){for(after=after.R;after.L;)after=after.L;after.L=node}else after.R=node;parent=after}else this._?(after=d3_geom_voronoiRedBlackFirst(this._),node.P=null,node.N=after,after.P=after.L=node,parent=after):(node.P=node.N=null,this._=node,parent=null);for(node.L=node.R=null,node.U=parent,node.C=!0,after=node;parent&&parent.C;)grandpa=parent.U,parent===grandpa.L?(uncle=grandpa.R,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.R&&(d3_geom_voronoiRedBlackRotateLeft(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateRight(this,grandpa))):(uncle=grandpa.L,uncle&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.L&&(d3_geom_voronoiRedBlackRotateRight(this,parent),after=parent,parent=after.U),parent.C=!1,grandpa.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,grandpa))),parent=after.U;this._.C=!1},remove:function(node){node.N&&(node.N.P=node.P),node.P&&(node.P.N=node.N),node.N=node.P=null;var sibling,next,red,parent=node.U,left=node.L,right=node.R;if(next=left?right?d3_geom_voronoiRedBlackFirst(right):left:right,parent?parent.L===node?parent.L=next:parent.R=next:this._=next,left&&right?(red=next.C,next.C=node.C,next.L=left,left.U=next,next!==right?(parent=next.U,next.U=node.U,node=next.R,parent.L=node,next.R=right,right.U=next):(next.U=parent,parent=next,node=next.R)):(red=node.C,node=next),node&&(node.U=parent),!red){if(node&&node.C)return void(node.C=!1);do{if(node===this._)break;if(node===parent.L){if(sibling=parent.R,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,parent),sibling=parent.R),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.R&&sibling.R.C||(sibling.L.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateRight(this,sibling),sibling=parent.R),sibling.C=parent.C,parent.C=sibling.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,parent),node=this._;break}}else if(sibling=parent.L,sibling.C&&(sibling.C=!1,parent.C=!0,d3_geom_voronoiRedBlackRotateRight(this,parent),sibling=parent.L),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.L&&sibling.L.C||(sibling.R.C=!1,sibling.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,sibling),sibling=parent.L),sibling.C=parent.C,parent.C=sibling.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,parent),node=this._;break}sibling.C=!0,node=parent,parent=parent.U}while(!node.C);node&&(node.C=!1)}}},d3.geom.voronoi=function(points){function voronoi(data){var polygons=new Array(data.length),x0=clipExtent[0][0],y0=clipExtent[0][1],x1=clipExtent[1][0],y1=clipExtent[1][1];return d3_geom_voronoi(sites(data),clipExtent).cells.forEach(function(cell,i){var edges=cell.edges,site=cell.site,polygon=polygons[i]=edges.length?edges.map(function(e){var s=e.start();return[s.x,s.y]}):site.x>=x0&&site.x<=x1&&site.y>=y0&&site.y<=y1?[[x0,y1],[x1,y1],[x1,y0],[x0,y0]]:[];polygon.point=data[i]}),polygons}function sites(data){return data.map(function(d,i){return{x:Math.round(fx(d,i)/ε)*ε,y:Math.round(fy(d,i)/ε)*ε,i:i}})}var x=d3_geom_pointX,y=d3_geom_pointY,fx=x,fy=y,clipExtent=d3_geom_voronoiClipExtent;return points?voronoi(points):(voronoi.links=function(data){return d3_geom_voronoi(sites(data)).edges.filter(function(edge){return edge.l&&edge.r}).map(function(edge){return{source:data[edge.l.i],target:data[edge.r.i]}})},voronoi.triangles=function(data){var triangles=[];return d3_geom_voronoi(sites(data)).cells.forEach(function(cell,i){for(var e0,s0,site=cell.site,edges=cell.edges.sort(d3_geom_voronoiHalfEdgeOrder),j=-1,m=edges.length,e1=edges[m-1].edge,s1=e1.l===site?e1.r:e1.l;++j<m;)e0=e1,s0=s1,e1=edges[j].edge,s1=e1.l===site?e1.r:e1.l,i<s0.i&&i<s1.i&&d3_geom_voronoiTriangleArea(site,s0,s1)<0&&triangles.push([data[i],data[s0.i],data[s1.i]])}),triangles},voronoi.x=function(_){return arguments.length?(fx=d3_functor(x=_),voronoi):x},voronoi.y=function(_){return arguments.length?(fy=d3_functor(y=_),voronoi):y},voronoi.clipExtent=function(_){return arguments.length?(clipExtent=null==_?d3_geom_voronoiClipExtent:_,voronoi):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent},voronoi.size=function(_){return arguments.length?voronoi.clipExtent(_&&[[0,0],_]):clipExtent===d3_geom_voronoiClipExtent?null:clipExtent&&clipExtent[1]},voronoi)};var d3_geom_voronoiClipExtent=[[-1e6,-1e6],[1e6,1e6]];d3.geom.delaunay=function(vertices){return d3.geom.voronoi().triangles(vertices)},d3.geom.quadtree=function(points,x1,y1,x2,y2){function quadtree(data){function insert(n,d,x,y,x1,y1,x2,y2){if(!isNaN(x)&&!isNaN(y))if(n.leaf){var nx=n.x,ny=n.y;if(null!=nx)if(abs(nx-x)+abs(ny-y)<.01)insertChild(n,d,x,y,x1,y1,x2,y2);else{var nPoint=n.point;n.x=n.y=n.point=null,insertChild(n,nPoint,nx,ny,x1,y1,x2,y2),insertChild(n,d,x,y,x1,y1,x2,y2)}else n.x=x,n.y=y,n.point=d}else insertChild(n,d,x,y,x1,y1,x2,y2)}function insertChild(n,d,x,y,x1,y1,x2,y2){var xm=.5*(x1+x2),ym=.5*(y1+y2),right=x>=xm,below=y>=ym,i=below<<1|right;n.leaf=!1,n=n.nodes[i]||(n.nodes[i]=d3_geom_quadtreeNode()),right?x1=xm:x2=xm,below?y1=ym:y2=ym,insert(n,d,x,y,x1,y1,x2,y2)}var d,xs,ys,i,n,x1_,y1_,x2_,y2_,fx=d3_functor(x),fy=d3_functor(y);if(null!=x1)x1_=x1,y1_=y1,x2_=x2,y2_=y2;else if(x2_=y2_=-(x1_=y1_=1/0),xs=[],ys=[],n=data.length,compat)for(i=0;i<n;++i)d=data[i],d.x<x1_&&(x1_=d.x),d.y<y1_&&(y1_=d.y),d.x>x2_&&(x2_=d.x),d.y>y2_&&(y2_=d.y),xs.push(d.x),ys.push(d.y);else for(i=0;i<n;++i){var x_=+fx(d=data[i],i),y_=+fy(d,i);x_<x1_&&(x1_=x_),y_<y1_&&(y1_=y_),x_>x2_&&(x2_=x_),y_>y2_&&(y2_=y_),xs.push(x_),ys.push(y_)}var dx=x2_-x1_,dy=y2_-y1_;dx>dy?y2_=y1_+dx:x2_=x1_+dy;var root=d3_geom_quadtreeNode();if(root.add=function(d){insert(root,d,+fx(d,++i),+fy(d,i),x1_,y1_,x2_,y2_)},root.visit=function(f){d3_geom_quadtreeVisit(f,root,x1_,y1_,x2_,y2_)},root.find=function(point){return d3_geom_quadtreeFind(root,point[0],point[1],x1_,y1_,x2_,y2_)},i=-1,null==x1){for(;++i<n;)insert(root,data[i],xs[i],ys[i],x1_,y1_,x2_,y2_);--i}else data.forEach(root.add);return xs=ys=data=d=null,root}var compat,x=d3_geom_pointX,y=d3_geom_pointY;return(compat=arguments.length)?(x=d3_geom_quadtreeCompatX,y=d3_geom_quadtreeCompatY,3===compat&&(y2=y1,x2=x1,y1=x1=0),quadtree(points)):(quadtree.x=function(_){return arguments.length?(x=_,quadtree):x},quadtree.y=function(_){return arguments.length?(y=_,quadtree):y},quadtree.extent=function(_){return arguments.length?(null==_?x1=y1=x2=y2=null:(x1=+_[0][0],y1=+_[0][1],x2=+_[1][0],y2=+_[1][1]),quadtree):null==x1?null:[[x1,y1],[x2,y2]]},quadtree.size=function(_){return arguments.length?(null==_?x1=y1=x2=y2=null:(x1=y1=0,x2=+_[0],y2=+_[1]),quadtree):null==x1?null:[x2-x1,y2-y1]},quadtree)},d3.interpolateRgb=d3_interpolateRgb,d3.interpolateObject=d3_interpolateObject,d3.interpolateNumber=d3_interpolateNumber,d3.interpolateString=d3_interpolateString;var d3_interpolate_numberA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d3_interpolate_numberB=new RegExp(d3_interpolate_numberA.source,"g");d3.interpolate=d3_interpolate,d3.interpolators=[function(a,b){var t=typeof b;return("string"===t?d3_rgb_names.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?d3_interpolateRgb:d3_interpolateString:b instanceof d3_color?d3_interpolateRgb:Array.isArray(b)?d3_interpolateArray:"object"===t&&isNaN(b)?d3_interpolateObject:d3_interpolateNumber)(a,b)}],d3.interpolateArray=d3_interpolateArray;var d3_ease_default=function(){return d3_identity},d3_ease=d3.map({linear:d3_ease_default,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),d3_ease_mode=d3.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(f){return d3_ease_reflect(d3_ease_reverse(f))}});d3.ease=function(name){var i=name.indexOf("-"),t=i>=0?name.slice(0,i):name,m=i>=0?name.slice(i+1):"in";return t=d3_ease.get(t)||d3_ease_default,m=d3_ease_mode.get(m)||d3_identity,d3_ease_clamp(m(t.apply(null,d3_arraySlice.call(arguments,1))))},d3.interpolateHcl=d3_interpolateHcl,d3.interpolateHsl=d3_interpolateHsl,d3.interpolateLab=d3_interpolateLab,d3.interpolateRound=d3_interpolateRound,d3.transform=function(string){var g=d3_document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(string){if(null!=string){g.setAttribute("transform",string);var t=g.transform.baseVal.consolidate()}return new d3_transform(t?t.matrix:d3_transformIdentity)})(string)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var d3_transformIdentity={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolateTransform=d3_interpolateTransform,d3.layout={},d3.layout.bundle=function(){return function(links){for(var paths=[],i=-1,n=links.length;++i<n;)paths.push(d3_layout_bundlePath(links[i]));return paths}},d3.layout.chord=function(){function relayout(){var k,x,x0,i,j,subgroups={},groupSums=[],groupIndex=d3.range(n),subgroupIndex=[];for(chords=[],groups=[],k=0,i=-1;++i<n;){for(x=0,j=-1;++j<n;)x+=matrix[i][j];groupSums.push(x),subgroupIndex.push(d3.range(n)),k+=x}for(sortGroups&&groupIndex.sort(function(a,b){return sortGroups(groupSums[a],groupSums[b])}),sortSubgroups&&subgroupIndex.forEach(function(d,i){d.sort(function(a,b){return sortSubgroups(matrix[i][a],matrix[i][b])})}),k=(τ-padding*n)/k,x=0,i=-1;++i<n;){for(x0=x,j=-1;++j<n;){var di=groupIndex[i],dj=subgroupIndex[di][j],v=matrix[di][dj],a0=x,a1=x+=v*k;subgroups[di+"-"+dj]={index:di,subindex:dj,startAngle:a0,endAngle:a1,value:v}}groups[di]={index:di,startAngle:x0,endAngle:x,value:groupSums[di]},x+=padding}for(i=-1;++i<n;)for(j=i-1;++j<n;){var source=subgroups[i+"-"+j],target=subgroups[j+"-"+i];(source.value||target.value)&&chords.push(source.value<target.value?{source:target,target:source}:{source:source,target:target})}sortChords&&resort()}function resort(){chords.sort(function(a,b){return sortChords((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var chords,groups,matrix,n,sortGroups,sortSubgroups,sortChords,chord={},padding=0;return chord.matrix=function(x){return arguments.length?(n=(matrix=x)&&matrix.length,chords=groups=null,chord):matrix},chord.padding=function(x){return arguments.length?(padding=x,chords=groups=null,chord):padding},chord.sortGroups=function(x){return arguments.length?(sortGroups=x,chords=groups=null,chord):sortGroups},chord.sortSubgroups=function(x){return arguments.length?(sortSubgroups=x,chords=null,chord):sortSubgroups},chord.sortChords=function(x){return arguments.length?(sortChords=x,chords&&resort(),chord):sortChords},chord.chords=function(){return chords||relayout(),chords},chord.groups=function(){return groups||relayout(),groups},chord},d3.layout.force=function(){function repulse(node){return function(quad,x1,_,x2){if(quad.point!==node){var dx=quad.cx-node.x,dy=quad.cy-node.y,dw=x2-x1,dn=dx*dx+dy*dy;if(dw*dw/theta2<dn){if(dn<chargeDistance2){var k=quad.charge/dn;node.px-=dx*k,node.py-=dy*k}return!0}if(quad.point&&dn&&dn<chargeDistance2){var k=quad.pointCharge/dn;node.px-=dx*k,node.py-=dy*k}}return!quad.charge}}function dragmove(d){d.px=d3.event.x,d.py=d3.event.y,force.resume()}var timer,drag,alpha,distances,strengths,charges,force={},event=d3.dispatch("start","tick","end"),size=[1,1],friction=.9,linkDistance=d3_layout_forceLinkDistance,linkStrength=d3_layout_forceLinkStrength,charge=-30,chargeDistance2=d3_layout_forceChargeDistance2,gravity=.1,theta2=.64,nodes=[],links=[];return force.tick=function(){if((alpha*=.99)<.005)return timer=null,event.end({type:"end",alpha:alpha=0}),!0;var q,i,o,s,t,l,k,x,y,n=nodes.length,m=links.length;for(i=0;i<m;++i)o=links[i],s=o.source,t=o.target,x=t.x-s.x,y=t.y-s.y,(l=x*x+y*y)&&(l=alpha*strengths[i]*((l=Math.sqrt(l))-distances[i])/l,x*=l,y*=l,t.x-=x*(k=s.weight+t.weight?s.weight/(s.weight+t.weight):.5),t.y-=y*k,s.x+=x*(k=1-k),s.y+=y*k);if((k=alpha*gravity)&&(x=size[0]/2,y=size[1]/2,i=-1,k))for(;++i<n;)o=nodes[i],o.x+=(x-o.x)*k,o.y+=(y-o.y)*k;if(charge)for(d3_layout_forceAccumulate(q=d3.geom.quadtree(nodes),alpha,charges),i=-1;++i<n;)(o=nodes[i]).fixed||q.visit(repulse(o));for(i=-1;++i<n;)o=nodes[i],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*friction,o.y-=(o.py-(o.py=o.y))*friction);event.tick({type:"tick",alpha:alpha})},force.nodes=function(x){return arguments.length?(nodes=x,force):nodes},force.links=function(x){return arguments.length?(links=x,force):links},force.size=function(x){return arguments.length?(size=x,force):size},force.linkDistance=function(x){return arguments.length?(linkDistance="function"==typeof x?x:+x,force):linkDistance},force.distance=force.linkDistance,force.linkStrength=function(x){return arguments.length?(linkStrength="function"==typeof x?x:+x,force):linkStrength},force.friction=function(x){return arguments.length?(friction=+x,force):friction},force.charge=function(x){return arguments.length?(charge="function"==typeof x?x:+x,force):charge},force.chargeDistance=function(x){return arguments.length?(chargeDistance2=x*x,force):Math.sqrt(chargeDistance2)},force.gravity=function(x){return arguments.length?(gravity=+x,force):gravity},force.theta=function(x){return arguments.length?(theta2=x*x,force):Math.sqrt(theta2)},force.alpha=function(x){return arguments.length?(x=+x,alpha?x>0?alpha=x:(timer.c=null,timer.t=NaN,timer=null,event.end({type:"end",alpha:alpha=0})):x>0&&(event.start({type:"start",alpha:alpha=x}),timer=d3_timer(force.tick)),force):alpha},force.start=function(){function position(dimension,size){if(!neighbors){for(neighbors=new Array(n),j=0;j<n;++j)neighbors[j]=[];for(j=0;j<m;++j){var o=links[j];neighbors[o.source.index].push(o.target),neighbors[o.target.index].push(o.source)}}for(var x,candidates=neighbors[i],j=-1,l=candidates.length;++j<l;)if(!isNaN(x=candidates[j][dimension]))return x;return Math.random()*size}var i,neighbors,o,n=nodes.length,m=links.length,w=size[0],h=size[1];for(i=0;i<n;++i)(o=nodes[i]).index=i,o.weight=0;for(i=0;i<m;++i)o=links[i],"number"==typeof o.source&&(o.source=nodes[o.source]),"number"==typeof o.target&&(o.target=nodes[o.target]),++o.source.weight,++o.target.weight;for(i=0;i<n;++i)o=nodes[i],isNaN(o.x)&&(o.x=position("x",w)),isNaN(o.y)&&(o.y=position("y",h)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(distances=[],"function"==typeof linkDistance)for(i=0;i<m;++i)distances[i]=+linkDistance.call(this,links[i],i);else for(i=0;i<m;++i)distances[i]=linkDistance;if(strengths=[],"function"==typeof linkStrength)for(i=0;i<m;++i)strengths[i]=+linkStrength.call(this,links[i],i);else for(i=0;i<m;++i)strengths[i]=linkStrength;if(charges=[],"function"==typeof charge)for(i=0;i<n;++i)charges[i]=+charge.call(this,nodes[i],i);else for(i=0;i<n;++i)charges[i]=charge;return force.resume()},force.resume=function(){return force.alpha(.1)},force.stop=function(){return force.alpha(0)},force.drag=function(){return drag||(drag=d3.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),arguments.length?void this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(drag):drag},d3.rebind(force,event,"on")};var d3_layout_forceLinkDistance=20,d3_layout_forceLinkStrength=1,d3_layout_forceChargeDistance2=1/0;d3.layout.hierarchy=function(){function hierarchy(root){var node,stack=[root],nodes=[];for(root.depth=0;null!=(node=stack.pop());)if(nodes.push(node),(childs=children.call(hierarchy,node,node.depth))&&(n=childs.length)){for(var n,childs,child;--n>=0;)stack.push(child=childs[n]),child.parent=node,child.depth=node.depth+1;value&&(node.value=0),node.children=childs}else value&&(node.value=+value.call(hierarchy,node,node.depth)||0),delete node.children;return d3_layout_hierarchyVisitAfter(root,function(node){var childs,parent;sort&&(childs=node.children)&&childs.sort(sort),value&&(parent=node.parent)&&(parent.value+=node.value)}),nodes}var sort=d3_layout_hierarchySort,children=d3_layout_hierarchyChildren,value=d3_layout_hierarchyValue;return hierarchy.sort=function(x){return arguments.length?(sort=x,hierarchy):sort},hierarchy.children=function(x){return arguments.length?(children=x,hierarchy):children},hierarchy.value=function(x){return arguments.length?(value=x,hierarchy):value},hierarchy.revalue=function(root){return value&&(d3_layout_hierarchyVisitBefore(root,function(node){node.children&&(node.value=0)}),d3_layout_hierarchyVisitAfter(root,function(node){var parent;node.children||(node.value=+value.call(hierarchy,node,node.depth)||0),(parent=node.parent)&&(parent.value+=node.value)})),root},hierarchy},d3.layout.partition=function(){function position(node,x,dx,dy){var children=node.children;if(node.x=x,node.y=node.depth*dy,node.dx=dx,node.dy=dy,children&&(n=children.length)){var n,c,d,i=-1;for(dx=node.value?dx/node.value:0;++i<n;)position(c=children[i],x,d=c.value*dx,dy),x+=d}}function depth(node){var children=node.children,d=0;if(children&&(n=children.length))for(var n,i=-1;++i<n;)d=Math.max(d,depth(children[i]));return 1+d}function partition(d,i){var nodes=hierarchy.call(this,d,i);return position(nodes[0],0,size[0],size[1]/depth(nodes[0])),nodes}var hierarchy=d3.layout.hierarchy(),size=[1,1];return partition.size=function(x){return arguments.length?(size=x,partition):size},d3_layout_hierarchyRebind(partition,hierarchy)},d3.layout.pie=function(){function pie(data){var v,n=data.length,values=data.map(function(d,i){return+value.call(pie,d,i)}),a=+("function"==typeof startAngle?startAngle.apply(this,arguments):startAngle),da=("function"==typeof endAngle?endAngle.apply(this,arguments):endAngle)-a,p=Math.min(Math.abs(da)/n,+("function"==typeof padAngle?padAngle.apply(this,arguments):padAngle)),pa=p*(da<0?-1:1),sum=d3.sum(values),k=sum?(da-n*pa)/sum:0,index=d3.range(n),arcs=[];return null!=sort&&index.sort(sort===d3_layout_pieSortByValue?function(i,j){return values[j]-values[i]}:function(i,j){return sort(data[i],data[j])}),index.forEach(function(i){arcs[i]={data:data[i],value:v=values[i],startAngle:a,endAngle:a+=v*k+pa,padAngle:p}}),arcs}var value=Number,sort=d3_layout_pieSortByValue,startAngle=0,endAngle=τ,padAngle=0;return pie.value=function(_){return arguments.length?(value=_,pie):value},pie.sort=function(_){return arguments.length?(sort=_,pie):sort},pie.startAngle=function(_){return arguments.length?(startAngle=_,pie):startAngle},pie.endAngle=function(_){return arguments.length?(endAngle=_,pie):endAngle},pie.padAngle=function(_){return arguments.length?(padAngle=_,pie):padAngle},pie};var d3_layout_pieSortByValue={};d3.layout.stack=function(){function stack(data,index){if(!(n=data.length))return data;var series=data.map(function(d,i){return values.call(stack,d,i)}),points=series.map(function(d){return d.map(function(v,i){return[x.call(stack,v,i),y.call(stack,v,i)]})}),orders=order.call(stack,points,index);series=d3.permute(series,orders),points=d3.permute(points,orders);var n,i,j,o,offsets=offset.call(stack,points,index),m=series[0].length;for(j=0;j<m;++j)for(out.call(stack,series[0][j],o=offsets[j],points[0][j][1]),i=1;i<n;++i)out.call(stack,series[i][j],o+=points[i-1][j][1],points[i][j][1]);return data}var values=d3_identity,order=d3_layout_stackOrderDefault,offset=d3_layout_stackOffsetZero,out=d3_layout_stackOut,x=d3_layout_stackX,y=d3_layout_stackY;return stack.values=function(x){return arguments.length?(values=x,stack):values},stack.order=function(x){return arguments.length?(order="function"==typeof x?x:d3_layout_stackOrders.get(x)||d3_layout_stackOrderDefault,stack):order},stack.offset=function(x){return arguments.length?(offset="function"==typeof x?x:d3_layout_stackOffsets.get(x)||d3_layout_stackOffsetZero,stack):offset},stack.x=function(z){return arguments.length?(x=z,stack):x},stack.y=function(z){return arguments.length?(y=z,stack):y},stack.out=function(z){return arguments.length?(out=z,stack):out},stack};var d3_layout_stackOrders=d3.map({"inside-out":function(data){var i,j,n=data.length,max=data.map(d3_layout_stackMaxIndex),sums=data.map(d3_layout_stackReduceSum),index=d3.range(n).sort(function(a,b){return max[a]-max[b]}),top=0,bottom=0,tops=[],bottoms=[];for(i=0;i<n;++i)j=index[i],top<bottom?(top+=sums[j],tops.push(j)):(bottom+=sums[j],bottoms.push(j));return bottoms.reverse().concat(tops)},reverse:function(data){return d3.range(data.length).reverse()},"default":d3_layout_stackOrderDefault}),d3_layout_stackOffsets=d3.map({silhouette:function(data){var i,j,o,n=data.length,m=data[0].length,sums=[],max=0,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];o>max&&(max=o),sums.push(o)}for(j=0;j<m;++j)y0[j]=(max-sums[j])/2;return y0},wiggle:function(data){var i,j,k,s1,s2,s3,dx,o,o0,n=data.length,x=data[0],m=x.length,y0=[];for(y0[0]=o=o0=0,j=1;j<m;++j){for(i=0,s1=0;i<n;++i)s1+=data[i][j][1];for(i=0,s2=0,dx=x[j][0]-x[j-1][0];i<n;++i){for(k=0,s3=(data[i][j][1]-data[i][j-1][1])/(2*dx);k<i;++k)s3+=(data[k][j][1]-data[k][j-1][1])/dx;s2+=s3*data[i][j][1]}y0[j]=o-=s1?s2/s1*dx:0,o<o0&&(o0=o)}for(j=0;j<m;++j)y0[j]-=o0;return y0},expand:function(data){var i,j,o,n=data.length,m=data[0].length,k=1/n,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];if(o)for(i=0;i<n;i++)data[i][j][1]/=o;else for(i=0;i<n;i++)data[i][j][1]=k}for(j=0;j<m;++j)y0[j]=0;return y0},zero:d3_layout_stackOffsetZero});d3.layout.histogram=function(){function histogram(data,i){for(var bin,x,bins=[],values=data.map(valuer,this),range=ranger.call(this,values,i),thresholds=binner.call(this,range,values,i),i=-1,n=values.length,m=thresholds.length-1,k=frequency?1:1/n;++i<m;)bin=bins[i]=[],bin.dx=thresholds[i+1]-(bin.x=thresholds[i]),bin.y=0;if(m>0)for(i=-1;++i<n;)x=values[i],x>=range[0]&&x<=range[1]&&(bin=bins[d3.bisect(thresholds,x,1,m)-1],bin.y+=k,bin.push(data[i]));return bins}var frequency=!0,valuer=Number,ranger=d3_layout_histogramRange,binner=d3_layout_histogramBinSturges;return histogram.value=function(x){return arguments.length?(valuer=x,histogram):valuer},histogram.range=function(x){return arguments.length?(ranger=d3_functor(x),histogram):ranger},histogram.bins=function(x){return arguments.length?(binner="number"==typeof x?function(range){return d3_layout_histogramBinFixed(range,x)}:d3_functor(x),histogram):binner},histogram.frequency=function(x){return arguments.length?(frequency=!!x,histogram):frequency},histogram},d3.layout.pack=function(){function pack(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],w=size[0],h=size[1],r=null==radius?Math.sqrt:"function"==typeof radius?radius:function(){return radius};if(root.x=root.y=0,d3_layout_hierarchyVisitAfter(root,function(d){d.r=+r(d.value)}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings),padding){var dr=padding*(radius?1:Math.max(2*root.r/w,2*root.r/h))/2;d3_layout_hierarchyVisitAfter(root,function(d){d.r+=dr}),d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(root,function(d){d.r-=dr})}return d3_layout_packTransform(root,w/2,h/2,radius?1:1/Math.max(2*root.r/w,2*root.r/h)),nodes}var radius,hierarchy=d3.layout.hierarchy().sort(d3_layout_packSort),padding=0,size=[1,1];return pack.size=function(_){return arguments.length?(size=_,pack):size},pack.radius=function(_){return arguments.length?(radius=null==_||"function"==typeof _?_:+_,pack):radius},pack.padding=function(_){return arguments.length?(padding=+_,pack):padding},d3_layout_hierarchyRebind(pack,hierarchy)},d3.layout.tree=function(){function tree(d,i){var nodes=hierarchy.call(this,d,i),root0=nodes[0],root1=wrapTree(root0);if(d3_layout_hierarchyVisitAfter(root1,firstWalk),root1.parent.m=-root1.z,d3_layout_hierarchyVisitBefore(root1,secondWalk),nodeSize)d3_layout_hierarchyVisitBefore(root0,sizeNode);else{var left=root0,right=root0,bottom=root0;d3_layout_hierarchyVisitBefore(root0,function(node){node.x<left.x&&(left=node),node.x>right.x&&(right=node),node.depth>bottom.depth&&(bottom=node)});var tx=separation(left,right)/2-left.x,kx=size[0]/(right.x+separation(right,left)/2+tx),ky=size[1]/(bottom.depth||1);d3_layout_hierarchyVisitBefore(root0,function(node){node.x=(node.x+tx)*kx,node.y=node.depth*ky})}return nodes}function wrapTree(root0){for(var node1,root1={A:null,children:[root0]},queue=[root1];null!=(node1=queue.pop());)for(var child,children=node1.children,i=0,n=children.length;i<n;++i)queue.push((children[i]=child={_:children[i],parent:node1,children:(child=children[i].children)&&child.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=child);return root1.children[0]}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children.length){d3_layout_treeShift(v);var midpoint=(children[0].z+children[children.length-1].z)/2;w?(v.z=w.z+separation(v._,w._),v.m=v.z-midpoint):v.z=midpoint}else w&&(v.z=w.z+separation(v._,w._));v.parent.A=apportion(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function apportion(v,w,ancestor){if(w){for(var shift,vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m;vim=d3_layout_treeRight(vim),vip=d3_layout_treeLeft(vip),vim&&vip;)vom=d3_layout_treeLeft(vom),vop=d3_layout_treeRight(vop),vop.a=v,shift=vim.z+sim-vip.z-sip+separation(vim._,vip._),shift>0&&(d3_layout_treeMove(d3_layout_treeAncestor(vim,v,ancestor),v,shift),sip+=shift,sop+=shift),sim+=vim.m,sip+=vip.m,som+=vom.m,sop+=vop.m;vim&&!d3_layout_treeRight(vop)&&(vop.t=vim,vop.m+=sim-sop),vip&&!d3_layout_treeLeft(vom)&&(vom.t=vip,vom.m+=sip-som,ancestor=v)}return ancestor}function sizeNode(node){node.x*=size[0],node.y=node.depth*size[1]}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=null;return tree.separation=function(x){return arguments.length?(separation=x,tree):separation},tree.size=function(x){return arguments.length?(nodeSize=null==(size=x)?sizeNode:null,tree):nodeSize?null:size},tree.nodeSize=function(x){return arguments.length?(nodeSize=null==(size=x)?null:sizeNode,tree):nodeSize?size:null},d3_layout_hierarchyRebind(tree,hierarchy)},d3.layout.cluster=function(){function cluster(d,i){var previousNode,nodes=hierarchy.call(this,d,i),root=nodes[0],x=0;d3_layout_hierarchyVisitAfter(root,function(node){var children=node.children;children&&children.length?(node.x=d3_layout_clusterX(children),node.y=d3_layout_clusterY(children)):(node.x=previousNode?x+=separation(node,previousNode):0,node.y=0,previousNode=node)});var left=d3_layout_clusterLeft(root),right=d3_layout_clusterRight(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return d3_layout_hierarchyVisitAfter(root,nodeSize?function(node){node.x=(node.x-root.x)*size[0],node.y=(root.y-node.y)*size[1]}:function(node){node.x=(node.x-x0)/(x1-x0)*size[0],node.y=(1-(root.y?node.y/root.y:1))*size[1]}),nodes}var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=!1;return cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation},cluster.size=function(x){return arguments.length?(nodeSize=null==(size=x),cluster):nodeSize?null:size},cluster.nodeSize=function(x){return arguments.length?(nodeSize=null!=(size=x),cluster):nodeSize?size:null},d3_layout_hierarchyRebind(cluster,hierarchy)},d3.layout.treemap=function(){function scale(children,k){for(var child,area,i=-1,n=children.length;++i<n;)area=(child=children[i]).value*(k<0?0:k),child.area=isNaN(area)||area<=0?0:area}function squarify(node){var children=node.children;if(children&&children.length){var child,score,n,rect=pad(node),row=[],remaining=children.slice(),best=1/0,u="slice"===mode?rect.dx:"dice"===mode?rect.dy:"slice-dice"===mode?1&node.depth?rect.dy:rect.dx:Math.min(rect.dx,rect.dy);for(scale(remaining,rect.dx*rect.dy/node.value),row.area=0;(n=remaining.length)>0;)row.push(child=remaining[n-1]),row.area+=child.area,"squarify"!==mode||(score=worst(row,u))<=best?(remaining.pop(),
best=score):(row.area-=row.pop().area,position(row,u,rect,!1),u=Math.min(rect.dx,rect.dy),row.length=row.area=0,best=1/0);row.length&&(position(row,u,rect,!0),row.length=row.area=0),children.forEach(squarify)}}function stickify(node){var children=node.children;if(children&&children.length){var child,rect=pad(node),remaining=children.slice(),row=[];for(scale(remaining,rect.dx*rect.dy/node.value),row.area=0;child=remaining.pop();)row.push(child),row.area+=child.area,null!=child.z&&(position(row,child.z?rect.dx:rect.dy,rect,!remaining.length),row.length=row.area=0);children.forEach(stickify)}}function worst(row,u){for(var r,s=row.area,rmax=0,rmin=1/0,i=-1,n=row.length;++i<n;)(r=row[i].area)&&(r<rmin&&(rmin=r),r>rmax&&(rmax=r));return s*=s,u*=u,s?Math.max(u*rmax*ratio/s,s/(u*rmin*ratio)):1/0}function position(row,u,rect,flush){var o,i=-1,n=row.length,x=rect.x,y=rect.y,v=u?round(row.area/u):0;if(u==rect.dx){for((flush||v>rect.dy)&&(v=rect.dy);++i<n;)o=row[i],o.x=x,o.y=y,o.dy=v,x+=o.dx=Math.min(rect.x+rect.dx-x,v?round(o.area/v):0);o.z=!0,o.dx+=rect.x+rect.dx-x,rect.y+=v,rect.dy-=v}else{for((flush||v>rect.dx)&&(v=rect.dx);++i<n;)o=row[i],o.x=x,o.y=y,o.dx=v,y+=o.dy=Math.min(rect.y+rect.dy-y,v?round(o.area/v):0);o.z=!1,o.dy+=rect.y+rect.dy-y,rect.x+=v,rect.dx-=v}}function treemap(d){var nodes=stickies||hierarchy(d),root=nodes[0];return root.x=root.y=0,root.value?(root.dx=size[0],root.dy=size[1]):root.dx=root.dy=0,stickies&&hierarchy.revalue(root),scale([root],root.dx*root.dy/root.value),(stickies?stickify:squarify)(root),sticky&&(stickies=nodes),nodes}var stickies,hierarchy=d3.layout.hierarchy(),round=Math.round,size=[1,1],padding=null,pad=d3_layout_treemapPadNull,sticky=!1,mode="squarify",ratio=.5*(1+Math.sqrt(5));return treemap.size=function(x){return arguments.length?(size=x,treemap):size},treemap.padding=function(x){function padFunction(node){var p=x.call(treemap,node,node.depth);return null==p?d3_layout_treemapPadNull(node):d3_layout_treemapPad(node,"number"==typeof p?[p,p,p,p]:p)}function padConstant(node){return d3_layout_treemapPad(node,x)}if(!arguments.length)return padding;var type;return pad=null==(padding=x)?d3_layout_treemapPadNull:"function"==(type=typeof x)?padFunction:"number"===type?(x=[x,x,x,x],padConstant):padConstant,treemap},treemap.round=function(x){return arguments.length?(round=x?Math.round:Number,treemap):round!=Number},treemap.sticky=function(x){return arguments.length?(sticky=x,stickies=null,treemap):sticky},treemap.ratio=function(x){return arguments.length?(ratio=x,treemap):ratio},treemap.mode=function(x){return arguments.length?(mode=x+"",treemap):mode},d3_layout_hierarchyRebind(treemap,hierarchy)},d3.random={normal:function(µ,σ){var n=arguments.length;return n<2&&(σ=1),n<1&&(µ=0),function(){var x,y,r;do x=2*Math.random()-1,y=2*Math.random()-1,r=x*x+y*y;while(!r||r>1);return µ+σ*x*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var random=d3.random.normal.apply(d3,arguments);return function(){return Math.exp(random())}},bates:function(m){var random=d3.random.irwinHall(m);return function(){return random()/m}},irwinHall:function(m){return function(){for(var s=0,j=0;j<m;j++)s+=Math.random();return s}}},d3.scale={};var d3_scale_niceIdentity={floor:d3_identity,ceil:d3_identity};d3.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var d3_scale_linearFormatSignificant={s:1,g:1,p:1,r:1,e:1};d3.scale.log=function(){return d3_scale_log(d3.scale.linear().domain([0,1]),10,!0,[1,10])};var d3_scale_logFormat=d3.format(".0e"),d3_scale_logNiceNegative={floor:function(x){return-Math.ceil(-x)},ceil:function(x){return-Math.floor(-x)}};d3.scale.pow=function(){return d3_scale_pow(d3.scale.linear(),1,[0,1])},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(d3_category10)},d3.scale.category20=function(){return d3.scale.ordinal().range(d3_category20)},d3.scale.category20b=function(){return d3.scale.ordinal().range(d3_category20b)},d3.scale.category20c=function(){return d3.scale.ordinal().range(d3_category20c)};var d3_category10=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),d3_category20=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),d3_category20b=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),d3_category20c=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);d3.scale.quantile=function(){return d3_scale_quantile([],[])},d3.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},d3.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},d3.scale.identity=function(){return d3_scale_identity([0,1])},d3.svg={},d3.svg.arc=function(){function arc(){var r0=Math.max(0,+innerRadius.apply(this,arguments)),r1=Math.max(0,+outerRadius.apply(this,arguments)),a0=startAngle.apply(this,arguments)-halfπ,a1=endAngle.apply(this,arguments)-halfπ,da=Math.abs(a1-a0),cw=a0>a1?0:1;if(r1<r0&&(rc=r1,r1=r0,r0=rc),da>=τε)return circleSegment(r1,cw)+(r0?circleSegment(r0,1-cw):"")+"Z";var rc,cr,rp,ap,x0,y0,x1,y1,x2,y2,x3,y3,p0=0,p1=0,path=[];if((ap=(+padAngle.apply(this,arguments)||0)/2)&&(rp=padRadius===d3_svg_arcAuto?Math.sqrt(r0*r0+r1*r1):+padRadius.apply(this,arguments),cw||(p1*=-1),r1&&(p1=d3_asin(rp/r1*Math.sin(ap))),r0&&(p0=d3_asin(rp/r0*Math.sin(ap)))),r1){x0=r1*Math.cos(a0+p1),y0=r1*Math.sin(a0+p1),x1=r1*Math.cos(a1-p1),y1=r1*Math.sin(a1-p1);var l1=Math.abs(a1-a0-2*p1)<=π?0:1;if(p1&&d3_svg_arcSweep(x0,y0,x1,y1)===cw^l1){var h1=(a0+a1)/2;x0=r1*Math.cos(h1),y0=r1*Math.sin(h1),x1=y1=null}}else x0=y0=0;if(r0){x2=r0*Math.cos(a1-p0),y2=r0*Math.sin(a1-p0),x3=r0*Math.cos(a0+p0),y3=r0*Math.sin(a0+p0);var l0=Math.abs(a0-a1+2*p0)<=π?0:1;if(p0&&d3_svg_arcSweep(x2,y2,x3,y3)===1-cw^l0){var h0=(a0+a1)/2;x2=r0*Math.cos(h0),y2=r0*Math.sin(h0),x3=y3=null}}else x2=y2=0;if(da>ε&&(rc=Math.min(Math.abs(r1-r0)/2,+cornerRadius.apply(this,arguments)))>.001){cr=r0<r1^cw?0:1;var rc1=rc,rc0=rc;if(da<π){var oc=null==x3?[x2,y2]:null==x1?[x0,y0]:d3_geom_polygonIntersect([x0,y0],[x3,y3],[x1,y1],[x2,y2]),ax=x0-oc[0],ay=y0-oc[1],bx=x1-oc[0],by=y1-oc[1],kc=1/Math.sin(Math.acos((ax*bx+ay*by)/(Math.sqrt(ax*ax+ay*ay)*Math.sqrt(bx*bx+by*by)))/2),lc=Math.sqrt(oc[0]*oc[0]+oc[1]*oc[1]);rc0=Math.min(rc,(r0-lc)/(kc-1)),rc1=Math.min(rc,(r1-lc)/(kc+1))}if(null!=x1){var t30=d3_svg_arcCornerTangents(null==x3?[x2,y2]:[x3,y3],[x0,y0],r1,rc1,cw),t12=d3_svg_arcCornerTangents([x1,y1],[x2,y2],r1,rc1,cw);rc===rc1?path.push("M",t30[0],"A",rc1,",",rc1," 0 0,",cr," ",t30[1],"A",r1,",",r1," 0 ",1-cw^d3_svg_arcSweep(t30[1][0],t30[1][1],t12[1][0],t12[1][1]),",",cw," ",t12[1],"A",rc1,",",rc1," 0 0,",cr," ",t12[0]):path.push("M",t30[0],"A",rc1,",",rc1," 0 1,",cr," ",t12[0])}else path.push("M",x0,",",y0);if(null!=x3){var t03=d3_svg_arcCornerTangents([x0,y0],[x3,y3],r0,-rc0,cw),t21=d3_svg_arcCornerTangents([x2,y2],null==x1?[x0,y0]:[x1,y1],r0,-rc0,cw);rc===rc0?path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t21[1],"A",r0,",",r0," 0 ",cw^d3_svg_arcSweep(t21[1][0],t21[1][1],t03[1][0],t03[1][1]),",",1-cw," ",t03[1],"A",rc0,",",rc0," 0 0,",cr," ",t03[0]):path.push("L",t21[0],"A",rc0,",",rc0," 0 0,",cr," ",t03[0])}else path.push("L",x2,",",y2)}else path.push("M",x0,",",y0),null!=x1&&path.push("A",r1,",",r1," 0 ",l1,",",cw," ",x1,",",y1),path.push("L",x2,",",y2),null!=x3&&path.push("A",r0,",",r0," 0 ",l0,",",1-cw," ",x3,",",y3);return path.push("Z"),path.join("")}function circleSegment(r1,cw){return"M0,"+r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+-r1+"A"+r1+","+r1+" 0 1,"+cw+" 0,"+r1}var innerRadius=d3_svg_arcInnerRadius,outerRadius=d3_svg_arcOuterRadius,cornerRadius=d3_zero,padRadius=d3_svg_arcAuto,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle,padAngle=d3_svg_arcPadAngle;return arc.innerRadius=function(v){return arguments.length?(innerRadius=d3_functor(v),arc):innerRadius},arc.outerRadius=function(v){return arguments.length?(outerRadius=d3_functor(v),arc):outerRadius},arc.cornerRadius=function(v){return arguments.length?(cornerRadius=d3_functor(v),arc):cornerRadius},arc.padRadius=function(v){return arguments.length?(padRadius=v==d3_svg_arcAuto?d3_svg_arcAuto:d3_functor(v),arc):padRadius},arc.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),arc):startAngle},arc.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),arc):endAngle},arc.padAngle=function(v){return arguments.length?(padAngle=d3_functor(v),arc):padAngle},arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-halfπ;return[Math.cos(a)*r,Math.sin(a)*r]},arc};var d3_svg_arcAuto="auto";d3.svg.line=function(){return d3_svg_line(d3_identity)};var d3_svg_lineInterpolators=d3.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});d3_svg_lineInterpolators.forEach(function(key,value){value.key=key,value.closed=/-closed$/.test(key)});var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var line=d3_svg_line(d3_svg_lineRadial);return line.radius=line.x,delete line.x,line.angle=line.y,delete line.y,line},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,d3.svg.area=function(){return d3_svg_area(d3_identity)},d3.svg.area.radial=function(){var area=d3_svg_area(d3_svg_lineRadial);return area.radius=area.x,delete area.x,area.innerRadius=area.x0,delete area.x0,area.outerRadius=area.x1,delete area.x1,area.angle=area.y,delete area.y,area.startAngle=area.y0,delete area.y0,area.endAngle=area.y1,delete area.y1,area},d3.svg.chord=function(){function chord(d,i){var s=subgroup(this,source,d,i),t=subgroup(this,target,d,i);return"M"+s.p0+arc(s.r,s.p1,s.a1-s.a0)+(equals(s,t)?curve(s.r,s.p1,s.r,s.p0):curve(s.r,s.p1,t.r,t.p0)+arc(t.r,t.p1,t.a1-t.a0)+curve(t.r,t.p1,s.r,s.p0))+"Z"}function subgroup(self,f,d,i){var subgroup=f.call(self,d,i),r=radius.call(self,subgroup,i),a0=startAngle.call(self,subgroup,i)-halfπ,a1=endAngle.call(self,subgroup,i)-halfπ;return{r:r,a0:a0,a1:a1,p0:[r*Math.cos(a0),r*Math.sin(a0)],p1:[r*Math.cos(a1),r*Math.sin(a1)]}}function equals(a,b){return a.a0==b.a0&&a.a1==b.a1}function arc(r,p,a){return"A"+r+","+r+" 0 "+ +(a>π)+",1 "+p}function curve(r0,p0,r1,p1){return"Q 0,0 "+p1}var source=d3_source,target=d3_target,radius=d3_svg_chordRadius,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle;return chord.radius=function(v){return arguments.length?(radius=d3_functor(v),chord):radius},chord.source=function(v){return arguments.length?(source=d3_functor(v),chord):source},chord.target=function(v){return arguments.length?(target=d3_functor(v),chord):target},chord.startAngle=function(v){return arguments.length?(startAngle=d3_functor(v),chord):startAngle},chord.endAngle=function(v){return arguments.length?(endAngle=d3_functor(v),chord):endAngle},chord},d3.svg.diagonal=function(){function diagonal(d,i){var p0=source.call(this,d,i),p3=target.call(this,d,i),m=(p0.y+p3.y)/2,p=[p0,{x:p0.x,y:m},{x:p3.x,y:m},p3];return p=p.map(projection),"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3]}var source=d3_source,target=d3_target,projection=d3_svg_diagonalProjection;return diagonal.source=function(x){return arguments.length?(source=d3_functor(x),diagonal):source},diagonal.target=function(x){return arguments.length?(target=d3_functor(x),diagonal):target},diagonal.projection=function(x){return arguments.length?(projection=x,diagonal):projection},diagonal},d3.svg.diagonal.radial=function(){var diagonal=d3.svg.diagonal(),projection=d3_svg_diagonalProjection,projection_=diagonal.projection;return diagonal.projection=function(x){return arguments.length?projection_(d3_svg_diagonalRadialProjection(projection=x)):projection},diagonal},d3.svg.symbol=function(){function symbol(d,i){return(d3_svg_symbols.get(type.call(this,d,i))||d3_svg_symbolCircle)(size.call(this,d,i))}var type=d3_svg_symbolType,size=d3_svg_symbolSize;return symbol.type=function(x){return arguments.length?(type=d3_functor(x),symbol):type},symbol.size=function(x){return arguments.length?(size=d3_functor(x),symbol):size},symbol};var d3_svg_symbols=d3.map({circle:d3_svg_symbolCircle,cross:function(size){var r=Math.sqrt(size/5)/2;return"M"+-3*r+","+-r+"H"+-r+"V"+-3*r+"H"+r+"V"+-r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+-r+"V"+r+"H"+-3*r+"Z"},diamond:function(size){var ry=Math.sqrt(size/(2*d3_svg_symbolTan30)),rx=ry*d3_svg_symbolTan30;return"M0,"+-ry+"L"+rx+",0 0,"+ry+" "+-rx+",0Z"},square:function(size){var r=Math.sqrt(size)/2;return"M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z"},"triangle-down":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+ry+"L"+rx+","+-ry+" "+-rx+","+-ry+"Z"},"triangle-up":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+-ry+"L"+rx+","+ry+" "+-rx+","+ry+"Z"}});d3.svg.symbolTypes=d3_svg_symbols.keys();var d3_svg_symbolSqrt3=Math.sqrt(3),d3_svg_symbolTan30=Math.tan(30*d3_radians);d3_selectionPrototype.transition=function(name){for(var subgroup,node,id=d3_transitionInheritId||++d3_transitionId,ns=d3_transitionNamespace(name),subgroups=[],transition=d3_transitionInherit||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&d3_transitionNode(node,i,ns,id,transition),subgroup.push(node)}return d3_transition(subgroups,ns,id)},d3_selectionPrototype.interrupt=function(name){return this.each(null==name?d3_selection_interrupt:d3_selection_interruptNS(d3_transitionNamespace(name)))};var d3_transitionInheritId,d3_transitionInherit,d3_selection_interrupt=d3_selection_interruptNS(d3_transitionNamespace()),d3_transitionPrototype=[],d3_transitionId=0;d3_transitionPrototype.call=d3_selectionPrototype.call,d3_transitionPrototype.empty=d3_selectionPrototype.empty,d3_transitionPrototype.node=d3_selectionPrototype.node,d3_transitionPrototype.size=d3_selectionPrototype.size,d3.transition=function(selection,name){return selection&&selection.transition?d3_transitionInheritId?selection.transition(name):selection:d3.selection().transition(selection)},d3.transition.prototype=d3_transitionPrototype,d3_transitionPrototype.select=function(selector){var subgroup,subnode,node,id=this.id,ns=this.namespace,subgroups=[];selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;)(node=group[i])&&(subnode=selector.call(node,node.__data__,i,j))?("__data__"in node&&(subnode.__data__=node.__data__),d3_transitionNode(subnode,i,ns,id,node[ns][id]),subgroup.push(subnode)):subgroup.push(null)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.selectAll=function(selector){var subgroup,subnodes,node,subnode,transition,id=this.id,ns=this.namespace,subgroups=[];selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;)for(var group=this[j],i=-1,n=group.length;++i<n;)if(node=group[i]){transition=node[ns][id],subnodes=selector.call(node,node.__data__,i,j),subgroups.push(subgroup=[]);for(var k=-1,o=subnodes.length;++k<o;)(subnode=subnodes[k])&&d3_transitionNode(subnode,k,ns,id,transition),subgroup.push(subnode)}return d3_transition(subgroups,ns,id)},d3_transitionPrototype.filter=function(filter){var subgroup,group,node,subgroups=[];"function"!=typeof filter&&(filter=d3_selection_filter(filter));for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++)(node=group[i])&&filter.call(node,node.__data__,i,j)&&subgroup.push(node)}return d3_transition(subgroups,this.namespace,this.id)},d3_transitionPrototype.tween=function(name,tween){var id=this.id,ns=this.namespace;return arguments.length<2?this.node()[ns][id].tween.get(name):d3_selection_each(this,null==tween?function(node){node[ns][id].tween.remove(name)}:function(node){node[ns][id].tween.set(name,tween)})},d3_transitionPrototype.attr=function(nameNS,value){function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrTween(b){return null==b?attrNull:(b+="",function(){var i,a=this.getAttribute(name);return a!==b&&(i=interpolate(a,b),function(t){this.setAttribute(name,i(t))})})}function attrTweenNS(b){return null==b?attrNullNS:(b+="",function(){var i,a=this.getAttributeNS(name.space,name.local);return a!==b&&(i=interpolate(a,b),function(t){this.setAttributeNS(name.space,name.local,i(t))})})}if(arguments.length<2){for(value in nameNS)this.attr(value,nameNS[value]);return this}var interpolate="transform"==nameNS?d3_interpolateTransform:d3_interpolate,name=d3.ns.qualify(nameNS);return d3_transition_tween(this,"attr."+nameNS,value,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.attrTween=function(nameNS,tween){function attrTween(d,i){var f=tween.call(this,d,i,this.getAttribute(name));return f&&function(t){this.setAttribute(name,f(t))}}function attrTweenNS(d,i){var f=tween.call(this,d,i,this.getAttributeNS(name.space,name.local));return f&&function(t){this.setAttributeNS(name.space,name.local,f(t))}}var name=d3.ns.qualify(nameNS);return this.tween("attr."+nameNS,name.local?attrTweenNS:attrTween)},d3_transitionPrototype.style=function(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleString(b){return null==b?styleNull:(b+="",function(){var i,a=d3_window(this).getComputedStyle(this,null).getPropertyValue(name);return a!==b&&(i=d3_interpolate(a,b),function(t){this.style.setProperty(name,i(t),priority)})})}var n=arguments.length;if(n<3){if("string"!=typeof name){n<2&&(value="");for(priority in name)this.style(priority,name[priority],value);return this}priority=""}return d3_transition_tween(this,"style."+name,value,styleString)},d3_transitionPrototype.styleTween=function(name,tween,priority){function styleTween(d,i){var f=tween.call(this,d,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(name));return f&&function(t){this.style.setProperty(name,f(t),priority)}}return arguments.length<3&&(priority=""),this.tween("style."+name,styleTween)},d3_transitionPrototype.text=function(value){return d3_transition_tween(this,"text",value,d3_transition_text)},d3_transitionPrototype.remove=function(){var ns=this.namespace;return this.each("end.transition",function(){var p;this[ns].count<2&&(p=this.parentNode)&&p.removeChild(this)})},d3_transitionPrototype.ease=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].ease:("function"!=typeof value&&(value=d3.ease.apply(d3,arguments)),d3_selection_each(this,function(node){node[ns][id].ease=value}))},d3_transitionPrototype.delay=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].delay:d3_selection_each(this,"function"==typeof value?function(node,i,j){node[ns][id].delay=+value.call(node,node.__data__,i,j)}:(value=+value,function(node){node[ns][id].delay=value}))},d3_transitionPrototype.duration=function(value){var id=this.id,ns=this.namespace;return arguments.length<1?this.node()[ns][id].duration:d3_selection_each(this,"function"==typeof value?function(node,i,j){node[ns][id].duration=Math.max(1,value.call(node,node.__data__,i,j))}:(value=Math.max(1,value),function(node){node[ns][id].duration=value}))},d3_transitionPrototype.each=function(type,listener){var id=this.id,ns=this.namespace;if(arguments.length<2){var inherit=d3_transitionInherit,inheritId=d3_transitionInheritId;try{d3_transitionInheritId=id,d3_selection_each(this,function(node,i,j){d3_transitionInherit=node[ns][id],type.call(node,node.__data__,i,j)})}finally{d3_transitionInherit=inherit,d3_transitionInheritId=inheritId}}else d3_selection_each(this,function(node){var transition=node[ns][id];(transition.event||(transition.event=d3.dispatch("start","end","interrupt"))).on(type,listener)});return this},d3_transitionPrototype.transition=function(){for(var subgroup,group,node,transition,id0=this.id,id1=++d3_transitionId,ns=this.namespace,subgroups=[],j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++)(node=group[i])&&(transition=node[ns][id0],d3_transitionNode(node,i,ns,id1,{time:transition.time,ease:transition.ease,delay:transition.delay+transition.duration,duration:transition.duration})),subgroup.push(node)}return d3_transition(subgroups,ns,id1)},d3.svg.axis=function(){function axis(g){g.each(function(){var tickTransform,g=d3.select(this),scale0=this.__chart__||scale,scale1=this.__chart__=scale.copy(),ticks=null==tickValues?scale1.ticks?scale1.ticks.apply(scale1,tickArguments_):scale1.domain():tickValues,tickFormat=null==tickFormat_?scale1.tickFormat?scale1.tickFormat.apply(scale1,tickArguments_):d3_identity:tickFormat_,tick=g.selectAll(".tick").data(ticks,scale1),tickEnter=tick.enter().insert("g",".domain").attr("class","tick").style("opacity",ε),tickExit=d3.transition(tick.exit()).style("opacity",ε).remove(),tickUpdate=d3.transition(tick.order()).style("opacity",1),tickSpacing=Math.max(innerTickSize,0)+tickPadding,range=d3_scaleRange(scale1),path=g.selectAll(".domain").data([0]),pathUpdate=(path.enter().append("path").attr("class","domain"),d3.transition(path));tickEnter.append("line"),tickEnter.append("text");var x1,x2,y1,y2,lineEnter=tickEnter.select("line"),lineUpdate=tickUpdate.select("line"),text=tick.select("text").text(tickFormat),textEnter=tickEnter.select("text"),textUpdate=tickUpdate.select("text"),sign="top"===orient||"left"===orient?-1:1;if("bottom"===orient||"top"===orient?(tickTransform=d3_svg_axisX,x1="x",y1="y",x2="x2",y2="y2",text.attr("dy",sign<0?"0em":".71em").style("text-anchor","middle"),pathUpdate.attr("d","M"+range[0]+","+sign*outerTickSize+"V0H"+range[1]+"V"+sign*outerTickSize)):(tickTransform=d3_svg_axisY,x1="y",y1="x",x2="y2",y2="x2",text.attr("dy",".32em").style("text-anchor",sign<0?"end":"start"),pathUpdate.attr("d","M"+sign*outerTickSize+","+range[0]+"H0V"+range[1]+"H"+sign*outerTickSize)),lineEnter.attr(y2,sign*innerTickSize),textEnter.attr(y1,sign*tickSpacing),lineUpdate.attr(x2,0).attr(y2,sign*innerTickSize),textUpdate.attr(x1,0).attr(y1,sign*tickSpacing),scale1.rangeBand){var x=scale1,dx=x.rangeBand()/2;scale0=scale1=function(d){return x(d)+dx}}else scale0.rangeBand?scale0=scale1:tickExit.call(tickTransform,scale1,scale0);tickEnter.call(tickTransform,scale0,scale1),tickUpdate.call(tickTransform,scale1,scale1)})}var tickFormat_,scale=d3.scale.linear(),orient=d3_svg_axisDefaultOrient,innerTickSize=6,outerTickSize=6,tickPadding=3,tickArguments_=[10],tickValues=null;return axis.scale=function(x){return arguments.length?(scale=x,axis):scale},axis.orient=function(x){return arguments.length?(orient=x in d3_svg_axisOrients?x+"":d3_svg_axisDefaultOrient,axis):orient},axis.ticks=function(){return arguments.length?(tickArguments_=d3_array(arguments),axis):tickArguments_},axis.tickValues=function(x){return arguments.length?(tickValues=x,axis):tickValues},axis.tickFormat=function(x){return arguments.length?(tickFormat_=x,axis):tickFormat_},axis.tickSize=function(x){var n=arguments.length;return n?(innerTickSize=+x,outerTickSize=+arguments[n-1],axis):innerTickSize},axis.innerTickSize=function(x){return arguments.length?(innerTickSize=+x,axis):innerTickSize},axis.outerTickSize=function(x){return arguments.length?(outerTickSize=+x,axis):outerTickSize},axis.tickPadding=function(x){return arguments.length?(tickPadding=+x,axis):tickPadding},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var d3_svg_axisDefaultOrient="bottom",d3_svg_axisOrients={top:1,right:1,bottom:1,left:1};d3.svg.brush=function(){function brush(g){g.each(function(){var g=d3.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),background=g.selectAll(".background").data([0]);background.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var resize=g.selectAll(".resize").data(resizes,d3_identity);resize.exit().remove(),resize.enter().append("g").attr("class",function(d){return"resize "+d}).style("cursor",function(d){return d3_svg_brushCursor[d]}).append("rect").attr("x",function(d){return/[ew]$/.test(d)?-3:null}).attr("y",function(d){return/^[ns]/.test(d)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),resize.style("display",brush.empty()?"none":null);var range,gUpdate=d3.transition(g),backgroundUpdate=d3.transition(background);x&&(range=d3_scaleRange(x),backgroundUpdate.attr("x",range[0]).attr("width",range[1]-range[0]),redrawX(gUpdate)),y&&(range=d3_scaleRange(y),backgroundUpdate.attr("y",range[0]).attr("height",range[1]-range[0]),redrawY(gUpdate)),redraw(gUpdate)})}function redraw(g){g.selectAll(".resize").attr("transform",function(d){return"translate("+xExtent[+/e$/.test(d)]+","+yExtent[+/^s/.test(d)]+")"})}function redrawX(g){g.select(".extent").attr("x",xExtent[0]),g.selectAll(".extent,.n>rect,.s>rect").attr("width",xExtent[1]-xExtent[0])}function redrawY(g){g.select(".extent").attr("y",yExtent[0]),g.selectAll(".extent,.e>rect,.w>rect").attr("height",yExtent[1]-yExtent[0])}function brushstart(){function keydown(){32==d3.event.keyCode&&(dragging||(center=null,origin[0]-=xExtent[1],origin[1]-=yExtent[1],dragging=2),d3_eventPreventDefault())}function keyup(){32==d3.event.keyCode&&2==dragging&&(origin[0]+=xExtent[1],origin[1]+=yExtent[1],dragging=0,d3_eventPreventDefault())}function brushmove(){var point=d3.mouse(target),moved=!1;offset&&(point[0]+=offset[0],point[1]+=offset[1]),dragging||(d3.event.altKey?(center||(center=[(xExtent[0]+xExtent[1])/2,(yExtent[0]+yExtent[1])/2]),origin[0]=xExtent[+(point[0]<center[0])],origin[1]=yExtent[+(point[1]<center[1])]):center=null),resizingX&&move1(point,x,0)&&(redrawX(g),moved=!0),resizingY&&move1(point,y,1)&&(redrawY(g),moved=!0),moved&&(redraw(g),event_({type:"brush",mode:dragging?"move":"resize"}))}function move1(point,scale,i){var min,max,range=d3_scaleRange(scale),r0=range[0],r1=range[1],position=origin[i],extent=i?yExtent:xExtent,size=extent[1]-extent[0];if(dragging&&(r0-=position,r1-=size+position),min=(i?yClamp:xClamp)?Math.max(r0,Math.min(r1,point[i])):point[i],dragging?max=(min+=position)+size:(center&&(position=Math.max(r0,Math.min(r1,2*center[i]-min))),position<min?(max=min,min=position):max=position),extent[0]!=min||extent[1]!=max)return i?yExtentDomain=null:xExtentDomain=null,extent[0]=min,extent[1]=max,!0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),d3.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),dragRestore(),event_({type:"brushend"})}var center,offset,target=this,eventTarget=d3.select(d3.event.target),event_=event.of(target,arguments),g=d3.select(target),resizing=eventTarget.datum(),resizingX=!/^(n|s)$/.test(resizing)&&x,resizingY=!/^(e|w)$/.test(resizing)&&y,dragging=eventTarget.classed("extent"),dragRestore=d3_event_dragSuppress(target),origin=d3.mouse(target),w=d3.select(d3_window(target)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(d3.event.changedTouches?w.on("touchmove.brush",brushmove).on("touchend.brush",brushend):w.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt(),dragging)origin[0]=xExtent[0]-origin[0],origin[1]=yExtent[0]-origin[1];else if(resizing){var ex=+/w$/.test(resizing),ey=+/^n/.test(resizing);offset=[xExtent[1-ex]-origin[0],yExtent[1-ey]-origin[1]],origin[0]=xExtent[ex],origin[1]=yExtent[ey]}else d3.event.altKey&&(center=origin.slice());g.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",eventTarget.style("cursor")),event_({type:"brushstart"}),brushmove()}var xExtentDomain,yExtentDomain,event=d3_eventDispatch(brush,"brushstart","brush","brushend"),x=null,y=null,xExtent=[0,0],yExtent=[0,0],xClamp=!0,yClamp=!0,resizes=d3_svg_brushResizes[0];return brush.event=function(g){g.each(function(){var event_=event.of(this,arguments),extent1={x:xExtent,y:yExtent,i:xExtentDomain,j:yExtentDomain},extent0=this.__chart__||extent1;this.__chart__=extent1,d3_transitionInheritId?d3.select(this).transition().each("start.brush",function(){xExtentDomain=extent0.i,yExtentDomain=extent0.j,xExtent=extent0.x,yExtent=extent0.y,event_({type:"brushstart"})}).tween("brush:brush",function(){var xi=d3_interpolateArray(xExtent,extent1.x),yi=d3_interpolateArray(yExtent,extent1.y);return xExtentDomain=yExtentDomain=null,function(t){xExtent=extent1.x=xi(t),yExtent=extent1.y=yi(t),event_({type:"brush",mode:"resize"})}}).each("end.brush",function(){xExtentDomain=extent1.i,yExtentDomain=extent1.j,event_({type:"brush",mode:"resize"}),event_({type:"brushend"})}):(event_({type:"brushstart"}),event_({type:"brush",mode:"resize"}),event_({type:"brushend"}))})},brush.x=function(z){return arguments.length?(x=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):x},brush.y=function(z){return arguments.length?(y=z,resizes=d3_svg_brushResizes[!x<<1|!y],brush):y},brush.clamp=function(z){return arguments.length?(x&&y?(xClamp=!!z[0],yClamp=!!z[1]):x?xClamp=!!z:y&&(yClamp=!!z),brush):x&&y?[xClamp,yClamp]:x?xClamp:y?yClamp:null},brush.extent=function(z){var x0,x1,y0,y1,t;return arguments.length?(x&&(x0=z[0],x1=z[1],y&&(x0=x0[0],x1=x1[0]),xExtentDomain=[x0,x1],x.invert&&(x0=x(x0),x1=x(x1)),x1<x0&&(t=x0,x0=x1,x1=t),x0==xExtent[0]&&x1==xExtent[1]||(xExtent=[x0,x1])),y&&(y0=z[0],y1=z[1],x&&(y0=y0[1],y1=y1[1]),yExtentDomain=[y0,y1],y.invert&&(y0=y(y0),y1=y(y1)),y1<y0&&(t=y0,y0=y1,y1=t),y0==yExtent[0]&&y1==yExtent[1]||(yExtent=[y0,y1])),brush):(x&&(xExtentDomain?(x0=xExtentDomain[0],x1=xExtentDomain[1]):(x0=xExtent[0],x1=xExtent[1],x.invert&&(x0=x.invert(x0),x1=x.invert(x1)),x1<x0&&(t=x0,x0=x1,x1=t))),y&&(yExtentDomain?(y0=yExtentDomain[0],y1=yExtentDomain[1]):(y0=yExtent[0],y1=yExtent[1],y.invert&&(y0=y.invert(y0),y1=y.invert(y1)),y1<y0&&(t=y0,y0=y1,y1=t))),x&&y?[[x0,y0],[x1,y1]]:x?[x0,x1]:y&&[y0,y1])},brush.clear=function(){return brush.empty()||(xExtent=[0,0],yExtent=[0,0],xExtentDomain=yExtentDomain=null),brush},brush.empty=function(){return!!x&&xExtent[0]==xExtent[1]||!!y&&yExtent[0]==yExtent[1]},d3.rebind(brush,event,"on")};var d3_svg_brushCursor={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},d3_svg_brushResizes=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],d3_time_format=d3_time.format=d3_locale_enUS.timeFormat,d3_time_formatUtc=d3_time_format.utc,d3_time_formatIso=d3_time_formatUtc("%Y-%m-%dT%H:%M:%S.%LZ");d3_time_format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:d3_time_formatIso,d3_time_formatIsoNative.parse=function(string){
var date=new Date(string);return isNaN(date)?null:date},d3_time_formatIsoNative.toString=d3_time_formatIso.toString,d3_time.second=d3_time_interval(function(date){return new d3_date(1e3*Math.floor(date/1e3))},function(date,offset){date.setTime(date.getTime()+1e3*Math.floor(offset))},function(date){return date.getSeconds()}),d3_time.seconds=d3_time.second.range,d3_time.seconds.utc=d3_time.second.utc.range,d3_time.minute=d3_time_interval(function(date){return new d3_date(6e4*Math.floor(date/6e4))},function(date,offset){date.setTime(date.getTime()+6e4*Math.floor(offset))},function(date){return date.getMinutes()}),d3_time.minutes=d3_time.minute.range,d3_time.minutes.utc=d3_time.minute.utc.range,d3_time.hour=d3_time_interval(function(date){var timezone=date.getTimezoneOffset()/60;return new d3_date(36e5*(Math.floor(date/36e5-timezone)+timezone))},function(date,offset){date.setTime(date.getTime()+36e5*Math.floor(offset))},function(date){return date.getHours()}),d3_time.hours=d3_time.hour.range,d3_time.hours.utc=d3_time.hour.utc.range,d3_time.month=d3_time_interval(function(date){return date=d3_time.day(date),date.setDate(1),date},function(date,offset){date.setMonth(date.getMonth()+offset)},function(date){return date.getMonth()}),d3_time.months=d3_time.month.range,d3_time.months.utc=d3_time.month.utc.range;var d3_time_scaleSteps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],d3_time_scaleLocalMethods=[[d3_time.second,1],[d3_time.second,5],[d3_time.second,15],[d3_time.second,30],[d3_time.minute,1],[d3_time.minute,5],[d3_time.minute,15],[d3_time.minute,30],[d3_time.hour,1],[d3_time.hour,3],[d3_time.hour,6],[d3_time.hour,12],[d3_time.day,1],[d3_time.day,2],[d3_time.week,1],[d3_time.month,1],[d3_time.month,3],[d3_time.year,1]],d3_time_scaleLocalFormat=d3_time_format.multi([[".%L",function(d){return d.getMilliseconds()}],[":%S",function(d){return d.getSeconds()}],["%I:%M",function(d){return d.getMinutes()}],["%I %p",function(d){return d.getHours()}],["%a %d",function(d){return d.getDay()&&1!=d.getDate()}],["%b %d",function(d){return 1!=d.getDate()}],["%B",function(d){return d.getMonth()}],["%Y",d3_true]]),d3_time_scaleMilliseconds={range:function(start,stop,step){return d3.range(Math.ceil(start/step)*step,+stop,step).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};d3_time_scaleLocalMethods.year=d3_time.year,d3_time.scale=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleLocalMethods,d3_time_scaleLocalFormat)};var d3_time_scaleUtcMethods=d3_time_scaleLocalMethods.map(function(m){return[m[0].utc,m[1]]}),d3_time_scaleUtcFormat=d3_time_formatUtc.multi([[".%L",function(d){return d.getUTCMilliseconds()}],[":%S",function(d){return d.getUTCSeconds()}],["%I:%M",function(d){return d.getUTCMinutes()}],["%I %p",function(d){return d.getUTCHours()}],["%a %d",function(d){return d.getUTCDay()&&1!=d.getUTCDate()}],["%b %d",function(d){return 1!=d.getUTCDate()}],["%B",function(d){return d.getUTCMonth()}],["%Y",d3_true]]);d3_time_scaleUtcMethods.year=d3_time.year.utc,d3_time.scale.utc=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleUtcMethods,d3_time_scaleUtcFormat)},d3.text=d3_xhrType(function(request){return request.responseText}),d3.json=function(url,callback){return d3_xhr(url,"application/json",d3_json,callback)},d3.html=function(url,callback){return d3_xhr(url,"text/html",d3_html,callback)},d3.xml=d3_xhrType(function(request){return request.responseXML}),"function"==typeof define&&define.amd?(this.d3=d3,define(d3)):"object"==typeof module&&module.exports?module.exports=d3:this.d3=d3}()},{}],192:[function(require,module,exports){!function(name,definition){"undefined"!=typeof module?module.exports=definition():"function"==typeof define&&"object"==typeof define.amd?define(definition):this[name]=definition()}("domready",function(){var listener,fns=[],doc=document,hack=doc.documentElement.doScroll,domContentLoaded="DOMContentLoaded",loaded=(hack?/^loaded|^c/:/^loaded|^i|^c/).test(doc.readyState);return loaded||doc.addEventListener(domContentLoaded,listener=function(){for(doc.removeEventListener(domContentLoaded,listener),loaded=1;listener=fns.shift();)listener()}),function(fn){loaded?setTimeout(fn,0):fns.push(fn)}})},{}],193:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],194:[function(require,module,exports){!function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);return"function"!==type&&!jQuery.isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj)}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not})}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function createOptions(options){var object={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}function Data(){this.expando=jQuery.expando+Data.uid++}function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data||"false"!==data&&("null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data)}catch(e){}dataUser.set(elem,key,data)}else data=void 0;return data}function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3],valueParts=valueParts||[],initialInUnit=+initial||1;do scale=scale||".5",initialInUnit/=scale,jQuery.style(elem,prop,initialInUnit+unit);while(scale!==(scale=currentValue()/initial)&&1!==scale&&--maxIterations)}return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}function getAll(context,tag){var ret="undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag||"*"):"undefined"!=typeof context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if(selection&&jQuery.inArray(elem,selection)>-1)ignored&&ignored.push(elem);else if(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&&(pdataOld=dataPriv.access(src),pdataCur=dataPriv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i])}dataUser.hasData(src)&&(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue)}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&&(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return collection}function remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&jQuery.contains(node.ownerDocument,node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=iframe[0].contentDocument,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:void 0,""!==ret&&void 0!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),computed&&!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){return conditionFn()?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(name){if(name in emptyStyle)return name;for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in emptyStyle)return name}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;i<4;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(document.msFullscreenElement&&window.top!==window&&elem.getClientRects().length&&(val=Math.round(100*elem.getBoundingClientRect()[name])),val<=0||null==val){if(val=curCSS(elem,name,styles),(val<0||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;index<length;index++)elem=elements[index],elem.style&&(values[index]=dataPriv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=dataPriv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||dataPriv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;index<length;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return window.setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),checkDisplay="none"===display?dataPriv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display,"inline"===checkDisplay&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else{dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;dataPriv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);index<length;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return jQuery.isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)),result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}var arr=[],document=window.document,slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},version="2.2.1",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&realStringObj-parseFloat(realStringObj)+1>=0},isPlainObject:function(obj){return"object"===jQuery.type(obj)&&!obj.nodeType&&!jQuery.isWindow(obj)&&!(obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;i<length&&callback.call(obj[i],i,obj[i])!==!1;i++);else for(i in obj)if(callback.call(obj[i],i,obj[i])===!1)break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;i<length;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if("string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn))return args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy},now:Date.now,support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),
results}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(1!==nodeType)newContext=context,newSelector=selector;else if("object"!==context.nodeName.toLowerCase()){for((nid=context.getAttribute("id"))?nid=nid.replace(rescape,"\\$&"):context.setAttribute("id",nid=expando),groups=tokenize(selector),i=groups.length,nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";i--;)groups[i]=nidselect+" "+toSelector(groups[i]);newSelector=groups.join(","),newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&"undefined"!=typeof context.getElementsByTagName&&context}function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={}),(oldCache=uniqueCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(uniqueCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context===document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument===document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return!!documentElement&&"HTML"!==documentElement.nodeName},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=document.documentElement,documentIsHTML=!isXML(document),(parent=document.defaultView)&&parent.top!==parent&&(parent.addEventListener?parent.addEventListener("unload",unloadHandler,!1):parent.attachEvent&&parent.attachEvent("onunload",unloadHandler)),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(document.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if("undefined"!=typeof context.getElementsByClassName&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&&(assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},document):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||"undefined"!=typeof elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(node=parent,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=nodeIndex&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(node=elem,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=nodeIndex),diff===!1)for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&(outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),uniqueCache[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){if(!isXML&&"input"===elem.nodeName.toLowerCase())return elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;if(!isXML)return elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var dir=function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},siblings=function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;i<len;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,"string"==typeof selector){if(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?void 0!==root.ready?root.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);
var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g;jQuery.Callbacks=function(options){options="string"==typeof options?createOptions(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){for(locked=options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)list[firingIndex].apply(memory[0],memory[1])===!1&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")},self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){jQuery.isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==jQuery.type(arg)&&add(arg)})}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),index<=firingIndex&&firingIndex--}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){return list&&(list=[]),this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=args||[],args=[context,args.slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);i<length;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed))),readyList.promise(obj)},jQuery.ready.promise();var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};Data.uid=1,Data.prototype={register:function(owner,initial){var value=initial||{};return owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,writable:!0,configurable:!0}),owner[this.expando]},cache:function(owner){if(!acceptData(owner))return{};var value=owner[this.expando];return value||(value={},acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if("string"==typeof data)cache[data]=value;else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){return void 0===key?this.cache(owner):owner[this.expando]&&owner[this.expando][key]},access:function(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?(stored=this.get(owner,key),void 0!==stored?stored:this.get(owner,jQuery.camelCase(key))):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(void 0!==cache){if(void 0===key)this.register(owner);else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(rnotwhite)||[])),i=name.length;for(;i--;)delete cache[name[i]]}(void 0===key||jQuery.isEmptyObject(cache))&&(owner.nodeType?owner[this.expando]=void 0:delete owner[this.expando])}},hasData:function(owner){var cache=owner[this.expando];return void 0!==cache&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=dataUser.get(elem),1===elem.nodeType&&!dataPriv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&(name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name])));dataPriv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data,camelKey;if(elem&&void 0===value){if(data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,"-$&").toLowerCase()),void 0!==data)return data;if(camelKey=jQuery.camelCase(key),data=dataUser.get(elem,camelKey),void 0!==data)return data;if(data=dataAttr(elem,camelKey,void 0),void 0!==data)return data}else camelKey=jQuery.camelCase(key),this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value),key.indexOf("-")>-1&&void 0!==data&&dataUser.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=dataPriv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=dataPriv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([\w:-]+)/,rscriptType=/^$|\/(?:java|ecma)script/i,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var rhtml=/<|&#?\w+;/;!function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue}();var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(elemData)for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return"undefined"!=typeof jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.rnamespace&&!event.rnamespace.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&("click"!==event.type||isNaN(event.button)||event.button<1))for(;cur!==this;cur=cur.parentNode||this)if(1===cur.nodeType&&(cur.disabled!==!0||"click"!==event.type)){for(matches=[],i=0;i<delegateCount;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matches[sel]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&src.returnValue===!1?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===target||jQuery.contains(target,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return selector!==!1&&"function"!=typeof selector||(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;i<l;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=void 0}elem[dataUser.expando]&&(elem[dataUser.expando]=void 0)}}}),jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={HTML:"block",BODY:"block"},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){var view=elem.ownerDocument.defaultView;return view&&view.opener||(view=window),view.getComputedStyle(elem)},swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret},documentElement=document.documentElement;!function(){function computeStyleTests(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",div.innerHTML="",documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal="1%"!==divStyle.top,reliableMarginLeftVal="2px"===divStyle.marginLeft,boxSizingReliableVal="4px"===divStyle.width,div.style.marginRight="50%",pixelMarginRightVal="4px"===divStyle.marginRight,documentElement.removeChild(container)}var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",container.appendChild(div),jQuery.extend(support,{pixelPosition:function(){return computeStyleTests(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computeStyleTests(),boxSizingReliableVal},pixelMarginRight:function(){return null==boxSizingReliableVal&&computeStyleTests(),pixelMarginRightVal},reliableMarginLeft:function(){return null==boxSizingReliableVal&&computeStyleTests(),reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",documentElement.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight),documentElement.removeChild(container),div.removeChild(marginDiv),ret}}))}();var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value?hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name]:(type=typeof value,"string"===type&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null!=value&&value===value&&("number"===type&&(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)return rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles);
return subtract&&(matches=rcssNum.exec(value))&&"px"!==(matches[3]||"px")&&(elem.style[name]=value,value=jQuery.css(elem,name)),setPositiveNumber(elem,value,subtract)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed)return swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0)},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||null==tween.elem.style[jQuery.cssProps[tween.prop]]&&!jQuery.cssHooks[tween.prop]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.match(rnotwhite);for(var prop,index=0,length=props.length;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,null!=opt.queue&&opt.queue!==!0||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){window.clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return"undefined"==typeof elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0!==value?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret))},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&(" "+curValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),curValue!==finalValue&&elem.setAttribute("class",finalValue)}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof value&&value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&(" "+curValue+" ").replace(rclass," ")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>-1;)cur=cur.replace(" "+clazz+" "," ");finalValue=jQuery.trim(cur),curValue!==finalValue&&elem.setAttribute("class",finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):this.each(function(){var className,i,self,classNames;if("string"===type)for(i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else void 0!==value&&"boolean"!==type||(className=getClass(this),className&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||value===!1?"":dataPriv.get(this,"__className__")||""))})},hasClass:function(selector){var className,elem,i=0;for(className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className)>-1)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){return jQuery.trim(elem.value)}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;i<max;i++)if(option=options[i],(option.selected||i===index)&&(support.optDisabled?!option.disabled:null===option.getAttribute("disabled"))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>-1&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(eventPath.pop(),data)!==!1||!acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem),e.isDefaultPrevented()&&event.preventDefault()}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),support.focusin="onfocusin"in window,support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}});var location=window.location,nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml;if(!data||"string"!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=void 0}return xml&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&status<300||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(state<2)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=jQuery.event&&s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),2===state)return jqXHR;s.async&&s.timeout>0&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(state<2))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem)},jQuery.expr.filters.visible=function(elem){return elem.offsetWidth>0||elem.offsetHeight>0||elem.getClientRects().length>0};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null,"abort"===type?xhr.abort():"error"===type?"number"!=typeof xhr.status?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"text"!==(xhr.responseType||"text")||"string"!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=callback("error"),void 0!==xhr.onabort?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&&window.setTimeout(function(){callback&&errorCallback()})},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,
jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){void 0===overwritten?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"}),support.createHTMLDocument=function(){var body=document.implementation.createHTMLDocument("").body;return body.innerHTML="<form></form><form></form>",2===body.childNodes.length}(),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||(support.createHTMLDocument?document.implementation.createHTMLDocument(""):document);var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>-1&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(self,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,jQuery.extend({},curOffset))),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(box=elem.getBoundingClientRect(),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?win[prop]:elem[method]:void(win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val)},method,val,arguments.length)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)},size:function(){return this.length}}),jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery})},{}],195:[function(require,module,exports){"use strict";var yaml=require("./lib/js-yaml.js");module.exports=yaml},{"./lib/js-yaml.js":196}],196:[function(require,module,exports){"use strict";function deprecated(name){return function(){throw new Error("Function "+name+" is deprecated and cannot be used.")}}var loader=require("./js-yaml/loader"),dumper=require("./js-yaml/dumper");module.exports.Type=require("./js-yaml/type"),module.exports.Schema=require("./js-yaml/schema"),module.exports.FAILSAFE_SCHEMA=require("./js-yaml/schema/failsafe"),module.exports.JSON_SCHEMA=require("./js-yaml/schema/json"),module.exports.CORE_SCHEMA=require("./js-yaml/schema/core"),module.exports.DEFAULT_SAFE_SCHEMA=require("./js-yaml/schema/default_safe"),module.exports.DEFAULT_FULL_SCHEMA=require("./js-yaml/schema/default_full"),module.exports.load=loader.load,module.exports.loadAll=loader.loadAll,module.exports.safeLoad=loader.safeLoad,module.exports.safeLoadAll=loader.safeLoadAll,module.exports.dump=dumper.dump,module.exports.safeDump=dumper.safeDump,module.exports.YAMLException=require("./js-yaml/exception"),module.exports.MINIMAL_SCHEMA=require("./js-yaml/schema/failsafe"),module.exports.SAFE_SCHEMA=require("./js-yaml/schema/default_safe"),module.exports.DEFAULT_SCHEMA=require("./js-yaml/schema/default_full"),module.exports.scan=deprecated("scan"),module.exports.parse=deprecated("parse"),module.exports.compose=deprecated("compose"),module.exports.addConstructor=deprecated("addConstructor")},{"./js-yaml/dumper":198,"./js-yaml/exception":199,"./js-yaml/loader":200,"./js-yaml/schema":202,"./js-yaml/schema/core":203,"./js-yaml/schema/default_full":204,"./js-yaml/schema/default_safe":205,"./js-yaml/schema/failsafe":206,"./js-yaml/schema/json":207,"./js-yaml/type":208}],197:[function(require,module,exports){"use strict";function isNothing(subject){return"undefined"==typeof subject||null===subject}function isObject(subject){return"object"==typeof subject&&null!==subject}function toArray(sequence){return Array.isArray(sequence)?sequence:isNothing(sequence)?[]:[sequence]}function extend(target,source){var index,length,key,sourceKeys;if(source)for(sourceKeys=Object.keys(source),index=0,length=sourceKeys.length;index<length;index+=1)key=sourceKeys[index],target[key]=source[key];return target}function repeat(string,count){var cycle,result="";for(cycle=0;cycle<count;cycle+=1)result+=string;return result}function isNegativeZero(number){return 0===number&&Number.NEGATIVE_INFINITY===1/number}module.exports.isNothing=isNothing,module.exports.isObject=isObject,module.exports.toArray=toArray,module.exports.repeat=repeat,module.exports.isNegativeZero=isNegativeZero,module.exports.extend=extend},{}],198:[function(require,module,exports){"use strict";function compileStyleMap(schema,map){var result,keys,index,length,tag,style,type;if(null===map)return{};for(result={},keys=Object.keys(map),index=0,length=keys.length;index<length;index+=1)tag=keys[index],style=String(map[tag]),"!!"===tag.slice(0,2)&&(tag="tag:yaml.org,2002:"+tag.slice(2)),type=schema.compiledTypeMap[tag],type&&_hasOwnProperty.call(type.styleAliases,style)&&(style=type.styleAliases[style]),result[tag]=style;return result}function encodeHex(character){var string,handle,length;if(string=character.toString(16).toUpperCase(),character<=255)handle="x",length=2;else if(character<=65535)handle="u",length=4;else{if(!(character<=4294967295))throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF");handle="U",length=8}return"\\"+handle+common.repeat("0",length-string.length)+string}function State(options){this.schema=options.schema||DEFAULT_FULL_SCHEMA,this.indent=Math.max(1,options.indent||2),this.skipInvalid=options.skipInvalid||!1,this.flowLevel=common.isNothing(options.flowLevel)?-1:options.flowLevel,this.styleMap=compileStyleMap(this.schema,options.styles||null),this.sortKeys=options.sortKeys||!1,this.lineWidth=options.lineWidth||80,this.noRefs=options.noRefs||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(string,spaces){for(var line,ind=common.repeat(" ",spaces),position=0,next=-1,result="",length=string.length;position<length;)next=string.indexOf("\n",position),next===-1?(line=string.slice(position),position=length):(line=string.slice(position,next+1),position=next+1),line.length&&"\n"!==line&&(result+=ind),result+=line;return result}function generateNextLine(state,level){return"\n"+common.repeat(" ",state.indent*level)}function testImplicitResolving(state,str){var index,length,type;for(index=0,length=state.implicitTypes.length;index<length;index+=1)if(type=state.implicitTypes[index],type.resolve(str))return!0;return!1}function StringBuilder(source){this.source=source,this.result="",this.checkpoint=0}function writeScalar(state,object,level,iskey){var simple,first,spaceWrap,folded,literal,single,double,sawLineFeed,linePosition,longestLine,indent,max,character,position,escapeSeq,hexEsc,previous,lineLength,modifier,trailingLineBreaks,result;if(0===object.length)return void(state.dump="''");if(DEPRECATED_BOOLEANS_SYNTAX.indexOf(object)!==-1)return void(state.dump="'"+object+"'");for(simple=!0,first=object.length?object.charCodeAt(0):0,spaceWrap=CHAR_SPACE===first||CHAR_SPACE===object.charCodeAt(object.length-1),CHAR_MINUS!==first&&CHAR_QUESTION!==first&&CHAR_COMMERCIAL_AT!==first&&CHAR_GRAVE_ACCENT!==first||(simple=!1),spaceWrap||state.flowLevel>-1&&state.flowLevel<=level?(spaceWrap&&(simple=!1),folded=!1,literal=!1):(folded=!iskey,literal=!iskey),single=!0,double=new StringBuilder(object),sawLineFeed=!1,linePosition=0,longestLine=0,indent=state.indent*level,max=state.lineWidth,max===-1&&(max=9007199254740991),indent<40?max-=indent:max=40,position=0;position<object.length;position++){if(character=object.charCodeAt(position),simple){if(simpleChar(character))continue;simple=!1}single&&character===CHAR_SINGLE_QUOTE&&(single=!1),escapeSeq=ESCAPE_SEQUENCES[character],hexEsc=needsHexEscape(character),(escapeSeq||hexEsc)&&(character!==CHAR_LINE_FEED&&character!==CHAR_DOUBLE_QUOTE&&character!==CHAR_SINGLE_QUOTE?(folded=!1,literal=!1):character===CHAR_LINE_FEED&&(sawLineFeed=!0,single=!1,position>0&&(previous=object.charCodeAt(position-1),previous===CHAR_SPACE&&(literal=!1,folded=!1)),folded&&(lineLength=position-linePosition,linePosition=position,lineLength>longestLine&&(longestLine=lineLength))),character!==CHAR_DOUBLE_QUOTE&&(single=!1),double.takeUpTo(position),double.escapeChar())}if(simple&&testImplicitResolving(state,object)&&(simple=!1),modifier="",(folded||literal)&&(trailingLineBreaks=0,object.charCodeAt(object.length-1)===CHAR_LINE_FEED&&(trailingLineBreaks+=1,object.charCodeAt(object.length-2)===CHAR_LINE_FEED&&(trailingLineBreaks+=1)),0===trailingLineBreaks?modifier="-":2===trailingLineBreaks&&(modifier="+")),(literal&&longestLine<max||null!==state.tag)&&(folded=!1),sawLineFeed||(literal=!1),simple)state.dump=object;else if(single)state.dump="'"+object+"'";else if(folded)result=fold(object,max),state.dump=">"+modifier+"\n"+indentString(result,indent);else if(literal)modifier||(object=object.replace(/\n$/,"")),state.dump="|"+modifier+"\n"+indentString(object,indent);else{if(!double)throw new Error("Failed to dump scalar value");double.finish(),state.dump='"'+double.result+'"'}}function fold(object,max){var newLine,result="",position=0,length=object.length,trailing=/\n+$/.exec(object);for(trailing&&(length=trailing.index+1);position<length;)newLine=object.indexOf("\n",position),newLine>length||newLine===-1?(result&&(result+="\n\n"),result+=foldLine(object.slice(position,length),max),position=length):(result&&(result+="\n\n"),result+=foldLine(object.slice(position,newLine),max),position=newLine+1);return trailing&&"\n"!==trailing[0]&&(result+=trailing[0]),result}function foldLine(line,max){if(""===line)return line;for(var index,foldEnd,folded,foldRe=/[^\s] [^\s]/g,result="",prevMatch=0,foldStart=0,match=foldRe.exec(line);match;)index=match.index,index-foldStart>max&&(foldEnd=prevMatch!==foldStart?prevMatch:index,result&&(result+="\n"),folded=line.slice(foldStart,foldEnd),result+=folded,foldStart=foldEnd+1),prevMatch=index+1,match=foldRe.exec(line);return result&&(result+="\n"),result+=foldStart!==prevMatch&&line.length-foldStart>max?line.slice(foldStart,prevMatch)+"\n"+line.slice(prevMatch+1):line.slice(foldStart)}function simpleChar(character){return CHAR_TAB!==character&&CHAR_LINE_FEED!==character&&CHAR_CARRIAGE_RETURN!==character&&CHAR_COMMA!==character&&CHAR_LEFT_SQUARE_BRACKET!==character&&CHAR_RIGHT_SQUARE_BRACKET!==character&&CHAR_LEFT_CURLY_BRACKET!==character&&CHAR_RIGHT_CURLY_BRACKET!==character&&CHAR_SHARP!==character&&CHAR_AMPERSAND!==character&&CHAR_ASTERISK!==character&&CHAR_EXCLAMATION!==character&&CHAR_VERTICAL_LINE!==character&&CHAR_GREATER_THAN!==character&&CHAR_SINGLE_QUOTE!==character&&CHAR_DOUBLE_QUOTE!==character&&CHAR_PERCENT!==character&&CHAR_COLON!==character&&!ESCAPE_SEQUENCES[character]&&!needsHexEscape(character)}function needsHexEscape(character){return!(32<=character&&character<=126||133===character||160<=character&&character<=55295||57344<=character&&character<=65533||65536<=character&&character<=1114111)}function writeFlowSequence(state,level,object){var index,length,_result="",_tag=state.tag;for(index=0,length=object.length;index<length;index+=1)writeNode(state,level,object[index],!1,!1)&&(0!==index&&(_result+=", "),_result+=state.dump);state.tag=_tag,state.dump="["+_result+"]"}function writeBlockSequence(state,level,object,compact){var index,length,_result="",_tag=state.tag;for(index=0,length=object.length;index<length;index+=1)writeNode(state,level+1,object[index],!0,!0)&&(compact&&0===index||(_result+=generateNextLine(state,level)),_result+="- "+state.dump);state.tag=_tag,state.dump=_result||"[]"}function writeFlowMapping(state,level,object){var index,length,objectKey,objectValue,pairBuffer,_result="",_tag=state.tag,objectKeyList=Object.keys(object);for(index=0,length=objectKeyList.length;index<length;index+=1)pairBuffer="",0!==index&&(pairBuffer+=", "),objectKey=objectKeyList[index],objectValue=object[objectKey],writeNode(state,level,objectKey,!1,!1)&&(state.dump.length>1024&&(pairBuffer+="? "),pairBuffer+=state.dump+": ",writeNode(state,level,objectValue,!1,!1)&&(pairBuffer+=state.dump,_result+=pairBuffer));state.tag=_tag,state.dump="{"+_result+"}"}function writeBlockMapping(state,level,object,compact){var index,length,objectKey,objectValue,explicitPair,pairBuffer,_result="",_tag=state.tag,objectKeyList=Object.keys(object);if(state.sortKeys===!0)objectKeyList.sort();else if("function"==typeof state.sortKeys)objectKeyList.sort(state.sortKeys);else if(state.sortKeys)throw new YAMLException("sortKeys must be a boolean or a function");for(index=0,length=objectKeyList.length;index<length;index+=1)pairBuffer="",compact&&0===index||(pairBuffer+=generateNextLine(state,level)),objectKey=objectKeyList[index],objectValue=object[objectKey],writeNode(state,level+1,objectKey,!0,!0,!0)&&(explicitPair=null!==state.tag&&"?"!==state.tag||state.dump&&state.dump.length>1024,explicitPair&&(pairBuffer+=state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)?"?":"? "),pairBuffer+=state.dump,explicitPair&&(pairBuffer+=generateNextLine(state,level)),writeNode(state,level+1,objectValue,!0,explicitPair)&&(pairBuffer+=state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)?":":": ",pairBuffer+=state.dump,_result+=pairBuffer));state.tag=_tag,state.dump=_result||"{}"}function detectType(state,object,explicit){var _result,typeList,index,length,type,style;for(typeList=explicit?state.explicitTypes:state.implicitTypes,index=0,length=typeList.length;index<length;index+=1)if(type=typeList[index],(type.instanceOf||type.predicate)&&(!type.instanceOf||"object"==typeof object&&object instanceof type.instanceOf)&&(!type.predicate||type.predicate(object))){if(state.tag=explicit?type.tag:"?",type.represent){if(style=state.styleMap[type.tag]||type.defaultStyle,"[object Function]"===_toString.call(type.represent))_result=type.represent(object,style);else{if(!_hasOwnProperty.call(type.represent,style))throw new YAMLException("!<"+type.tag+'> tag resolver accepts not "'+style+'" style');_result=type.represent[style](object,style)}state.dump=_result}return!0}return!1}function writeNode(state,level,object,block,compact,iskey){state.tag=null,state.dump=object,detectType(state,object,!1)||detectType(state,object,!0);var type=_toString.call(state.dump);block&&(block=state.flowLevel<0||state.flowLevel>level);var duplicateIndex,duplicate,objectOrArray="[object Object]"===type||"[object Array]"===type;if(objectOrArray&&(duplicateIndex=state.duplicates.indexOf(object),duplicate=duplicateIndex!==-1),(null!==state.tag&&"?"!==state.tag||duplicate||2!==state.indent&&level>0)&&(compact=!1),duplicate&&state.usedDuplicates[duplicateIndex])state.dump="*ref_"+duplicateIndex;else{if(objectOrArray&&duplicate&&!state.usedDuplicates[duplicateIndex]&&(state.usedDuplicates[duplicateIndex]=!0),"[object Object]"===type)block&&0!==Object.keys(state.dump).length?(writeBlockMapping(state,level,state.dump,compact),duplicate&&(state.dump="&ref_"+duplicateIndex+state.dump)):(writeFlowMapping(state,level,state.dump),duplicate&&(state.dump="&ref_"+duplicateIndex+" "+state.dump));else if("[object Array]"===type)block&&0!==state.dump.length?(writeBlockSequence(state,level,state.dump,compact),duplicate&&(state.dump="&ref_"+duplicateIndex+state.dump)):(writeFlowSequence(state,level,state.dump),duplicate&&(state.dump="&ref_"+duplicateIndex+" "+state.dump));else{if("[object String]"!==type){if(state.skipInvalid)return!1;throw new YAMLException("unacceptable kind of an object to dump "+type)}"?"!==state.tag&&writeScalar(state,state.dump,level,iskey)}null!==state.tag&&"?"!==state.tag&&(state.dump="!<"+state.tag+"> "+state.dump)}return!0}function getDuplicateReferences(object,state){var index,length,objects=[],duplicatesIndexes=[];for(inspectNode(object,objects,duplicatesIndexes),index=0,length=duplicatesIndexes.length;index<length;index+=1)state.duplicates.push(objects[duplicatesIndexes[index]]);state.usedDuplicates=new Array(length)}function inspectNode(object,objects,duplicatesIndexes){var objectKeyList,index,length;if(null!==object&&"object"==typeof object)if(index=objects.indexOf(object),index!==-1)duplicatesIndexes.indexOf(index)===-1&&duplicatesIndexes.push(index);else if(objects.push(object),Array.isArray(object))for(index=0,length=object.length;index<length;index+=1)inspectNode(object[index],objects,duplicatesIndexes);else for(objectKeyList=Object.keys(object),index=0,length=objectKeyList.length;index<length;index+=1)inspectNode(object[objectKeyList[index]],objects,duplicatesIndexes)}function dump(input,options){options=options||{};var state=new State(options);return state.noRefs||getDuplicateReferences(input,state),writeNode(state,0,input,!0,!0)?state.dump+"\n":""}function safeDump(input,options){return dump(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}var common=require("./common"),YAMLException=require("./exception"),DEFAULT_FULL_SCHEMA=require("./schema/default_full"),DEFAULT_SAFE_SCHEMA=require("./schema/default_safe"),_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0",ESCAPE_SEQUENCES[7]="\\a",ESCAPE_SEQUENCES[8]="\\b",ESCAPE_SEQUENCES[9]="\\t",ESCAPE_SEQUENCES[10]="\\n",ESCAPE_SEQUENCES[11]="\\v",ESCAPE_SEQUENCES[12]="\\f",ESCAPE_SEQUENCES[13]="\\r",ESCAPE_SEQUENCES[27]="\\e",ESCAPE_SEQUENCES[34]='\\"',ESCAPE_SEQUENCES[92]="\\\\",ESCAPE_SEQUENCES[133]="\\N",ESCAPE_SEQUENCES[160]="\\_",ESCAPE_SEQUENCES[8232]="\\L",ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];StringBuilder.prototype.takeUpTo=function(position){var er;if(position<this.checkpoint)throw er=new Error("position should be > checkpoint"),er.position=position,er.checkpoint=this.checkpoint,er;return this.result+=this.source.slice(this.checkpoint,position),this.checkpoint=position,this},StringBuilder.prototype.escapeChar=function(){var character,esc;return character=this.source.charCodeAt(this.checkpoint),esc=ESCAPE_SEQUENCES[character]||encodeHex(character),this.result+=esc,this.checkpoint+=1,this},StringBuilder.prototype.finish=function(){this.source.length>this.checkpoint&&this.takeUpTo(this.source.length)},module.exports.dump=dump,module.exports.safeDump=safeDump},{"./common":197,"./exception":199,"./schema/default_full":204,"./schema/default_safe":205}],199:[function(require,module,exports){"use strict";function YAMLException(reason,mark){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name="YAMLException",this.reason=reason,this.mark=mark,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"")}YAMLException.prototype=Object.create(Error.prototype),YAMLException.prototype.constructor=YAMLException,YAMLException.prototype.toString=function(compact){var result=this.name+": ";return result+=this.reason||"(unknown reason)",!compact&&this.mark&&(result+=" "+this.mark.toString()),result},module.exports=YAMLException},{}],200:[function(require,module,exports){"use strict";function is_EOL(c){return 10===c||13===c}function is_WHITE_SPACE(c){return 9===c||32===c}function is_WS_OR_EOL(c){return 9===c||32===c||10===c||13===c}function is_FLOW_INDICATOR(c){return 44===c||91===c||93===c||123===c||125===c}function fromHexCode(c){var lc;return 48<=c&&c<=57?c-48:(lc=32|c,97<=lc&&lc<=102?lc-97+10:-1)}function escapedHexLen(c){return 120===c?2:117===c?4:85===c?8:0}function fromDecimalCode(c){return 48<=c&&c<=57?c-48:-1}function simpleEscapeSequence(c){return 48===c?"\0":97===c?"":98===c?"\b":116===c?"\t":9===c?"\t":110===c?"\n":118===c?"\x0B":102===c?"\f":114===c?"\r":101===c?"":32===c?" ":34===c?'"':47===c?"/":92===c?"\\":78===c?"":95===c?" ":76===c?"\u2028":80===c?"\u2029":""}function charFromCodepoint(c){return c<=65535?String.fromCharCode(c):String.fromCharCode((c-65536>>10)+55296,(c-65536&1023)+56320)}function State(input,options){this.input=input,this.filename=options.filename||null,this.schema=options.schema||DEFAULT_FULL_SCHEMA,this.onWarning=options.onWarning||null,this.legacy=options.legacy||!1,this.json=options.json||!1,this.listener=options.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=input.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function generateError(state,message){return new YAMLException(message,new Mark(state.filename,state.input,state.position,state.line,state.position-state.lineStart))}function throwError(state,message){throw generateError(state,message)}function throwWarning(state,message){state.onWarning&&state.onWarning.call(null,generateError(state,message))}function captureSegment(state,start,end,checkJson){var _position,_length,_character,_result;if(start<end){if(_result=state.input.slice(start,end),checkJson)for(_position=0,_length=_result.length;_position<_length;_position+=1)_character=_result.charCodeAt(_position),9===_character||32<=_character&&_character<=1114111||throwError(state,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(_result)&&throwError(state,"the stream contains non-printable characters");state.result+=_result}}function mergeMappings(state,destination,source,overridableKeys){var sourceKeys,key,index,quantity;for(common.isObject(source)||throwError(state,"cannot merge mappings; the provided source object is unacceptable"),sourceKeys=Object.keys(source),index=0,quantity=sourceKeys.length;index<quantity;index+=1)key=sourceKeys[index],_hasOwnProperty.call(destination,key)||(destination[key]=source[key],overridableKeys[key]=!0)}function storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode){var index,quantity;if(keyNode=String(keyNode),null===_result&&(_result={}),"tag:yaml.org,2002:merge"===keyTag)if(Array.isArray(valueNode))for(index=0,quantity=valueNode.length;index<quantity;index+=1)mergeMappings(state,_result,valueNode[index],overridableKeys);else mergeMappings(state,_result,valueNode,overridableKeys);else state.json||_hasOwnProperty.call(overridableKeys,keyNode)||!_hasOwnProperty.call(_result,keyNode)||throwError(state,"duplicated mapping key"),_result[keyNode]=valueNode,delete overridableKeys[keyNode];return _result}function readLineBreak(state){var ch;ch=state.input.charCodeAt(state.position),10===ch?state.position++:13===ch?(state.position++,10===state.input.charCodeAt(state.position)&&state.position++):throwError(state,"a line break is expected"),state.line+=1,state.lineStart=state.position}function skipSeparationSpace(state,allowComments,checkIndent){for(var lineBreaks=0,ch=state.input.charCodeAt(state.position);0!==ch;){for(;is_WHITE_SPACE(ch);)ch=state.input.charCodeAt(++state.position);if(allowComments&&35===ch)do ch=state.input.charCodeAt(++state.position);while(10!==ch&&13!==ch&&0!==ch);if(!is_EOL(ch))break;for(readLineBreak(state),ch=state.input.charCodeAt(state.position),lineBreaks++,state.lineIndent=0;32===ch;)state.lineIndent++,ch=state.input.charCodeAt(++state.position)}return checkIndent!==-1&&0!==lineBreaks&&state.lineIndent<checkIndent&&throwWarning(state,"deficient indentation"),lineBreaks}function testDocumentSeparator(state){var ch,_position=state.position;return ch=state.input.charCodeAt(_position),!(45!==ch&&46!==ch||ch!==state.input.charCodeAt(_position+1)||ch!==state.input.charCodeAt(_position+2)||(_position+=3,ch=state.input.charCodeAt(_position),0!==ch&&!is_WS_OR_EOL(ch)))}function writeFoldedLines(state,count){1===count?state.result+=" ":count>1&&(state.result+=common.repeat("\n",count-1))}function readPlainScalar(state,nodeIndent,withinFlowCollection){var preceding,following,captureStart,captureEnd,hasPendingContent,_line,_lineStart,_lineIndent,ch,_kind=state.kind,_result=state.result;if(ch=state.input.charCodeAt(state.position),is_WS_OR_EOL(ch)||is_FLOW_INDICATOR(ch)||35===ch||38===ch||42===ch||33===ch||124===ch||62===ch||39===ch||34===ch||37===ch||64===ch||96===ch)return!1;if((63===ch||45===ch)&&(following=state.input.charCodeAt(state.position+1),is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following)))return!1;for(state.kind="scalar",state.result="",captureStart=captureEnd=state.position,hasPendingContent=!1;0!==ch;){if(58===ch){if(following=state.input.charCodeAt(state.position+1),is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following))break}else if(35===ch){if(preceding=state.input.charCodeAt(state.position-1),is_WS_OR_EOL(preceding))break}else{if(state.position===state.lineStart&&testDocumentSeparator(state)||withinFlowCollection&&is_FLOW_INDICATOR(ch))break;if(is_EOL(ch)){if(_line=state.line,_lineStart=state.lineStart,_lineIndent=state.lineIndent,skipSeparationSpace(state,!1,-1),state.lineIndent>=nodeIndent){hasPendingContent=!0,ch=state.input.charCodeAt(state.position);continue}state.position=captureEnd,state.line=_line,state.lineStart=_lineStart,state.lineIndent=_lineIndent;break}}hasPendingContent&&(captureSegment(state,captureStart,captureEnd,!1),writeFoldedLines(state,state.line-_line),captureStart=captureEnd=state.position,hasPendingContent=!1),is_WHITE_SPACE(ch)||(captureEnd=state.position+1),ch=state.input.charCodeAt(++state.position)}return captureSegment(state,captureStart,captureEnd,!1),!!state.result||(state.kind=_kind,state.result=_result,!1)}function readSingleQuotedScalar(state,nodeIndent){var ch,captureStart,captureEnd;if(ch=state.input.charCodeAt(state.position),39!==ch)return!1;for(state.kind="scalar",state.result="",state.position++,captureStart=captureEnd=state.position;0!==(ch=state.input.charCodeAt(state.position));)if(39===ch){if(captureSegment(state,captureStart,state.position,!0),ch=state.input.charCodeAt(++state.position),39!==ch)return!0;captureStart=captureEnd=state.position,state.position++}else is_EOL(ch)?(captureSegment(state,captureStart,captureEnd,!0),writeFoldedLines(state,skipSeparationSpace(state,!1,nodeIndent)),captureStart=captureEnd=state.position):state.position===state.lineStart&&testDocumentSeparator(state)?throwError(state,"unexpected end of the document within a single quoted scalar"):(state.position++,captureEnd=state.position);throwError(state,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(state,nodeIndent){var captureStart,captureEnd,hexLength,hexResult,tmp,ch;if(ch=state.input.charCodeAt(state.position),34!==ch)return!1;for(state.kind="scalar",state.result="",
state.position++,captureStart=captureEnd=state.position;0!==(ch=state.input.charCodeAt(state.position));){if(34===ch)return captureSegment(state,captureStart,state.position,!0),state.position++,!0;if(92===ch){if(captureSegment(state,captureStart,state.position,!0),ch=state.input.charCodeAt(++state.position),is_EOL(ch))skipSeparationSpace(state,!1,nodeIndent);else if(ch<256&&simpleEscapeCheck[ch])state.result+=simpleEscapeMap[ch],state.position++;else if((tmp=escapedHexLen(ch))>0){for(hexLength=tmp,hexResult=0;hexLength>0;hexLength--)ch=state.input.charCodeAt(++state.position),(tmp=fromHexCode(ch))>=0?hexResult=(hexResult<<4)+tmp:throwError(state,"expected hexadecimal character");state.result+=charFromCodepoint(hexResult),state.position++}else throwError(state,"unknown escape sequence");captureStart=captureEnd=state.position}else is_EOL(ch)?(captureSegment(state,captureStart,captureEnd,!0),writeFoldedLines(state,skipSeparationSpace(state,!1,nodeIndent)),captureStart=captureEnd=state.position):state.position===state.lineStart&&testDocumentSeparator(state)?throwError(state,"unexpected end of the document within a double quoted scalar"):(state.position++,captureEnd=state.position)}throwError(state,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(state,nodeIndent){var _line,_result,following,terminator,isPair,isExplicitPair,isMapping,keyNode,keyTag,valueNode,ch,readNext=!0,_tag=state.tag,_anchor=state.anchor,overridableKeys={};if(ch=state.input.charCodeAt(state.position),91===ch)terminator=93,isMapping=!1,_result=[];else{if(123!==ch)return!1;terminator=125,isMapping=!0,_result={}}for(null!==state.anchor&&(state.anchorMap[state.anchor]=_result),ch=state.input.charCodeAt(++state.position);0!==ch;){if(skipSeparationSpace(state,!0,nodeIndent),ch=state.input.charCodeAt(state.position),ch===terminator)return state.position++,state.tag=_tag,state.anchor=_anchor,state.kind=isMapping?"mapping":"sequence",state.result=_result,!0;readNext||throwError(state,"missed comma between flow collection entries"),keyTag=keyNode=valueNode=null,isPair=isExplicitPair=!1,63===ch&&(following=state.input.charCodeAt(state.position+1),is_WS_OR_EOL(following)&&(isPair=isExplicitPair=!0,state.position++,skipSeparationSpace(state,!0,nodeIndent))),_line=state.line,composeNode(state,nodeIndent,CONTEXT_FLOW_IN,!1,!0),keyTag=state.tag,keyNode=state.result,skipSeparationSpace(state,!0,nodeIndent),ch=state.input.charCodeAt(state.position),!isExplicitPair&&state.line!==_line||58!==ch||(isPair=!0,ch=state.input.charCodeAt(++state.position),skipSeparationSpace(state,!0,nodeIndent),composeNode(state,nodeIndent,CONTEXT_FLOW_IN,!1,!0),valueNode=state.result),isMapping?storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode):isPair?_result.push(storeMappingPair(state,null,overridableKeys,keyTag,keyNode,valueNode)):_result.push(keyNode),skipSeparationSpace(state,!0,nodeIndent),ch=state.input.charCodeAt(state.position),44===ch?(readNext=!0,ch=state.input.charCodeAt(++state.position)):readNext=!1}throwError(state,"unexpected end of the stream within a flow collection")}function readBlockScalar(state,nodeIndent){var captureStart,folding,tmp,ch,chomping=CHOMPING_CLIP,detectedIndent=!1,textIndent=nodeIndent,emptyLines=0,atMoreIndented=!1;if(ch=state.input.charCodeAt(state.position),124===ch)folding=!1;else{if(62!==ch)return!1;folding=!0}for(state.kind="scalar",state.result="";0!==ch;)if(ch=state.input.charCodeAt(++state.position),43===ch||45===ch)CHOMPING_CLIP===chomping?chomping=43===ch?CHOMPING_KEEP:CHOMPING_STRIP:throwError(state,"repeat of a chomping mode identifier");else{if(!((tmp=fromDecimalCode(ch))>=0))break;0===tmp?throwError(state,"bad explicit indentation width of a block scalar; it cannot be less than one"):detectedIndent?throwError(state,"repeat of an indentation width identifier"):(textIndent=nodeIndent+tmp-1,detectedIndent=!0)}if(is_WHITE_SPACE(ch)){do ch=state.input.charCodeAt(++state.position);while(is_WHITE_SPACE(ch));if(35===ch)do ch=state.input.charCodeAt(++state.position);while(!is_EOL(ch)&&0!==ch)}for(;0!==ch;){for(readLineBreak(state),state.lineIndent=0,ch=state.input.charCodeAt(state.position);(!detectedIndent||state.lineIndent<textIndent)&&32===ch;)state.lineIndent++,ch=state.input.charCodeAt(++state.position);if(!detectedIndent&&state.lineIndent>textIndent&&(textIndent=state.lineIndent),is_EOL(ch))emptyLines++;else{if(state.lineIndent<textIndent){chomping===CHOMPING_KEEP?state.result+=common.repeat("\n",emptyLines):chomping===CHOMPING_CLIP&&detectedIndent&&(state.result+="\n");break}for(folding?is_WHITE_SPACE(ch)?(atMoreIndented=!0,state.result+=common.repeat("\n",emptyLines+1)):atMoreIndented?(atMoreIndented=!1,state.result+=common.repeat("\n",emptyLines+1)):0===emptyLines?detectedIndent&&(state.result+=" "):state.result+=common.repeat("\n",emptyLines):detectedIndent?state.result+=common.repeat("\n",emptyLines+1):state.result+=common.repeat("\n",emptyLines),detectedIndent=!0,emptyLines=0,captureStart=state.position;!is_EOL(ch)&&0!==ch;)ch=state.input.charCodeAt(++state.position);captureSegment(state,captureStart,state.position,!1)}}return!0}function readBlockSequence(state,nodeIndent){var _line,following,ch,_tag=state.tag,_anchor=state.anchor,_result=[],detected=!1;for(null!==state.anchor&&(state.anchorMap[state.anchor]=_result),ch=state.input.charCodeAt(state.position);0!==ch&&45===ch&&(following=state.input.charCodeAt(state.position+1),is_WS_OR_EOL(following));)if(detected=!0,state.position++,skipSeparationSpace(state,!0,-1)&&state.lineIndent<=nodeIndent)_result.push(null),ch=state.input.charCodeAt(state.position);else if(_line=state.line,composeNode(state,nodeIndent,CONTEXT_BLOCK_IN,!1,!0),_result.push(state.result),skipSeparationSpace(state,!0,-1),ch=state.input.charCodeAt(state.position),(state.line===_line||state.lineIndent>nodeIndent)&&0!==ch)throwError(state,"bad indentation of a sequence entry");else if(state.lineIndent<nodeIndent)break;return!!detected&&(state.tag=_tag,state.anchor=_anchor,state.kind="sequence",state.result=_result,!0)}function readBlockMapping(state,nodeIndent,flowIndent){var following,allowCompact,_line,ch,_tag=state.tag,_anchor=state.anchor,_result={},overridableKeys={},keyTag=null,keyNode=null,valueNode=null,atExplicitKey=!1,detected=!1;for(null!==state.anchor&&(state.anchorMap[state.anchor]=_result),ch=state.input.charCodeAt(state.position);0!==ch;){if(following=state.input.charCodeAt(state.position+1),_line=state.line,63!==ch&&58!==ch||!is_WS_OR_EOL(following)){if(!composeNode(state,flowIndent,CONTEXT_FLOW_OUT,!1,!0))break;if(state.line===_line){for(ch=state.input.charCodeAt(state.position);is_WHITE_SPACE(ch);)ch=state.input.charCodeAt(++state.position);if(58===ch)ch=state.input.charCodeAt(++state.position),is_WS_OR_EOL(ch)||throwError(state,"a whitespace character is expected after the key-value separator within a block mapping"),atExplicitKey&&(storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null),keyTag=keyNode=valueNode=null),detected=!0,atExplicitKey=!1,allowCompact=!1,keyTag=state.tag,keyNode=state.result;else{if(!detected)return state.tag=_tag,state.anchor=_anchor,!0;throwError(state,"can not read an implicit mapping pair; a colon is missed")}}else{if(!detected)return state.tag=_tag,state.anchor=_anchor,!0;throwError(state,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===ch?(atExplicitKey&&(storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null),keyTag=keyNode=valueNode=null),detected=!0,atExplicitKey=!0,allowCompact=!0):atExplicitKey?(atExplicitKey=!1,allowCompact=!0):throwError(state,"incomplete explicit mapping pair; a key node is missed"),state.position+=1,ch=following;if((state.line===_line||state.lineIndent>nodeIndent)&&(composeNode(state,nodeIndent,CONTEXT_BLOCK_OUT,!0,allowCompact)&&(atExplicitKey?keyNode=state.result:valueNode=state.result),atExplicitKey||(storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode),keyTag=keyNode=valueNode=null),skipSeparationSpace(state,!0,-1),ch=state.input.charCodeAt(state.position)),state.lineIndent>nodeIndent&&0!==ch)throwError(state,"bad indentation of a mapping entry");else if(state.lineIndent<nodeIndent)break}return atExplicitKey&&storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null),detected&&(state.tag=_tag,state.anchor=_anchor,state.kind="mapping",state.result=_result),detected}function readTagProperty(state){var _position,tagHandle,tagName,ch,isVerbatim=!1,isNamed=!1;if(ch=state.input.charCodeAt(state.position),33!==ch)return!1;if(null!==state.tag&&throwError(state,"duplication of a tag property"),ch=state.input.charCodeAt(++state.position),60===ch?(isVerbatim=!0,ch=state.input.charCodeAt(++state.position)):33===ch?(isNamed=!0,tagHandle="!!",ch=state.input.charCodeAt(++state.position)):tagHandle="!",_position=state.position,isVerbatim){do ch=state.input.charCodeAt(++state.position);while(0!==ch&&62!==ch);state.position<state.length?(tagName=state.input.slice(_position,state.position),ch=state.input.charCodeAt(++state.position)):throwError(state,"unexpected end of the stream within a verbatim tag")}else{for(;0!==ch&&!is_WS_OR_EOL(ch);)33===ch&&(isNamed?throwError(state,"tag suffix cannot contain exclamation marks"):(tagHandle=state.input.slice(_position-1,state.position+1),PATTERN_TAG_HANDLE.test(tagHandle)||throwError(state,"named tag handle cannot contain such characters"),isNamed=!0,_position=state.position+1)),ch=state.input.charCodeAt(++state.position);tagName=state.input.slice(_position,state.position),PATTERN_FLOW_INDICATORS.test(tagName)&&throwError(state,"tag suffix cannot contain flow indicator characters")}return tagName&&!PATTERN_TAG_URI.test(tagName)&&throwError(state,"tag name cannot contain such characters: "+tagName),isVerbatim?state.tag=tagName:_hasOwnProperty.call(state.tagMap,tagHandle)?state.tag=state.tagMap[tagHandle]+tagName:"!"===tagHandle?state.tag="!"+tagName:"!!"===tagHandle?state.tag="tag:yaml.org,2002:"+tagName:throwError(state,'undeclared tag handle "'+tagHandle+'"'),!0}function readAnchorProperty(state){var _position,ch;if(ch=state.input.charCodeAt(state.position),38!==ch)return!1;for(null!==state.anchor&&throwError(state,"duplication of an anchor property"),ch=state.input.charCodeAt(++state.position),_position=state.position;0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch);)ch=state.input.charCodeAt(++state.position);return state.position===_position&&throwError(state,"name of an anchor node must contain at least one character"),state.anchor=state.input.slice(_position,state.position),!0}function readAlias(state){var _position,alias,ch;if(ch=state.input.charCodeAt(state.position),42!==ch)return!1;for(ch=state.input.charCodeAt(++state.position),_position=state.position;0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch);)ch=state.input.charCodeAt(++state.position);return state.position===_position&&throwError(state,"name of an alias node must contain at least one character"),alias=state.input.slice(_position,state.position),state.anchorMap.hasOwnProperty(alias)||throwError(state,'unidentified alias "'+alias+'"'),state.result=state.anchorMap[alias],skipSeparationSpace(state,!0,-1),!0}function composeNode(state,parentIndent,nodeContext,allowToSeek,allowCompact){var allowBlockStyles,allowBlockScalars,allowBlockCollections,typeIndex,typeQuantity,type,flowIndent,blockIndent,indentStatus=1,atNewLine=!1,hasContent=!1;if(null!==state.listener&&state.listener("open",state),state.tag=null,state.anchor=null,state.kind=null,state.result=null,allowBlockStyles=allowBlockScalars=allowBlockCollections=CONTEXT_BLOCK_OUT===nodeContext||CONTEXT_BLOCK_IN===nodeContext,allowToSeek&&skipSeparationSpace(state,!0,-1)&&(atNewLine=!0,state.lineIndent>parentIndent?indentStatus=1:state.lineIndent===parentIndent?indentStatus=0:state.lineIndent<parentIndent&&(indentStatus=-1)),1===indentStatus)for(;readTagProperty(state)||readAnchorProperty(state);)skipSeparationSpace(state,!0,-1)?(atNewLine=!0,allowBlockCollections=allowBlockStyles,state.lineIndent>parentIndent?indentStatus=1:state.lineIndent===parentIndent?indentStatus=0:state.lineIndent<parentIndent&&(indentStatus=-1)):allowBlockCollections=!1;if(allowBlockCollections&&(allowBlockCollections=atNewLine||allowCompact),1!==indentStatus&&CONTEXT_BLOCK_OUT!==nodeContext||(flowIndent=CONTEXT_FLOW_IN===nodeContext||CONTEXT_FLOW_OUT===nodeContext?parentIndent:parentIndent+1,blockIndent=state.position-state.lineStart,1===indentStatus?allowBlockCollections&&(readBlockSequence(state,blockIndent)||readBlockMapping(state,blockIndent,flowIndent))||readFlowCollection(state,flowIndent)?hasContent=!0:(allowBlockScalars&&readBlockScalar(state,flowIndent)||readSingleQuotedScalar(state,flowIndent)||readDoubleQuotedScalar(state,flowIndent)?hasContent=!0:readAlias(state)?(hasContent=!0,null===state.tag&&null===state.anchor||throwError(state,"alias node should not have any properties")):readPlainScalar(state,flowIndent,CONTEXT_FLOW_IN===nodeContext)&&(hasContent=!0,null===state.tag&&(state.tag="?")),null!==state.anchor&&(state.anchorMap[state.anchor]=state.result)):0===indentStatus&&(hasContent=allowBlockCollections&&readBlockSequence(state,blockIndent))),null!==state.tag&&"!"!==state.tag)if("?"===state.tag){for(typeIndex=0,typeQuantity=state.implicitTypes.length;typeIndex<typeQuantity;typeIndex+=1)if(type=state.implicitTypes[typeIndex],type.resolve(state.result)){state.result=type.construct(state.result),state.tag=type.tag,null!==state.anchor&&(state.anchorMap[state.anchor]=state.result);break}}else _hasOwnProperty.call(state.typeMap,state.tag)?(type=state.typeMap[state.tag],null!==state.result&&type.kind!==state.kind&&throwError(state,"unacceptable node kind for !<"+state.tag+'> tag; it should be "'+type.kind+'", not "'+state.kind+'"'),type.resolve(state.result)?(state.result=type.construct(state.result),null!==state.anchor&&(state.anchorMap[state.anchor]=state.result)):throwError(state,"cannot resolve a node with !<"+state.tag+"> explicit tag")):throwError(state,"unknown tag !<"+state.tag+">");return null!==state.listener&&state.listener("close",state),null!==state.tag||null!==state.anchor||hasContent}function readDocument(state){var _position,directiveName,directiveArgs,ch,documentStart=state.position,hasDirectives=!1;for(state.version=null,state.checkLineBreaks=state.legacy,state.tagMap={},state.anchorMap={};0!==(ch=state.input.charCodeAt(state.position))&&(skipSeparationSpace(state,!0,-1),ch=state.input.charCodeAt(state.position),!(state.lineIndent>0||37!==ch));){for(hasDirectives=!0,ch=state.input.charCodeAt(++state.position),_position=state.position;0!==ch&&!is_WS_OR_EOL(ch);)ch=state.input.charCodeAt(++state.position);for(directiveName=state.input.slice(_position,state.position),directiveArgs=[],directiveName.length<1&&throwError(state,"directive name must not be less than one character in length");0!==ch;){for(;is_WHITE_SPACE(ch);)ch=state.input.charCodeAt(++state.position);if(35===ch){do ch=state.input.charCodeAt(++state.position);while(0!==ch&&!is_EOL(ch));break}if(is_EOL(ch))break;for(_position=state.position;0!==ch&&!is_WS_OR_EOL(ch);)ch=state.input.charCodeAt(++state.position);directiveArgs.push(state.input.slice(_position,state.position))}0!==ch&&readLineBreak(state),_hasOwnProperty.call(directiveHandlers,directiveName)?directiveHandlers[directiveName](state,directiveName,directiveArgs):throwWarning(state,'unknown document directive "'+directiveName+'"')}return skipSeparationSpace(state,!0,-1),0===state.lineIndent&&45===state.input.charCodeAt(state.position)&&45===state.input.charCodeAt(state.position+1)&&45===state.input.charCodeAt(state.position+2)?(state.position+=3,skipSeparationSpace(state,!0,-1)):hasDirectives&&throwError(state,"directives end mark is expected"),composeNode(state,state.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(state,!0,-1),state.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart,state.position))&&throwWarning(state,"non-ASCII line breaks are interpreted as content"),state.documents.push(state.result),state.position===state.lineStart&&testDocumentSeparator(state)?void(46===state.input.charCodeAt(state.position)&&(state.position+=3,skipSeparationSpace(state,!0,-1))):void(state.position<state.length-1&&throwError(state,"end of the stream or a document separator is expected"))}function loadDocuments(input,options){input=String(input),options=options||{},0!==input.length&&(10!==input.charCodeAt(input.length-1)&&13!==input.charCodeAt(input.length-1)&&(input+="\n"),65279===input.charCodeAt(0)&&(input=input.slice(1)));var state=new State(input,options);for(state.input+="\0";32===state.input.charCodeAt(state.position);)state.lineIndent+=1,state.position+=1;for(;state.position<state.length-1;)readDocument(state);return state.documents}function loadAll(input,iterator,options){var index,length,documents=loadDocuments(input,options);for(index=0,length=documents.length;index<length;index+=1)iterator(documents[index])}function load(input,options){var documents=loadDocuments(input,options);if(0!==documents.length){if(1===documents.length)return documents[0];throw new YAMLException("expected a single document in the stream, but found more")}}function safeLoadAll(input,output,options){loadAll(input,output,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}function safeLoad(input,options){return load(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}for(var common=require("./common"),YAMLException=require("./exception"),Mark=require("./mark"),DEFAULT_SAFE_SCHEMA=require("./schema/default_safe"),DEFAULT_FULL_SCHEMA=require("./schema/default_full"),_hasOwnProperty=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256),i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);var directiveHandlers={YAML:function(state,name,args){var match,major,minor;null!==state.version&&throwError(state,"duplication of %YAML directive"),1!==args.length&&throwError(state,"YAML directive accepts exactly one argument"),match=/^([0-9]+)\.([0-9]+)$/.exec(args[0]),null===match&&throwError(state,"ill-formed argument of the YAML directive"),major=parseInt(match[1],10),minor=parseInt(match[2],10),1!==major&&throwError(state,"unacceptable YAML version of the document"),state.version=args[0],state.checkLineBreaks=minor<2,1!==minor&&2!==minor&&throwWarning(state,"unsupported YAML version of the document")},TAG:function(state,name,args){var handle,prefix;2!==args.length&&throwError(state,"TAG directive accepts exactly two arguments"),handle=args[0],prefix=args[1],PATTERN_TAG_HANDLE.test(handle)||throwError(state,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty.call(state.tagMap,handle)&&throwError(state,'there is a previously declared suffix for "'+handle+'" tag handle'),PATTERN_TAG_URI.test(prefix)||throwError(state,"ill-formed tag prefix (second argument) of the TAG directive"),state.tagMap[handle]=prefix}};module.exports.loadAll=loadAll,module.exports.load=load,module.exports.safeLoadAll=safeLoadAll,module.exports.safeLoad=safeLoad},{"./common":197,"./exception":199,"./mark":201,"./schema/default_full":204,"./schema/default_safe":205}],201:[function(require,module,exports){"use strict";function Mark(name,buffer,position,line,column){this.name=name,this.buffer=buffer,this.position=position,this.line=line,this.column=column}var common=require("./common");Mark.prototype.getSnippet=function(indent,maxLength){var head,start,tail,end,snippet;if(!this.buffer)return null;for(indent=indent||4,maxLength=maxLength||75,head="",start=this.position;start>0&&"\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(start-1))===-1;)if(start-=1,this.position-start>maxLength/2-1){head=" ... ",start+=5;break}for(tail="",end=this.position;end<this.buffer.length&&"\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(end))===-1;)if(end+=1,end-this.position>maxLength/2-1){tail=" ... ",end-=5;break}return snippet=this.buffer.slice(start,end),common.repeat(" ",indent)+head+snippet+tail+"\n"+common.repeat(" ",indent+this.position-start+head.length)+"^"},Mark.prototype.toString=function(compact){var snippet,where="";return this.name&&(where+='in "'+this.name+'" '),where+="at line "+(this.line+1)+", column "+(this.column+1),compact||(snippet=this.getSnippet(),snippet&&(where+=":\n"+snippet)),where},module.exports=Mark},{"./common":197}],202:[function(require,module,exports){"use strict";function compileList(schema,name,result){var exclude=[];return schema.include.forEach(function(includedSchema){result=compileList(includedSchema,name,result)}),schema[name].forEach(function(currentType){result.forEach(function(previousType,previousIndex){previousType.tag===currentType.tag&&exclude.push(previousIndex)}),result.push(currentType)}),result.filter(function(type,index){return exclude.indexOf(index)===-1})}function compileMap(){function collectType(type){result[type.tag]=type}var index,length,result={};for(index=0,length=arguments.length;index<length;index+=1)arguments[index].forEach(collectType);return result}function Schema(definition){this.include=definition.include||[],this.implicit=definition.implicit||[],this.explicit=definition.explicit||[],this.implicit.forEach(function(type){if(type.loadKind&&"scalar"!==type.loadKind)throw new YAMLException("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=compileList(this,"implicit",[]),this.compiledExplicit=compileList(this,"explicit",[]),this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit)}var common=require("./common"),YAMLException=require("./exception"),Type=require("./type");Schema.DEFAULT=null,Schema.create=function(){var schemas,types;switch(arguments.length){case 1:schemas=Schema.DEFAULT,types=arguments[0];break;case 2:schemas=arguments[0],types=arguments[1];break;default:throw new YAMLException("Wrong number of arguments for Schema.create function")}if(schemas=common.toArray(schemas),types=common.toArray(types),!schemas.every(function(schema){return schema instanceof Schema}))throw new YAMLException("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!types.every(function(type){return type instanceof Type}))throw new YAMLException("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Schema({include:schemas,explicit:types})},module.exports=Schema},{"./common":197,"./exception":199,"./type":208}],203:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=new Schema({include:[require("./json")]})},{"../schema":202,"./json":207}],204:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=Schema.DEFAULT=new Schema({include:[require("./default_safe")],explicit:[require("../type/js/undefined"),require("../type/js/regexp"),require("../type/js/function")]})},{"../schema":202,"../type/js/function":213,"../type/js/regexp":214,"../type/js/undefined":215,"./default_safe":205}],205:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=new Schema({include:[require("./core")],implicit:[require("../type/timestamp"),require("../type/merge")],explicit:[require("../type/binary"),require("../type/omap"),require("../type/pairs"),require("../type/set")]})},{"../schema":202,"../type/binary":209,"../type/merge":217,"../type/omap":219,"../type/pairs":220,"../type/set":222,"../type/timestamp":224,"./core":203}],206:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=new Schema({explicit:[require("../type/str"),require("../type/seq"),require("../type/map")]})},{"../schema":202,"../type/map":216,"../type/seq":221,"../type/str":223}],207:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=new Schema({include:[require("./failsafe")],implicit:[require("../type/null"),require("../type/bool"),require("../type/int"),require("../type/float")]})},{"../schema":202,"../type/bool":210,"../type/float":211,"../type/int":212,"../type/null":218,"./failsafe":206}],208:[function(require,module,exports){"use strict";function compileStyleAliases(map){var result={};return null!==map&&Object.keys(map).forEach(function(style){map[style].forEach(function(alias){result[String(alias)]=style})}),result}function Type(tag,options){if(options=options||{},Object.keys(options).forEach(function(name){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(name)===-1)throw new YAMLException('Unknown option "'+name+'" is met in definition of "'+tag+'" YAML type.')}),this.tag=tag,this.kind=options.kind||null,this.resolve=options.resolve||function(){return!0},this.construct=options.construct||function(data){return data},this.instanceOf=options.instanceOf||null,this.predicate=options.predicate||null,this.represent=options.represent||null,this.defaultStyle=options.defaultStyle||null,this.styleAliases=compileStyleAliases(options.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new YAMLException('Unknown kind "'+this.kind+'" is specified for "'+tag+'" YAML type.')}var YAMLException=require("./exception"),TYPE_CONSTRUCTOR_OPTIONS=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];module.exports=Type},{"./exception":199}],209:[function(require,module,exports){"use strict";function resolveYamlBinary(data){if(null===data)return!1;var code,idx,bitlen=0,max=data.length,map=BASE64_MAP;for(idx=0;idx<max;idx++)if(code=map.indexOf(data.charAt(idx)),!(code>64)){if(code<0)return!1;bitlen+=6}return bitlen%8===0}function constructYamlBinary(data){var idx,tailbits,input=data.replace(/[\r\n=]/g,""),max=input.length,map=BASE64_MAP,bits=0,result=[];for(idx=0;idx<max;idx++)idx%4===0&&idx&&(result.push(bits>>16&255),result.push(bits>>8&255),result.push(255&bits)),bits=bits<<6|map.indexOf(input.charAt(idx));return tailbits=max%4*6,0===tailbits?(result.push(bits>>16&255),result.push(bits>>8&255),result.push(255&bits)):18===tailbits?(result.push(bits>>10&255),result.push(bits>>2&255)):12===tailbits&&result.push(bits>>4&255),NodeBuffer?new NodeBuffer(result):result}function representYamlBinary(object){var idx,tail,result="",bits=0,max=object.length,map=BASE64_MAP;for(idx=0;idx<max;idx++)idx%3===0&&idx&&(result+=map[bits>>18&63],result+=map[bits>>12&63],result+=map[bits>>6&63],result+=map[63&bits]),bits=(bits<<8)+object[idx];return tail=max%3,0===tail?(result+=map[bits>>18&63],result+=map[bits>>12&63],result+=map[bits>>6&63],result+=map[63&bits]):2===tail?(result+=map[bits>>10&63],result+=map[bits>>4&63],result+=map[bits<<2&63],result+=map[64]):1===tail&&(result+=map[bits>>2&63],result+=map[bits<<4&63],result+=map[64],result+=map[64]),result}function isBinary(object){return NodeBuffer&&NodeBuffer.isBuffer(object)}var NodeBuffer=require("buffer").Buffer,Type=require("../type"),BASE64_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";module.exports=new Type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary})},{"../type":208,buffer:184}],210:[function(require,module,exports){"use strict";function resolveYamlBoolean(data){if(null===data)return!1;var max=data.length;return 4===max&&("true"===data||"True"===data||"TRUE"===data)||5===max&&("false"===data||"False"===data||"FALSE"===data)}function constructYamlBoolean(data){return"true"===data||"True"===data||"TRUE"===data}function isBoolean(object){return"[object Boolean]"===Object.prototype.toString.call(object)}var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(object){return object?"true":"false"},uppercase:function(object){return object?"TRUE":"FALSE"},camelcase:function(object){return object?"True":"False"}},defaultStyle:"lowercase"})},{"../type":208}],211:[function(require,module,exports){"use strict";function resolveYamlFloat(data){return null!==data&&!!YAML_FLOAT_PATTERN.test(data)}function constructYamlFloat(data){var value,sign,base,digits;return value=data.replace(/_/g,"").toLowerCase(),sign="-"===value[0]?-1:1,digits=[],"+-".indexOf(value[0])>=0&&(value=value.slice(1)),".inf"===value?1===sign?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===value?NaN:value.indexOf(":")>=0?(value.split(":").forEach(function(v){digits.unshift(parseFloat(v,10))}),value=0,base=1,digits.forEach(function(d){value+=d*base,base*=60}),sign*value):sign*parseFloat(value,10)}function representYamlFloat(object,style){var res;if(isNaN(object))switch(style){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===object)switch(style){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===object)switch(style){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(object))return"-0.0";return res=object.toString(10),SCIENTIFIC_WITHOUT_DOT.test(res)?res.replace("e",".e"):res}function isFloat(object){return"[object Number]"===Object.prototype.toString.call(object)&&(object%1!==0||common.isNegativeZero(object))}var common=require("../common"),Type=require("../type"),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;module.exports=new Type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"})},{"../common":197,"../type":208}],212:[function(require,module,exports){"use strict";function isHexCode(c){return 48<=c&&c<=57||65<=c&&c<=70||97<=c&&c<=102}function isOctCode(c){return 48<=c&&c<=55}function isDecCode(c){return 48<=c&&c<=57}function resolveYamlInteger(data){if(null===data)return!1;var ch,max=data.length,index=0,hasDigits=!1;if(!max)return!1;if(ch=data[index],"-"!==ch&&"+"!==ch||(ch=data[++index]),"0"===ch){if(index+1===max)return!0;if(ch=data[++index],"b"===ch){for(index++;index<max;index++)if(ch=data[index],"_"!==ch){if("0"!==ch&&"1"!==ch)return!1;hasDigits=!0}return hasDigits}if("x"===ch){for(index++;index<max;index++)if(ch=data[index],"_"!==ch){if(!isHexCode(data.charCodeAt(index)))return!1;hasDigits=!0}return hasDigits}for(;index<max;index++)if(ch=data[index],"_"!==ch){if(!isOctCode(data.charCodeAt(index)))return!1;hasDigits=!0}return hasDigits}for(;index<max;index++)if(ch=data[index],"_"!==ch){if(":"===ch)break;if(!isDecCode(data.charCodeAt(index)))return!1;hasDigits=!0}return!!hasDigits&&(":"!==ch||/^(:[0-5]?[0-9])+$/.test(data.slice(index)))}function constructYamlInteger(data){var ch,base,value=data,sign=1,digits=[];return value.indexOf("_")!==-1&&(value=value.replace(/_/g,"")),ch=value[0],"-"!==ch&&"+"!==ch||("-"===ch&&(sign=-1),value=value.slice(1),ch=value[0]),"0"===value?0:"0"===ch?"b"===value[1]?sign*parseInt(value.slice(2),2):"x"===value[1]?sign*parseInt(value,16):sign*parseInt(value,8):value.indexOf(":")!==-1?(value.split(":").forEach(function(v){
digits.unshift(parseInt(v,10))}),value=0,base=1,digits.forEach(function(d){value+=d*base,base*=60}),sign*value):sign*parseInt(value,10)}function isInteger(object){return"[object Number]"===Object.prototype.toString.call(object)&&object%1===0&&!common.isNegativeZero(object)}var common=require("../common"),Type=require("../type");module.exports=new Type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(object){return"0b"+object.toString(2)},octal:function(object){return"0"+object.toString(8)},decimal:function(object){return object.toString(10)},hexadecimal:function(object){return"0x"+object.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":197,"../type":208}],213:[function(require,module,exports){"use strict";function resolveJavascriptFunction(data){if(null===data)return!1;try{var source="("+data+")",ast=esprima.parse(source,{range:!0});return"Program"===ast.type&&1===ast.body.length&&"ExpressionStatement"===ast.body[0].type&&"FunctionExpression"===ast.body[0].expression.type}catch(err){return!1}}function constructJavascriptFunction(data){var body,source="("+data+")",ast=esprima.parse(source,{range:!0}),params=[];if("Program"!==ast.type||1!==ast.body.length||"ExpressionStatement"!==ast.body[0].type||"FunctionExpression"!==ast.body[0].expression.type)throw new Error("Failed to resolve function");return ast.body[0].expression.params.forEach(function(param){params.push(param.name)}),body=ast.body[0].expression.body.range,new Function(params,source.slice(body[0]+1,body[1]-1))}function representJavascriptFunction(object){return object.toString()}function isFunction(object){return"[object Function]"===Object.prototype.toString.call(object)}var esprima;try{var _require=require;esprima=_require("esprima")}catch(_){"undefined"!=typeof window&&(esprima=window.esprima)}var Type=require("../../type");module.exports=new Type("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:isFunction,represent:representJavascriptFunction})},{"../../type":208}],214:[function(require,module,exports){"use strict";function resolveJavascriptRegExp(data){if(null===data)return!1;if(0===data.length)return!1;var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";if("/"===regexp[0]){if(tail&&(modifiers=tail[1]),modifiers.length>3)return!1;if("/"!==regexp[regexp.length-modifiers.length-1])return!1}return!0}function constructJavascriptRegExp(data){var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";return"/"===regexp[0]&&(tail&&(modifiers=tail[1]),regexp=regexp.slice(1,regexp.length-modifiers.length-1)),new RegExp(regexp,modifiers)}function representJavascriptRegExp(object){var result="/"+object.source+"/";return object.global&&(result+="g"),object.multiline&&(result+="m"),object.ignoreCase&&(result+="i"),result}function isRegExp(object){return"[object RegExp]"===Object.prototype.toString.call(object)}var Type=require("../../type");module.exports=new Type("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:resolveJavascriptRegExp,construct:constructJavascriptRegExp,predicate:isRegExp,represent:representJavascriptRegExp})},{"../../type":208}],215:[function(require,module,exports){"use strict";function resolveJavascriptUndefined(){return!0}function constructJavascriptUndefined(){}function representJavascriptUndefined(){return""}function isUndefined(object){return"undefined"==typeof object}var Type=require("../../type");module.exports=new Type("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:resolveJavascriptUndefined,construct:constructJavascriptUndefined,predicate:isUndefined,represent:representJavascriptUndefined})},{"../../type":208}],216:[function(require,module,exports){"use strict";var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(data){return null!==data?data:{}}})},{"../type":208}],217:[function(require,module,exports){"use strict";function resolveYamlMerge(data){return"<<"===data||null===data}var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge})},{"../type":208}],218:[function(require,module,exports){"use strict";function resolveYamlNull(data){if(null===data)return!0;var max=data.length;return 1===max&&"~"===data||4===max&&("null"===data||"Null"===data||"NULL"===data)}function constructYamlNull(){return null}function isNull(object){return null===object}var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":208}],219:[function(require,module,exports){"use strict";function resolveYamlOmap(data){if(null===data)return!0;var index,length,pair,pairKey,pairHasKey,objectKeys=[],object=data;for(index=0,length=object.length;index<length;index+=1){if(pair=object[index],pairHasKey=!1,"[object Object]"!==_toString.call(pair))return!1;for(pairKey in pair)if(_hasOwnProperty.call(pair,pairKey)){if(pairHasKey)return!1;pairHasKey=!0}if(!pairHasKey)return!1;if(objectKeys.indexOf(pairKey)!==-1)return!1;objectKeys.push(pairKey)}return!0}function constructYamlOmap(data){return null!==data?data:[]}var Type=require("../type"),_hasOwnProperty=Object.prototype.hasOwnProperty,_toString=Object.prototype.toString;module.exports=new Type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap})},{"../type":208}],220:[function(require,module,exports){"use strict";function resolveYamlPairs(data){if(null===data)return!0;var index,length,pair,keys,result,object=data;for(result=new Array(object.length),index=0,length=object.length;index<length;index+=1){if(pair=object[index],"[object Object]"!==_toString.call(pair))return!1;if(keys=Object.keys(pair),1!==keys.length)return!1;result[index]=[keys[0],pair[keys[0]]]}return!0}function constructYamlPairs(data){if(null===data)return[];var index,length,pair,keys,result,object=data;for(result=new Array(object.length),index=0,length=object.length;index<length;index+=1)pair=object[index],keys=Object.keys(pair),result[index]=[keys[0],pair[keys[0]]];return result}var Type=require("../type"),_toString=Object.prototype.toString;module.exports=new Type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs})},{"../type":208}],221:[function(require,module,exports){"use strict";var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(data){return null!==data?data:[]}})},{"../type":208}],222:[function(require,module,exports){"use strict";function resolveYamlSet(data){if(null===data)return!0;var key,object=data;for(key in object)if(_hasOwnProperty.call(object,key)&&null!==object[key])return!1;return!0}function constructYamlSet(data){return null!==data?data:{}}var Type=require("../type"),_hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=new Type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet})},{"../type":208}],223:[function(require,module,exports){"use strict";var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(data){return null!==data?data:""}})},{"../type":208}],224:[function(require,module,exports){"use strict";function resolveYamlTimestamp(data){return null!==data&&null!==YAML_TIMESTAMP_REGEXP.exec(data)}function constructYamlTimestamp(data){var match,year,month,day,hour,minute,second,tz_hour,tz_minute,date,fraction=0,delta=null;if(match=YAML_TIMESTAMP_REGEXP.exec(data),null===match)throw new Error("Date resolve error");if(year=+match[1],month=+match[2]-1,day=+match[3],!match[4])return new Date(Date.UTC(year,month,day));if(hour=+match[4],minute=+match[5],second=+match[6],match[7]){for(fraction=match[7].slice(0,3);fraction.length<3;)fraction+="0";fraction=+fraction}return match[9]&&(tz_hour=+match[10],tz_minute=+(match[11]||0),delta=6e4*(60*tz_hour+tz_minute),"-"===match[9]&&(delta=-delta)),date=new Date(Date.UTC(year,month,day,hour,minute,second,fraction)),delta&&date.setTime(date.getTime()-delta),date}function representYamlTimestamp(object){return object.toISOString()}var Type=require("../type"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");module.exports=new Type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp})},{"../type":208}],225:[function(require,module,exports){function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value);return index<length&&(value===value?value===array[index]:array[index]!==array[index])?index:-1}return baseIndexOf(array,value,fromIndex||0)}var baseIndexOf=require("../internal/baseIndexOf"),binaryIndex=require("../internal/binaryIndex"),nativeMax=Math.max;module.exports=indexOf},{"../internal/baseIndexOf":254,"../internal/binaryIndex":268}],226:[function(require,module,exports){function last(array){var length=array?array.length:0;return length?array[length-1]:void 0}module.exports=last},{}],227:[function(require,module,exports){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var LazyWrapper=require("../internal/LazyWrapper"),LodashWrapper=require("../internal/LodashWrapper"),baseLodash=require("../internal/baseLodash"),isArray=require("../lang/isArray"),isObjectLike=require("../internal/isObjectLike"),wrapperClone=require("../internal/wrapperClone"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;lodash.prototype=baseLodash.prototype,module.exports=lodash},{"../internal/LazyWrapper":236,"../internal/LodashWrapper":237,"../internal/baseLodash":258,"../internal/isObjectLike":302,"../internal/wrapperClone":313,"../lang/isArray":316}],228:[function(require,module,exports){module.exports=require("./forEach")},{"./forEach":230}],229:[function(require,module,exports){var baseEach=require("../internal/baseEach"),createFind=require("../internal/createFind"),find=createFind(baseEach);module.exports=find},{"../internal/baseEach":247,"../internal/createFind":278}],230:[function(require,module,exports){var arrayEach=require("../internal/arrayEach"),baseEach=require("../internal/baseEach"),createForEach=require("../internal/createForEach"),forEach=createForEach(arrayEach,baseEach);module.exports=forEach},{"../internal/arrayEach":239,"../internal/baseEach":247,"../internal/createForEach":279}],231:[function(require,module,exports){function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:fromIndex<0?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?fromIndex<=length&&collection.indexOf(target,fromIndex)>-1:!!length&&baseIndexOf(collection,target,fromIndex)>-1}var baseIndexOf=require("../internal/baseIndexOf"),getLength=require("../internal/getLength"),isArray=require("../lang/isArray"),isIterateeCall=require("../internal/isIterateeCall"),isLength=require("../internal/isLength"),isString=require("../lang/isString"),values=require("../object/values"),nativeMax=Math.max;module.exports=includes},{"../internal/baseIndexOf":254,"../internal/getLength":288,"../internal/isIterateeCall":298,"../internal/isLength":301,"../lang/isArray":316,"../lang/isString":322,"../object/values":328}],232:[function(require,module,exports){function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;return iteratee=baseCallback(iteratee,thisArg,3),func(collection,iteratee)}var arrayMap=require("../internal/arrayMap"),baseCallback=require("../internal/baseCallback"),baseMap=require("../internal/baseMap"),isArray=require("../lang/isArray");module.exports=map},{"../internal/arrayMap":240,"../internal/baseCallback":243,"../internal/baseMap":259,"../lang/isArray":316}],233:[function(require,module,exports){var getNative=require("../internal/getNative"),nativeNow=getNative(Date,"now"),now=nativeNow||function(){return(new Date).getTime()};module.exports=now},{"../internal/getNative":290}],234:[function(require,module,exports){var createWrapper=require("../internal/createWrapper"),replaceHolders=require("../internal/replaceHolders"),restParam=require("./restParam"),BIND_FLAG=1,PARTIAL_FLAG=32,bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)});bind.placeholder={},module.exports=bind},{"../internal/createWrapper":282,"../internal/replaceHolders":308,"./restParam":235}],235:[function(require,module,exports){function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(void 0===start?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;module.exports=restParam},{}],236:[function(require,module,exports){function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=POSITIVE_INFINITY,this.__views__=[]}var baseCreate=require("./baseCreate"),baseLodash=require("./baseLodash"),POSITIVE_INFINITY=Number.POSITIVE_INFINITY;LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,module.exports=LazyWrapper},{"./baseCreate":246,"./baseLodash":258}],237:[function(require,module,exports){function LodashWrapper(value,chainAll,actions){this.__wrapped__=value,this.__actions__=actions||[],this.__chain__=!!chainAll}var baseCreate=require("./baseCreate"),baseLodash=require("./baseLodash");LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,module.exports=LodashWrapper},{"./baseCreate":246,"./baseLodash":258}],238:[function(require,module,exports){function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}module.exports=arrayCopy},{}],239:[function(require,module,exports){function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}module.exports=arrayEach},{}],240:[function(require,module,exports){function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}module.exports=arrayMap},{}],241:[function(require,module,exports){function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}module.exports=arraySome},{}],242:[function(require,module,exports){function baseAssign(object,source){return null==source?object:baseCopy(source,keys(source),object)}var baseCopy=require("./baseCopy"),keys=require("../object/keys");module.exports=baseAssign},{"../object/keys":325,"./baseCopy":245}],243:[function(require,module,exports){function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?void 0===thisArg?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):void 0===thisArg?property(func):baseMatchesProperty(func,thisArg)}var baseMatches=require("./baseMatches"),baseMatchesProperty=require("./baseMatchesProperty"),bindCallback=require("./bindCallback"),identity=require("../utility/identity"),property=require("../utility/property");module.exports=baseCallback},{"../utility/identity":330,"../utility/property":332,"./baseMatches":260,"./baseMatchesProperty":261,"./bindCallback":270}],244:[function(require,module,exports){function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(isHostObject(value))return object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}var arrayCopy=require("./arrayCopy"),arrayEach=require("./arrayEach"),baseAssign=require("./baseAssign"),baseForOwn=require("./baseForOwn"),initCloneArray=require("./initCloneArray"),initCloneByTag=require("./initCloneByTag"),initCloneObject=require("./initCloneObject"),isArray=require("../lang/isArray"),isHostObject=require("./isHostObject"),isObject=require("../lang/isObject"),argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectProto=Object.prototype,objToString=objectProto.toString;module.exports=baseClone},{"../lang/isArray":316,"../lang/isObject":320,"./arrayCopy":238,"./arrayEach":239,"./baseAssign":242,"./baseForOwn":252,"./initCloneArray":292,"./initCloneByTag":293,"./initCloneObject":294,"./isHostObject":296}],245:[function(require,module,exports){function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index];object[key]=source[key]}return object}module.exports=baseCopy},{}],246:[function(require,module,exports){var isObject=require("../lang/isObject"),baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=void 0}return result||{}}}();module.exports=baseCreate},{"../lang/isObject":320}],247:[function(require,module,exports){var baseForOwn=require("./baseForOwn"),createBaseEach=require("./createBaseEach"),baseEach=createBaseEach(baseForOwn);module.exports=baseEach},{"./baseForOwn":252,"./createBaseEach":274}],248:[function(require,module,exports){function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=retKey?key:value,!1}),result}module.exports=baseFind},{}],249:[function(require,module,exports){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}module.exports=baseFindIndex},{}],250:[function(require,module,exports){var createBaseFor=require("./createBaseFor"),baseFor=createBaseFor();module.exports=baseFor},{"./createBaseFor":275}],251:[function(require,module,exports){function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}var baseFor=require("./baseFor"),keysIn=require("../object/keysIn");module.exports=baseForIn},{"../object/keysIn":326,"./baseFor":250}],252:[function(require,module,exports){function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}var baseFor=require("./baseFor"),keys=require("../object/keys");module.exports=baseForOwn},{"../object/keys":325,"./baseFor":250}],253:[function(require,module,exports){function baseGet(object,path,pathKey){if(null!=object){object=toObject(object),void 0!==pathKey&&pathKey in object&&(path=[pathKey]);for(var index=0,length=path.length;null!=object&&index<length;)object=toObject(object)[path[index++]];return index&&index==length?object:void 0}}var toObject=require("./toObject");module.exports=baseGet},{"./toObject":311}],254:[function(require,module,exports){function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}var indexOfNaN=require("./indexOfNaN");module.exports=baseIndexOf},{"./indexOfNaN":291}],255:[function(require,module,exports){function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB))}var baseIsEqualDeep=require("./baseIsEqualDeep"),isObject=require("../lang/isObject"),isObjectLike=require("./isObjectLike");module.exports=baseIsEqual},{"../lang/isObject":320,"./baseIsEqualDeep":256,"./isObjectLike":302}],256:[function(require,module,exports){function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}var equalArrays=require("./equalArrays"),equalByTag=require("./equalByTag"),equalObjects=require("./equalObjects"),isArray=require("../lang/isArray"),isHostObject=require("./isHostObject"),isTypedArray=require("../lang/isTypedArray"),argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;module.exports=baseIsEqualDeep},{"../lang/isArray":316,"../lang/isTypedArray":323,"./equalArrays":283,"./equalByTag":284,"./equalObjects":285,"./isHostObject":296}],257:[function(require,module,exports){function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=toObject(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var result=customizer?customizer(objValue,srcValue,key):void 0;if(!(void 0===result?baseIsEqual(srcValue,objValue,customizer,!0):result))return!1}}return!0}var baseIsEqual=require("./baseIsEqual"),toObject=require("./toObject");module.exports=baseIsMatch},{"./baseIsEqual":255,"./toObject":311}],258:[function(require,module,exports){function baseLodash(){}module.exports=baseLodash},{}],259:[function(require,module,exports){function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}var baseEach=require("./baseEach"),isArrayLike=require("./isArrayLike");module.exports=baseMap},{"./baseEach":247,"./isArrayLike":295}],260:[function(require,module,exports){function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null!=object&&(object=toObject(object),object[key]===value&&(void 0!==value||key in object))}}return function(object){return baseIsMatch(object,matchData)}}var baseIsMatch=require("./baseIsMatch"),getMatchData=require("./getMatchData"),toObject=require("./toObject");module.exports=baseMatches},{"./baseIsMatch":257,"./getMatchData":289,"./toObject":311}],261:[function(require,module,exports){function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),(isArr||!isCommon)&&!(key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===srcValue?void 0!==srcValue||key in object:baseIsEqual(srcValue,object[key],void 0,!0)}}var baseGet=require("./baseGet"),baseIsEqual=require("./baseIsEqual"),baseSlice=require("./baseSlice"),isArray=require("../lang/isArray"),isKey=require("./isKey"),isStrictComparable=require("./isStrictComparable"),last=require("../array/last"),toObject=require("./toObject"),toPath=require("./toPath");module.exports=baseMatchesProperty},{"../array/last":226,"../lang/isArray":316,"./baseGet":253,"./baseIsEqual":255,"./baseSlice":265,"./isKey":299,"./isStrictComparable":303,"./toObject":311,"./toPath":312}],262:[function(require,module,exports){function baseProperty(key){return function(object){return null==object?void 0:toObject(object)[key]}}var toObject=require("./toObject");module.exports=baseProperty},{"./toObject":311}],263:[function(require,module,exports){function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}var baseGet=require("./baseGet"),toPath=require("./toPath");module.exports=basePropertyDeep},{"./baseGet":253,"./toPath":312}],264:[function(require,module,exports){var identity=require("../utility/identity"),metaMap=require("./metaMap"),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity;module.exports=baseSetData},{"../utility/identity":330,"./metaMap":305}],265:[function(require,module,exports){function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,start<0&&(start=-start>length?0:length+start),end=void 0===end||end>length?length:+end||0,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}module.exports=baseSlice},{}],266:[function(require,module,exports){function baseToString(value){return null==value?"":value+""}module.exports=baseToString},{}],267:[function(require,module,exports){function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}module.exports=baseValues},{}],268:[function(require,module,exports){function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];(retHighest?computed<=value:computed<value)&&null!==computed?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}var binaryIndexBy=require("./binaryIndexBy"),identity=require("../utility/identity"),MAX_ARRAY_LENGTH=4294967295,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;module.exports=binaryIndex},{"../utility/identity":330,"./binaryIndexBy":269}],269:[function(require,module,exports){function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=null===value,valIsUndef=void 0===value;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=void 0!==computed,isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsNull?isReflexive&&isDef&&(retHighest||null!=computed):valIsUndef?isReflexive&&(retHighest||isDef):null!=computed&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}var nativeFloor=Math.floor,nativeMin=Math.min,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1;module.exports=binaryIndexBy},{}],270:[function(require,module,exports){function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(void 0===thisArg)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}var identity=require("../utility/identity");module.exports=bindCallback},{"../utility/identity":330}],271:[function(require,module,exports){(function(global){function bufferClone(buffer){var result=new ArrayBuffer(buffer.byteLength),view=new Uint8Array(result);
return view.set(new Uint8Array(buffer)),result}var ArrayBuffer=global.ArrayBuffer,Uint8Array=global.Uint8Array;module.exports=bufferClone}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],272:[function(require,module,exports){function composeArgs(args,partials,holders){for(var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(leftLength+argsLength);++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)result[holders[argsIndex]]=args[argsIndex];for(;argsLength--;)result[leftIndex++]=args[argsIndex++];return result}var nativeMax=Math.max;module.exports=composeArgs},{}],273:[function(require,module,exports){function composeArgsRight(args,partials,holders){for(var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);++argsIndex<argsLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}var nativeMax=Math.max;module.exports=composeArgsRight},{}],274:[function(require,module,exports){function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}var getLength=require("./getLength"),isLength=require("./isLength"),toObject=require("./toObject");module.exports=createBaseEach},{"./getLength":288,"./isLength":301,"./toObject":311}],275:[function(require,module,exports){function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}var toObject=require("./toObject");module.exports=createBaseFor},{"./toObject":311}],276:[function(require,module,exports){(function(global){function createBindWrapper(func,thisArg){function wrapper(){var fn=this&&this!==global&&this instanceof wrapper?Ctor:func;return fn.apply(thisArg,arguments)}var Ctor=createCtorWrapper(func);return wrapper}var createCtorWrapper=require("./createCtorWrapper");module.exports=createBindWrapper}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":277}],277:[function(require,module,exports){function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}var baseCreate=require("./baseCreate"),isObject=require("../lang/isObject");module.exports=createCtorWrapper},{"../lang/isObject":320,"./baseCreate":246}],278:[function(require,module,exports){function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){if(predicate=baseCallback(predicate,thisArg,3),isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:void 0}return baseFind(collection,predicate,eachFunc)}}var baseCallback=require("./baseCallback"),baseFind=require("./baseFind"),baseFindIndex=require("./baseFindIndex"),isArray=require("../lang/isArray");module.exports=createFind},{"../lang/isArray":316,"./baseCallback":243,"./baseFind":248,"./baseFindIndex":249}],279:[function(require,module,exports){function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&void 0===thisArg&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}var bindCallback=require("./bindCallback"),isArray=require("../lang/isArray");module.exports=createForEach},{"../lang/isArray":316,"./bindCallback":270}],280:[function(require,module,exports){(function(global){function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(partials&&(args=composeArgs(args,partials,holders)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight)),isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);if(length-=argsHolders.length,length<arity){var newArgPos=argPos?arrayCopy(argPos):void 0,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:void 0,newHoldersRight=isCurry?void 0:argsHolders,newPartials=isCurry?args:void 0,newPartialsRight=isCurry?void 0:args;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),isCurryBound||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(void 0,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return argPos&&(args=reorder(args,argPos)),isAry&&ary<args.length&&(args.length=ary),this&&this!==global&&this instanceof wrapper&&(fn=Ctor||createCtorWrapper(func)),fn.apply(thisBinding,args)}var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?void 0:createCtorWrapper(func);return wrapper}var arrayCopy=require("./arrayCopy"),composeArgs=require("./composeArgs"),composeArgsRight=require("./composeArgsRight"),createCtorWrapper=require("./createCtorWrapper"),isLaziable=require("./isLaziable"),reorder=require("./reorder"),replaceHolders=require("./replaceHolders"),setData=require("./setData"),BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,nativeMax=Math.max;module.exports=createHybridWrapper}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":238,"./composeArgs":272,"./composeArgsRight":273,"./createCtorWrapper":277,"./isLaziable":300,"./reorder":307,"./replaceHolders":308,"./setData":309}],281:[function(require,module,exports){(function(global){function createPartialWrapper(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength);++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];var fn=this&&this!==global&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,args)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}var createCtorWrapper=require("./createCtorWrapper"),BIND_FLAG=1;module.exports=createPartialWrapper}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":277}],282:[function(require,module,exports){function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=void 0),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=void 0}var data=isBindKey?void 0:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&(mergeData(newData,data),bitmask=newData[1],arity=newData[9]),newData[9]=null==arity?isBindKey?0:func.length:nativeMax(arity-length,0)||0,bitmask==BIND_FLAG)var result=createBindWrapper(newData[0],newData[2]);else result=bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||newData[4].length?createHybridWrapper.apply(void 0,newData):createPartialWrapper.apply(void 0,newData);var setter=data?baseSetData:setData;return setter(result,newData)}var baseSetData=require("./baseSetData"),createBindWrapper=require("./createBindWrapper"),createHybridWrapper=require("./createHybridWrapper"),createPartialWrapper=require("./createPartialWrapper"),getData=require("./getData"),mergeData=require("./mergeData"),setData=require("./setData"),BIND_FLAG=1,BIND_KEY_FLAG=2,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;module.exports=createWrapper},{"./baseSetData":264,"./createBindWrapper":276,"./createHybridWrapper":280,"./createPartialWrapper":281,"./getData":286,"./mergeData":304,"./setData":309}],283:[function(require,module,exports){function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;++index<arrLength;){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):void 0;if(void 0!==result){if(result)continue;return!1}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return!1}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))return!1}return!0}var arraySome=require("./arraySome");module.exports=equalArrays},{"./arraySome":241}],284:[function(require,module,exports){function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}var boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",numberTag="[object Number]",regexpTag="[object RegExp]",stringTag="[object String]";module.exports=equalByTag},{}],285:[function(require,module,exports){function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return!1}for(var skipCtor=isLoose;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):void 0;if(!(void 0===result?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}var keys=require("../object/keys"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=equalObjects},{"../object/keys":325}],286:[function(require,module,exports){var metaMap=require("./metaMap"),noop=require("../utility/noop"),getData=metaMap?function(func){return metaMap.get(func)}:noop;module.exports=getData},{"../utility/noop":331,"./metaMap":305}],287:[function(require,module,exports){function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=array?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}var realNames=require("./realNames");module.exports=getFuncName},{"./realNames":306}],288:[function(require,module,exports){var baseProperty=require("./baseProperty"),getLength=baseProperty("length");module.exports=getLength},{"./baseProperty":262}],289:[function(require,module,exports){function getMatchData(object){for(var result=pairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}var isStrictComparable=require("./isStrictComparable"),pairs=require("../object/pairs");module.exports=getMatchData},{"../object/pairs":327,"./isStrictComparable":303}],290:[function(require,module,exports){function getNative(object,key){var value=null==object?void 0:object[key];return isNative(value)?value:void 0}var isNative=require("../lang/isNative");module.exports=getNative},{"../lang/isNative":319}],291:[function(require,module,exports){function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!==other)return index}return-1}module.exports=indexOfNaN},{}],292:[function(require,module,exports){function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=initCloneArray},{}],293:[function(require,module,exports){(function(global){function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor((+object));case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:Ctor instanceof Ctor&&(Ctor=ctorByTag[tag]);var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}var bufferClone=require("./bufferClone"),boolTag="[object Boolean]",dateTag="[object Date]",numberTag="[object Number]",regexpTag="[object RegExp]",stringTag="[object String]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reFlags=/\w*$/,Uint8Array=global.Uint8Array,ctorByTag={};ctorByTag[float32Tag]=global.Float32Array,ctorByTag[float64Tag]=global.Float64Array,ctorByTag[int8Tag]=global.Int8Array,ctorByTag[int16Tag]=global.Int16Array,ctorByTag[int32Tag]=global.Int32Array,ctorByTag[uint8Tag]=Uint8Array,ctorByTag[uint8ClampedTag]=global.Uint8ClampedArray,ctorByTag[uint16Tag]=global.Uint16Array,ctorByTag[uint32Tag]=global.Uint32Array,module.exports=initCloneByTag}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bufferClone":271}],294:[function(require,module,exports){function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}module.exports=initCloneObject},{}],295:[function(require,module,exports){function isArrayLike(value){return null!=value&&isLength(getLength(value))}var getLength=require("./getLength"),isLength=require("./isLength");module.exports=isArrayLike},{"./getLength":288,"./isLength":301}],296:[function(require,module,exports){var isHostObject=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(value){return"function"!=typeof value.toString&&"string"==typeof(value+"")}}();module.exports=isHostObject},{}],297:[function(require,module,exports){function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&value<length}var reIsUint=/^\d+$/,MAX_SAFE_INTEGER=9007199254740991;module.exports=isIndex},{}],298:[function(require,module,exports){function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object){var other=object[index];return value===value?value===other:other!==other}return!1}var isArrayLike=require("./isArrayLike"),isIndex=require("./isIndex"),isObject=require("../lang/isObject");module.exports=isIterateeCall},{"../lang/isObject":320,"./isArrayLike":295,"./isIndex":297}],299:[function(require,module,exports){function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}var isArray=require("../lang/isArray"),toObject=require("./toObject"),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=isKey},{"../lang/isArray":316,"./toObject":311}],300:[function(require,module,exports){function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}var LazyWrapper=require("./LazyWrapper"),getData=require("./getData"),getFuncName=require("./getFuncName"),lodash=require("../chain/lodash");module.exports=isLaziable},{"../chain/lodash":227,"./LazyWrapper":236,"./getData":286,"./getFuncName":287}],301:[function(require,module,exports){function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var MAX_SAFE_INTEGER=9007199254740991;module.exports=isLength},{}],302:[function(require,module,exports){function isObjectLike(value){return!!value&&"object"==typeof value}module.exports=isObjectLike},{}],303:[function(require,module,exports){function isStrictComparable(value){return value===value&&!isObject(value)}var isObject=require("../lang/isObject");module.exports=isStrictComparable},{"../lang/isObject":320}],304:[function(require,module,exports){function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<ARY_FLAG,isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6])),value=source[7],value&&(data[7]=arrayCopy(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}var arrayCopy=require("./arrayCopy"),composeArgs=require("./composeArgs"),composeArgsRight=require("./composeArgsRight"),replaceHolders=require("./replaceHolders"),BIND_FLAG=1,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,ARY_FLAG=128,REARG_FLAG=256,PLACEHOLDER="__lodash_placeholder__",nativeMin=Math.min;module.exports=mergeData},{"./arrayCopy":238,"./composeArgs":272,"./composeArgsRight":273,"./replaceHolders":308}],305:[function(require,module,exports){(function(global){var getNative=require("./getNative"),WeakMap=getNative(global,"WeakMap"),metaMap=WeakMap&&new WeakMap;module.exports=metaMap}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getNative":290}],306:[function(require,module,exports){var realNames={};module.exports=realNames},{}],307:[function(require,module,exports){function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:void 0}return array}var arrayCopy=require("./arrayCopy"),isIndex=require("./isIndex"),nativeMin=Math.min;module.exports=reorder},{"./arrayCopy":238,"./isIndex":297}],308:[function(require,module,exports){function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;)array[index]===placeholder&&(array[index]=PLACEHOLDER,result[++resIndex]=index);return result}var PLACEHOLDER="__lodash_placeholder__";module.exports=replaceHolders},{}],309:[function(require,module,exports){var baseSetData=require("./baseSetData"),now=require("../date/now"),HOT_COUNT=150,HOT_SPAN=16,setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}();module.exports=setData},{"../date/now":233,"./baseSetData":264}],310:[function(require,module,exports){function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)||isString(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}var isArguments=require("../lang/isArguments"),isArray=require("../lang/isArray"),isIndex=require("./isIndex"),isLength=require("./isLength"),isString=require("../lang/isString"),keysIn=require("../object/keysIn"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=shimKeys},{"../lang/isArguments":315,"../lang/isArray":316,"../lang/isString":322,"../object/keysIn":326,"./isIndex":297,"./isLength":301}],311:[function(require,module,exports){function toObject(value){if(support.unindexedChars&&isString(value)){for(var index=-1,length=value.length,result=Object(value);++index<length;)result[index]=value.charAt(index);return result}return isObject(value)?value:Object(value)}var isObject=require("../lang/isObject"),isString=require("../lang/isString"),support=require("../support");module.exports=toObject},{"../lang/isObject":320,"../lang/isString":322,"../support":329}],312:[function(require,module,exports){function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}var baseToString=require("./baseToString"),isArray=require("../lang/isArray"),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reEscapeChar=/\\(\\)?/g;module.exports=toPath},{"../lang/isArray":316,"./baseToString":266}],313:[function(require,module,exports){function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}var LazyWrapper=require("./LazyWrapper"),LodashWrapper=require("./LodashWrapper"),arrayCopy=require("./arrayCopy");module.exports=wrapperClone},{"./LazyWrapper":236,"./LodashWrapper":237,"./arrayCopy":238}],314:[function(require,module,exports){function cloneDeep(value,customizer,thisArg){return"function"==typeof customizer?baseClone(value,!0,bindCallback(customizer,thisArg,3)):baseClone(value,!0)}var baseClone=require("../internal/baseClone"),bindCallback=require("../internal/bindCallback");module.exports=cloneDeep},{"../internal/baseClone":244,"../internal/bindCallback":270}],315:[function(require,module,exports){function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}var isArrayLike=require("../internal/isArrayLike"),isObjectLike=require("../internal/isObjectLike"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable;module.exports=isArguments},{"../internal/isArrayLike":295,"../internal/isObjectLike":302}],316:[function(require,module,exports){var getNative=require("../internal/getNative"),isLength=require("../internal/isLength"),isObjectLike=require("../internal/isObjectLike"),arrayTag="[object Array]",objectProto=Object.prototype,objToString=objectProto.toString,nativeIsArray=getNative(Array,"isArray"),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};module.exports=isArray},{"../internal/getNative":290,"../internal/isLength":301,"../internal/isObjectLike":302}],317:[function(require,module,exports){function isEmpty(value){return null==value||(isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!value.length:!keys(value).length)}var isArguments=require("./isArguments"),isArray=require("./isArray"),isArrayLike=require("../internal/isArrayLike"),isFunction=require("./isFunction"),isObjectLike=require("../internal/isObjectLike"),isString=require("./isString"),keys=require("../object/keys");module.exports=isEmpty},{"../internal/isArrayLike":295,"../internal/isObjectLike":302,"../object/keys":325,"./isArguments":315,"./isArray":316,"./isFunction":318,"./isString":322}],318:[function(require,module,exports){function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}var isObject=require("./isObject"),funcTag="[object Function]",objectProto=Object.prototype,objToString=objectProto.toString;module.exports=isFunction},{"./isObject":320}],319:[function(require,module,exports){function isNative(value){return null!=value&&(isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&(isHostObject(value)?reIsNative:reIsHostCtor).test(value))}var isFunction=require("./isFunction"),isHostObject=require("../internal/isHostObject"),isObjectLike=require("../internal/isObjectLike"),reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=isNative},{"../internal/isHostObject":296,"../internal/isObjectLike":302,"./isFunction":318}],320:[function(require,module,exports){function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}module.exports=isObject},{}],321:[function(require,module,exports){function isPlainObject(value){var Ctor;if(!isObjectLike(value)||objToString.call(value)!=objectTag||isHostObject(value)||isArguments(value)||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return support.ownLast?(baseForIn(value,function(subValue,key,object){return result=hasOwnProperty.call(object,key),!1}),result!==!1):(baseForIn(value,function(subValue,key){result=key}),void 0===result||hasOwnProperty.call(value,result))}var baseForIn=require("../internal/baseForIn"),isArguments=require("./isArguments"),isHostObject=require("../internal/isHostObject"),isObjectLike=require("../internal/isObjectLike"),support=require("../support"),objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;module.exports=isPlainObject},{"../internal/baseForIn":251,"../internal/isHostObject":296,"../internal/isObjectLike":302,"../support":329,"./isArguments":315}],322:[function(require,module,exports){function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}var isObjectLike=require("../internal/isObjectLike"),stringTag="[object String]",objectProto=Object.prototype,objToString=objectProto.toString;module.exports=isString},{"../internal/isObjectLike":302}],323:[function(require,module,exports){function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}var isLength=require("../internal/isLength"),isObjectLike=require("../internal/isObjectLike"),argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var objectProto=Object.prototype,objToString=objectProto.toString;module.exports=isTypedArray},{"../internal/isLength":301,"../internal/isObjectLike":302}],324:[function(require,module,exports){function isUndefined(value){return void 0===value}module.exports=isUndefined},{}],325:[function(require,module,exports){var getNative=require("../internal/getNative"),isArrayLike=require("../internal/isArrayLike"),isObject=require("../lang/isObject"),shimKeys=require("../internal/shimKeys"),support=require("../support"),nativeKeys=getNative(Object,"keys"),keys=nativeKeys?function(object){var Ctor=null==object?void 0:object.constructor;return"function"==typeof Ctor&&Ctor.prototype===object||("function"==typeof object?support.enumPrototypes:isArrayLike(object))?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys;module.exports=keys},{"../internal/getNative":290,"../internal/isArrayLike":295,"../internal/shimKeys":310,"../lang/isObject":320,"../support":329}],326:[function(require,module,exports){function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object)||isString(object))&&length||0;for(var Ctor=object.constructor,index=-1,proto=isFunction(Ctor)&&Ctor.prototype||objectProto,isProto=proto===object,result=Array(length),skipIndexes=length>0,skipErrorProps=support.enumErrorProps&&(object===errorProto||object instanceof Error),skipProto=support.enumPrototypes&&isFunction(object);++index<length;)result[index]=index+"";
for(var key in object)skipProto&&"prototype"==key||skipErrorProps&&("message"==key||"name"==key)||skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);if(support.nonEnumShadows&&object!==objectProto){var tag=object===stringProto?stringTag:object===errorProto?errorTag:objToString.call(object),nonEnums=nonEnumProps[tag]||nonEnumProps[objectTag];for(tag==objectTag&&(proto=objectProto),length=shadowProps.length;length--;){key=shadowProps[length];var nonEnum=nonEnums[key];isProto&&nonEnum||(nonEnum?!hasOwnProperty.call(object,key):object[key]===proto[key])||result.push(key)}}return result}var arrayEach=require("../internal/arrayEach"),isArguments=require("../lang/isArguments"),isArray=require("../lang/isArray"),isFunction=require("../lang/isFunction"),isIndex=require("../internal/isIndex"),isLength=require("../internal/isLength"),isObject=require("../lang/isObject"),isString=require("../lang/isString"),support=require("../support"),arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]",shadowProps=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],errorProto=Error.prototype,objectProto=Object.prototype,stringProto=String.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,nonEnumProps={};nonEnumProps[arrayTag]=nonEnumProps[dateTag]=nonEnumProps[numberTag]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},nonEnumProps[boolTag]=nonEnumProps[stringTag]={constructor:!0,toString:!0,valueOf:!0},nonEnumProps[errorTag]=nonEnumProps[funcTag]=nonEnumProps[regexpTag]={constructor:!0,toString:!0},nonEnumProps[objectTag]={constructor:!0},arrayEach(shadowProps,function(key){for(var tag in nonEnumProps)if(hasOwnProperty.call(nonEnumProps,tag)){var props=nonEnumProps[tag];props[key]=hasOwnProperty.call(props,key)}}),module.exports=keysIn},{"../internal/arrayEach":239,"../internal/isIndex":297,"../internal/isLength":301,"../lang/isArguments":315,"../lang/isArray":316,"../lang/isFunction":318,"../lang/isObject":320,"../lang/isString":322,"../support":329}],327:[function(require,module,exports){function pairs(object){object=toObject(object);for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}var keys=require("./keys"),toObject=require("../internal/toObject");module.exports=pairs},{"../internal/toObject":311,"./keys":325}],328:[function(require,module,exports){function values(object){return baseValues(object,keys(object))}var baseValues=require("../internal/baseValues"),keys=require("./keys");module.exports=values},{"../internal/baseValues":267,"./keys":325}],329:[function(require,module,exports){var arrayProto=Array.prototype,errorProto=Error.prototype,objectProto=Object.prototype,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,support={};!function(x){var Ctor=function(){this.x=x},object={0:x,length:x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.enumErrorProps=propertyIsEnumerable.call(errorProto,"message")||propertyIsEnumerable.call(errorProto,"name"),support.enumPrototypes=propertyIsEnumerable.call(Ctor,"prototype"),support.nonEnumShadows=!/valueOf/.test(props),support.ownLast="x"!=props[0],support.spliceObjects=(splice.call(object,0,1),!object[0]),support.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),module.exports=support},{}],330:[function(require,module,exports){function identity(value){return value}module.exports=identity},{}],331:[function(require,module,exports){function noop(){}module.exports=noop},{}],332:[function(require,module,exports){function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var baseProperty=require("../internal/baseProperty"),basePropertyDeep=require("../internal/basePropertyDeep"),isKey=require("../internal/isKey");module.exports=property},{"../internal/baseProperty":262,"../internal/basePropertyDeep":263,"../internal/isKey":299}],333:[function(require,module,exports){(function(global){(function(){function addMapEntry(map,pair){return map.set(pair[0],pair[1]),map}function addSetEntry(set,value){return set.add(value),set}function apply(func,thisArg,args){var length=args.length;switch(length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayConcat(array,other){for(var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);++index<length;)result[index]=array[index];for(;++othIndex<othLength;)result[index++]=other[othIndex];return result}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayEachRight(array,iteratee){for(var length=array.length;length--&&iteratee(array[length],length,array)!==!1;);return array}function arrayEvery(array,predicate){for(var index=-1,length=array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!array.length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(computed===undefined?current===current:comparator(current,computed)))var computed=current,result=value}return result}function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=retKey?key:value,!1}),result}function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);current!==undefined&&(result=result===undefined?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function checkGlobal(value){return value&&value.Object===Object?value:null}function compareAscending(value,other){if(value!==other){var valIsNull=null===value,valIsUndef=value===undefined,valIsReflexive=value===value,othIsNull=null===other,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive)return 1;if(value<other&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive)return-1}return 0}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("desc"==order?-1:1)}}return object.index-other.index}function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&result++;return result}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!==other)return index}return-1}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&value<length}function iteratorToArray(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function stringSize(string){if(!string||!reHasComplexSymbol.test(string))return string.length;for(var result=reComplexSymbol.lastIndex=0;reComplexSymbol.test(string);)result++;return result}function stringToArray(string){return string.match(reComplexSymbol)}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=undefined}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||arrLength<LARGE_ARRAY_SIZE||arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result}function Hash(){}function hashDelete(hash,key){return hashHas(hash,key)&&delete hash[key]}function hashGet(hash,key){if(nativeCreate){var result=hash[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(hash,key)?hash[key]:undefined}function hashHas(hash,key){return nativeCreate?hash[key]!==undefined:hasOwnProperty.call(hash,key)}function hashSet(hash,key,value){hash[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value}function MapCache(values){var index=-1,length=values?values.length:0;for(this.clear();++index<length;){var entry=values[index];this.set(entry[0],entry[1])}}function mapClear(){this.__data__={hash:new Hash,map:Map?new Map:[],string:new Hash}}function mapDelete(key){var data=this.__data__;return isKeyable(key)?hashDelete("string"==typeof key?data.string:data.hash,key):Map?data.map["delete"](key):assocDelete(data.map,key)}function mapGet(key){var data=this.__data__;return isKeyable(key)?hashGet("string"==typeof key?data.string:data.hash,key):Map?data.map.get(key):assocGet(data.map,key)}function mapHas(key){var data=this.__data__;return isKeyable(key)?hashHas("string"==typeof key?data.string:data.hash,key):Map?data.map.has(key):assocHas(data.map,key)}function mapSet(key,value){var data=this.__data__;return isKeyable(key)?hashSet("string"==typeof key?data.string:data.hash,key,value):Map?data.map.set(key,value):assocSet(data.map,key,value),this}function SetCache(values){var index=-1,length=values?values.length:0;for(this.__data__=new MapCache;++index<length;)this.push(values[index])}function cacheHas(cache,value){var map=cache.__data__;if(isKeyable(value)){var data=map.__data__,hash="string"==typeof value?data.string:data.hash;return hash[value]===HASH_UNDEFINED}return map.has(value)}function cachePush(value){var map=this.__data__;if(isKeyable(value)){var data=map.__data__,hash="string"==typeof value?data.string:data.hash;hash[value]=HASH_UNDEFINED}else map.set(value,HASH_UNDEFINED)}function Stack(values){var index=-1,length=values?values.length:0;for(this.clear();++index<length;){var entry=values[index];this.set(entry[0],entry[1])}}function stackClear(){this.__data__={array:[],map:null}}function stackDelete(key){var data=this.__data__,array=data.array;return array?assocDelete(array,key):data.map["delete"](key)}function stackGet(key){var data=this.__data__,array=data.array;return array?assocGet(array,key):data.map.get(key)}function stackHas(key){var data=this.__data__,array=data.array;return array?assocHas(array,key):data.map.has(key)}function stackSet(key,value){var data=this.__data__,array=data.array;array&&(array.length<LARGE_ARRAY_SIZE-1?assocSet(array,key,value):(data.array=null,data.map=new MapCache(array)));var map=data.map;return map&&map.set(key,value),this}function assocDelete(array,key){var index=assocIndexOf(array,key);if(index<0)return!1;var lastIndex=array.length-1;return index==lastIndex?array.pop():splice.call(array,index,1),!0}function assocGet(array,key){var index=assocIndexOf(array,key);return index<0?undefined:array[index][1]}function assocHas(array,key){return assocIndexOf(array,key)>-1}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function assocSet(array,key,value){var index=assocIndexOf(array,key);index<0?array.push([key,value]):array[index][1]=value}function assignInDefaults(objValue,srcValue,key,object){return objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function assignMergeValue(object,key,value){(value===undefined||eq(object[key],value))&&("number"!=typeof key||value!==undefined||key in object)||(object[key]=value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(value!==undefined||key in object)||(object[key]=value)}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)}),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAt(object,paths){for(var index=-1,isNil=null==object,length=paths.length,result=Array(length);++index<length;)result[index]=isNil?undefined:get(object,paths[index]);return result}function baseCastArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function baseCastFunction(value){return"function"==typeof value?value:identity}function baseCastPath(value){return isArray(value)?value:stringToPath(value)}function baseClamp(number,lower,upper){return number===number&&(upper!==undefined&&(number=number<=upper?number:upper),lower!==undefined&&(number=number>=lower?number:lower)),number}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return result=baseAssign(result,value),isFull?copySymbols(value,result):result}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);return stacked?stacked:(stack.set(value,result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))}),isFull&&!isArr?copySymbols(value,result):result)}function baseConforms(source){var props=keys(source),length=props.length;return function(object){if(null==object)return!length;for(var index=length;index--;){var key=props[index],predicate=source[key],value=object[key];if(value===undefined&&!(key in Object(object))||!predicate(value))return!1}return!0}}function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=LARGE_ARRAY_SIZE&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(isCommon&&computed===computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseFill(array,value,start,end){var length=array.length;for(start=toInteger(start),start<0&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:toInteger(end),end<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFlatten(array,depth,isStrict,result){result||(result=[]);for(var index=-1,length=array.length;++index<length;){var value=array[index];depth>0&&isArrayLikeObject(value)&&(isStrict||isArray(value)||isArguments(value))?depth>1?baseFlatten(value,depth-1,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}function baseForIn(object,iteratee){return null==object?object:baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=isKey(path,object)?[path+""]:baseCastPath(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[path[index++]];return index&&index==length?object:undefined}function baseHas(object,key){return hasOwnProperty.call(object,key)||"object"==typeof object&&key in object&&null===getPrototypeOf(object)}function baseHasIn(object,key){return key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){return baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)}),accumulator}function baseInvoke(object,path,args){isKey(path,object)||(path=baseCastPath(path),object=parent(object,path),path=last(path));var func=null==object?object:object[path];return null==func?undefined:apply(func,object,args)}function baseIsEqual(value,other,customizer,bitmask,stack){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack))}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=getTag(object),objTag=objTag==argsTag?objectTag:objTag),othIsArr||(othTag=getTag(other),othTag=othTag==argsTag?objectTag:othTag);var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack);if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return stack||(stack=new Stack),equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,bitmask,stack)}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,equalFunc,customizer,bitmask,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var stack=new Stack,result=customizer?customizer(objValue,srcValue,key,object,source,stack):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result))return!1}}return!0}function baseIteratee(value){var type=typeof value;return"function"==type?value:null==value?identity:"object"==type?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){return nativeKeys(Object(object))}function baseKeysIn(object){object=null==object?object:Object(object);var result=[];for(var key in object)result.push(key);return result}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null!=object&&(object[key]===value&&(value!==undefined||key in Object(object)))}}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,undefined,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object!==source){var props=isArray(source)||isTypedArray(source)?undefined:keysIn(source);arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObject(srcValue))stack||(stack=new Stack),baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):undefined;newValue===undefined&&(newValue=srcValue),assignMergeValue(object,key,newValue)}})}}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined,isCommon=newValue===undefined;isCommon&&(newValue=srcValue,isArray(srcValue)||isTypedArray(srcValue)?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):(isCommon=!1,newValue=baseClone(srcValue,!customizer)):isPlainObject(srcValue)||isArguments(srcValue)?isArguments(objValue)?newValue=toPlainObject(objValue):!isObject(objValue)||srcIndex&&isFunction(objValue)?(isCommon=!1,newValue=baseClone(srcValue,!customizer)):newValue=objValue:isCommon=!1),stack.set(srcValue,newValue),isCommon&&mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack["delete"](srcValue),assignMergeValue(object,key,newValue)}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:Array(1),getIteratee());var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,props){return object=Object(object),arrayReduce(props,function(result,key){return key in object&&(result[key]=object[key]),result},{})}function basePickBy(object,predicate){var result={};return baseForIn(object,function(value,key){predicate(value,key)&&(result[key]=value)}),result}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(lastIndex==length||index!=previous){var previous=index;if(isIndex(index))splice.call(array,index,1);else if(isKey(index,array))delete array[index];else{var path=baseCastPath(index),object=parent(array,path);null!=object&&delete object[last(path)]}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}function baseSet(object,path,value,customizer){path=isKey(path,object)?[path+""]:baseCastPath(path);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=path[index];if(isObject(nested)){var newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined,newValue===undefined&&(newValue=null==objValue?isIndex(path[index+1])?[]:{}:objValue)}assignValue(nested,key,newValue)}nested=nested[key]}return object}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),end=end>length?length:end,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];
return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];(retHighest?computed<=value:computed<value)&&null!==computed?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=null===value,valIsUndef=value===undefined;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsNull?isReflexive&&isDef&&(retHighest||null!=computed):valIsUndef?isReflexive&&(retHighest||isDef):null!=computed&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array){return baseSortedUniqBy(array)}function baseSortedUniqBy(array,iteratee){for(var index=0,length=array.length,value=array[0],computed=iteratee?iteratee(value):value,seen=computed,resIndex=1,result=[value];++index<length;)value=array[index],computed=iteratee?iteratee(value):value,eq(computed,seen)||(seen=computed,result[resIndex++]=value);return result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(isCommon&&computed===computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){path=isKey(path,object)?[path+""]:baseCastPath(path),object=parent(object,path);var key=last(path);return null==object||!has(object,key)||delete object[key]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){for(var index=-1,length=arrays.length;++index<length;)var result=result?arrayPush(baseDifference(result,arrays[index],iteratee,comparator),baseDifference(arrays[index],result,iteratee,comparator)):arrays[index];return result&&result.length?baseUniq(result,iteratee,comparator):[]}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;)assignFunc(result,props[index],index<valsLength?values[index]:undefined);return result}function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneMap(map){return arrayReduce(mapToArray(map),addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSet(set){return arrayReduce(setToArray(set),addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object){return copyObjectWith(source,props,object)}function copyObjectWith(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):source[key];assignValue(object,key,newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee),accumulator)}}function createAssigner(assigner){return rest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;for(customizer="function"==typeof customizer?(length--,customizer):undefined,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createBaseWrapper(func,bitmask,thisArg){function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=reHasComplexSymbol.test(string)?stringToArray(string):undefined,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?strSymbols.slice(1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string)),callback,"")}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurryWrapper(func,bitmask,arity){function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getPlaceholder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);if(length-=holders.length,length<arity)return createRecurryWrapper(func,bitmask,createHybridWrapper,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length);var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}var Ctor=createCtorWrapper(func);return wrapper}function createFlow(fromRight){return rest(function(funcs){funcs=baseFlatten(funcs,1);var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],(!0))}for(index=wrapper?index:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE)return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}})}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(isCurried)var placeholder=getPlaceholder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurryWrapper(func,bitmask,createHybridWrapper,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtorWrapper(fn)),fn.apply(thisBinding,args)}var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurried=bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG),isFlip=bitmask&FLIP_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createOver(arrayFunc){return rest(function(iteratees){return iteratees=arrayMap(baseFlatten(iteratees,1),getIteratee()),rest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(string,length,chars){length=toInteger(length);var strLength=stringSize(string);if(!length||strLength>=length)return"";var padLength=length-strLength;chars=chars===undefined?" ":chars+"";var result=repeat(chars,nativeCeil(padLength/stringSize(chars)));return reHasComplexSymbol.test(chars)?stringToArray(result).slice(0,padLength).join(""):result.slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=toNumber(start),start=start===start?start:0,end===undefined?(end=start,start=0):end=toNumber(end)||0,step=step===undefined?start<end?1:-1:toNumber(step)||0,baseRange(start,end,step,fromRight)}}function createRecurryWrapper(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&CURRY_FLAG,newArgPos=argPos?copyArray(argPos):undefined,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),bitmask&CURRY_BOUND_FLAG||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,newArgPos,ary,arity],result=wrapFunc.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),precision=toInteger(precision)){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));return pair=(toString(value)+"e").split("e"),+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=undefined),ary=ary===undefined?ary:nativeMax(toInteger(ary),0),arity=arity===undefined?arity:toInteger(arity),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&mergeData(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],arity=newData[9]=null==newData[9]?isBindKey?0:func.length:nativeMax(newData[9]-length,0),!arity&&bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG)&&(bitmask&=~(CURRY_FLAG|CURRY_RIGHT_FLAG)),bitmask&&bitmask!=BIND_FLAG)result=bitmask==CURRY_FLAG||bitmask==CURRY_RIGHT_FLAG?createCurryWrapper(func,bitmask,arity):bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||holders.length?createHybridWrapper.apply(undefined,newData):createPartialWrapper(func,bitmask,thisArg,partials);else var result=createBaseWrapper(func,bitmask,thisArg);var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var index=-1,isPartial=bitmask&PARTIAL_COMPARE_FLAG,isUnordered=bitmask&UNORDERED_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked)return stacked==other;var result=!0;for(stack.set(array,other);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==undefined){if(compared)continue;result=!1;break}if(isUnordered){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,bitmask,stack)){result=!1;break}}return stack["delete"](array),result}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);return stacked?stacked==other:equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask|UNORDERED_COMPARE_FLAG,stack.set(object,other));case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:baseHas(other,key)))return!1}var stacked=stack.get(object);if(stacked)return stacked==other;var result=!0;stack.set(object,other);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack["delete"](object),result}function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMatchData(object){for(var result=toPairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}function getNative(object,key){var value=object[key];return isNative(value)?value:undefined}function getPlaceholder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getTag(value){return objectToString.call(value)}function getView(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function hasPath(object,path,hasFunc){if(null==object)return!1;var result=hasFunc(object,path);result||isKey(path)||(path=baseCastPath(path),object=parent(object,path),null!=object&&(path=last(path),result=hasFunc(object,path)));var length=object?object.length:undefined;return result||!!length&&isLength(length)&&isIndex(path,length)&&(isArray(object)||isString(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototypeOf(object))}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor((+object));case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object);case symbolTag:return cloneSymbol(object)}}function indexKeys(object){var length=object?object.length:undefined;return isLength(length)&&(isArray(object)||isString(object)||isArguments(object))?baseTimes(length,String):null}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){return"number"==typeof value||!isArray(value)&&(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"number"==type||"boolean"==type||"string"==type&&"__proto__"!=value||null==value}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(BIND_FLAG|BIND_KEY_FLAG|ARY_FLAG),isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&source[7].length<=source[8]&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):copyArray(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):copyArray(source[4])}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):copyArray(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):copyArray(source[6])),value=source[7],value&&(data[7]=copyArray(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function mergeDefaults(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&baseMerge(objValue,srcValue,undefined,mergeDefaults,stack.set(srcValue,objValue)),objValue}function parent(object,path){return 1==path.length?object:get(object,baseSlice(path,0,-1))}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function stringToPath(string){var result=[];return toString(string).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}function chunk(array,size){size=nativeMax(toInteger(size),0);var length=array?array.length:0;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=array?array.length:0,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result}function drop(array,n,guard){var length=array?array.length:0;return length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,n<0?0:n,length)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,0,n<0?0:n)):[]}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]}function fill(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function findIndex(array,predicate){return array&&array.length?baseFindIndex(array,getIteratee(predicate,3)):-1}function findLastIndex(array,predicate){return array&&array.length?baseFindIndex(array,getIteratee(predicate,3),!0):-1}function flatten(array){var length=array?array.length:0;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array?array.length:0;return length?(depth=depth===undefined?1:toInteger(depth),baseFlatten(array,depth)):[]}function fromPairs(pairs){for(var index=-1,length=pairs?pairs.length:0,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array?array.length:0;return length?(fromIndex=toInteger(fromIndex),fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),baseIndexOf(array,value,fromIndex)):-1}function initial(array){return dropRight(array,1)}function join(array,separator){return array?nativeJoin.call(array,separator):""}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if(fromIndex!==undefined&&(index=toInteger(fromIndex),index=(index<0?nativeMax(length+index,0):nativeMin(index,length-1))+1),value!==value)return indexOfNaN(array,index,!0);for(;index--;)if(array[index]===value)return index;return-1}function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}function remove(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function reverse(array){return array?nativeReverse.call(array):array}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=end===undefined?length:toInteger(end)),baseSlice(array,start,end)):[]}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee))}function sortedIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,!0)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee),!0)}function sortedLastIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniqBy(array,getIteratee(iteratee)):[]}function tail(array){return drop(array,1)}function take(array,n,guard){return array&&array.length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,0,n<0?0:n)):[]}function takeRight(array,n,guard){var length=array?array.length:0;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,n<0?0:n,length)):[]}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee)):[]}function uniqWith(array,comparator){return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,function(group){return apply(iteratee,undefined,group)})}function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor){return interceptor(value),value}function thru(value,interceptor){return interceptor(value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperFlatMap(iteratee){return this.map(iteratee).flatten()}function wrapperNext(){this.__values__===undefined&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);
clone.__index__=0,clone.__values__=undefined,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),wrapped=wrapped.reverse(),wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}function find(collection,predicate){if(predicate=getIteratee(predicate,3),isArray(collection)){var index=baseFindIndex(collection,predicate);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,baseEach)}function findLast(collection,predicate){if(predicate=getIteratee(predicate,3),isArray(collection)){var index=baseFindIndex(collection,predicate,!0);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,baseEachRight)}function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function forEach(collection,iteratee){return"function"==typeof iteratee&&isArray(collection)?arrayEach(collection,iteratee):baseEach(collection,baseCastFunction(iteratee))}function forEachRight(collection,iteratee){return"function"==typeof iteratee&&isArray(collection)?arrayEachRight(collection,iteratee):baseEachRight(collection,baseCastFunction(iteratee))}function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),orders=guard?undefined:orders,isArray(orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))}function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getIteratee(predicate,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection){var array=isArrayLike(collection)?collection:values(collection),length=array.length;return length>0?array[baseRandom(0,length-1)]:undefined}function sampleSize(collection,n){var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;for(n=baseClamp(toInteger(n),0,length);++index<n;){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index],result[index]=value}return result.length=n,result}function shuffle(collection){return sampleSize(collection,MAX_ARRAY_LENGTH)}function size(collection){if(null==collection)return 0;if(isArrayLike(collection)){var result=collection.length;return result&&isString(collection)?stringSize(collection):result}return keys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}function after(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}}function ary(func,n,guard){return n=guard?undefined:n,n=func&&null==n?func.length:n,createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=undefined),result}}function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrapper(func,CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curry.placeholder,result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrapper(func,CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curryRight.placeholder,result}function debounce(func,wait,options){function cancel(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),lastCalled=0,args=maxTimeoutId=thisArg=timeoutId=trailingCall=undefined}function complete(isCalled,id){id&&clearTimeout(id),maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=undefined))}function delayed(){var remaining=wait-(now()-stamp);remaining<=0||remaining>wait?complete(trailingCall,maxTimeoutId):timeoutId=setTimeout(delayed,remaining)}function flush(){return(timeoutId&&trailingCall||maxTimeoutId&&trailing)&&(result=func.apply(thisArg,args)),cancel(),result}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{lastCalled||maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=(remaining<=0||remaining>maxWait)&&(leading||maxTimeoutId);isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=undefined),result}var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,leading=!1,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait="maxWait"in options&&nativeMax(toNumber(options.maxWait)||0,wait),trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=cancel,debounced.flush=flush,debounced}function flip(func){return createWrapper(func,FLIP_FLAG)}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new memoize.Cache,memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}function rest(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:toInteger(start),0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];switch(start){case 0:return func.call(this,array);case 1:return func.call(this,args[0],array);case 2:return func.call(this,args[0],args[1],array)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function spread(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=start===undefined?0:nativeMax(toInteger(start),0),rest(function(args){var array=args[start],otherArgs=args.slice(0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return wrapper=null==wrapper?identity:wrapper,partial(wrapper,value)}function castArray(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,!1,!0)}function cloneWith(value,customizer){return baseClone(value,!1,!0,customizer)}function cloneDeep(value){return baseClone(value,!0,!0)}function cloneDeepWith(value,customizer){return baseClone(value,!0,!0,customizer)}function eq(value,other){return value===other||value!==value&&other!==other}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayBuffer(value){return isObjectLike(value)&&objectToString.call(value)==arrayBufferTag}function isArrayLike(value){return null!=value&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===!0||value===!1||isObjectLike(value)&&objectToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objectToString.call(value)==dateTag}function isElement(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){if(isArrayLike(value)&&(isArray(value)||isString(value)||isFunction(value.splice)||isArguments(value)))return!value.length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer="function"==typeof customizer?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return!!isObjectLike(value)&&(objectToString.call(value)==errorTag||"string"==typeof value.message&&"string"==typeof value.name)}function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){return null!=value&&(isFunction(value)?reIsNative.test(funcToString.call(value)):isObjectLike(value)&&(isHostObject(value)?reIsNative:reIsHostCtor).test(value))}function isNull(value){return null===value}function isNil(value){return null==value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objectToString.call(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value))return!1;var proto=getPrototypeOf(value);if(null===proto)return!0;var Ctor=proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}function isRegExp(value){return isObject(value)&&objectToString.call(value)==regexpTag}function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}function isSet(value){return isObjectLike(value)&&getTag(value)==setTag}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&objectToString.call(value)==weakSetTag}function lt(value,other){return value<other}function lte(value,other){return value<=other}function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(iteratorSymbol&&value[iteratorSymbol])return iteratorToArray(value[iteratorSymbol]());var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toInteger(value){if(!value)return 0===value?value:0;if(value=toNumber(value),value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}var remainder=value%1;return value===value?remainder?value-remainder:value:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(isObject(value)){var other=isFunction(value.valueOf)?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER)}function toString(value){if("string"==typeof value)return value;if(null==value)return"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function create(prototype,properties){var result=baseCreate(prototype);return properties?baseAssign(result,properties):result}function findKey(object,predicate){return baseFind(object,getIteratee(predicate,3),baseForOwn,!0)}function findLastKey(object,predicate){return baseFind(object,getIteratee(predicate,3),baseForOwnRight,!0)}function forIn(object,iteratee){return null==object?object:baseFor(object,baseCastFunction(iteratee),keysIn)}function forInRight(object,iteratee){return null==object?object:baseForRight(object,baseCastFunction(iteratee),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,baseCastFunction(iteratee))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,baseCastFunction(iteratee))}function functions(object){return null==object?[]:baseFunctions(object,keys(object))}function functionsIn(object){return null==object?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return hasPath(object,path,baseHas)}function hasIn(object,path){return hasPath(object,path,baseHasIn)}function keys(object){var isProto=isPrototype(object);if(!isProto&&!isArrayLike(object))return baseKeys(object);var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object)!baseHas(object,key)||skipIndexes&&("length"==key||isIndex(key,length))||isProto&&"constructor"==key||result.push(key);return result}function keysIn(object){for(var index=-1,isProto=isPrototype(object),props=baseKeysIn(object),propsLength=props.length,indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;++index<propsLength;){var key=props[index];skipIndexes&&("length"==key||isIndex(key,length))||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key)}return result}function mapKeys(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){result[iteratee(value,key,object)]=value}),result}function mapValues(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){result[key]=iteratee(value,key,object)}),result}function omitBy(object,predicate){return predicate=getIteratee(predicate),basePickBy(object,function(value,key){return!predicate(value,key)})}function pickBy(object,predicate){return null==object?{}:basePickBy(object,getIteratee(predicate))}function result(object,path,defaultValue){if(isKey(path,object))result=null==object?undefined:object[path];else{path=baseCastPath(path);var result=get(object,path);object=parent(object,path)}return result===undefined&&(result=defaultValue),isFunction(result)?result.call(object):result}function set(object,path,value){return null==object?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseSet(object,path,value,customizer)}function toPairs(object){return baseToPairs(object,keys(object))}function toPairsIn(object){return baseToPairs(object,keysIn(object))}function transform(object,iteratee,accumulator){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:isFunction(Ctor)?baseCreate(getPrototypeOf(object)):{}}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function unset(object,path){return null==object||baseUnset(object,path)}function update(object,path,updater){return null==object?object:baseUpdate(object,path,baseCastFunction(updater))}function updateWith(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseUpdate(object,path,baseCastFunction(updater),customizer)}function values(object){return object?baseValues(object,keys(object)):[]}function valuesIn(object){return null==object?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){return upper===undefined&&(upper=lower,lower=undefined),upper!==undefined&&(upper=toNumber(upper),upper=upper===upper?upper:0),lower!==undefined&&(lower=toNumber(lower),lower=lower===lower?lower:0),baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){return start=toNumber(start)||0,end===undefined?(end=start,start=0):end=toNumber(end)||0,number=toNumber(number),baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=undefined),floating===undefined&&("boolean"==typeof upper?(floating=upper,upper=undefined):"boolean"==typeof lower&&(floating=lower,lower=undefined)),lower===undefined&&upper===undefined?(lower=0,upper=1):(lower=toNumber(lower)||0,upper===undefined?(upper=lower,lower=0):upper=toNumber(upper)||0),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return string=toString(string),string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string),target="string"==typeof target?target:target+"";var length=string.length;return position=position===undefined?length:baseClamp(toInteger(position),0,length),position-=target.length,position>=0&&string.indexOf(target,position)==position}function escape(string){return string=toString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=toString(string),string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}function pad(string,length,chars){string=toString(string),length=toInteger(length);var strLength=stringSize(string);if(!length||strLength>=length)return string;var mid=(length-strLength)/2,leftLength=nativeFloor(mid),rightLength=nativeCeil(mid);return createPadding("",leftLength,chars)+string+createPadding("",rightLength,chars)}function padEnd(string,length,chars){return string=toString(string),string+createPadding(string,length,chars)}function padStart(string,length,chars){return string=toString(string),createPadding(string,length,chars)+string}function parseInt(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),string=toString(string).replace(reTrim,""),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n){string=toString(string),n=toInteger(n);var result="";if(!string||n<1||n>MAX_SAFE_INTEGER)return result;do n%2&&(result+=string),n=nativeFloor(n/2),string+=string;while(n);return result}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}function split(string,separator,limit){return toString(string).split(separator,limit)}function startsWith(string,target,position){return string=toString(string),position=baseClamp(toInteger(position),0,string.length),string.lastIndexOf(target,position)==position}function template(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=undefined),string=toString(string),options=assignInWith({},options,settings,assignInDefaults);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,assignInDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){if(string=toString(string),!string)return string;if(guard||chars===undefined)return string.replace(reTrim,"");if(chars+="",!chars)return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return strSymbols.slice(charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")}function trimEnd(string,chars,guard){if(string=toString(string),!string)return string;if(guard||chars===undefined)return string.replace(reTrimEnd,"");if(chars+="",!chars)return string;var strSymbols=stringToArray(string);return strSymbols.slice(0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")}function trimStart(string,chars,guard){if(string=toString(string),!string)return string;if(guard||chars===undefined)return string.replace(reTrimStart,"");if(chars+="",!chars)return string;var strSymbols=stringToArray(string);return strSymbols.slice(charsStartIndex(strSymbols,stringToArray(chars))).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?toString(options.omission):omission}string=toString(string);var strLength=string.length;if(reHasComplexSymbol.test(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?strSymbols.slice(0,end).join(""):string.slice(0,end);if(separator===undefined)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=toString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){return string=toString(string),pattern=guard?undefined:pattern,pattern===undefined&&(pattern=reHasComplexWord.test(string)?reComplexWord:reBasicWord),string.match(pattern)||[]}function cond(pairs){var length=pairs?pairs.length:0,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]}):[],rest(function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})}function conforms(source){return baseConforms(baseClone(source,!0))}function constant(value){return function(){return value}}function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,!0))}function matches(source){return baseMatches(baseClone(source,!0))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,!0))}function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options)||options.chain,isFunc=isFunction(object);return arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})}),object}function noConflict(){return root._===this&&(root._=oldDash),this}function noop(){}function nthArg(n){return n=toInteger(n),function(){return arguments[n]}}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return null==object?undefined:baseGet(object,path)}}function times(n,iteratee){if(n=toInteger(n),n<1||n>MAX_SAFE_INTEGER)return[];var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=baseCastFunction(iteratee),n-=MAX_ARRAY_LENGTH;for(var result=baseTimes(length,iteratee);++index<n;)iteratee(index);return result}function toPath(value){return isArray(value)?arrayMap(value,String):stringToPath(value)}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}function add(augend,addend){var result;return augend===undefined&&addend===undefined?0:(augend!==undefined&&(result=augend),addend!==undefined&&(result=result===undefined?addend:result+addend),result)}function max(array){return array&&array.length?baseExtremum(array,identity,gt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee),gt):undefined}function mean(array){return sum(array)/(array?array.length:0)}function min(array){return array&&array.length?baseExtremum(array,identity,lt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee),lt):undefined}function subtract(minuend,subtrahend){var result;return minuend===undefined&&subtrahend===undefined?0:(minuend!==undefined&&(result=minuend),subtrahend!==undefined&&(result=result===undefined?subtrahend:result-subtrahend),result)}function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee)):0}context=context?_.defaults({},context,_.pick(root,contextProps)):root;var Date=context.Date,Error=context.Error,Math=context.Math,RegExp=context.RegExp,TypeError=context.TypeError,arrayProto=context.Array.prototype,objectProto=context.Object.prototype,funcToString=context.Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objectCtorString=funcToString.call(Object),objectToString=objectProto.toString,oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:undefined,Reflect=context.Reflect,Symbol=context.Symbol,Uint8Array=context.Uint8Array,clearTimeout=context.clearTimeout,enumerate=Reflect?Reflect.enumerate:undefined,getPrototypeOf=Object.getPrototypeOf,getOwnPropertySymbols=Object.getOwnPropertySymbols,iteratorSymbol="symbol"==typeof(iteratorSymbol=Symbol&&Symbol.iterator)?iteratorSymbol:undefined,objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,setTimeout=context.setTimeout,splice=arrayProto.splice,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=Object.keys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,Map=getNative(context,"Map"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,nonEnumShadows=!propertyIsEnumerable.call({
valueOf:1},"valueOf"),realNames={},mapCtorString=Map?funcToString.call(Map):"",setCtorString=Set?funcToString.call(Set):"",weakMapCtorString=WeakMap?funcToString.call(WeakMap):"",symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0),baseFor=createBaseFor(),baseForRight=createBaseFor(!0);enumerate&&!propertyIsEnumerable.call({valueOf:1},"valueOf")&&(baseKeysIn=function(object){return iteratorToArray(enumerate(object))});var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,createSet=Set&&2===new Set([1,2]).size?function(values){return new Set(values)}:noop,getData=metaMap?function(func){return metaMap.get(func)}:noop,getLength=baseProperty("length"),getSymbols=getOwnPropertySymbols||function(){return[]};(Map&&getTag(new Map)!=mapTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:null,ctorString="function"==typeof Ctor?funcToString.call(Ctor):"";if(ctorString)switch(ctorString){case mapCtorString:return mapTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}(),concat=rest(function(array,values){return isArray(array)||(array=null==array?[]:[Object(array)]),values=baseFlatten(values,1),arrayConcat(array,values)}),difference=rest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,!0)):[]}),differenceBy=rest(function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,!0),getIteratee(iteratee)):[]}),differenceWith=rest(function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,!0),undefined,comparator):[]}),intersection=rest(function(arrays){var mapped=arrayMap(arrays,baseCastArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]}),intersectionBy=rest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,baseCastArrayLikeObject);return iteratee===last(mapped)?iteratee=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee)):[]}),intersectionWith=rest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,baseCastArrayLikeObject);return comparator===last(mapped)?comparator=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]}),pull=rest(pullAll),pullAt=rest(function(array,indexes){indexes=arrayMap(baseFlatten(indexes,1),String);var result=baseAt(array,indexes);return basePullAt(array,indexes.sort(compareAscending)),result}),union=rest(function(arrays){return baseUniq(baseFlatten(arrays,1,!0))}),unionBy=rest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseUniq(baseFlatten(arrays,1,!0),getIteratee(iteratee))}),unionWith=rest(function(arrays){var comparator=last(arrays);return isArrayLikeObject(comparator)&&(comparator=undefined),baseUniq(baseFlatten(arrays,1,!0),undefined,comparator)}),without=rest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]}),xor=rest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))}),xorBy=rest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee))}),xorWith=rest(function(arrays){var comparator=last(arrays);return isArrayLikeObject(comparator)&&(comparator=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)}),zip=rest(unzip),zipWith=rest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):undefined,unzipWith(arrays,iteratee)}),wrapperAt=rest(function(paths){paths=baseFlatten(paths,1);var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?(value=value.slice(start,+start+(length?1:0)),value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(value,this.__chain__).thru(function(array){return length&&!array.length&&array.push(undefined),array})):this.thru(interceptor)}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1}),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]}),invokeMap=rest(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value?value[path]:undefined;result[++index]=func?apply(func,value,args):baseInvoke(value,path,args)}),result}),keyBy=createAggregator(function(result,value,key){result[key]=value}),partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]}),sortBy=rest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees.length=1),baseOrderBy(collection,baseFlatten(iteratees,1),[])}),now=Date.now,bind=rest(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getPlaceholder(bind));bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}),bindKey=rest(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getPlaceholder(bindKey));bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}),defer=rest(function(func,args){return baseDelay(func,1,args)}),delay=rest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)}),overArgs=rest(function(func,transforms){transforms=arrayMap(baseFlatten(transforms,1),getIteratee());var funcsLength=transforms.length;return rest(function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})}),partial=rest(function(func,partials){var holders=replaceHolders(partials,getPlaceholder(partial));return createWrapper(func,PARTIAL_FLAG,undefined,partials,holders)}),partialRight=rest(function(func,partials){var holders=replaceHolders(partials,getPlaceholder(partialRight));return createWrapper(func,PARTIAL_RIGHT_FLAG,undefined,partials,holders)}),rearg=rest(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes,1))}),isArray=Array.isArray,isBuffer=Buffer?function(value){return value instanceof Buffer}:constant(!1),assign=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source))return void copyObject(source,keys(source),object);for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])}),assignIn=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source))return void copyObject(source,keysIn(source),object);for(var key in source)assignValue(object,key,source[key])}),assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObjectWith(source,keysIn(source),object,customizer)}),assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObjectWith(source,keys(source),object,customizer)}),at=rest(function(object,paths){return baseAt(object,baseFlatten(paths,1))}),defaults=rest(function(args){return args.push(undefined,assignInDefaults),apply(assignInWith,undefined,args)}),defaultsDeep=rest(function(args){return args.push(undefined,mergeDefaults),apply(mergeWith,undefined,args)}),invert=createInverter(function(result,value,key){result[value]=key},constant(identity)),invertBy=createInverter(function(result,value,key){hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]},getIteratee),invoke=rest(baseInvoke),merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)}),omit=rest(function(object,props){return null==object?{}:(props=arrayMap(baseFlatten(props,1),String),basePick(object,baseDifference(keysIn(object),props)))}),pick=rest(function(object,props){return null==object?{}:basePick(object,baseFlatten(props,1))}),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}),kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()}),lowerFirst=createCaseFirst("toLowerCase"),upperFirst=createCaseFirst("toUpperCase"),snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+capitalize(word)}),upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()}),attempt=rest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),bindAll=rest(function(object,methodNames){return arrayEach(baseFlatten(methodNames,1),function(key){object[key]=bind(object[key],object)}),object}),flow=createFlow(),flowRight=createFlow(!0),method=rest(function(path,args){return function(object){return baseInvoke(object,path,args)}}),methodOf=rest(function(object,args){return function(path){return baseInvoke(object,path,args)}}),over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome),range=createRange(),rangeRight=createRange(!0),ceil=createRound("ceil"),floor=createRound("floor"),round=createRound("round");return lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype=nativeCreate?nativeCreate(null):objectProto,MapCache.prototype.clear=mapClear,MapCache.prototype["delete"]=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,SetCache.prototype.push=cachePush,Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,memoize.Cache=MapCache,lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=castArray,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.concat=concat,lodash.cond=cond,lodash.conforms=conforms,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatMap=flatMap,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flattenDepth=flattenDepth,lodash.flip=flip,lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=fromPairs,lodash.functions=functions,lodash.functionsIn=functionsIn,lodash.groupBy=groupBy,lodash.initial=initial,lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=nthArg,lodash.omit=omit,lodash.omitBy=omitBy,lodash.once=once,lodash.orderBy=orderBy,lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=pullAllBy,lodash.pullAllWith=pullAllWith,lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.reverse=reverse,lodash.sampleSize=sampleSize,lodash.set=set,lodash.setWith=setWith,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortedUniq=sortedUniq,lodash.sortedUniqBy=sortedUniqBy,lodash.split=split,lodash.spread=spread,lodash.tail=tail,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=toPath,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.unary=unary,lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=uniq,lodash.uniqBy=uniqBy,lodash.uniqWith=uniqWith,lodash.unset=unset,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=update,lodash.updateWith=updateWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.without=without,lodash.words=words,lodash.wrap=wrap,lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipObjectDeep=zipObjectDeep,lodash.zipWith=zipWith,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=clamp,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.cloneDeepWith=cloneDeepWith,lodash.cloneWith=cloneWith,lodash.deburr=deburr,lodash.endsWith=endsWith,lodash.eq=eq,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=isBoolean,lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isEqualWith=isEqualWith,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=isMatch,lodash.isMatchWith=isMatchWith,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNil=isNil,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=isSafeInteger,lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.isWeakMap=isWeakMap,lodash.isWeakSet=isWeakSet,lodash.join=join,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.maxBy=maxBy,lodash.mean=mean,lodash.min=min,lodash.minBy=minBy,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padEnd=padEnd,lodash.padStart=padStart,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.replace=replace,lodash.result=result,lodash.round=round,lodash.runInContext=runInContext,lodash.sample=sample,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedIndexBy=sortedIndexBy,lodash.sortedIndexOf=sortedIndexOf,lodash.sortedLastIndex=sortedLastIndex,lodash.sortedLastIndexBy=sortedLastIndexBy,lodash.sortedLastIndexOf=sortedLastIndexOf,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.subtract=subtract,lodash.sum=sum,lodash.sumBy=sumBy,lodash.template=template,lodash.times=times,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=toLower,lodash.toNumber=toNumber,lodash.toSafeInteger=toSafeInteger,lodash.toString=toString,lodash.toUpper=toUpper,lodash.trim=trim,lodash.trimEnd=trimEnd,lodash.trimStart=trimStart,lodash.truncate=truncate,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)}),source}(),{chain:!1}),lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index)return new LazyWrapper(this);n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.clone();return filtered?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=rest(function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map(function(value){return baseInvoke(value,path,args)})}),LazyWrapper.prototype.reject=function(predicate){return predicate=getIteratee(predicate,3),this.filter(function(value){return!predicate(value)})},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(end=toInteger(end),result=end<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;return retUnwrapped&&!this.__chain__?func.apply(this.value(),args):this[chainName](function(value){return func.apply(value,args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}}),realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=wrapperAt,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.flatMap=wrapperFlatMap,lodash.prototype.next=wrapperNext,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,iteratorSymbol&&(lodash.prototype[iteratorSymbol]=wrapperToIterator),lodash}var undefined,VERSION="4.6.1",LARGE_ARRAY_SIZE=200,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",PLACEHOLDER="__lodash_placeholder__",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,FLIP_FLAG=512,UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0x/i,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsQuoteRange="\\u2018\\u2019\\u201c\\u201d",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsQuoteRange+rsSpaceRange,rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsLowerMisc="(?:"+rsLower+"|"+rsMisc+")",rsUpperMisc="(?:"+rsUpper+"|"+rsMisc+")",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reComboMark=RegExp(rsCombo,"g"),reComplexSymbol=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reHasComplexSymbol=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]"),reBasicWord=/[a-zA-Z0-9]+/g,reComplexWord=RegExp([rsUpper+"?"+rsLower+"+(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsUpperMisc+"+(?="+[rsBreak,rsUpper+rsLowerMisc,"$"].join("|")+")",rsUpper+"?"+rsLowerMisc+"+",rsUpper+"+",rsDigits,rsEmoji].join("|"),"g"),reHasComplexWord=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},objectTypes={"function":!0,object:!0},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:undefined,freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:undefined,moduleExports=freeModule&&freeModule.exports===freeExports?freeExports:undefined,freeGlobal=checkGlobal(freeExports&&freeModule&&"object"==typeof global&&global),freeSelf=checkGlobal(objectTypes[typeof self]&&self),freeWindow=checkGlobal(objectTypes[typeof window]&&window),thisGlobal=checkGlobal(objectTypes[typeof this]&&this),root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")(),_=runInContext();(freeWindow||freeSelf||{})._=_,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return _}):freeExports&&freeModule?(moduleExports&&((freeModule.exports=_)._=_),freeExports._=_):root._=_}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],334:[function(require,module,exports){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,
queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],335:[function(require,module,exports){module.exports=function(arr,fn,initial){for(var idx=0,len=arr.length,curr=3==arguments.length?initial:arr[idx++];idx<len;)curr=fn.call(null,curr,arr[idx],++idx,arr);return curr}},{}],336:[function(require,module,exports){function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function isObject(obj){return obj===Object(obj)}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj)null!=obj[key]&&pushEncodedKeyValuePair(pairs,key,obj[key]);return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,val){return Array.isArray(val)?val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)}):void pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(val))}function parseString(str){for(var parts,pair,obj={},pairs=str.split("&"),i=0,len=pairs.length;i<len;++i)pair=pairs[i],parts=pair.split("="),obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1]);return obj}function parseHeader(str){var index,line,field,val,lines=str.split(/\r?\n/),fields={};lines.pop();for(var i=0,len=lines.length;i<len;++i)line=lines[i],index=line.indexOf(":"),field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val;return fields}function isJSON(mime){return/[\/+]json\b/.test(mime)}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})}function Response(req,options){options=options||{},this.req=req,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function Request(method,url){var self=this;Emitter.call(this),this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){var err=null,res=null;try{res=new Response(self)}catch(e){return err=new Error("Parser is unable to parse the response"),err.parse=!0,err.original=e,err.rawResponse=self.xhr&&self.xhr.responseText?self.xhr.responseText:null,self.callback(err)}if(self.emit("response",res),err)return self.callback(err,res);if(res.status>=200&&res.status<300)return self.callback(err,res);var new_err=new Error(res.statusText||"Unsuccessful HTTP response");new_err.original=err,new_err.response=res,new_err.status=res.status,self.callback(new_err,res)})}function request(method,url){return"function"==typeof url?new Request("GET",method).end(url):1==arguments.length?new Request("GET",method):new Request(method,url)}function del(url,fn){var req=request("DELETE",url);return fn&&req.end(fn),req}var root,Emitter=require("emitter"),reduce=require("reduce");root="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(field){return this.header[field.toLowerCase()]},Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]},Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return parse&&str&&(str.length||str instanceof Object)?parse(str):null},Response.prototype.setStatusProperties=function(status){1223===status&&(status=204);var type=status/100|0;this.status=this.statusCode=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.clientError=4==type,this.serverError=5==type,this.error=(4==type||5==type)&&this.toError(),this.accepted=202==status,this.noContent=204==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.notFound=404==status,this.forbidden=403==status},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg="cannot "+method+" "+url+" ("+this.status+")",err=new Error(msg);return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,Emitter(Request.prototype),Request.prototype.use=function(fn){return fn(this),this},Request.prototype.timeout=function(ms){return this._timeout=ms,this},Request.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},Request.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},Request.prototype.set=function(field,val){if(isObject(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},Request.prototype.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},Request.prototype.getHeader=function(field){return this._header[field.toLowerCase()]},Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.parse=function(fn){return this._parser=fn,this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass){var str=btoa(user+":"+pass);return this.set("Authorization","Basic "+str),this},Request.prototype.query=function(val){return"string"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.field=function(name,val){return this._formData||(this._formData=new root.FormData),this._formData.append(name,val),this},Request.prototype.attach=function(field,file,filename){return this._formData||(this._formData=new root.FormData),this._formData.append(field,file,filename||file.name),this},Request.prototype.send=function(data){var obj=isObject(data),type=this.getHeader("Content-Type");if(obj&&isObject(this._data))for(var key in data)this._data[key]=data[key];else"string"==typeof data?(type||this.type("form"),type=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==type?this._data=this._data?this._data+"&"+data:data:this._data=(this._data||"")+data):this._data=data;return!obj||isHost(data)?this:(type||this.type("json"),this)},Request.prototype.callback=function(err,res){var fn=this._callback;this.clearTimeout(),fn(err,res)},Request.prototype.crossDomainError=function(){var err=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");err.crossDomain=!0,err.status=this.status,err.method=this.method,err.url=this.url,this.callback(err)},Request.prototype.timeoutError=function(){var timeout=this._timeout,err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout,this.callback(err)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(fn){var self=this,xhr=this.xhr=request.getXHR(),query=this._query.join("&"),timeout=this._timeout,data=this._formData||this._data;this._callback=fn||noop,xhr.onreadystatechange=function(){if(4==xhr.readyState){var status;try{status=xhr.status}catch(e){status=0}if(0==status){if(self.timedout)return self.timeoutError();if(self.aborted)return;return self.crossDomainError()}self.emit("end")}};var handleProgress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction="download",self.emit("progress",e)};this.hasListeners("progress")&&(xhr.onprogress=handleProgress);try{xhr.upload&&this.hasListeners("progress")&&(xhr.upload.onprogress=handleProgress)}catch(e){}if(timeout&&!this._timer&&(this._timer=setTimeout(function(){self.timedout=!0,self.abort()},timeout)),query&&(query=request.serializeObject(query),this.url+=~this.url.indexOf("?")?"&"+query:"?"+query),xhr.open(this.method,this.url,!0),this._withCredentials&&(xhr.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var contentType=this.getHeader("Content-Type"),serialize=this._parser||request.serialize[contentType?contentType.split(";")[0]:""];!serialize&&isJSON(contentType)&&(serialize=request.serialize["application/json"]),serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&xhr.setRequestHeader(field,this.header[field]);return this.emit("request",this),xhr.send("undefined"!=typeof data?data:null),this},Request.prototype.then=function(fulfill,reject){return this.end(function(err,res){err?reject(err):fulfill(res)})},request.Request=Request,request.get=function(url,data,fn){var req=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=del,request["delete"]=del,request.patch=function(url,data,fn){var req=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request("POST",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},module.exports=request},{emitter:189,reduce:335}],337:[function(require,module,exports){"use strict";var auth=require("./lib/auth"),helpers=require("./lib/helpers"),SwaggerClient=require("./lib/client"),deprecationWrapper=function(url,options){return helpers.log('This is deprecated, use "new SwaggerClient" instead.'),new SwaggerClient(url,options)};Array.prototype.indexOf||(Array.prototype.indexOf=function(obj,start){for(var i=start||0,j=this.length;i<j;i++)if(this[i]===obj)return i;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.endsWith||(String.prototype.endsWith=function(suffix){return this.indexOf(suffix,this.length-suffix.length)!==-1}),module.exports=SwaggerClient,SwaggerClient.ApiKeyAuthorization=auth.ApiKeyAuthorization,SwaggerClient.PasswordAuthorization=auth.PasswordAuthorization,SwaggerClient.CookieAuthorization=auth.CookieAuthorization,SwaggerClient.SwaggerApi=deprecationWrapper,SwaggerClient.SwaggerClient=deprecationWrapper,SwaggerClient.SchemaMarkup=require("./lib/schema-markup")},{"./lib/auth":338,"./lib/client":339,"./lib/helpers":340,"./lib/schema-markup":343}],338:[function(require,module,exports){"use strict";var helpers=require("./helpers"),btoa=require("btoa"),CookieJar=require("cookiejar"),_={each:require("lodash-compat/collection/each"),includes:require("lodash-compat/collection/includes"),isObject:require("lodash-compat/lang/isObject"),isArray:require("lodash-compat/lang/isArray")},SwaggerAuthorizations=module.exports.SwaggerAuthorizations=function(authz){this.authz=authz||{}};SwaggerAuthorizations.prototype.add=function(name,auth){if(_.isObject(name))for(var key in name)this.authz[key]=name[key];else"string"==typeof name&&(this.authz[name]=auth);return auth},SwaggerAuthorizations.prototype.remove=function(name){return delete this.authz[name]},SwaggerAuthorizations.prototype.apply=function(obj,securities){var status=!0,applyAll=!securities,flattenedSecurities=[];return _.each(securities,function(obj,key){"string"==typeof key&&flattenedSecurities.push(key),_.each(obj,function(val,key){flattenedSecurities.push(key)})}),_.each(this.authz,function(auth,authName){if(applyAll||_.includes(flattenedSecurities,authName)){var newStatus=auth.apply(obj);status=status&&!!newStatus}}),status};var ApiKeyAuthorization=module.exports.ApiKeyAuthorization=function(name,value,type){this.name=name,this.value=value,this.type=type};ApiKeyAuthorization.prototype.apply=function(obj){return"query"===this.type?(obj.url.indexOf("?")>0?obj.url=obj.url+"&"+this.name+"="+this.value:obj.url=obj.url+"?"+this.name+"="+this.value,!0):"header"===this.type?("undefined"==typeof obj.headers[this.name]&&(obj.headers[this.name]=this.value),!0):void 0};var CookieAuthorization=module.exports.CookieAuthorization=function(cookie){this.cookie=cookie};CookieAuthorization.prototype.apply=function(obj){return obj.cookieJar=obj.cookieJar||new CookieJar,obj.cookieJar.setCookie(this.cookie),!0};var PasswordAuthorization=module.exports.PasswordAuthorization=function(username,password){3===arguments.length&&(helpers.log("PasswordAuthorization: the 'name' argument has been removed, pass only username and password"),username=arguments[1],password=arguments[2]),this.username=username,this.password=password};PasswordAuthorization.prototype.apply=function(obj){return"undefined"==typeof obj.headers.Authorization&&(obj.headers.Authorization="Basic "+btoa(this.username+":"+this.password)),!0}},{"./helpers":340,btoa:186,cookiejar:190,"lodash-compat/collection/each":228,"lodash-compat/collection/includes":231,"lodash-compat/lang/isArray":316,"lodash-compat/lang/isObject":320}],339:[function(require,module,exports){"use strict";var _={bind:require("lodash-compat/function/bind"),cloneDeep:require("lodash-compat/lang/cloneDeep"),find:require("lodash-compat/collection/find"),forEach:require("lodash-compat/collection/forEach"),indexOf:require("lodash-compat/array/indexOf"),isArray:require("lodash-compat/lang/isArray"),isObject:require("lodash-compat/lang/isObject"),isFunction:require("lodash-compat/lang/isFunction"),isPlainObject:require("lodash-compat/lang/isPlainObject"),isUndefined:require("lodash-compat/lang/isUndefined")},auth=require("./auth"),helpers=require("./helpers"),Model=require("./types/model"),Operation=require("./types/operation"),OperationGroup=require("./types/operationGroup"),Resolver=require("./resolver"),SwaggerHttp=require("./http"),SwaggerSpecConverter=require("./spec-converter"),reservedClientTags=["apis","authorizationScheme","authorizations","basePath","build","buildFrom1_1Spec","buildFrom1_2Spec","buildFromSpec","clientAuthorizations","convertInfo","debug","defaultErrorCallback","defaultSuccessCallback","fail","failure","finish","help","idFromOp","info","initialize","isBuilt","isValid","modelPropertyMacro","models","modelsArray","options","parameterMacro","parseUri","progress","resourceCount","sampleModels","selfReflect","setConsolidatedModels","spec","supportedSubmitMethods","swaggerRequestHeaders","tagFromLabel","title","url","useJQuery"],reservedApiTags=["apis","asCurl","description","externalDocs","help","label","name","operation","operations","operationsArray","path","tag"],supportedOperationMethods=["delete","get","head","options","patch","post","put"],SwaggerClient=module.exports=function(url,options){return this.authorizations=null,this.authorizationScheme=null,this.basePath=null,this.debug=!1,this.info=null,this.isBuilt=!1,this.isValid=!1,this.modelsArray=[],this.resourceCount=0,this.url=null,this.useJQuery=!1,this.swaggerObject={},this.clientAuthorizations=new auth.SwaggerAuthorizations,"undefined"!=typeof url?this.initialize(url,options):this};SwaggerClient.prototype.initialize=function(url,options){this.models={},this.sampleModels={},"string"==typeof url?this.url=url:_.isObject(url)&&(options=url,this.url=options.url),options=options||{},this.clientAuthorizations.add(options.authorizations),this.swaggerRequestHeaders=options.swaggerRequestHeaders||"application/json;charset=utf-8,*/*",this.defaultSuccessCallback=options.defaultSuccessCallback||null,this.defaultErrorCallback=options.defaultErrorCallback||null,this.modelPropertyMacro=options.modelPropertyMacro||null,this.parameterMacro=options.parameterMacro||null,"function"==typeof options.success&&(this.success=options.success),options.useJQuery&&(this.useJQuery=options.useJQuery),this.options=options||{},this.supportedSubmitMethods=options.supportedSubmitMethods||[],this.failure=options.failure||function(){},this.progress=options.progress||function(){},this.spec=_.cloneDeep(options.spec),options.scheme&&(this.scheme=options.scheme),"function"==typeof options.success&&(this.ready=!0,this.build())},SwaggerClient.prototype.build=function(mock){if(this.isBuilt)return this;var self=this;this.progress("fetching resource list: "+this.url+"; Please wait.");var obj={useJQuery:this.useJQuery,url:this.url,method:"get",headers:{accept:this.swaggerRequestHeaders},on:{error:function(response){return"http"!==self.url.substring(0,4)?self.fail("Please specify the protocol for "+self.url):0===response.status?self.fail("Can't read from server.  It may not have the appropriate access-control-origin settings."):404===response.status?self.fail("Can't read swagger JSON from "+self.url):self.fail(response.status+" : "+response.statusText+" "+self.url)},response:function(resp){var responseObj=resp.obj;if(!responseObj)return self.fail("failed to parse JSON/YAML response");if(self.swaggerVersion=responseObj.swaggerVersion,self.swaggerObject=responseObj,responseObj.swagger&&2===parseInt(responseObj.swagger))self.swaggerVersion=responseObj.swagger,(new Resolver).resolve(responseObj,self.url,self.buildFromSpec,self),self.isValid=!0;else{var converter=new SwaggerSpecConverter;self.oldSwaggerObject=self.swaggerObject,converter.setDocumentationLocation(self.url),converter.convert(responseObj,self.clientAuthorizations,function(spec){self.swaggerObject=spec,(new Resolver).resolve(spec,self.url,self.buildFromSpec,self),self.isValid=!0})}}}};if(this.spec)self.swaggerObject=this.spec,setTimeout(function(){(new Resolver).resolve(self.spec,self.buildFromSpec,self)},10);else{if(this.clientAuthorizations.apply(obj),mock)return obj;(new SwaggerHttp).execute(obj,this.options)}return this},SwaggerClient.prototype.buildFromSpec=function(response){if(this.isBuilt)return this;this.apis={},this.apisArray=[],this.basePath=response.basePath||"",this.consumes=response.consumes,this.host=response.host||"",this.info=response.info||{},this.produces=response.produces,this.schemes=response.schemes||[],this.securityDefinitions=response.securityDefinitions,this.title=response.title||"",response.externalDocs&&(this.externalDocs=response.externalDocs),this.authSchemes=response.securityDefinitions;var k,definedTags={};if(Array.isArray(response.tags))for(definedTags={},k=0;k<response.tags.length;k++){var t=response.tags[k];definedTags[t.name]=t}var location;"string"==typeof this.url?(location=this.parseUri(this.url),"undefined"==typeof this.scheme&&"undefined"==typeof this.schemes||0===this.schemes.length?this.scheme=location.scheme||"http":"undefined"==typeof this.scheme&&(this.scheme=this.schemes[0]),"undefined"!=typeof this.host&&""!==this.host||(this.host=location.host,location.port&&(this.host=this.host+":"+location.port))):"undefined"==typeof this.schemes||0===this.schemes.length?this.scheme="http":"undefined"==typeof this.scheme&&(this.scheme=this.schemes[0]),this.definitions=response.definitions;var key;for(key in this.definitions){var model=new Model(key,this.definitions[key],this.models,this.modelPropertyMacro);model&&(this.models[key]=model)}var self=this;return self.apis.help=_.bind(self.help,self),_.forEach(response.paths,function(pathObj,path){_.isPlainObject(pathObj)&&_.forEach(supportedOperationMethods,function(method){var operation=pathObj[method];if(!_.isUndefined(operation)){if(!_.isPlainObject(operation))return void helpers.log("The '"+method+"' operation for '"+path+"' path is not an Operation Object");var tags=operation.tags;!_.isUndefined(tags)&&_.isArray(tags)&&0!==tags.length||(tags=operation.tags=["default"]);var operationId=self.idFromOp(path,method,operation),operationObject=new Operation(self,operation.scheme,operationId,method,path,operation,self.definitions,self.models,self.clientAuthorizations);_.forEach(tags,function(tag){var clientProperty=_.indexOf(reservedClientTags,tag)>-1?"_"+tag:tag,apiProperty=_.indexOf(reservedApiTags,tag)>-1?"_"+tag:tag,operationGroup=self[clientProperty];if(clientProperty!==tag&&helpers.log("The '"+tag+"' tag conflicts with a SwaggerClient function/property name.  Use 'client."+clientProperty+"' or 'client.apis."+tag+"' instead of 'client."+tag+"'."),apiProperty!==tag&&helpers.log("The '"+tag+"' tag conflicts with a SwaggerClient operation function/property name.  Use 'client.apis."+apiProperty+"' instead of 'client.apis."+tag+"'."),_.indexOf(reservedApiTags,operationId)>-1&&(helpers.log("The '"+operationId+"' operationId conflicts with a SwaggerClient operation function/property name.  Use 'client.apis."+apiProperty+"._"+operationId+"' instead of 'client.apis."+apiProperty+"."+operationId+"'."),operationId="_"+operationId,operationObject.nickname=operationId),_.isUndefined(operationGroup)){operationGroup=self[clientProperty]=self.apis[apiProperty]={},operationGroup.operations={},operationGroup.label=apiProperty,operationGroup.apis={};var tagDef=definedTags[tag];_.isUndefined(tagDef)||(operationGroup.description=tagDef.description,operationGroup.externalDocs=tagDef.externalDocs),self[clientProperty].help=_.bind(self.help,operationGroup),self.apisArray.push(new OperationGroup(tag,operationGroup.description,operationGroup.externalDocs,operationObject))}_.isFunction(operationGroup.help)||(operationGroup.help=_.bind(self.help,operationGroup)),self.apis[apiProperty][operationId]=operationGroup[operationId]=_.bind(operationObject.execute,operationObject),self.apis[apiProperty][operationId].help=operationGroup[operationId].help=_.bind(operationObject.help,operationObject),self.apis[apiProperty][operationId].asCurl=operationGroup[operationId].asCurl=_.bind(operationObject.asCurl,operationObject),operationGroup.apis[operationId]=operationGroup.operations[operationId]=operationObject;var api=_.find(self.apisArray,function(api){return api.tag===tag});api&&api.operationsArray.push(operationObject)})}})}),this.isBuilt=!0,this.success&&(this.isValid=!0,this.isBuilt=!0,this.success()),this},SwaggerClient.prototype.parseUri=function(uri){var urlParseRE=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parts=urlParseRE.exec(uri);return{scheme:parts[4].replace(":",""),host:parts[11],port:parts[12],path:parts[15]}},SwaggerClient.prototype.help=function(dontPrint){var output="";return this instanceof SwaggerClient?_.forEach(this.apis,function(api,name){_.isPlainObject(api)&&(output+="operations for the '"+name+"' tag\n",_.forEach(api.operations,function(operation,name){output+="  * "+name+": "+operation.summary+"\n"}))}):(this instanceof OperationGroup||_.isPlainObject(this))&&(output+="operations for the '"+this.label+"' tag\n",_.forEach(this.apis,function(operation,name){output+="  * "+name+": "+operation.summary+"\n"})),dontPrint?output:(helpers.log(output),output)},SwaggerClient.prototype.tagFromLabel=function(label){return label},SwaggerClient.prototype.idFromOp=function(path,httpMethod,op){op&&op.operationId||(op=op||{},op.operationId=httpMethod+"_"+path);var opId=op.operationId.replace(/[\s!@#$%^&*()_+=\[{\]};:<>|.\/?,\\'""-]/g,"_")||path.substring(1)+"_"+httpMethod;return opId=opId.replace(/((_){2,})/g,"_"),opId=opId.replace(/^(_)*/g,""),opId=opId.replace(/([_])*$/g,"")},SwaggerClient.prototype.setHost=function(host){this.host=host,this.apis&&_.forEach(this.apis,function(api){api.operations&&_.forEach(api.operations,function(operation){operation.host=host})})},SwaggerClient.prototype.setBasePath=function(basePath){this.basePath=basePath,this.apis&&_.forEach(this.apis,function(api){api.operations&&_.forEach(api.operations,function(operation){operation.basePath=basePath})})},SwaggerClient.prototype.fail=function(message){throw this.failure(message),message}},{"./auth":338,"./helpers":340,"./http":341,"./resolver":342,"./spec-converter":344,"./types/model":345,"./types/operation":346,"./types/operationGroup":347,"lodash-compat/array/indexOf":225,"lodash-compat/collection/find":229,"lodash-compat/collection/forEach":230,"lodash-compat/function/bind":234,"lodash-compat/lang/cloneDeep":314,"lodash-compat/lang/isArray":316,"lodash-compat/lang/isFunction":318,"lodash-compat/lang/isObject":320,"lodash-compat/lang/isPlainObject":321,"lodash-compat/lang/isUndefined":324}],340:[function(require,module,exports){(function(process){"use strict";var _={isPlainObject:require("lodash-compat/lang/isPlainObject"),indexOf:require("lodash-compat/array/indexOf")};module.exports.__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};var log=module.exports.log=function(){console&&"test"!==process.env.NODE_ENV&&console.log(Array.prototype.slice.call(arguments)[0])};module.exports.fail=function(message){log(message)};var resolveSchema=(module.exports.optionHtml=function(label,value){return'<tr><td class="optionName">'+label+":</td><td>"+value+"</td></tr>"},module.exports.resolveSchema=function(schema){return _.isPlainObject(schema.schema)&&(schema=resolveSchema(schema.schema)),schema});module.exports.simpleRef=function(name){return"undefined"==typeof name?null:0===name.indexOf("#/definitions/")?name.substring("#/definitions/".length):name}}).call(this,require("_process"))},{_process:334,"lodash-compat/array/indexOf":225,"lodash-compat/lang/isPlainObject":321}],341:[function(require,module,exports){"use strict";var helpers=require("./helpers"),jQuery=require("jquery"),request=require("superagent"),jsyaml=require("js-yaml"),_={isObject:require("lodash-compat/lang/isObject")},JQueryHttpClient=function(){},SuperagentHttpClient=function(){},SwaggerHttp=module.exports=function(){};SwaggerHttp.prototype.execute=function(obj,opts){var client;client=opts&&opts.client?opts.client:new SuperagentHttpClient(opts),(obj&&obj.useJQuery===!0||this.isInternetExplorer())&&(client=new JQueryHttpClient(opts));var success=obj.on.response,responseInterceptor=function(data){opts&&opts.responseInterceptor&&(data=opts.responseInterceptor.apply(data)),success(data)};obj.on.response=function(data){responseInterceptor(data)},_.isObject(obj)&&_.isObject(obj.body)&&(obj.body.type&&"formData"===obj.body.type?(obj.contentType=!1,obj.processData=!1,delete obj.headers["Content-Type"]):obj.body=JSON.stringify(obj.body)),client.execute(obj)},SwaggerHttp.prototype.isInternetExplorer=function(){var detectedIE=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var nav=navigator.userAgent.toLowerCase();if(nav.indexOf("msie")!==-1){var version=parseInt(nav.split("msie")[1]);version<=8&&(detectedIE=!0)}}return detectedIE},JQueryHttpClient.prototype.execute=function(obj){var cb=obj.on,request=obj;return obj.type=obj.method,obj.cache=!1,delete obj.useJQuery,obj.data=obj.body,delete obj.body,obj.complete=function(response){for(var headers={},headerArray=response.getAllResponseHeaders().split("\n"),i=0;i<headerArray.length;i++){var toSplit=headerArray[i].trim();if(0!==toSplit.length){var separator=toSplit.indexOf(":");if(separator!==-1){var name=toSplit.substring(0,separator).trim(),value=toSplit.substring(separator+1).trim();headers[name]=value}else headers[toSplit]=null}}var out={url:request.url,method:request.method,status:response.status,statusText:response.statusText,data:response.responseText,headers:headers};try{var possibleObj=response.responseJSON||jsyaml.safeLoad(response.responseText);out.obj="string"==typeof possibleObj?{}:possibleObj}catch(ex){helpers.log("unable to parse JSON/YAML content")}if(out.obj=out.obj||null,response.status>=200&&response.status<300)cb.response(out);else{if(!(0===response.status||response.status>=400&&response.status<599))return cb.response(out);cb.error(out)}},jQuery.support.cors=!0,jQuery.ajax(obj)},SuperagentHttpClient.prototype.execute=function(obj){var method=obj.method.toLowerCase();"delete"===method&&(method="del");var name,headers=obj.headers||{},r=request[method](obj.url);for(name in headers)r.set(name,headers[name]);obj.body&&r.send(obj.body),"function"==typeof r.buffer&&r.buffer(),r.end(function(err,res){res=res||{status:0,headers:{error:"no response from server"}};var cb,response={url:obj.url,method:obj.method,headers:res.headers};if(!err&&res.error&&(err=res.error),err&&obj.on&&obj.on.error)response.obj=err,response.status=res?res.status:500,response.statusText=res?res.text:err.message,cb=obj.on.error;else if(res&&obj.on&&obj.on.response){var possibleObj;if(res.body&&Object.keys(res.body).length>0)possibleObj=res.body;else try{possibleObj=jsyaml.safeLoad(res.text),possibleObj="string"==typeof possibleObj?null:possibleObj}catch(e){helpers.log("cannot parse JSON/YAML content")}response.obj=possibleObj||null,response.status=res.status,response.statusText=res.text,cb=obj.on.response}response.data=response.statusText,cb&&cb(response)})}},{"./helpers":340,jquery:194,"js-yaml":195,"lodash-compat/lang/isObject":320,superagent:336}],342:[function(require,module,exports){"use strict";var SwaggerHttp=require("./http"),_={isObject:require("lodash-compat/lang/isObject"),isArray:require("lodash-compat/lang/isArray")},Resolver=module.exports=function(){};Resolver.prototype.processAllOf=function(name,definition,resolutionTable,unresolvedRefs,spec){var i,location,property;definition["x-resolved-from"]=["#/definitions/"+name];var allOf=definition.allOf;for(allOf.sort(function(a,b){return a.$ref&&b.$ref?0:a.$ref?-1:1}),i=0;i<allOf.length;i++)property=allOf[i],location="/definitions/"+name+"/allOf",this.resolveInline(null,spec,property,resolutionTable,unresolvedRefs,location)},Resolver.prototype.resolve=function(spec,arg1,arg2,arg3){
var location,i,root=arg1,callback=arg2,scope=arg3;"function"==typeof arg1&&(root=null,callback=arg1,scope=arg2);var _root=root;this.scope=scope||this,this.iteration=this.iteration||0;var name,path,property,propertyName,processedCalls=0,resolvedRefs={},unresolvedRefs={},resolutionTable=[];for(name in spec.definitions){var definition=spec.definitions[name];for(propertyName in definition.properties)property=definition.properties[propertyName],_.isArray(property.allOf)?this.processAllOf(name,property,resolutionTable,unresolvedRefs,spec):this.resolveTo(root,property,resolutionTable,"/definitions");definition.allOf&&this.processAllOf(name,definition,resolutionTable,unresolvedRefs,spec)}for(name in spec.paths){var method,operation,responseCode;path=spec.paths[name];for(method in path)if("$ref"===method)location="/paths"+name,this.resolveInline(root,spec,path,resolutionTable,unresolvedRefs,location);else{operation=path[method];var parameters=operation.parameters;for(i in parameters){var parameter=parameters[i];location="/paths"+name+"/"+method+"/parameters","body"===parameter["in"]&&parameter.schema&&this.resolveTo(root,parameter.schema,resolutionTable,location),parameter.$ref&&this.resolveInline(root,spec,parameter,resolutionTable,unresolvedRefs,parameter.$ref)}for(responseCode in operation.responses){var response=operation.responses[responseCode];location="/paths"+name+"/"+method+"/responses/"+responseCode,_.isObject(response)&&(response.$ref&&this.resolveInline(root,spec,response,resolutionTable,unresolvedRefs,location),response.schema&&this.resolveTo(root,response.schema,resolutionTable,location))}}}var parts,expectedCalls=0,toResolve=[],all=resolutionTable;for(i=0;i<all.length;i++){var a=all[i];if(root===a.root){if("ref"===a.resolveAs){var k,joined=((a.root||"")+"/"+a.key).split("/"),normalized=[],url="";if(a.key.indexOf("../")>=0){for(var j=0;j<joined.length;j++)".."===joined[j]?normalized=normalized.slice(0,normalized.length-1):normalized.push(joined[j]);for(k=0;k<normalized.length;k++)k>0&&(url+="/"),url+=normalized[k];a.root=url,toResolve.push(a)}else if(parts=a.key.split("#"),2===parts.length){0!==parts[0].indexOf("http://")&&0!==parts[0].indexOf("https://")||(a.root=parts[0]),location=parts[1].split("/");var r,s=spec;for(k=0;k<location.length;k++){var part=location[k];if(""!==part){if(s=s[part],"undefined"==typeof s){r=null;break}r=s}}null===r&&toResolve.push(a)}}else if("inline"===a.resolveAs){if(a.key&&a.key.indexOf("#")===-1&&"/"!==a.key.charAt(0)){for(parts=a.root.split("/"),location="",i=0;i<parts.length-1;i++)location+=parts[i]+"/";location+=a.key,a.root=location,a.location=""}toResolve.push(a)}}else toResolve.push(a)}expectedCalls=toResolve.length;for(var ii=0;ii<toResolve.length;ii++)!function(item,self){if(null===item.root||item.root===root)self.resolveItem(spec,_root,resolutionTable,resolvedRefs,unresolvedRefs,item),processedCalls+=1,processedCalls===expectedCalls&&self.finish(spec,root,resolutionTable,resolvedRefs,unresolvedRefs,callback);else{var obj={useJQuery:!1,url:item.root,method:"get",headers:{accept:self.scope.swaggerRequestHeaders||"application/json"},on:{error:function(){processedCalls+=1,unresolvedRefs[item.key]={root:item.root,location:item.location},processedCalls===expectedCalls&&self.finish(spec,_root,resolutionTable,resolvedRefs,unresolvedRefs,callback)},response:function(response){var swagger=response.obj;self.resolveItem(swagger,item.root,resolutionTable,resolvedRefs,unresolvedRefs,item),processedCalls+=1,processedCalls===expectedCalls&&self.finish(spec,_root,resolutionTable,resolvedRefs,unresolvedRefs,callback)}}};scope&&scope.clientAuthorizations&&scope.clientAuthorizations.apply(obj),(new SwaggerHttp).execute(obj)}}(toResolve[ii],this);0===Object.keys(toResolve).length&&this.finish(spec,_root,resolutionTable,resolvedRefs,unresolvedRefs,callback)},Resolver.prototype.resolveItem=function(spec,root,resolutionTable,resolvedRefs,unresolvedRefs,item){var path=item.location,location=spec,parts=path.split("/");if(""!==path)for(var j=0;j<parts.length;j++){var segment=parts[j];if(segment.indexOf("~1")!==-1&&(segment=parts[j].replace(/~0/g,"~").replace(/~1/g,"/"),"/"!==segment.charAt(0)&&(segment="/"+segment)),"undefined"==typeof location||null===location)break;if(""===segment&&j===parts.length-1&&parts.length>1){location=null;break}segment.length>0&&(location=location[segment])}var resolved=item.key;parts=item.key.split("/");var resolvedName=parts[parts.length-1];resolvedName.indexOf("#")>=0&&(resolvedName=resolvedName.split("#")[1]),null!==location&&"undefined"!=typeof location?resolvedRefs[resolved]={name:resolvedName,obj:location,key:item.key,root:item.root}:unresolvedRefs[resolved]={root:item.root,location:item.location}},Resolver.prototype.finish=function(spec,root,resolutionTable,resolvedRefs,unresolvedRefs,callback){var ref;for(ref in resolutionTable){var item=resolutionTable[ref],key=item.key,resolvedTo=resolvedRefs[key];if(resolvedTo)if(spec.definitions=spec.definitions||{},"ref"===item.resolveAs){for(key in resolvedTo.obj)var abs=this.retainRoot(resolvedTo.obj[key],item.root);spec.definitions[resolvedTo.name]=resolvedTo.obj,item.obj.$ref="#/definitions/"+resolvedTo.name}else if("inline"===item.resolveAs){var targetObj=item.obj;targetObj["x-resolved-from"]=[item.key],delete targetObj.$ref;for(key in resolvedTo.obj){var abs=this.retainRoot(resolvedTo.obj[key],item.root);targetObj[key]=abs}}}var existingUnresolved=this.countUnresolvedRefs(spec);0===existingUnresolved.length||this.iteration>5?(this.resolveAllOf(spec.definitions),callback.call(this.scope,spec,unresolvedRefs)):(this.iteration+=1,this.resolve(spec,root,callback,this.scope))},Resolver.prototype.countUnresolvedRefs=function(spec){var i,refs=this.getRefs(spec),keys=[],unresolvedKeys=[];for(i in refs)0===i.indexOf("#")?keys.push(i.substring(1)):unresolvedKeys.push(i);for(i=0;i<keys.length;i++)for(var part=keys[i],parts=part.split("/"),obj=spec,k=0;k<parts.length;k++){var key=parts[k];if(""!==key&&(obj=obj[key],"undefined"==typeof obj)){unresolvedKeys.push(part);break}}return unresolvedKeys.length},Resolver.prototype.getRefs=function(spec,obj){obj=obj||spec;var output={};for(var key in obj)if(obj.hasOwnProperty(key)){var item=obj[key];if("$ref"===key&&"string"==typeof item)output[item]=null;else if(_.isObject(item)){var o=this.getRefs(item);for(var k in o)output[k]=null}}return output},Resolver.prototype.retainRoot=function(obj,root){for(var key in obj){var item=obj[key];"$ref"===key&&"string"==typeof item?0!==item.indexOf("http://")&&0!==item.indexOf("https://")&&(0!==item.indexOf("#")&&(item="#"+item),item=(root||"")+item,obj[key]=item):_.isObject(item)&&this.retainRoot(item,root)}return obj},Resolver.prototype.resolveInline=function(root,spec,property,resolutionTable,unresolvedRefs,location){var i,p,p2,rs,key=property.$ref,ref=property.$ref,rootTrimmed=!1;if(ref){if(0===ref.indexOf("../")){for(p=ref.split("../"),p2=root.split("/"),ref="",i=0;i<p.length;i++)""===p[i]?p2=p2.slice(0,p2.length-1):ref+=p[i];for(root="",i=0;i<p2.length-1;i++)i>0&&(root+="/"),root+=p2[i];rootTrimmed=!0}if(ref.indexOf("#")>=0)if(0===ref.indexOf("/"))rs=ref.split("#"),p=root.split("//"),p2=p[1].split("/"),root=p[0]+"//"+p2[0]+rs[0],location=rs[1];else{if(rs=ref.split("#"),""!==rs[0]){if(p2=root.split("/"),p2=p2.slice(0,p2.length-1),!rootTrimmed){root="";for(var k=0;k<p2.length;k++)k>0&&(root+="/"),root+=p2[k]}root+="/"+ref.split("#")[0]}location=rs[1]}0===ref.indexOf("http")?(ref.indexOf("#")>=0?(root=ref.split("#")[0],location=ref.split("#")[1]):(root=ref,location=""),resolutionTable.push({obj:property,resolveAs:"inline",root:root,key:key,location:location})):0===ref.indexOf("#")?(location=ref.split("#")[1],resolutionTable.push({obj:property,resolveAs:"inline",root:root,key:key,location:location})):resolutionTable.push({obj:property,resolveAs:"inline",root:root,key:key,location:location})}else"array"===property.type&&this.resolveTo(root,property.items,resolutionTable,location)},Resolver.prototype.resolveTo=function(root,property,resolutionTable,location){var sp,i,ref=property.$ref,lroot=root;if("undefined"!=typeof ref){if(ref.indexOf("#")>=0){var parts=ref.split("#");if(parts[0]&&0===ref.indexOf("/"));else if(parts[0]&&0===parts[0].indexOf("http"))lroot=parts[0],ref=parts[1];else if(parts[0]&&parts[0].length>0){for(sp=root.split("/"),lroot="",i=0;i<sp.length-1;i++)lroot+=sp[i]+"/";lroot+=parts[0]}location=parts[1]}else if(0===ref.indexOf("http://")||0===ref.indexOf("https://"))lroot=ref,location="";else{for(sp=root.split("/"),lroot="",i=0;i<sp.length-1;i++)lroot+=sp[i]+"/";lroot+=ref,location=""}resolutionTable.push({obj:property,resolveAs:"ref",root:lroot,key:ref,location:location})}else if("array"===property.type){var items=property.items;this.resolveTo(root,items,resolutionTable,location)}},Resolver.prototype.resolveAllOf=function(spec,obj,depth){depth=depth||0,obj=obj||spec;var name;for(var key in obj)if(obj.hasOwnProperty(key)){var item=obj[key];if(null===item)throw new TypeError("Swagger 2.0 does not support null types ("+obj+").  See https://github.com/swagger-api/swagger-spec/issues/229.");if("object"==typeof item&&this.resolveAllOf(spec,item,depth+1),item&&"undefined"!=typeof item.allOf){var allOf=item.allOf;if(_.isArray(allOf)){var output={};output["x-composed"]=!0,"undefined"!=typeof item["x-resolved-from"]&&(output["x-resolved-from"]=item["x-resolved-from"]),output.properties={},item.example&&(output.example=item.example);for(var i=0;i<allOf.length;i++){var component=allOf[i],source="self";"undefined"!=typeof component["x-resolved-from"]&&(source=component["x-resolved-from"][0]);for(var part in component)if(output.hasOwnProperty(part))if("properties"===part){var properties=component[part];for(name in properties){output.properties[name]=JSON.parse(JSON.stringify(properties[name]));var resolvedFrom=properties[name]["x-resolved-from"];"undefined"!=typeof resolvedFrom&&"self"!==resolvedFrom||(resolvedFrom=source),output.properties[name]["x-resolved-from"]=resolvedFrom}}else if("required"===part){for(var a=output.required.concat(component[part]),k=0;k<a.length;++k)for(var j=k+1;j<a.length;++j)a[k]===a[j]&&a.splice(j--,1);output.required=a}else"x-resolved-from"===part&&output["x-resolved-from"].push(source);else if(output[part]=JSON.parse(JSON.stringify(component[part])),"properties"===part)for(name in output[part])output[part][name]["x-resolved-from"]=source}obj[key]=output}}_.isObject(item)&&this.resolveAllOf(spec,item,depth+1)}}},{"./http":341,"lodash-compat/lang/isArray":316,"lodash-compat/lang/isObject":320}],343:[function(require,module,exports){"use strict";function optionHtml(label,value){return'<tr><td class="optionName">'+label+":</td><td>"+value+"</td></tr>"}function typeFromJsonSchema(type,format){var str;return"integer"===type&&"int32"===format?str="integer":"integer"===type&&"int64"===format?str="long":"integer"===type&&"undefined"==typeof format?str="long":"string"===type&&"date-time"===format?str="date-time":"string"===type&&"date"===format?str="date":"number"===type&&"float"===format?str="float":"number"===type&&"double"===format?str="double":"number"===type&&"undefined"==typeof format?str="double":"boolean"===type?str="boolean":"string"===type&&(str="string"),str}function getStringSignature(obj,baseComponent){var str="";return"undefined"!=typeof obj.$ref?str+=Helpers.simpleRef(obj.$ref):"undefined"==typeof obj.type?str+="object":"array"===obj.type?baseComponent?str+=getStringSignature(obj.items||obj.$ref||{}):(str+="Array[",str+=getStringSignature(obj.items||obj.$ref||{}),str+="]"):str+="integer"===obj.type&&"int32"===obj.format?"integer":"integer"===obj.type&&"int64"===obj.format?"long":"integer"===obj.type&&"undefined"==typeof obj.format?"long":"string"===obj.type&&"date-time"===obj.format?"date-time":"string"===obj.type&&"date"===obj.format?"date":"string"===obj.type&&"undefined"==typeof obj.format?"string":"number"===obj.type&&"float"===obj.format?"float":"number"===obj.type&&"double"===obj.format?"double":"number"===obj.type&&"undefined"==typeof obj.format?"double":"boolean"===obj.type?"boolean":obj.$ref?Helpers.simpleRef(obj.$ref):obj.type,str}function schemaToJSON(schema,models,modelsToIgnore,modelPropertyMacro){schema=Helpers.resolveSchema(schema),"function"!=typeof modelPropertyMacro&&(modelPropertyMacro=function(prop){return(prop||{})["default"]}),modelsToIgnore=modelsToIgnore||{};var model,output,type=schema.type||"object",format=schema.format;return _.isUndefined(schema.example)?_.isUndefined(schema.items)&&_.isArray(schema["enum"])&&(output=schema["enum"][0]):output=schema.example,_.isUndefined(output)&&(schema.$ref?(model=models[Helpers.simpleRef(schema.$ref)],_.isUndefined(model)||(_.isUndefined(modelsToIgnore[model.name])?(modelsToIgnore[model.name]=model,output=schemaToJSON(model.definition,models,modelsToIgnore,modelPropertyMacro),delete modelsToIgnore[model.name]):output="array"===model.type?[]:{})):_.isUndefined(schema["default"])?"string"===type?output="date-time"===format?(new Date).toISOString():"date"===format?(new Date).toISOString().split("T")[0]:"string":"integer"===type?output=0:"number"===type?output=0:"boolean"===type?output=!0:"object"===type?(output={},_.forEach(schema.properties,function(property,name){var cProperty=_.cloneDeep(property);cProperty["default"]=modelPropertyMacro(property),output[name]=schemaToJSON(cProperty,models,modelsToIgnore,modelPropertyMacro)})):"array"===type&&(output=[],_.isArray(schema.items)?_.forEach(schema.items,function(item){output.push(schemaToJSON(item,models,modelsToIgnore,modelPropertyMacro))}):_.isPlainObject(schema.items)?output.push(schemaToJSON(schema.items,models,modelsToIgnore,modelPropertyMacro)):_.isUndefined(schema.items)?output.push({}):Helpers.log("Array type's 'items' property is not an array or an object, cannot process")):output=schema["default"]),output}function schemaToHTML(name,schema,models,modelPropertyMacro){function addReference(schema,name,skipRef){var model,modelName=name;return schema.$ref?(modelName=schema.title||Helpers.simpleRef(schema.$ref),model=models[modelName]):_.isUndefined(name)&&(modelName=schema.title||"Inline Model "+ ++inlineModels,model={definition:schema}),skipRef!==!0&&(references[modelName]=_.isUndefined(model)?{}:model.definition),modelName}function primitiveToHTML(schema){var html='<span class="propType">',type=schema.type||"object";return schema.$ref?html+=addReference(schema,Helpers.simpleRef(schema.$ref)):"object"===type?html+=_.isUndefined(schema.properties)?"object":addReference(schema):"array"===type?(html+="Array[",_.isArray(schema.items)?html+=_.map(schema.items,addReference).join(","):_.isPlainObject(schema.items)?html+=_.isUndefined(schema.items.$ref)?_.isUndefined(schema.items.type)||_.indexOf(["array","object"],schema.items.type)!==-1?addReference(schema.items):schema.items.type:addReference(schema.items,Helpers.simpleRef(schema.items.$ref)):(Helpers.log("Array type's 'items' schema is not an array or an object, cannot process"),html+="object"),html+="]"):html+=schema.type,html+="</span>"}function primitiveToOptionsHTML(schema,html){var options="",type=schema.type||"object",isArray="array"===type;switch(isArray&&(type=_.isPlainObject(schema.items)&&!_.isUndefined(schema.items.type)?schema.items.type:"object"),_.isUndefined(schema["default"])||(options+=optionHtml("Default",schema["default"])),type){case"string":schema.minLength&&(options+=optionHtml("Min. Length",schema.minLength)),schema.maxLength&&(options+=optionHtml("Max. Length",schema.maxLength)),schema.pattern&&(options+=optionHtml("Reg. Exp.",schema.pattern));break;case"integer":case"number":schema.minimum&&(options+=optionHtml("Min. Value",schema.minimum)),schema.exclusiveMinimum&&(options+=optionHtml("Exclusive Min.","true")),schema.maximum&&(options+=optionHtml("Max. Value",schema.maximum)),schema.exclusiveMaximum&&(options+=optionHtml("Exclusive Max.","true")),schema.multipleOf&&(options+=optionHtml("Multiple Of",schema.multipleOf))}if(isArray&&(schema.minItems&&(options+=optionHtml("Min. Items",schema.minItems)),schema.maxItems&&(options+=optionHtml("Max. Items",schema.maxItems)),schema.uniqueItems&&(options+=optionHtml("Unique Items","true")),schema.collectionFormat&&(options+=optionHtml("Coll. Format",schema.collectionFormat))),_.isUndefined(schema.items)&&_.isArray(schema["enum"])){var enumString;enumString="number"===type||"integer"===type?schema["enum"].join(", "):'"'+schema["enum"].join('", "')+'"',options+=optionHtml("Enum",enumString)}return options.length>0&&(html='<span class="propWrap">'+html+'<table class="optionsWrapper"><tr><th colspan="2">'+type+"</th></tr>"+options+"</table></span>"),html}function processModel(schema,name){var type=schema.type||"object",isArray="array"===schema.type,html=strongOpen+name+" "+(isArray?"[":"{")+strongClose;return name&&seenModels.push(name),isArray?_.isArray(schema.items)?html+="<div>"+_.map(schema.items,function(item){var type=item.type||"object";return _.isUndefined(item.$ref)?_.indexOf(["array","object"],type)>-1?"object"===type&&_.isUndefined(item.properties)?"object":addReference(item):primitiveToOptionsHTML(item,type):addReference(item,Helpers.simpleRef(item.$ref))}).join(",</div><div>"):_.isPlainObject(schema.items)?html+=_.isUndefined(schema.items.$ref)?_.indexOf(["array","object"],schema.items.type||"object")>-1?(_.isUndefined(schema.items.type)||"object"===schema.items.type)&&_.isUndefined(schema.items.properties)?"<div>object</div>":"<div>"+addReference(schema.items)+"</div>":"<div>"+primitiveToOptionsHTML(schema.items,schema.items.type)+"</div>":"<div>"+addReference(schema.items,Helpers.simpleRef(schema.items.$ref))+"</div>":(Helpers.log("Array type's 'items' property is not an array or an object, cannot process"),html+="<div>object</div>"):schema.$ref?html+="<div>"+addReference(schema,name)+"</div>":"object"===type?(html+="<div>",_.isPlainObject(schema.properties)&&(html+=_.map(schema.properties,function(property,name){var model,propertyIsRequired=_.indexOf(schema.required,name)>=0,cProperty=_.cloneDeep(property),requiredClass=propertyIsRequired?"required":"",html='<span class="propName '+requiredClass+'">'+name+"</span> (";return cProperty["default"]=modelPropertyMacro(cProperty),cProperty=Helpers.resolveSchema(cProperty),_.isUndefined(cProperty.$ref)||(model=models[Helpers.simpleRef(cProperty.$ref)],_.isUndefined(model)||_.indexOf([void 0,"array","object"],model.definition.type)!==-1||(cProperty=Helpers.resolveSchema(model.definition))),html+=primitiveToHTML(cProperty),propertyIsRequired||(html+=', <span class="propOptKey">optional</span>'),html+=")",_.isUndefined(cProperty.description)||(html+=': <span class="propDesc">'+cProperty.description+"</span>"),cProperty["enum"]&&(html+=' = <span class="propVals">[\''+cProperty["enum"].join("', '")+"']</span>"),primitiveToOptionsHTML(cProperty,html)}).join(",</div><div>")),html+="</div>"):html+="<div>"+primitiveToOptionsHTML(schema,type)+"</div>",html+strongOpen+(isArray?"]":"}")+strongClose}var strongOpen='<span class="strong">',strongClose="</span>";if(_.isObject(arguments[0])&&(name=void 0,schema=arguments[0],models=arguments[1],modelPropertyMacro=arguments[2]),models=models||{},schema=Helpers.resolveSchema(schema),_.isEmpty(schema))return strongOpen+"Empty"+strongClose;if("string"==typeof schema.$ref&&(name=Helpers.simpleRef(schema.$ref),schema=models[name],"undefined"==typeof schema))return strongOpen+name+" is not defined!"+strongClose;"string"!=typeof name&&(name=schema.title||"Inline Model"),schema.definition&&(schema=schema.definition),"function"!=typeof modelPropertyMacro&&(modelPropertyMacro=function(prop){return(prop||{})["default"]});for(var references={},seenModels=[],inlineModels=0,html=processModel(schema,name);_.keys(references).length>0;)_.forEach(references,function(schema,name){var seenModel=_.indexOf(seenModels,name)>-1;delete references[name],seenModel||(seenModels.push(name),html+="<br />"+processModel(schema,name))});return html}var Helpers=require("./helpers"),_={isPlainObject:require("lodash-compat/lang/isPlainObject"),isUndefined:require("lodash-compat/lang/isUndefined"),isArray:require("lodash-compat/lang/isArray"),isObject:require("lodash-compat/lang/isObject"),isEmpty:require("lodash-compat/lang/isEmpty"),map:require("lodash-compat/collection/map"),indexOf:require("lodash-compat/array/indexOf"),cloneDeep:require("lodash-compat/lang/cloneDeep"),keys:require("lodash-compat/object/keys"),forEach:require("lodash-compat/collection/forEach")};module.exports.optionHtml=optionHtml,module.exports.typeFromJsonSchema=typeFromJsonSchema,module.exports.getStringSignature=getStringSignature,module.exports.schemaToHTML=schemaToHTML,module.exports.schemaToJSON=schemaToJSON},{"./helpers":340,"lodash-compat/array/indexOf":225,"lodash-compat/collection/forEach":230,"lodash-compat/collection/map":232,"lodash-compat/lang/cloneDeep":314,"lodash-compat/lang/isArray":316,"lodash-compat/lang/isEmpty":317,"lodash-compat/lang/isObject":320,"lodash-compat/lang/isPlainObject":321,"lodash-compat/lang/isUndefined":324,"lodash-compat/object/keys":325}],344:[function(require,module,exports){"use strict";var SwaggerHttp=require("./http"),_={isObject:require("lodash-compat/lang/isObject")},SwaggerSpecConverter=module.exports=function(){this.errors=[],this.warnings=[],this.modelMap={}};SwaggerSpecConverter.prototype.setDocumentationLocation=function(location){this.docLocation=location},SwaggerSpecConverter.prototype.convert=function(obj,clientAuthorizations,callback){if(!obj||!Array.isArray(obj.apis))return this.finish(callback,null);this.clientAuthorizations=clientAuthorizations;var swagger={swagger:"2.0"};swagger.originalVersion=obj.swaggerVersion,this.apiInfo(obj,swagger),this.securityDefinitions(obj,swagger),obj.basePath&&this.setDocumentationLocation(obj.basePath);var i,isSingleFileSwagger=!1;for(i=0;i<obj.apis.length;i++){var api=obj.apis[i];Array.isArray(api.operations)&&(isSingleFileSwagger=!0)}isSingleFileSwagger?(this.declaration(obj,swagger),this.finish(callback,swagger)):this.resourceListing(obj,swagger,callback)},SwaggerSpecConverter.prototype.declaration=function(obj,swagger){var name,i,p,pos;if(obj.apis){0===obj.basePath.indexOf("http://")?(p=obj.basePath.substring("http://".length),pos=p.indexOf("/"),pos>0?(swagger.host=p.substring(0,pos),swagger.basePath=p.substring(pos)):(swagger.host=p,swagger.basePath="/")):0===obj.basePath.indexOf("https://")?(p=obj.basePath.substring("https://".length),pos=p.indexOf("/"),pos>0?(swagger.host=p.substring(0,pos),swagger.basePath=p.substring(pos)):(swagger.host=p,swagger.basePath="/")):swagger.basePath=obj.basePath;var resourceLevelAuth;if(obj.authorizations&&(resourceLevelAuth=obj.authorizations),obj.consumes&&(swagger.consumes=obj.consumes),obj.produces&&(swagger.produces=obj.produces),_.isObject(obj))for(name in obj.models){var existingModel=obj.models[name],key=existingModel.id||name;this.modelMap[key]=name}for(i=0;i<obj.apis.length;i++){var api=obj.apis[i],path=api.path,operations=api.operations;this.operations(path,obj.resourcePath,operations,resourceLevelAuth,swagger)}var models=obj.models||{};this.models(models,swagger)}},SwaggerSpecConverter.prototype.models=function(obj,swagger){if(_.isObject(obj)){var name;swagger.definitions=swagger.definitions||{};for(name in obj){var propertyName,existingModel=obj[name],_enum=[],schema={properties:{}};for(propertyName in existingModel.properties){var existingProperty=existingModel.properties[propertyName],property={};this.dataType(existingProperty,property),existingProperty.description&&(property.description=existingProperty.description),existingProperty["enum"]&&(property["enum"]=existingProperty["enum"]),"boolean"==typeof existingProperty.required&&existingProperty.required===!0&&_enum.push(propertyName),"string"==typeof existingProperty.required&&"true"===existingProperty.required&&_enum.push(propertyName),schema.properties[propertyName]=property}_enum.length>0&&(schema["enum"]=_enum),schema.required=existingModel.required,swagger.definitions[name]=schema}}},SwaggerSpecConverter.prototype.extractTag=function(resourcePath){var pathString=resourcePath||"default";return 0!==pathString.indexOf("http:")&&0!==pathString.indexOf("https:")||(pathString=pathString.split(["/"]),pathString=pathString[pathString.length-1].substring()),pathString.endsWith(".json")&&(pathString=pathString.substring(0,pathString.length-".json".length)),pathString.replace("/","")},SwaggerSpecConverter.prototype.operations=function(path,resourcePath,obj,resourceLevelAuth,swagger){if(Array.isArray(obj)){var i;swagger.paths||(swagger.paths={});var pathObj=swagger.paths[path]||{},tag=this.extractTag(resourcePath);swagger.tags=swagger.tags||[];var matched=!1;for(i=0;i<swagger.tags.length;i++){var tagObject=swagger.tags[i];tagObject.name===tag&&(matched=!0)}for(matched||swagger.tags.push({name:tag}),i=0;i<obj.length;i++){var existingOperation=obj[i],method=(existingOperation.method||existingOperation.httpMethod).toLowerCase(),operation={tags:[tag]},existingAuthorizations=existingOperation.authorizations;if(existingAuthorizations&&0===Object.keys(existingAuthorizations).length&&(existingAuthorizations=resourceLevelAuth),"undefined"!=typeof existingAuthorizations){var scopesObject;for(var key in existingAuthorizations){operation.security=operation.security||[];var scopes=existingAuthorizations[key];if(scopes){var securityScopes=[];for(var j in scopes)securityScopes.push(scopes[j].scope);scopesObject={},scopesObject[key]=securityScopes,operation.security.push(scopesObject)}else scopesObject={},scopesObject[key]=[],operation.security.push(scopesObject)}}existingOperation.consumes?operation.consumes=existingOperation.consumes:swagger.consumes&&(operation.consumes=swagger.consumes),existingOperation.produces?operation.produces=existingOperation.produces:swagger.produces&&(operation.produces=swagger.produces),existingOperation.summary&&(operation.summary=existingOperation.summary),existingOperation.notes&&(operation.description=existingOperation.notes),existingOperation.nickname&&(operation.operationId=existingOperation.nickname),existingOperation.deprecated&&(operation.deprecated=existingOperation.deprecated),this.authorizations(existingAuthorizations,swagger),this.parameters(operation,existingOperation.parameters,swagger),this.responseMessages(operation,existingOperation,swagger),pathObj[method]=operation}swagger.paths[path]=pathObj}},SwaggerSpecConverter.prototype.responseMessages=function(operation,existingOperation){if(_.isObject(existingOperation)){var defaultResponse={};this.dataType(existingOperation,defaultResponse),!defaultResponse.schema&&defaultResponse.type&&(defaultResponse={schema:defaultResponse}),operation.responses=operation.responses||{};var has200=!1;if(Array.isArray(existingOperation.responseMessages)){var i,existingResponses=existingOperation.responseMessages;for(i=0;i<existingResponses.length;i++){var existingResponse=existingResponses[i],response={description:existingResponse.message};200===existingResponse.code&&(has200=!0),existingResponse.responseModel&&(response.schema={$ref:existingResponse.responseModel}),operation.responses[""+existingResponse.code]=response}}has200?operation.responses["default"]=defaultResponse:operation.responses[200]=defaultResponse}},SwaggerSpecConverter.prototype.authorizations=function(obj){!_.isObject(obj)},SwaggerSpecConverter.prototype.parameters=function(operation,obj){if(Array.isArray(obj)){var i;for(i=0;i<obj.length;i++){var existingParameter=obj[i],parameter={};if(parameter.name=existingParameter.name,parameter.description=existingParameter.description,parameter.required=existingParameter.required,parameter["in"]=existingParameter.paramType,"body"===parameter["in"]&&(parameter.name="body"),"form"===parameter["in"]&&(parameter["in"]="formData"),existingParameter["enum"]&&(parameter["enum"]=existingParameter["enum"]),existingParameter.allowMultiple===!0||"true"===existingParameter.allowMultiple){var innerType={};if(this.dataType(existingParameter,innerType),parameter.type="array",parameter.items=innerType,existingParameter.allowableValues){var av=existingParameter.allowableValues;"LIST"===av.valueType&&(parameter["enum"]=av.values)}}else this.dataType(existingParameter,parameter);"undefined"!=typeof existingParameter.defaultValue&&(parameter["default"]=existingParameter.defaultValue),operation.parameters=operation.parameters||[],operation.parameters.push(parameter)}}},SwaggerSpecConverter.prototype.dataType=function(source,target){if(_.isObject(source)){source.minimum&&(target.minimum=source.minimum),source.maximum&&(target.maximum=source.maximum),source.format&&(target.format=source.format),"undefined"!=typeof source.defaultValue&&(target["default"]=source.defaultValue);var jsonSchemaType=this.toJsonSchema(source);jsonSchemaType&&(target=target||{},jsonSchemaType.type&&(target.type=jsonSchemaType.type),jsonSchemaType.format&&(target.format=jsonSchemaType.format),jsonSchemaType.$ref&&(target.schema={$ref:jsonSchemaType.$ref}),jsonSchemaType.items&&(target.items=jsonSchemaType.items))}},SwaggerSpecConverter.prototype.toJsonSchema=function(source){if(!source)return"object";var detectedType=source.type||source.dataType||source.responseClass||"",lcType=detectedType.toLowerCase(),format=(source.format||"").toLowerCase();if(0===lcType.indexOf("list[")){var innerType=detectedType.substring(5,detectedType.length-1),jsonType=this.toJsonSchema({type:innerType});return{type:"array",items:jsonType}}if("int"===lcType||"integer"===lcType&&"int32"===format)return{type:"integer",format:"int32"};if("long"===lcType||"integer"===lcType&&"int64"===format)return{type:"integer",format:"int64"};if("integer"===lcType)return{type:"integer",format:"int64"};if("float"===lcType||"number"===lcType&&"float"===format)return{type:"number",format:"float"};if("double"===lcType||"number"===lcType&&"double"===format)return{type:"number",format:"double"};if("string"===lcType&&"date-time"===format||"date"===lcType)return{type:"string",format:"date-time"};if("string"===lcType)return{type:"string"};if("file"===lcType)return{type:"file"};if("boolean"===lcType)return{type:"boolean"};if("array"===lcType||"list"===lcType){if(source.items){var it=this.toJsonSchema(source.items);return{type:"array",items:it}}return{type:"array",items:{type:"object"}}}return source.$ref?{$ref:"#/definitions/"+this.modelMap[source.$ref]||source.$ref}:"void"===lcType||""===lcType?{}:{$ref:"#/definitions/"+this.modelMap[source.type]||source.type}},SwaggerSpecConverter.prototype.resourceListing=function(obj,swagger,callback){var i,processedCount=0,self=this,expectedCount=obj.apis.length,_swagger=swagger;for(0===expectedCount&&this.finish(callback,swagger),i=0;i<expectedCount;i++){var api=obj.apis[i],path=api.path,absolutePath=this.getAbsolutePath(obj.swaggerVersion,this.docLocation,path);api.description&&(swagger.tags=swagger.tags||[],swagger.tags.push({name:this.extractTag(api.path),description:api.description||""}));var http={url:absolutePath,headers:{accept:"application/json"},on:{},method:"get"};http.on.response=function(data){processedCount+=1;var obj=data.obj;obj&&self.declaration(obj,_swagger),processedCount===expectedCount&&self.finish(callback,_swagger)},http.on.error=function(data){console.error(data),processedCount+=1,processedCount===expectedCount&&self.finish(callback,_swagger)},this.clientAuthorizations&&"function"==typeof this.clientAuthorizations.apply&&this.clientAuthorizations.apply(http),(new SwaggerHttp).execute(http)}},SwaggerSpecConverter.prototype.getAbsolutePath=function(version,docLocation,path){if("1.0"===version&&docLocation.endsWith(".json")){var pos=docLocation.lastIndexOf("/");pos>0&&(docLocation=docLocation.substring(0,pos))}var location=docLocation;return 0===path.indexOf("http://")||0===path.indexOf("https://")?location=path:(docLocation.endsWith("/")&&(location=docLocation.substring(0,docLocation.length-1)),location+=path),location=location.replace("{format}","json");
},SwaggerSpecConverter.prototype.securityDefinitions=function(obj,swagger){if(obj.authorizations){var name;for(name in obj.authorizations){var isValid=!1,securityDefinition={},definition=obj.authorizations[name];if("apiKey"===definition.type)securityDefinition.type="apiKey",securityDefinition["in"]=definition.passAs,securityDefinition.name=definition.keyname||name,isValid=!0;else if("oauth2"===definition.type){var i,existingScopes=definition.scopes||[],scopes={};for(i in existingScopes){var scope=existingScopes[i];scopes[scope.scope]=scope.description}if(securityDefinition.type="oauth2",i>0&&(securityDefinition.scopes=scopes),definition.grantTypes){if(definition.grantTypes.implicit){var implicit=definition.grantTypes.implicit;securityDefinition.flow="implicit",securityDefinition.authorizationUrl=implicit.loginEndpoint,isValid=!0}if(definition.grantTypes.authorization_code&&!securityDefinition.flow){var authCode=definition.grantTypes.authorization_code;securityDefinition.flow="accessCode",securityDefinition.authorizationUrl=authCode.tokenRequestEndpoint.url,securityDefinition.tokenUrl=authCode.tokenEndpoint.url,isValid=!0}}}isValid&&(swagger.securityDefinitions=swagger.securityDefinitions||{},swagger.securityDefinitions[name]=securityDefinition)}}},SwaggerSpecConverter.prototype.apiInfo=function(obj,swagger){if(obj.info){var info=obj.info;swagger.info={},info.contact&&(swagger.info.contact={},swagger.info.contact.email=info.contact),info.description&&(swagger.info.description=info.description),info.title&&(swagger.info.title=info.title),info.termsOfServiceUrl&&(swagger.info.termsOfService=info.termsOfServiceUrl),(info.license||info.licenseUrl)&&(swagger.license={},info.license&&(swagger.license.name=info.license),info.licenseUrl&&(swagger.license.url=info.licenseUrl))}else this.warnings.push("missing info section")},SwaggerSpecConverter.prototype.finish=function(callback,obj){callback(obj)}},{"./http":341,"lodash-compat/lang/isObject":320}],345:[function(require,module,exports){"use strict";var _={isPlainObject:require("lodash-compat/lang/isPlainObject"),isString:require("lodash-compat/lang/isString")},SchemaMarkup=require("../schema-markup.js"),jsyaml=require("js-yaml"),Model=module.exports=function(name,definition,models,modelPropertyMacro){return this.definition=definition||{},this.isArray="array"===definition.type,this.models=models||{},this.name=definition.title||name||"Inline Model",this.modelPropertyMacro=modelPropertyMacro||function(property){return property["default"]},this};Model.prototype.createJSONSample=Model.prototype.getSampleValue=function(modelsToIgnore){return modelsToIgnore=modelsToIgnore||{},modelsToIgnore[this.name]=this,this.examples&&_.isPlainObject(this.examples)&&this.examples["application/json"]?(this.definition.example=this.examples["application/json"],_.isString(this.definition.example)&&(this.definition.example=jsyaml.safeLoad(this.definition.example))):this.definition.example||(this.definition.example=this.examples),SchemaMarkup.schemaToJSON(this.definition,this.models,modelsToIgnore,this.modelPropertyMacro)},Model.prototype.getMockSignature=function(){return SchemaMarkup.schemaToHTML(this.name,this.definition,this.models,this.modelPropertyMacro)}},{"../schema-markup.js":343,"js-yaml":195,"lodash-compat/lang/isPlainObject":321,"lodash-compat/lang/isString":322}],346:[function(require,module,exports){"use strict";function itemByPriority(col,itemPriority){if(_.isEmpty(itemPriority))return col[0];for(var i=0,len=itemPriority.length;i<len;i++)if(col.indexOf(itemPriority[i])>-1)return itemPriority[i];return col[0]}var _={cloneDeep:require("lodash-compat/lang/cloneDeep"),isUndefined:require("lodash-compat/lang/isUndefined"),isEmpty:require("lodash-compat/lang/isEmpty"),isObject:require("lodash-compat/lang/isObject")},helpers=require("../helpers"),Model=require("./model"),SwaggerHttp=require("../http"),Operation=module.exports=function(parent,scheme,operationId,httpMethod,path,args,definitions,models,clientAuthorizations){var errors=[];if(parent=parent||{},args=args||{},parent&&parent.options&&(this.client=parent.options.client||null,this.responseInterceptor=parent.options.responseInterceptor||null),this.authorizations=args.security,this.basePath=parent.basePath||"/",this.clientAuthorizations=clientAuthorizations,this.consumes=args.consumes||parent.consumes||["application/json"],this.produces=args.produces||parent.produces||["application/json"],this.deprecated=args.deprecated,this.description=args.description,this.host=parent.host||"localhost",this.method=httpMethod||errors.push("Operation "+operationId+" is missing method."),this.models=models||{},this.nickname=operationId||errors.push("Operations must have a nickname."),this.operation=args,this.operations={},this.parameters=null!==args?args.parameters||[]:{},this.parent=parent,this.path=path||errors.push("Operation "+this.nickname+" is missing path."),this.responses=args.responses||{},this.scheme=scheme||parent.scheme||"http",this.schemes=args.schemes||parent.schemes,this.security=args.security,this.summary=args.summary||"",this.type=null,this.useJQuery=parent.useJQuery,this.parameterMacro=parent.parameterMacro||function(operation,parameter){return parameter["default"]},this.inlineModels=[],"string"==typeof this.deprecated)switch(this.deprecated.toLowerCase()){case"true":case"yes":case"1":this.deprecated=!0;break;case"false":case"no":case"0":case null:this.deprecated=!1;break;default:this.deprecated=Boolean(this.deprecated)}var i,model;if(definitions){var key;for(key in definitions)model=new Model(key,definitions[key],this.models,parent.modelPropertyMacro),model&&(this.models[key]=model)}else definitions={};for(i=0;i<this.parameters.length;i++){var param=this.parameters[i];param["default"]=this.parameterMacro(this,param),"array"===param.type&&(param.isList=!0,param.allowMultiple=!0,param.items&&param.items["enum"]&&(param["enum"]=param.items["enum"]));var innerType=this.getType(param);if(innerType&&"boolean"===innerType.toString().toLowerCase()&&(param.allowableValues={},param.isList=!0,param["enum"]=[!0,!1]),param["x-examples"]){var d=param["x-examples"]["default"];"undefined"!=typeof d&&(param["default"]=d)}if("undefined"!=typeof param["enum"]){var id;for(param.allowableValues={},param.allowableValues.values=[],param.allowableValues.descriptiveValues=[],id=0;id<param["enum"].length;id++){var value=param["enum"][id],isDefault=value===param["default"]||value+""===param["default"];param.allowableValues.values.push(value),param.allowableValues.descriptiveValues.push({value:value+"",isDefault:isDefault})}}"array"===param.type&&(innerType=[innerType],"undefined"==typeof param.allowableValues&&(delete param.isList,delete param.allowMultiple)),param.signature=this.getModelSignature(innerType,this.models).toString(),param.sampleJSON=this.getModelSampleJSON(innerType,this.models),param.responseClassSignature=param.signature}var defaultResponseCode,response,responses=this.responses;if(responses[200]?(response=responses[200],defaultResponseCode="200"):responses[201]?(response=responses[201],defaultResponseCode="201"):responses[202]?(response=responses[202],defaultResponseCode="202"):responses[203]?(response=responses[203],defaultResponseCode="203"):responses[204]?(response=responses[204],defaultResponseCode="204"):responses[205]?(response=responses[205],defaultResponseCode="205"):responses[206]?(response=responses[206],defaultResponseCode="206"):responses["default"]&&(response=responses["default"],defaultResponseCode="default"),response&&response.schema){var successResponse,resolvedModel=this.resolveModel(response.schema,definitions);delete responses[defaultResponseCode],resolvedModel?(this.successResponse={},successResponse=this.successResponse[defaultResponseCode]=resolvedModel):response.schema.type&&"object"!==response.schema.type&&"array"!==response.schema.type?(this.successResponse={},successResponse=this.successResponse[defaultResponseCode]=response.schema):(this.successResponse={},successResponse=this.successResponse[defaultResponseCode]=new Model((void 0),response.schema||{},this.models,parent.modelPropertyMacro)),successResponse&&(response.description&&(successResponse.description=response.description),response.examples&&(successResponse.examples=response.examples),response.headers&&(successResponse.headers=response.headers)),this.type=response}return errors.length>0&&this.resource&&this.resource.api&&this.resource.api.fail&&this.resource.api.fail(errors),this};Operation.prototype.isDefaultArrayItemValue=function(value,param){return param["default"]&&Array.isArray(param["default"])?param["default"].indexOf(value)!==-1:value===param["default"]},Operation.prototype.getType=function(param){var str,type=param.type,format=param.format,isArray=!1;"integer"===type&&"int32"===format?str="integer":"integer"===type&&"int64"===format?str="long":"integer"===type?str="integer":"string"===type?str="date-time"===format?"date-time":"date"===format?"date":"string":"number"===type&&"float"===format?str="float":"number"===type&&"double"===format?str="double":"number"===type?str="double":"boolean"===type?str="boolean":"array"===type&&(isArray=!0,param.items&&(str=this.getType(param.items))),param.$ref&&(str=helpers.simpleRef(param.$ref));var schema=param.schema;if(schema){var ref=schema.$ref;return ref?(ref=helpers.simpleRef(ref),isArray?[ref]:ref):"object"===schema.type?this.addInlineModel(schema):this.getType(schema)}return isArray?[str]:str},Operation.prototype.addInlineModel=function(schema){var len=this.inlineModels.length,model=this.resolveModel(schema,{});return model?(this.inlineModels.push(model),"Inline Model "+len):null},Operation.prototype.getInlineModel=function(inlineStr){if(/^Inline Model \d+$/.test(inlineStr)){var id=parseInt(inlineStr.substr("Inline Model".length).trim(),10),model=this.inlineModels[id];return model}return null},Operation.prototype.resolveModel=function(schema,definitions){if("undefined"!=typeof schema.$ref){var ref=schema.$ref;if(0===ref.indexOf("#/definitions/")&&(ref=ref.substring("#/definitions/".length)),definitions[ref])return new Model(ref,definitions[ref],this.models,this.parent.modelPropertyMacro)}else if(schema&&"object"==typeof schema&&("object"===schema.type||_.isUndefined(schema.type)))return new Model((void 0),schema,this.models,this.parent.modelPropertyMacro);return null},Operation.prototype.help=function(dontPrint){for(var out=this.nickname+": "+this.summary+"\n",i=0;i<this.parameters.length;i++){var param=this.parameters[i],typeInfo=param.signature;out+="\n  * "+param.name+" ("+typeInfo+"): "+param.description}return"undefined"==typeof dontPrint&&helpers.log(out),out},Operation.prototype.getModelSignature=function(type,definitions){var isPrimitive,listType;return type instanceof Array&&(listType=!0,type=type[0]),"undefined"==typeof type?(type="undefined",isPrimitive=!0):definitions[type]?(type=definitions[type],isPrimitive=!1):this.getInlineModel(type)?(type=this.getInlineModel(type),isPrimitive=!1):isPrimitive=!0,isPrimitive?listType?"Array["+type+"]":type.toString():listType?"Array["+type.getMockSignature()+"]":type.getMockSignature()},Operation.prototype.supportHeaderParams=function(){return!0},Operation.prototype.supportedSubmitMethods=function(){return this.parent.supportedSubmitMethods},Operation.prototype.getHeaderParams=function(args){for(var headers=this.setContentTypes(args,{}),i=0;i<this.parameters.length;i++){var param=this.parameters[i];if("undefined"!=typeof args[param.name]&&"header"===param["in"]){var value=args[param.name];Array.isArray(value)&&(value=value.toString()),headers[param.name]=value}}return headers},Operation.prototype.urlify=function(args){for(var formParams={},requestUrl=this.path,querystring="",i=0;i<this.parameters.length;i++){var param=this.parameters[i];if("undefined"!=typeof args[param.name])if("path"===param["in"]){var reg=new RegExp("{"+param.name+"}","gi"),value=args[param.name];value=Array.isArray(value)?this.encodePathCollection(param.collectionFormat,param.name,value):this.encodePathParam(value),requestUrl=requestUrl.replace(reg,value)}else if("query"===param["in"]&&"undefined"!=typeof args[param.name])if(querystring+=""===querystring?"?":"&","undefined"!=typeof param.collectionFormat){var qp=args[param.name];querystring+=Array.isArray(qp)?this.encodeQueryCollection(param.collectionFormat,param.name,qp):this.encodeQueryParam(param.name)+"="+this.encodeQueryParam(args[param.name])}else querystring+=this.encodeQueryParam(param.name)+"="+this.encodeQueryParam(args[param.name]);else"formData"===param["in"]&&(formParams[param.name]=args[param.name])}var url=this.scheme+"://"+this.host;return"/"!==this.basePath&&(url+=this.basePath),url+requestUrl+querystring},Operation.prototype.getMissingParams=function(args){var i,missingParams=[];for(i=0;i<this.parameters.length;i++){var param=this.parameters[i];param.required===!0&&"undefined"==typeof args[param.name]&&(missingParams=param.name)}return missingParams},Operation.prototype.getBody=function(headers,args,opts){for(var body,key,value,formParams={},hasBody=!1,i=0;i<this.parameters.length;i++){var param=this.parameters[i];"undefined"!=typeof args[param.name]?"body"===param["in"]?body=args[param.name]:"formData"===param["in"]&&(formParams[param.name]=args[param.name]):"body"===param["in"]&&(hasBody=!0)}if(hasBody&&"undefined"==typeof body){var contentType=headers["Content-Type"];contentType&&0===contentType.indexOf("application/json")&&(body="{}")}if("application/x-www-form-urlencoded"===headers["Content-Type"]&&"formData"===param["in"]){var encoded="";for(key in formParams)value=formParams[key],"undefined"!=typeof value&&(""!==encoded&&(encoded+="&"),encoded+=encodeURIComponent(key)+"="+encodeURIComponent(value));body=encoded}else if(headers["Content-Type"]&&headers["Content-Type"].indexOf("multipart/form-data")>=0&&opts.useJQuery){var bodyParam=new FormData;bodyParam.type="formData";for(key in formParams)value=args[key],"undefined"!=typeof value&&("file"===value.type&&value.value?(delete headers["Content-Type"],bodyParam.append(key,value.value)):bodyParam.append(key,value));body=bodyParam}return body},Operation.prototype.getModelSampleJSON=function(type,models){var listType,sampleJson,innerType;if(models=models||{},listType=type instanceof Array,innerType=listType?type[0]:type,models[innerType]?sampleJson=models[innerType].createJSONSample():this.getInlineModel(innerType)&&(sampleJson=this.getInlineModel(innerType).createJSONSample()),sampleJson){if(sampleJson=listType?[sampleJson]:sampleJson,"string"==typeof sampleJson)return sampleJson;if(_.isObject(sampleJson)){var t=sampleJson;if(sampleJson instanceof Array&&sampleJson.length>0&&(t=sampleJson[0]),t.nodeName){var xmlString=(new XMLSerializer).serializeToString(t);return this.formatXml(xmlString)}return JSON.stringify(sampleJson,null,2)}return sampleJson}},Operation.prototype["do"]=function(args,opts,callback,error,parent){return this.execute(args,opts,callback,error,parent)},Operation.prototype.execute=function(arg1,arg2,arg3,arg4,parent){var success,error,args=arg1||{},opts={};_.isObject(arg2)&&(opts=arg2,success=arg3,error=arg4),this.client&&(opts.client=this.client),this.responseInterceptor&&(opts.responseInterceptor=this.responseInterceptor),"function"==typeof arg2&&(success=arg2,error=arg3),success=success||this.parent.defaultSuccessCallback||helpers.log,error=error||this.parent.defaultErrorCallback||helpers.log,"undefined"==typeof opts.useJQuery&&(opts.useJQuery=this.useJQuery);var missingParams=this.getMissingParams(args);if(missingParams.length>0){var message="missing required params: "+missingParams;return helpers.fail(message),void error(message)}var attrname,allHeaders=this.getHeaderParams(args),contentTypeHeaders=this.setContentTypes(args,opts),headers={};for(attrname in allHeaders)headers[attrname]=allHeaders[attrname];for(attrname in contentTypeHeaders)headers[attrname]=contentTypeHeaders[attrname];var body=this.getBody(contentTypeHeaders,args,opts),url=this.urlify(args);if(url.indexOf(".{format}")>0&&headers){var format=headers.Accept||headers.accept;format&&format.indexOf("json")>0?url=url.replace(".{format}",".json"):format&&format.indexOf("xml")>0&&(url=url.replace(".{format}",".xml"))}var obj={url:url,method:this.method.toUpperCase(),body:body,useJQuery:opts.useJQuery,headers:headers,on:{response:function(response){return success(response,parent)},error:function(response){return error(response,parent)}}};return this.clientAuthorizations.apply(obj,this.operation.security),opts.mock===!0?obj:void(new SwaggerHttp).execute(obj,opts)},Operation.prototype.setContentTypes=function(args,opts){var body,i,allDefinedParams=this.parameters,consumes=args.parameterContentType||itemByPriority(this.consumes,["application/json","application/yaml"]),accepts=opts.responseContentType||itemByPriority(this.produces,["application/json","application/yaml"]),definedFileParams=[],definedFormParams=[],headers={};for(i=0;i<allDefinedParams.length;i++){var param=allDefinedParams[i];if("formData"===param["in"])"file"===param.type?definedFileParams.push(param):definedFormParams.push(param);else if("header"===param["in"]&&opts){var key=param.name,headerValue=opts[param.name];"undefined"!=typeof opts[param.name]&&(headers[key]=headerValue)}else"body"===param["in"]&&"undefined"!=typeof args[param.name]&&(body=args[param.name])}return"post"===this.method||"put"===this.method||"patch"===this.method||"delete"===this.method&&body?(opts.requestContentType&&(consumes=opts.requestContentType),definedFormParams.length>0&&(consumes=opts.requestContentType?opts.requestContentType:definedFileParams.length>0?"multipart/form-data":"application/x-www-form-urlencoded")):consumes=null,consumes&&this.consumes&&this.consumes.indexOf(consumes)===-1&&helpers.log("server doesn't consume "+consumes+", try "+JSON.stringify(this.consumes)),this.matchesAccept(accepts)||helpers.log("server can't produce "+accepts),(consumes&&""!==body||"application/x-www-form-urlencoded"===consumes)&&(headers["Content-Type"]=consumes),accepts&&(headers.Accept=accepts),headers},Operation.prototype.matchesAccept=function(accepts){return!accepts||!this.produces||(this.produces.indexOf(accepts)!==-1||this.produces.indexOf("*/*")!==-1)},Operation.prototype.asCurl=function(args1,args2){var opts={mock:!0};if("object"==typeof args2)for(var argKey in args2)opts[argKey]=args2[argKey];var obj=this.execute(args1,opts);this.clientAuthorizations.apply(obj,this.operation.security);var results=[];if(results.push("-X "+this.method.toUpperCase()),obj.headers){var key;for(key in obj.headers){var value=obj.headers[key];"string"==typeof value&&(value=value.replace(/"/g,'\\"')),results.push('--header "'+key+": "+value+'"')}}if(obj.body){var body;body=_.isObject(obj.body)?JSON.stringify(obj.body):obj.body,results.push('-d "'+body.replace(/"/g,'\\"')+'"')}return"curl "+results.join(" ")+' "'+obj.url+'"'},Operation.prototype.encodePathCollection=function(type,name,value){var i,encoded="",separator="";for(separator="ssv"===type?"%20":"tsv"===type?"\\t":"pipes"===type?"|":",",i=0;i<value.length;i++)0===i?encoded=this.encodeQueryParam(value[i]):encoded+=separator+this.encodeQueryParam(value[i]);return encoded},Operation.prototype.encodeQueryCollection=function(type,name,value){var i,encoded="";if("default"===type||"multi"===type)for(i=0;i<value.length;i++)i>0&&(encoded+="&"),encoded+=this.encodeQueryParam(name)+"="+this.encodeQueryParam(value[i]);else{var separator="";if("csv"===type)separator=",";else if("ssv"===type)separator="%20";else if("tsv"===type)separator="\\t";else if("pipes"===type)separator="|";else if("brackets"===type)for(i=0;i<value.length;i++)0!==i&&(encoded+="&"),encoded+=this.encodeQueryParam(name)+"[]="+this.encodeQueryParam(value[i]);if(""!==separator)for(i=0;i<value.length;i++)0===i?encoded=this.encodeQueryParam(name)+"="+this.encodeQueryParam(value[i]):encoded+=separator+this.encodeQueryParam(value[i])}return encoded},Operation.prototype.encodeQueryParam=function(arg){return encodeURIComponent(arg)},Operation.prototype.encodePathParam=function(pathParam){return encodeURIComponent(pathParam)}},{"../helpers":340,"../http":341,"./model":345,"lodash-compat/lang/cloneDeep":314,"lodash-compat/lang/isEmpty":317,"lodash-compat/lang/isObject":320,"lodash-compat/lang/isUndefined":324}],347:[function(require,module,exports){"use strict";var OperationGroup=module.exports=function(tag,description,externalDocs,operation){this.description=description,this.externalDocs=externalDocs,this.name=tag,this.operation=operation,this.operationsArray=[],this.path=tag,this.tag=tag};OperationGroup.prototype.sort=function(){}},{}],348:[function(require,module,exports){!function(root,factory){"use strict";"function"==typeof define&&define.amd?define(["angular"],function(angular){factory(angular)}):factory("object"==typeof exports?require("angular"):root.angular)}(this,function(angular,undefined){function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}function objectKeys(object){if(Object.keys)return Object.keys(object);var result=[];return angular.forEach(object,function(val,key){result.push(key)}),result}function protoKeys(object,ignoreKeys){var result=[];for(var key in object)ignoreKeys&&ignoreKeys.indexOf(key)!==-1||result.push(key);return result}function arraySearch(array,value){if(Array.prototype.indexOf)return array.indexOf(value,Number(arguments[2])||0);var len=array.length>>>0,from=Number(arguments[2])||0;for(from=from<0?Math.ceil(from):Math.floor(from),from<0&&(from+=len);from<len;from++)if(from in array&&array[from]===value)return from;return-1}function inheritParams(currentParams,newParams,$current,$to){var parentParams,parents=ancestors($current,$to),inherited={},inheritList=[];for(var i in parents)if(parents[i].params&&(parentParams=isArray(parents[i].params)?parents[i].params:objectKeys(parents[i].params),parentParams.length))for(var j in parentParams)arraySearch(inheritList,parentParams[j])>=0||(inheritList.push(parentParams[j]),inherited[parentParams[j]]=currentParams[parentParams[j]]);return extend({},inherited,newParams)}function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function onStateRegistered(callback){stateRegisteredCallbacks.push(callback)}function resetIgnoreDsr(){ignoreDsr=undefined}function $StickyStateProvider($stateProvider,uirextras_coreProvider){var core=uirextras_coreProvider,inheritParams=core.inheritParams,protoKeys=(core.objectKeys,core.protoKeys),forEach=core.forEach,map=core.map,inactiveStates={},stickyStates={},DEBUG=!1;this.registerStickyState=function(state){stickyStates[state.name]=state},this.enableDebug=this.debugMode=function(enabled){return angular.isDefined(enabled)&&(DEBUG=enabled),DEBUG},this.$get=["$rootScope","$state","$stateParams","$injector","$log",function($rootScope,$state,$stateParams,$injector,$log){function mapInactives(){var mappedStates={};return angular.forEach(inactiveStates,function(state,name){for(var stickyAncestors=getStickyStateStack(state),i=0;i<stickyAncestors.length;i++){var parent=stickyAncestors[i].parent;mappedStates[parent.name]=mappedStates[parent.name]||[],mappedStates[parent.name].push(state)}mappedStates[""]&&(mappedStates.__inactives=mappedStates[""])}),mappedStates}function mapInactivesByImmediateParent(){var inactivesByAllParents={};return forEach(inactiveStates,function(state){forEach(state.path,function(ancestor){ancestor!==state&&(inactivesByAllParents[ancestor.name]=inactivesByAllParents[ancestor.name]||[],inactivesByAllParents[ancestor.name].push(state))})}),inactivesByAllParents}function getStickyStateStack(state){var stack=[];if(!state)return stack;do state.sticky&&stack.push(state),state=state.parent;while(state);return stack.reverse(),stack}function getEnterTransition(state,stateParams,reloadStateTree,ancestorReloaded){if(ancestorReloaded)return"reload";var inactiveState=inactiveStates[state.self.name];if(!inactiveState)return"enter";if(state.self===reloadStateTree)return"reload";var paramsMatch=paramsEqualForState(state.ownParams,stateParams,inactiveState.locals.globals.$stateParams);return paramsMatch?"reactivate":"reload"}function getInactivatedState(state,stateParams){var inactiveState=inactiveStates[state.name];if(!inactiveState)return null;if(!stateParams)return inactiveState;var paramsMatch=paramsEqualForState(state.ownParams,stateParams,inactiveState.locals.globals.$stateParams);return paramsMatch?inactiveState:null}function paramsEqualForState(ownParams,stateParams,stateParams2){return"function"==typeof ownParams.$$equals?ownParams.$$equals(stateParams,stateParams2):equalForKeys(stateParams,stateParams2,ownParams)}function equalForKeys(a,b,keys){if(!angular.isArray(keys)&&angular.isObject(keys)&&(keys=protoKeys(keys,["$$keys","$$values","$$equals","$$validates","$$new","$$parent"])),!keys){keys=[];for(var n in a)keys.push(n)}for(var i=0;i<keys.length;i++){var k=keys[i];if(a[k]!=b[k])return!1}return!0}function calcTreeChanges(transition){var fromPath=transition.fromState.path,toPath=transition.toState.path,toParams=transition.toParams,keep=0,state=toPath[keep];for(transition.options&&transition.options.inherit&&(toParams=transition.toParams=inheritParams($stateParams,toParams||{},$state.$current,transition.toState));state&&state===fromPath[keep]&&paramsEqualForState(state.ownParams,toParams,transition.fromParams);)state=toPath[++keep];return{keep:keep,retained:fromPath.slice(0,keep),exiting:fromPath.slice(keep),entering:toPath.slice(keep)}}var stickySupport={getInactiveStates:function(){return map(inactiveStates,angular.identity)},getInactiveStatesByParent:function(){return mapInactives()},processTransition:function(transition){function notIn(array){return function(elem){return array.indexOf(elem)===-1}}function flattenReduce(memo,list){return memo.concat(list)}function prop(attr){return function(obj){return obj[attr]}}function typeIs(type){return function(obj){return obj.type===type}}function isChildOf(state){return function(other){return other.parent===state}}function notSticky(state){return!state.sticky}var futureInactives,exitingTypes,enteringTypes,treeChanges=calcTreeChanges(transition),currentInactives=map(inactiveStates,angular.identity),keep=treeChanges.keep,notEntering=notIn(treeChanges.entering),shouldInactivate=treeChanges.exiting[0]&&treeChanges.exiting[0].sticky&&treeChanges.entering.length>0;exitingTypes=treeChanges.exiting.map(function(state){var stateRentering=treeChanges.entering.indexOf(state)!==-1,type=shouldInactivate&&!stateRentering?"inactivate":"exit";return{type:type,state:state}});var reloaded=transition.options&&!!transition.options.reload;enteringTypes=treeChanges.entering.map(function(state){var type=getEnterTransition(state,transition.toParams,transition.reloadStateTree,reloaded);return reloaded=reloaded||"reload"===type,{type:type,state:state}});var orphanedRoots=treeChanges.entering.map(function(entering){return currentInactives.filter(isChildOf(entering.parent))}).reduce(flattenReduce,[]).filter(notEntering).filter(notSticky).concat(currentInactives.filter(isChildOf(transition.toState))),currentInactivesByParent=mapInactivesByImmediateParent(),allOrphans=orphanedRoots.map(function(root){return currentInactivesByParent[root.name]}).filter(angular.isDefined).reduce(flattenReduce,[]).concat(orphanedRoots).sort(function(a,b){return a.name.split(".").length-b.name.split(".").length}),exitOrOrphaned=exitingTypes.filter(typeIs("exit")).map(prop("state")).concat(allOrphans);return futureInactives=currentInactives.filter(notIn(exitOrOrphaned)).filter(notIn(treeChanges.entering)).concat(exitingTypes.filter(typeIs("inactivate")).map(prop("state"))),{keep:keep,enter:new Array(keep).concat(enteringTypes.map(prop("type"))),exit:new Array(keep).concat(exitingTypes.map(prop("type"))),inactives:futureInactives,reactivatingStates:enteringTypes.filter(typeIs("reactivate")).map(prop("state")),orphans:allOrphans}},stateInactivated:function(state){inactiveStates[state.self.name]=state,state.self.status="inactive",state.self.onInactivate&&$injector.invoke(state.self.onInactivate,state.self,state.locals.globals)},stateReactivated:function(state){inactiveStates[state.self.name]&&delete inactiveStates[state.self.name],state.self.status="entered",state.self.onReactivate&&$injector.invoke(state.self.onReactivate,state.self,state.locals.globals)},stateExiting:function(exiting,exitQueue,onExit){var exitingNames={};angular.forEach(exitQueue,function(state){exitingNames[state.self.name]=!0}),angular.forEach(inactiveStates,function(inactiveExiting,name){!exitingNames[name]&&inactiveExiting.includes[exiting.name]&&(DEBUG&&$log.debug("Exiting "+name+" because it's a substate of "+exiting.name+" and wasn't found in ",exitingNames),inactiveExiting.self.onExit&&$injector.invoke(inactiveExiting.self.onExit,inactiveExiting.self,inactiveExiting.locals.globals),angular.forEach(inactiveExiting.locals,function(localval,key){delete inactivePseudoState.locals[key]}),inactiveExiting.locals=null,inactiveExiting.self.status="exited",delete inactiveStates[name])}),onExit&&$injector.invoke(onExit,exiting.self,exiting.locals.globals),exiting.locals=null,exiting.self.status="exited",delete inactiveStates[exiting.self.name]},stateEntering:function(entering,params,onEnter,updateParams){var inactivatedState=getInactivatedState(entering);if(inactivatedState&&(updateParams||!getInactivatedState(entering,params))){var savedLocals=entering.locals;this.stateExiting(inactivatedState),entering.locals=savedLocals}entering.self.status="entered",onEnter&&$injector.invoke(onEnter,entering.self,entering.locals.globals)},reset:function(inactiveState,params){function resetOne(state){stickySupport.reset(state)}if("*"===inactiveState)return angular.forEach(stickySupport.getInactiveStates(),resetOne),!0;var state=$state.get(inactiveState);if(!state)return!1;var exiting=getInactivatedState(state,params);return!!exiting&&(stickySupport.stateExiting(exiting),$rootScope.$broadcast("$viewContentLoading"),!0)}};return stickySupport}]}function SurrogateState(type){return{resolve:{},locals:{globals:root&&root.locals&&root.locals.globals},views:{},self:{},params:{},ownParams:versionHeuristics.hasParamSet?{$$equals:function(){return!0}}:[],surrogateType:type}}var mod_core=angular.module("ct.ui.router.extras.core",["ui.router"]),internalStates={},stateRegisteredCallbacks=[];mod_core.config(["$stateProvider","$injector",function($stateProvider,$injector){$stateProvider.decorator("parent",function(state,parentFn){return internalStates[state.self.name]=state,state.self.$$state=function(){return internalStates[state.self.name]},angular.forEach(stateRegisteredCallbacks,function(callback){callback(state)}),parentFn(state)})}]);var forEach=angular.forEach,extend=angular.extend,isArray=angular.isArray,map=function(collection,callback){"use strict";var result=[];return forEach(collection,function(item,index){result.push(callback(item,index))}),result},keys=function(collection){"use strict";return map(collection,function(collection,key){return key})},filter=function(collection,callback){"use strict";var result=[];return forEach(collection,function(item,index){callback(item,index)&&result.push(item)}),result},filterObj=function(collection,callback){"use strict";var result={};return forEach(collection,function(item,index){callback(item,index)&&(result[index]=item)}),result};mod_core.provider("uirextras_core",function(){var core={internalStates:internalStates,onStateRegistered:onStateRegistered,forEach:forEach,extend:extend,isArray:isArray,map:map,keys:keys,filter:filter,filterObj:filterObj,ancestors:ancestors,objectKeys:objectKeys,protoKeys:protoKeys,arraySearch:arraySearch,inheritParams:inheritParams,inherit:inherit};angular.extend(this,core),this.$get=function(){return core}});var ignoreDsr;angular.module("ct.ui.router.extras.dsr",["ct.ui.router.extras.core"]).config(["$provide",function($provide){
var $state_transitionTo;$provide.decorator("$state",["$delegate","$q",function($state,$q){return $state_transitionTo=$state.transitionTo,$state.transitionTo=function(to,toParams,options){return options.ignoreDsr&&(ignoreDsr=options.ignoreDsr),$state_transitionTo.apply($state,arguments).then(function(result){return resetIgnoreDsr(),result},function(err){return resetIgnoreDsr(),$q.reject(err)})},$state}])}]),angular.module("ct.ui.router.extras.dsr").service("$deepStateRedirect",["$rootScope","$state","$injector",function($rootScope,$state,$injector){function computeDeepStateStatus(state){var name=state.name;return deepStateRedirectsByName.hasOwnProperty(name)?deepStateRedirectsByName[name]:void recordDeepStateRedirectStatus(name)}function getConfig(state){var declaration=state.deepStateRedirect||state.dsr;if(!declaration)return{dsr:!1};var dsrCfg={dsr:!0};return angular.isFunction(declaration)?dsrCfg.fn=declaration:angular.isObject(declaration)&&(dsrCfg=angular.extend(dsrCfg,declaration)),angular.isString(dsrCfg["default"])&&(dsrCfg["default"]={state:dsrCfg["default"]}),dsrCfg.fn||(dsrCfg.fn=["$dsr$",function($dsr$){return $dsr$.redirect.state!=$dsr$.to.state}]),dsrCfg}function recordDeepStateRedirectStatus(stateName){var state=$state.get(stateName);if(!state)return!1;var cfg=getConfig(state);cfg.dsr&&(deepStateRedirectsByName[state.name]=REDIRECT,lastSubstate[stateName]===undefined&&(lastSubstate[stateName]={}));var parent=state.$$state&&state.$$state().parent;if(parent){var parentStatus=recordDeepStateRedirectStatus(parent.self.name);parentStatus&&deepStateRedirectsByName[state.name]===undefined&&(deepStateRedirectsByName[state.name]=ANCESTOR_REDIRECT)}return deepStateRedirectsByName[state.name]||!1}function getMatchParams(params,dsrParams){dsrParams===!0&&(dsrParams=Object.keys(params)),null!==dsrParams&&dsrParams!==undefined||(dsrParams=[]);var matchParams={};return angular.forEach(dsrParams.sort(),function(name){matchParams[name]=params[name]}),matchParams}function getParamsString(params,dsrParams){function safeString(input){return input?input.toString():input}var matchParams=getMatchParams(params,dsrParams),paramsToString={};return angular.forEach(matchParams,function(val,name){paramsToString[name]=safeString(val)}),angular.toJson(paramsToString)}var lastSubstate={},deepStateRedirectsByName={},REDIRECT="Redirect",ANCESTOR_REDIRECT="AncestorRedirect";return $rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var cfg=getConfig(toState);if(!ignoreDsr&&(computeDeepStateStatus(toState)===REDIRECT||cfg["default"])){var key=getParamsString(toParams,cfg.params),redirect=lastSubstate[toState.name][key]||cfg["default"];if(redirect){var $dsr$={redirect:{state:redirect.state,params:redirect.params},to:{state:toState.name,params:toParams}},result=$injector.invoke(cfg.fn,toState,{$dsr$:$dsr$});if(result){result.state&&(redirect=result),event.preventDefault();var redirectParams=getMatchParams(toParams,cfg.params);$state.go(redirect.state,angular.extend(redirectParams,redirect.params))}}}}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){var deepStateStatus=computeDeepStateStatus(toState);if(deepStateStatus){var name=toState.name;angular.forEach(lastSubstate,function(redirect,dsrState){var cfg=getConfig($state.get(dsrState)),key=getParamsString(toParams,cfg.params);toState.$$state().includes[dsrState]&&(lastSubstate[dsrState][key]={state:name,params:angular.copy(toParams)})})}}),{getRedirect:function(dsrState,params){var state=$state.get(dsrState);computeDeepStateStatus(state);var cfg=getConfig(state),key=getParamsString(params,cfg.params),redirect=lastSubstate[state.name][key]||cfg["default"];return redirect},reset:function(stateOrName,params){if(stateOrName){var state=$state.get(stateOrName);if(!state)throw new Error("Unknown state: "+stateOrName);if(lastSubstate[state.name])if(params){var key=getParamsString(params,getConfig(state).params);delete lastSubstate[state.name][key]}else lastSubstate[state.name]={}}else angular.forEach(lastSubstate,function(redirect,dsrState){lastSubstate[dsrState]={}})}}}]),angular.module("ct.ui.router.extras.dsr").run(["$deepStateRedirect",function($deepStateRedirect){}]),angular.module("ct.ui.router.extras.sticky",["ct.ui.router.extras.core"]);var mod_sticky=angular.module("ct.ui.router.extras.sticky");$StickyStateProvider.$inject=["$stateProvider","uirextras_coreProvider"],mod_sticky.provider("$stickyState",$StickyStateProvider);var _StickyState,root,pendingRestore,inactivePseudoState,internalStates={},pendingTransitions=[],reactivatingLocals={},versionHeuristics={hasParamSet:!1};angular.module("ct.ui.router.extras.sticky").run(["$stickyState",function($stickyState){_StickyState=$stickyState}]),angular.module("ct.ui.router.extras.sticky").config(["$provide","$stateProvider","$stickyStateProvider","$urlMatcherFactoryProvider","uirextras_coreProvider",function($provide,$stateProvider,$stickyStateProvider,$urlMatcherFactoryProvider,uirextras_coreProvider){function debugTransition($log,currentTransition,stickyTransition){function message(path,index,state){return path[index]?path[index].toUpperCase()+": "+state.self.name:"("+state.self.name+")"}var inactiveLogVar=map(stickyTransition.inactives,function(state){return state.self.name}),enterLogVar=map(currentTransition.toState.path,function(state,index){return message(stickyTransition.enter,index,state)}),exitLogVar=map(currentTransition.fromState.path,function(state,index){return message(stickyTransition.exit,index,state)}),transitionMessage=currentTransition.fromState.self.name+": "+angular.toJson(currentTransition.fromParams)+":  -> "+currentTransition.toState.self.name+": "+angular.toJson(currentTransition.toParams);$log.debug("------------------------------------------------------"),$log.debug("   Current transition: ",transitionMessage),$log.debug("Before transition, inactives are:   : ",map(_StickyState.getInactiveStates(),function(s){return s.self.name})),$log.debug("After transition,  inactives will be: ",inactiveLogVar),$log.debug("Transition will exit:  ",exitLogVar),$log.debug("Transition will enter: ",enterLogVar)}function debugViewsAfterSuccess($log,currentState,$state){$log.debug("Current state: "+currentState.self.name+", inactive states: ",map(_StickyState.getInactiveStates(),function(s){return s.self.name}));for(var viewMsg=function(local,name){return"'"+name+"' ("+local.$$state.name+")"},statesOnly=function(local,name){return"globals"!=name&&"resolve"!=name},viewsForState=function(state){var views=map(filterObj(state.locals,statesOnly),viewMsg).join(", ");return"("+(state.self.name?state.self.name:"root")+".locals"+(views.length?": "+views:"")+")"},message=viewsForState(currentState),parent=currentState.parent;parent&&parent!==currentState;)""===parent.self.name&&(message=viewsForState($state.$current.path[0])+" / "+message),message=viewsForState(parent)+" / "+message,currentState=parent,parent=currentState.parent;$log.debug("Views: "+message)}var core=uirextras_coreProvider,internalStates=core.internalStates,inherit=core.inherit,forEach=(core.inheritParams,core.forEach),map=core.map,filterObj=core.filterObj;versionHeuristics.hasParamSet=!!$urlMatcherFactoryProvider.ParamSet,inactivePseudoState=angular.extend(new SurrogateState("__inactives"),{self:{name:"__inactives"}}),root=pendingRestore=undefined,pendingTransitions=[],uirextras_coreProvider.onStateRegistered(function(state){state.self.sticky===!0&&$stickyStateProvider.registerStickyState(state.self)});var $state_transitionTo;$provide.decorator("$state",["$delegate","$log","$q",function($state,$log,$q){return root=$state.$current,internalStates[""]=root,root.parent=inactivePseudoState,inactivePseudoState.parent=undefined,inactivePseudoState.locals=inherit(reactivatingLocals,inactivePseudoState.locals),root.locals=inherit(inactivePseudoState.locals,root.locals),delete inactivePseudoState.locals.globals,$state_transitionTo=$state.transitionTo,$state.transitionTo=function(to,toParams,options){function stateReactivatedSurrogatePhase1(state){var surrogate=angular.extend(new SurrogateState("reactivate_phase1"),{locals:state.locals});return surrogate.self=angular.extend({},state.self),surrogate}function stateReactivatedSurrogatePhase2(state){var surrogate=angular.extend(new SurrogateState("reactivate_phase2"),state),oldOnEnter=surrogate.self.onEnter;return surrogate.resolve={},surrogate.views={},surrogate.self.onEnter=function(){surrogate.locals=state.locals,_StickyState.stateReactivated(state)},restore.addRestoreFunction(function(){state.self.onEnter=oldOnEnter}),surrogate}function stateInactivatedSurrogate(state){var surrogate=new SurrogateState("inactivate");surrogate.self=state.self;var oldOnExit=state.self.onExit;return surrogate.self.onExit=function(){_StickyState.stateInactivated(state)},restore.addRestoreFunction(function(){state.self.onExit=oldOnExit}),surrogate}function stateEnteredSurrogate(state,toParams){var oldOnEnter=state.self.onEnter;return state.self.onEnter=function(){_StickyState.stateEntering(state,toParams,oldOnEnter)},restore.addRestoreFunction(function(){state.self.onEnter=oldOnEnter}),state}function stateUpdateParamsSurrogate(state,toParams){var oldOnEnter=state.self.onEnter;return state.self.onEnter=function(){_StickyState.stateEntering(state,toParams,oldOnEnter,!0)},restore.addRestoreFunction(function(){state.self.onEnter=oldOnEnter}),state}function stateExitedSurrogate(state){var oldOnExit=state.self.onExit;return state.self.onExit=function(){_StickyState.stateExiting(state,exited,oldOnExit)},restore.addRestoreFunction(function(){state.self.onExit=oldOnExit}),state}var DEBUG=$stickyStateProvider.debugMode();inactivePseudoState.locals||(inactivePseudoState.locals=root.locals);var idx=pendingTransitions.length;pendingRestore&&(pendingRestore(),DEBUG&&$log.debug("Restored paths from pending transition"));var savedToStatePath,savedFromStatePath,stickyTransitions,terminalReactivatedState,fromState=$state.$current,fromParams=$state.params,rel=options&&options.relative||$state.$current,toStateSelf=$state.get(to,rel),reactivated=[],exited=[];toParams=toParams||{},arguments[1]=toParams;var noop=function(){},restore=function(){savedToStatePath&&(toState.path=savedToStatePath,savedToStatePath=null),savedFromStatePath&&(fromState.path=savedFromStatePath,savedFromStatePath=null),angular.forEach(restore.restoreFunctions,function(restoreFunction){restoreFunction()}),restore=noop,pendingRestore=null,pendingTransitions.splice(idx,1)};if(restore.restoreFunctions=[],restore.addRestoreFunction=function(fn){this.restoreFunctions.push(fn)},toStateSelf){var toState=internalStates[toStateSelf.name];if(toState){savedToStatePath=toState.path,savedFromStatePath=fromState.path;var reload=options&&options.reload||!1,reloadStateTree=reload&&(reload===!0?savedToStatePath[0].self:$state.get(reload,rel));options&&reload&&reload!==!0&&delete options.reload;var currentTransition={toState:toState,toParams:toParams||{},fromState:fromState,fromParams:fromParams||{},options:options,reloadStateTree:reloadStateTree};if(pendingTransitions.push(currentTransition),pendingRestore=restore,reloadStateTree){currentTransition.toParams.$$uirouterextrasreload=Math.random();var params=reloadStateTree.$$state().params,ownParams=reloadStateTree.$$state().ownParams;if(versionHeuristics.hasParamSet){var tempParam=new $urlMatcherFactoryProvider.Param("$$uirouterextrasreload");params.$$uirouterextrasreload=ownParams.$$uirouterextrasreload=tempParam,restore.restoreFunctions.push(function(){delete params.$$uirouterextrasreload,delete ownParams.$$uirouterextrasreload})}else params.push("$$uirouterextrasreload"),ownParams.push("$$uirouterextrasreload"),restore.restoreFunctions.push(function(){params.length=params.length-1,ownParams.length=ownParams.length-1})}stickyTransitions=_StickyState.processTransition(currentTransition),DEBUG&&debugTransition($log,currentTransition,stickyTransitions);var surrogateToPath=toState.path.slice(0,stickyTransitions.keep),surrogateFromPath=fromState.path.slice(0,stickyTransitions.keep);angular.forEach(inactivePseudoState.locals,function(local,name){name.indexOf("@")!=-1&&delete inactivePseudoState.locals[name]});var saveViewsToLocals=function(targetObj){return function(view,name){name.indexOf("@")!==-1&&(targetObj[name]=view)}};forEach(stickyTransitions.inactives,function(state){forEach(state.locals,saveViewsToLocals(inactivePseudoState.locals))}),forEach(stickyTransitions.reactivatingStates,function(state){forEach(state.locals,saveViewsToLocals(reactivatingLocals))}),restore.addRestoreFunction(function(){forEach(reactivatingLocals,function(val,viewname){delete reactivatingLocals[viewname]})}),angular.forEach(stickyTransitions.enter,function(value,idx){var surrogate,enteringState=toState.path[idx];"reactivate"===value?(surrogate=stateReactivatedSurrogatePhase1(enteringState),surrogateToPath.push(surrogate),surrogateFromPath.push(surrogate),reactivated.push(stateReactivatedSurrogatePhase2(enteringState)),terminalReactivatedState=enteringState):"reload"===value?(surrogateToPath.push(stateUpdateParamsSurrogate(enteringState)),terminalReactivatedState=enteringState):"enter"===value&&surrogateToPath.push(stateEnteredSurrogate(enteringState))}),angular.forEach(stickyTransitions.exit,function(value,idx){var exiting=fromState.path[idx];"inactivate"===value?(surrogateFromPath.push(stateInactivatedSurrogate(exiting)),exited.push(exiting)):"exit"===value&&(surrogateFromPath.push(stateExitedSurrogate(exiting)),exited.push(exiting))}),reactivated.length&&angular.forEach(reactivated,function(surrogate){surrogateToPath.push(surrogate)});var orphans=stickyTransitions.orphans;surrogateFromPath=surrogateFromPath.concat(map(orphans,function(exiting){return stateExitedSurrogate(exiting)})),exited=exited.concat(orphans),fromState.path=surrogateFromPath,toState.path=surrogateToPath;var pathMessage=function(state){return(state.surrogateType?state.surrogateType+":":"")+state.self.name};DEBUG&&$log.debug("SurrogateFromPath: ",map(surrogateFromPath,pathMessage)),DEBUG&&$log.debug("SurrogateToPath:   ",map(surrogateToPath,pathMessage))}}var transitionPromise=$state_transitionTo.apply($state,arguments);return transitionPromise.then(function(state){return restore(),DEBUG&&debugViewsAfterSuccess($log,internalStates[state.name],$state),state.status="active",state},function(err){return restore(),DEBUG&&"transition prevented"!==err.message&&"transition aborted"!==err.message&&"transition superseded"!==err.message&&($log.debug("transition failed",err),$log.debug(err.stack)),$q.reject(err)})},$state}])}]),function(angular,undefined){function _futureStateProvider($stateProvider,$urlRouterProvider,$urlMatcherFactory,uirextras_coreProvider){function findState(stateOrName,findFutureState){var statename=angular.isObject(stateOrName)?stateOrName.name:stateOrName;return findFutureState?futureStates[statename]:internalStates[statename]}function findFutureState($state,options){if(options.name){var nameComponents=options.name.split(/\./);for("."===options.name.charAt(0)&&(nameComponents[0]=$state.current.name);nameComponents.length;){var stateName=nameComponents.join(".");if($state.get(stateName,{relative:$state.current}))return null;if(futureStates[stateName])return futureStates[stateName];nameComponents.pop()}}if(options.url){var matches=[];for(var future in futureStates){var matcher=futureStates[future].urlMatcher;matcher&&matcher.exec(options.url)&&matches.push(futureStates[future])}for(var copy=matches.slice(0),i=matches.length-1;i>=0;i--)for(var j=0;j<copy.length;j++)matches[i]===copy[j].parentFutureState&&matches.splice(i,1);return matches[0]}}function lazyLoadState($injector,futureState){function deregisterFutureState(){delete futureStates[futureState.name]}function errorHandler(err){return"remove"===failedLoadPolicy&&deregisterFutureState(),$q.reject(err)}lazyloadInProgress=!0;var $q=$injector.get("$q");if(!futureState){var deferred=$q.defer();return deferred.reject("No lazyState passed in "+futureState),deferred.promise}var parentPromises=$q.when([]),parentFuture=futureState.parentFutureState;parentFuture&&futureStates[parentFuture.name]&&(parentPromises=lazyLoadState($injector,futureStates[parentFuture.name]));var type=futureState.type,factory=stateFactories[type];if(!factory)throw Error("No state factory for futureState.type: "+(futureState&&futureState.type));var failedLoadPolicy=factory.$options&&factory.$options.failedLazyLoadPolicy||"remove";return parentPromises.then(function(array){var factoryPromise=$injector.invoke(factory,factory,{futureState:futureState});return factoryPromise.then(function(fullState){return deregisterFutureState(),fullState&&array.push(fullState),array})})["catch"](errorHandler)}function futureState_otherwise($injector,$location){var resyncing=!1,lazyLoadMissingState=["$rootScope","$urlRouter","$state",function($rootScope,$urlRouter,$state){function resync(){resyncing=!0,$urlRouter.sync(),resyncing=!1}if(!initDone)return initPromise().then(resync),void(initDone=!0);var futureState=findFutureState($state,{url:$location.path()});return futureState?void lazyLoadState($injector,futureState).then(function(states){states.forEach(function(state){state&&(!$state.get(state)||state.name&&!$state.get(state.name))&&$stateProvider.state(state)}),lazyloadInProgress=!1,resync()},function(){lazyloadInProgress=!1,resync()}):$injector.invoke(otherwiseFunc)}];if(!lazyloadInProgress){var nextFn=resyncing?otherwiseFunc:lazyLoadMissingState;return $injector.invoke(nextFn)}}var initPromise,core=uirextras_coreProvider,internalStates=core.internalStates,stateFactories={},futureStates={},lazyloadInProgress=!1,resolveFunctions=[],initDone=!1,provider=this;this.addResolve=function(promiseFn){resolveFunctions.push(promiseFn)},this.stateFactory=function(futureStateType,factory){stateFactories[futureStateType]=factory},this.futureState=function(futureState){futureState.stateName&&(futureState.name=futureState.stateName),futureState.urlPrefix&&(futureState.url="^"+futureState.urlPrefix),futureStates[futureState.name]=futureState;var parentMatcher,parentName=futureState.name.split(/\./).slice(0,-1).join("."),realParent=findState(futureState.parent||parentName);if(realParent)parentMatcher=realParent.url||realParent.navigable&&realParent.navigable.url;else if(""===parentName)parentMatcher=$urlMatcherFactory.compile("");else{var futureParent=findState(futureState.parent||parentName,!0);if(!futureParent)throw new Error("Couldn't determine parent state of future state. FutureState:"+angular.toJson(futureState));var pattern;pattern=futureParent.urlMatcher?futureParent.urlMatcher.source.replace(/\*rest$/,""):"",parentMatcher=$urlMatcherFactory.compile(pattern),futureState.parentFutureState=futureParent}futureState.url&&(futureState.urlMatcher="^"===futureState.url.charAt(0)?$urlMatcherFactory.compile(futureState.url.substring(1)+"*rest"):parentMatcher.concat(futureState.url+"*rest"))},this.get=function(){return angular.extend({},futureStates)};var otherwiseFunc=["$log","$location",function($log,$location){}];$urlRouterProvider.otherwise(futureState_otherwise),$urlRouterProvider.otherwise=function(rule){if(angular.isString(rule)){var redirect=rule;rule=function(){return redirect}}else if(!angular.isFunction(rule))throw new Error("'rule' must be a function");return otherwiseFunc=["$injector","$location",rule],$urlRouterProvider};var serviceObject={getResolvePromise:function(){return initPromise()}};this.$get=["$injector","$state","$q","$rootScope","$urlRouter","$timeout","$log",function($injector,$state,$q,$rootScope,$urlRouter,$timeout,$log){function init(){if($rootScope.$on("$stateNotFound",function(event,unfoundState,fromState,fromParams){if(!lazyloadInProgress){var futureState=findFutureState($state,{name:unfoundState.to});if(futureState){event.preventDefault();var promise=lazyLoadState($injector,futureState);promise.then(function(states){states.forEach(function(state){state&&(!$state.get(state)||state.name&&!$state.get(state.name))&&$stateProvider.state(state)}),$state.go(unfoundState.to,unfoundState.toParams,unfoundState.options),lazyloadInProgress=!1},function(error){console.log("failed to lazy load state ",error),fromState.name&&$state.go(fromState,fromParams),lazyloadInProgress=!1})}}}),!initPromise){var promises=[];angular.forEach(resolveFunctions,function(promiseFn){promises.push($injector.invoke(promiseFn))}),initPromise=function(){return $q.all(promises)}}initPromise().then(function retryInitialState(){$timeout(function(){$state.transition?$state.transition.then(retryInitialState,retryInitialState):$urlRouter.sync()})})}return init(),serviceObject.state=$stateProvider.state,serviceObject.futureState=provider.futureState,serviceObject.get=provider.get,serviceObject}]}var app=angular.module("ct.ui.router.extras.future",["ct.ui.router.extras.core"]);_futureStateProvider.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","uirextras_coreProvider"],app.provider("$futureState",_futureStateProvider);var statesAddedQueue={state:function(state){statesAddedQueue.$rootScope&&statesAddedQueue.$rootScope.$broadcast("$stateAdded",state)},itsNowRuntimeOhWhatAHappyDay:function($rootScope){statesAddedQueue.$rootScope=$rootScope},$rootScope:undefined};app.config(["$stateProvider",function($stateProvider){var realStateFn=$stateProvider.state;$stateProvider.state=function(){var val=realStateFn.apply($stateProvider,arguments),state=angular.isObject(arguments[0])?arguments[0]:arguments[1];return statesAddedQueue.state(state),val}}]),app.run(["$futureState",function($futureState,$rootScope){statesAddedQueue.itsNowRuntimeOhWhatAHappyDay($rootScope)}])}(angular),angular.module("ct.ui.router.extras.previous",["ct.ui.router.extras.core","ct.ui.router.extras.transition"]).service("$previousState",["$rootScope","$state","$q",function($rootScope,$state,$q){var previous=null,lastPrevious=null,memos={};$rootScope.$on("$transitionStart",function(evt,$transition$){function commit(){lastPrevious=null}function revert(){previous=lastPrevious}var from=$transition$.from,fromState=from.state&&from.state.$$state&&from.state.$$state();fromState&&(lastPrevious=previous,previous=$transition$.from,$transition$.promise.then(commit)["catch"](revert))});var $previousState={get:function(memoName){return memoName?memos[memoName]:previous},set:function(memoName,previousState,previousParams){memos[memoName]={state:$state.get(previousState),params:previousParams}},go:function(memoName,options){var to=$previousState.get(memoName);return to?$state.go(to.state,to.params,options):$q.reject(new Error("no previous state "+(memoName?"for memo: "+memoName:"")))},memo:function(memoName,defaultStateName,defaultStateParams){memos[memoName]=previous||{state:$state.get(defaultStateName),params:defaultStateParams}},forget:function(memoName){memoName?delete memos[memoName]:previous=undefined}};return $previousState}]),angular.module("ct.ui.router.extras.previous").run(["$previousState",function($previousState){}]),angular.module("ct.ui.router.extras.transition",["ct.ui.router.extras.core"]).config(["$provide",function($provide){$provide.decorator("$state",["$delegate","$rootScope","$q","$injector",function($state,$rootScope,$q,$injector){function decorateInjector(tData){var oldinvoke=$injector.invoke,oldinstantiate=$injector.instantiate;return $injector.invoke=function(fn,self,locals){return oldinvoke(fn,self,angular.extend({$transition$:tData},locals))},$injector.instantiate=function(fn,locals){return oldinstantiate(fn,angular.extend({$transition$:tData},locals))},function(){$injector.invoke=oldinvoke,$injector.instantiate=oldinstantiate}}function popStack(){restoreFnStack.pop()(),tDataStack.pop(),transitionDepth--}function transitionSuccess(deferred,tSuccess){return function(data){return popStack(),$rootScope.$broadcast("$transitionSuccess",tSuccess),deferred.resolve(data),data}}function transitionFailure(deferred,tFail){return function(error){return popStack(),$rootScope.$broadcast("$transitionError",tFail,error),deferred.reject(error),$q.reject(error)}}var $state_transitionTo=$state.transitionTo,transitionDepth=-1,tDataStack=[],restoreFnStack=[];return $state.transitionTo=function(to,toParams,options){var deferred=$q.defer(),tData=tDataStack[++transitionDepth]={promise:deferred.promise};restoreFnStack[transitionDepth]=function(){};var tPromise=$state_transitionTo.apply($state,arguments);return tPromise.then(transitionSuccess(deferred,tData),transitionFailure(deferred,tData))},$rootScope.$on("$stateChangeStart",function(evt,toState,toParams,fromState,fromParams){if(!(transitionDepth>=tDataStack.length)){var depth=transitionDepth,tData=angular.extend(tDataStack[depth],{to:{state:toState,params:toParams},from:{state:fromState,params:fromParams}}),restoreFn=decorateInjector(tData);restoreFnStack[depth]=restoreFn,$rootScope.$broadcast("$transitionStart",tData)}}),$state}])}]),function(){"use strict";function stateVisDirective($state,$timeout,$interval){return{scope:{width:"@",height:"@"},restrict:"AE",template:"<svg></svg>",link:function(_scope,_elem,_attrs){function addStates(data){data=data.map(function(node){return""===node.name?root:angular.copy(node)}),angular.extend(stateMap,data.reduce(function(map,node){return map[node.name]=node,map},{})),data.forEach(function(node){var parentName=node.name.split(/\./).slice(0,-1).join("."),parent=node.name!=parentName&&stateMap[parentName];parent&&((parent.children||(parent.children=[])).push(node),node.px=parent.px,node.py=parent.py,nodes.push(node))})}function update(){function stateName(node){var name=node.name.split(".").pop();return node.sticky&&(name+=" (STICKY)"),node.deepStateRedirect&&(name+=" (DSR)"),name}node=node.data(tree.nodes(root),function(d){return d.name}),link=link.data(tree.links(nodes),function(d){return d.target.name}),active=active.data(activeNode),nodes.forEach(function(d){d.y=70*d.depth});var nodeEnter=node.enter();active.enter().append("circle").attr("class","active").attr("r",13).attr("cx",function(d){return d.parent.px||100}).attr("cy",function(d){return d.parent.py||100}),nodeEnter.append("circle").attr("class","node").attr("r",9).attr("cx",function(d){return d.parent.px}).attr("cy",function(d){return d.parent.py}),nodeEnter.append("text").attr("class","label").attr("x",function(d){return d.parent.px}).attr("y",function(d){return d.parent.py}).attr("text-anchor",function(d){return"middle"}).text(stateName).style("fill-opacity",1),link.enter().insert("path",".node").attr("class","link").attr("d",function(d){var o={x:d.source.px,y:d.source.py};return diagonal({source:o,target:o})});var t=svg.transition().duration(transLength);t.selectAll(".link").attr("d",diagonal);var circleColors={entered:"#AF0",exited:"#777",active:"#0f0",inactive:"#55F",future:"#009"};t.selectAll(".node").attr("cx",function(d){return d.px=d.x}).attr("cy",function(d){return d.py=d.y}).attr("r",function(d){return"active"===d.status?15:10}).style("fill",function(d){return circleColors[d.status]||"#FFF"}),t.selectAll(".label").attr("x",function(d){return d.px=d.x}).attr("y",function(d){return d.py=d.y-15}).attr("transform",function(d){return"rotate(-25 "+d.x+" "+d.y+")"}),t.selectAll(".active").attr("x",function(d){return d.px=d.x}).attr("y",function(d){return d.py=d.y-15})}var stateMap={},width=_scope.width||400,height=_scope.height||400,tree=d3.layout.tree().size([width-20,height-20]).separation(function(a,b){return a.parent==b.parent?10:25}),root=$state.get().filter(function(state){return""===state.name})[0],nodes=tree(root);root.parent=root,root.px=root.x=width/2,root.py=root.y=height/2;var activeNode={};activeNode.px=activeNode.x=root.px,activeNode.py=activeNode.y=root.py;var diagonal=d3.svg.diagonal(),svg=d3.select(_elem.find("svg")[0]).attr("width",width).attr("height",height).append("g").attr("transform","translate(10, 10)"),node=svg.selectAll(".node"),link=svg.selectAll(".link"),active=svg.selectAll(".active"),updateInterval=200,transLength=200;setInterval(update,updateInterval);$interval(function(){_scope.states=$state.get(),angular.forEach(nodes,function(n){var s=$state.get(n.name);s&&(n.status=s.status||"exited")})},250),_scope.$watchCollection("states",function(newval,oldval){var oldstates=(oldval||[]).map(function(s){return s.name});addStates((newval||[]).filter(function(state){return oldstates.indexOf(state.name)==-1}))}),update(updateInterval)}}}var app=angular.module("ct.ui.router.extras.statevis",["ct.ui.router.extras.core","ct.ui.router.extras.sticky"]);app.directive("stateVis",["$state","$timeout","$interval",stateVisDirective])}(),angular.module("ct.ui.router.extras",["ct.ui.router.extras.core","ct.ui.router.extras.dsr","ct.ui.router.extras.future","ct.ui.router.extras.previous","ct.ui.router.extras.statevis","ct.ui.router.extras.sticky","ct.ui.router.extras.transition"])})},{angular:169}],349:[function(require,module,exports){module.exports={name:"Disclosure-Frontend-Alpha",version:"1.0.0",description:"Base AngularJS application with gulp and browserify",main:"app.js",repository:{type:"git",url:"https://github.com/caciviclab/disclosure-frontend"},authors:"CA Civic Lab","private":!1,engines:{node:">=0.10.38"},scripts:{prod:"gulp prod",start:"gulp build",test:"gulp test"},"browserify-shim":{angular:{exports:"angular"}},browserify:{transform:["browserify-shim","envify","partialify"]},jscsConfig:".jscsrc",devDependencies:{"angular-mocks":"1.4.9",browserify:"^13.0.0","browserify-css":"^0.9.1","browserify-istanbul":"^1.0.0","browserify-shim":"^3.8.5",buffer:"^4.5.1",chai:"^3.5.0",del:"^2.2.0",gulp:"^3.9.1","gulp-autoprefixer":"^3.1.0","gulp-concat":"^2.4.1","gulp-connect":"^3.1.0","gulp-cssnano":"^2.1.1","gulp-if":"^2.0.0","gulp-jscs":"^3.0.2","gulp-jshint":"^2.0.0","gulp-less":"^3.0.5","gulp-livereload":"^3.8.1","gulp-ng-annotate":"^2.0.0","gulp-notify":"^2.2.0","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-streamify":"^1.0.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.7","gulp-webserver":"^0.9.1",istanbul:"^0.4.2",jshint:"^2.9.1","jshint-stylish":"^2.1.0",karma:"^0.13.21","karma-browserify":"^5.0.2","karma-chai":"^0.1.0","karma-chai-plugins":"^0.7.0","karma-chrome-launcher":"^0.2.2","karma-coverage":"^0.5.3","karma-mocha":"^0.2.2","karma-phantomjs-launcher":"^1.0.0","karma-sinon":"^1.0.4","karma-spec-reporter":"0.0.24",logfmt:"^1.1.2",markedify:"0.0.2",merge:"^1.2.0",mocha:"^2.2.4","notify-send":"^0.1.2",partialify:"^3.1.6","phantomjs-prebuilt":"^2.1.4","proxy-middleware":"^0.15.0",rename:"^1.0.3","run-sequence":"^1.1.5",sinon:"^1.14.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.1.1",yargs:"^3.25.0"},dependencies:{"ag-grid":"^4.2.5",angular:"1.4.9","angular-animate":"1.4.9","angular-breadcrumb":"^0.4.1","angular-cookies":"1.4.9","angular-filter":"^0.5.16","angular-resource":"1.4.9","angular-sanitize":"1.4.9","angular-scroll-animate":"^0.9.9","angular-ui-bootstrap":"^1.2.5","angular-ui-router":"^0.2.18","animate.css":"^3.5.1",bootstrap:"^3.3.4","c3-angular":"^1.0.1",connect:"^3.2.0",d3:"^3.5.16",domready:"^1.0.7",envify:"^3.4.0",express:"^4.4.5","font-awesome":"^4.4.0",jquery:"^2.2.1",lodash:"^4.5.1",restangular:"^1.5.2","swagger-client":"2.1.6","ui-router-extras":"^0.1.2"}}},{}]},{},[2]);
//# sourceMappingURL=bundle.js.map
